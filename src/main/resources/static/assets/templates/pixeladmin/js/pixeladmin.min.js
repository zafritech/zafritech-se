var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){"use strict";var r,o,a,s;Object.keys||(Object.keys=(r=Object.prototype.hasOwnProperty,o=!{toString:null}.propertyIsEnumerable("toString"),s=(a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!==(void 0===t?"undefined":_typeof(t))&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,i,n=[];for(e in t)r.call(t,e)&&n.push(e);if(o)for(i=0;i<s;i++)r.call(t,a[i])&&n.push(a[i]);return n}))}();var pxUtil=function(){"use strict";var t="classList"in document.documentElement;function i(t,e){for(var i="[object Array]"===Object.prototype.toString.call(t)?t:t.split(" "),n=0;n<i.length;n++)e(i[n],n)}var n=t?function(t,e){return t.classList.contains(e)}:function(t,e){return new RegExp("(?:^|\\s)"+e+"(?:\\s|$)").test(t.className)},r=t?function(t,e){return t.classList.add(e)}:function(t,e){n(t,e)||(t.className+=(t.className?" ":"")+e)},o=t?function(t,e){return t.classList.remove(e)}:function(t,e){n(t,e)&&(t.className=t.className.replace(new RegExp("(?:^"+e+"\\s+)|(?:^\\s*"+e+"\\s*$)|(?:\\s+"+e+"$)","g"),"").replace(new RegExp("\\s+"+e+"\\s+","g")," "))},a=t?function(t,e){return t.classList.toggle(e)}:function(t,e){return(n(t,e)?o:r)(t,e)};return{generateUniqueId:function(){var t=(Math.floor(25*Math.random())+10).toString(36)+"_";for(t+=(new Date).getTime().toString(36)+"_";(t+=Math.floor(35*Math.random()).toString(36)).length<32;);return t},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},hexToRgba:function(t,e){var i=t.replace("#","");return"rgba("+parseInt(i.substring(0,2),16)+", "+parseInt(i.substring(2,4),16)+", "+parseInt(i.substring(4,6),16)+", "+e+")"},triggerResizeEvent:function(){var t=void 0;document.createEvent?(t=document.createEvent("HTMLEvents")).initEvent("resize",!0,!0):(t=document.createEventObject()).eventType="resize",t.eventName="resize",document.createEvent?window.dispatchEvent(t):window.fireEvent("on"+t.eventType,t)},hasClass:function(t,e){return n(t,e)},addClass:function(e,t){i(t,function(t){return r(e,t)})},removeClass:function(e,t){i(t,function(t){return o(e,t)})},toggleClass:function(e,t){i(t,function(t){return a(e,t)})}}}();function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var PixelAdmin=function(h){"use strict";var a={isRtl:"rtl"===document.documentElement.getAttribute("dir"),isMobile:/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()),isLocalStorageSupported:void 0!==window.Storage,options:{resizeDelay:100,storageKeyPrefix:"px_s_",cookieKeyPrefix:"px_c_"},getScreenSize:function(){var t=a._isBreakpointVisible;return t("xs")?"xs":t("sm")?"sm":t("md")?"md":t("lg")?"lg":"xl"},storage:{_prefix:function(t){return""+a.options.storageKeyPrefix+t},set:function(e,i){var t="string"==typeof e?_defineProperty({},e,i):e,n=Object.keys(t);try{for(var r=0,o=n.length;r<o;r++)window.localStorage.setItem(this._prefix(n[r]),t[n[r]])}catch(t){a.cookies.set(e,i)}},get:function(e){var t=h.isArray(e)?e:[e],i={};try{for(var n=0,r=t.length;n<r;n++)i[t[n]]=window.localStorage.getItem(this._prefix(t[n]));return h.isArray(e)?i:i[e]}catch(t){return a.cookies.get(e)}}},cookies:{_prefix:function(t){return""+a.options.cookieKeyPrefix+t},set:function(t,e){for(var i="string"==typeof t?_defineProperty({},t,e):t,n=Object.keys(i),r=void 0,o=void 0,a=0,s=n.length;a<s;a++)r=encodeURIComponent(this._prefix(n[a])),o=encodeURIComponent(i[n[a]]),document.cookie=r+"="+o},get:function(t){for(var e=";"+document.cookie+";",i=h.isArray(t)?t:[t],n={},r=void 0,o=void 0,a=void 0,s=0,l=i.length;s<l;s++)r=pxUtil.escapeRegExp(encodeURIComponent(this._prefix(i[s]))),o=new RegExp(";\\s*"+r+"\\s*=\\s*([^;]+)\\s*;"),a=e.match(o),n[i[s]]=a?decodeURIComponent(a[1]):null;return h.isArray(t)?n:n[t]}},_isBreakpointVisible:function(t){return(document.getElementById("px-breakpoint-"+t)||h('<div id="px-breakpoint-'+t+'"></div>').prependTo(document.body)[0]).offsetTop},_setDelayedResizeListener:function(){var t,e,i=h(window),n=null;i.on("resize",(t=function(){var t=a.getScreenSize();i.trigger("px.resize"),n!==t&&i.trigger("px.screen."+t),n=t},e=null,function(){e&&clearTimeout(e),e=setTimeout(function(){e=null,t()},a.options.resizeDelay)}))}};return a._setDelayedResizeListener(),h(function(){a.isMobile&&window.FastClick&&window.FastClick.attach(document.body),a.isRtl&&h(window).on("px.resize.px-rtl-fix",function(){document.body.style.overflow="hidden";document.body.offsetHeight;document.body.style.overflow=""}),h(window).trigger("px.load"),pxUtil.triggerResizeEvent()}),a}(jQuery);window.PixelAdmin=PixelAdmin,function(e){"use strict";if(!e.fn.modal)throw new Error("modal.js required.");var i=e.fn.modal.Constructor.prototype.show,n=e.fn.modal.Constructor.prototype.hide;e.fn.modal.Constructor.prototype.show=function(t){i.call(this,t),this.isShown&&e("html").addClass("modal-open")},e.fn.modal.Constructor.prototype.hide=function(t){n.call(this,t),this.isShown||e("html").removeClass("modal-open")}}(jQuery),function(n){"use strict";if(!n.fn.tooltip)throw new Error("tooltip.js required.");var r=n.fn.tooltip.Constructor.prototype.getOptions,e=n.fn.tooltip.Constructor.prototype.setContent;n.fn.tooltip.Constructor.prototype.getOptions=function(t){var e=r.call(this,t),i="rtl"===n("html").attr("dir");return i&&"left"===e.placement?e.placement="right":i&&"right"===e.placement&&(e.placement="left"),e},n.fn.tooltip.Constructor.prototype.setContent=function(){var t=this.$element.attr("data-state");t&&n(this.tip()).addClass("tooltip-"+t.replace(/[^a-z0-9_-]/gi,"")),e.call(this)}}(jQuery),function(r){"use strict";if(!r.fn.popover)throw new Error("popover.js required.");var n=r.fn.popover.Constructor.prototype.getOptions,o=r.fn.popover.Constructor.prototype.setContent;r.fn.popover.Constructor.prototype.getOptions=function(t){var e=n.call(this,t),i="rtl"===r("html").attr("dir");return i&&"left"===e.placement?e.placement="right":i&&"right"===e.placement&&(e.placement="left"),e},r.fn.popover.Constructor.prototype.setContent=function(){var t=this.$element,e=r(this.tip()),i=t.attr("data-state"),n=(t.attr("data-style")||"").toLowerCase().split(" ");i&&e.addClass("popover-"+i.replace(/[^a-z0-9_-]/gi,"")),-1!==n.indexOf("dark")&&e.addClass("popover-dark"),-1!==n.indexOf("colorful")&&e.addClass("popover-colorful"),o.call(this)}}(jQuery);var _createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxFile=function(n){"use strict";var t="pxFile",r="px.file",e="."+r,i=n.fn[t],o="px-file-browse",a="px-file-clear",s="px-file-has-value",l={CLICK:"click"+e,CHANGE:"change"+e},h=function(){function i(t){_classCallCheck(this,i),this.element=t,this.input=n(t).find(".custom-file-input")[0],this.control=n(t).find(".custom-file-control")[0],this.placeholder=this.control.innerHTML,this._checkElement(),this._checkInput(),this._checkControl(),this._setListeners(),this.update()}return _createClass(i,[{key:"browse",value:function(){n(this.input).trigger("click")}},{key:"clear",value:function(){n(this.input).is(":disabled")||(n(this.input).wrap("<form>").parent().on("reset",function(t){t.stopPropagation()}).trigger("reset"),n(this.input).unwrap(),n(this.input).trigger("change"))}},{key:"update",value:function(){var t=(this.input.value||"").replace(/\\/g,"/").split("/").pop();t?n(this.control).text(t):this.control.innerHTML=this.placeholder,pxUtil[t?"addClass":"removeClass"](this.element,s)}},{key:"destroy",value:function(){this._unsetListeners(),n(this.element).removeData(r)}},{key:"_checkElement",value:function(){if(!pxUtil.hasClass(this.element,"custom-file"))throw new Error(t+" plugin must be called on a custom file input wrapper.")}},{key:"_checkInput",value:function(){if(!this.input)throw new Error("File input is not found.")}},{key:"_checkControl",value:function(){if(!this.control)throw new Error(".custom-file-control element is not found.")}},{key:"_rejectEvent",value:function(t){t&&(t.stopPropagation(),t.preventDefault())}},{key:"_setListeners",value:function(){var e=this;n(this.element).find("."+o).on(this.constructor.Event.CLICK,function(t){e._rejectEvent(t),e.browse(),n(e.input).trigger("focus")}),n(this.element).find("."+a).on(this.constructor.Event.CLICK,function(t){e._rejectEvent(t),e.clear(),n(e.input).trigger("focus")}),n(this.input).on(this.constructor.Event.CHANGE,n.proxy(this.update,this))}},{key:"_unsetListeners",value:function(){n(this.element).find("."+o).off(e),n(this.element).find("."+a).off(e),n(this.input).off(e)}}],[{key:"_jQueryInterface",value:function(e){return this.each(function(){var t=n(this).data(r);if(t||(t=new i(this),n(this).data(r,t)),"string"==typeof e){if(!t[e])throw new Error('No method named "'+e+'".');t[e]()}})}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return r}},{key:"Event",get:function(){return l}},{key:"EVENT_KEY",get:function(){return e}}]),i}();return n.fn[t]=h._jQueryInterface,n.fn[t].Constructor=h,n.fn[t].noConflict=function(){return n.fn[t]=i,h._jQueryInterface},h}(jQuery);!function o(a,s,l){function h(i,t){if(!s[i]){if(!a[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(c)return c(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var r=s[i]={exports:{}};a[i][0].call(r.exports,function(t){var e=a[i][1][t];return h(e||t)},r,r.exports,o,a,s,l)}return s[i].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,i){"use strict";var n=t("../main"),r=t("../plugin/instances");function o(t){t.fn.perfectScrollbar=function(i){return this.each(function(){if("object"==typeof i||void 0===i){var t=i;r.get(this)||n.initialize(this,t)}else{var e=i;"update"===e?n.update(this):"destroy"===e&&n.destroy(this)}})}}if("function"==typeof define&&define.amd)define(["jquery"],o);else{var a=window.jQuery?window.jQuery:window.$;void 0!==a&&o(a)}e.exports=o},{"../main":7,"../plugin/instances":18}],2:[function(t,e,i){"use strict";i.add=function(t,e){var i,n,r;t.classList?t.classList.add(e):(n=e,(r=(i=t).className.split(" ")).indexOf(n)<0&&r.push(n),i.className=r.join(" "))},i.remove=function(t,e){var i,n,r,o;t.classList?t.classList.remove(e):(n=e,r=(i=t).className.split(" "),0<=(o=r.indexOf(n))&&r.splice(o,1),i.className=r.join(" "))},i.list=function(t){return t.classList?Array.prototype.slice.apply(t.classList):t.className.split(" ")}},{}],3:[function(t,e,i){"use strict";var n={};n.e=function(t,e){var i=document.createElement(t);return i.className=e,i},n.appendTo=function(t,e){return e.appendChild(t),t},n.css=function(t,e,i){return"object"==typeof e?function(t,e){for(var i in e){var n=e[i];"number"==typeof n&&(n=n.toString()+"px"),t.style[i]=n}return t}(t,e):void 0===i?(a=t,s=e,window.getComputedStyle(a)[s]):(n=t,r=e,"number"==typeof(o=i)&&(o=o.toString()+"px"),n.style[r]=o,n);var n,r,o,a,s},n.matches=function(t,e){return void 0!==t.matches?t.matches(e):void 0!==t.matchesSelector?t.matchesSelector(e):void 0!==t.webkitMatchesSelector?t.webkitMatchesSelector(e):void 0!==t.mozMatchesSelector?t.mozMatchesSelector(e):void 0!==t.msMatchesSelector?t.msMatchesSelector(e):void 0},n.remove=function(t){void 0!==t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)},n.queryChildren=function(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return n.matches(t,e)})},e.exports=n},{}],4:[function(t,e,i){"use strict";var n=function(t){this.element=t,this.events={}};n.prototype.bind=function(t,e){void 0===this.events[t]&&(this.events[t]=[]),this.events[t].push(e),this.element.addEventListener(t,e,!1)},n.prototype.unbind=function(e,i){var n=void 0!==i;this.events[e]=this.events[e].filter(function(t){return!(!n||t===i)||(this.element.removeEventListener(e,t,!1),!1)},this)},n.prototype.unbindAll=function(){for(var t in this.events)this.unbind(t)};var r=function(){this.eventElements=[]};r.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return void 0===t&&(t=new n(e),this.eventElements.push(t)),t},r.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},r.prototype.unbind=function(t,e,i){this.eventElement(t).unbind(e,i)},r.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++)this.eventElements[t].unbindAll()},r.prototype.once=function(t,e,i){var n=this.eventElement(t),r=function(t){n.unbind(e,r),i(t)};n.bind(e,r)},e.exports=r},{}],5:[function(t,e,i){"use strict";e.exports=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}()},{}],6:[function(t,e,i){"use strict";var r=t("./class"),n=t("./dom"),o=i.toInt=function(t){return parseInt(t,10)||0},a=i.clone=function(t){if(t){if(t.constructor===Array)return t.map(a);if("object"==typeof t){var e={};for(var i in t)e[i]=a(t[i]);return e}return t}return null};i.extend=function(t,e){var i=a(t);for(var n in e)i[n]=a(e[n]);return i},i.isEditable=function(t){return n.matches(t,"input,[contenteditable]")||n.matches(t,"select,[contenteditable]")||n.matches(t,"textarea,[contenteditable]")||n.matches(t,"button,[contenteditable]")},i.removePsClasses=function(t){for(var e=r.list(t),i=0;i<e.length;i++){var n=e[i];0===n.indexOf("ps-")&&r.remove(t,n)}},i.outerWidth=function(t){return o(n.css(t,"width"))+o(n.css(t,"paddingLeft"))+o(n.css(t,"paddingRight"))+o(n.css(t,"borderLeftWidth"))+o(n.css(t,"borderRightWidth"))},i.startScrolling=function(t,e){r.add(t,"ps-in-scrolling"),void 0!==e?r.add(t,"ps-"+e):(r.add(t,"ps-x"),r.add(t,"ps-y"))},i.stopScrolling=function(t,e){r.remove(t,"ps-in-scrolling"),void 0!==e?r.remove(t,"ps-"+e):(r.remove(t,"ps-x"),r.remove(t,"ps-y"))},i.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(t,e,i){"use strict";var n=t("./plugin/destroy"),r=t("./plugin/initialize"),o=t("./plugin/update");e.exports={initialize:r,update:o,destroy:n}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(t,e,i){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(t,e,i){"use strict";var n=t("../lib/helper"),r=t("../lib/dom"),o=t("./instances");e.exports=function(t){var e=o.get(t);e&&(e.event.unbindAll(),r.remove(e.scrollbarX),r.remove(e.scrollbarY),r.remove(e.scrollbarXRail),r.remove(e.scrollbarYRail),n.removePsClasses(t),o.remove(t))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(t,e,i){"use strict";var n=t("../instances"),o=t("../update-geometry"),a=t("../update-scroll");e.exports=function(t){!function(i,n){function r(t){return t.getBoundingClientRect()}var t=function(t){t.stopPropagation()};n.event.bind(n.scrollbarY,"click",t),n.event.bind(n.scrollbarYRail,"click",function(t){var e=t.pageY-window.pageYOffset-r(n.scrollbarYRail).top>n.scrollbarYTop?1:-1;a(i,"top",i.scrollTop+e*n.containerHeight),o(i),t.stopPropagation()}),n.event.bind(n.scrollbarX,"click",t),n.event.bind(n.scrollbarXRail,"click",function(t){var e=t.pageX-window.pageXOffset-r(n.scrollbarXRail).left>n.scrollbarXLeft?1:-1;a(i,"left",i.scrollLeft+e*n.containerWidth),o(i),t.stopPropagation()})}(t,n.get(t))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(t,e,i){"use strict";var s=t("../../lib/helper"),l=t("../../lib/dom"),n=t("../instances"),h=t("../update-geometry"),c=t("../update-scroll");function r(r,o){var a=null,e=null;var i=function(t){!function(t){var e=a+t*o.railXRatio,i=Math.max(0,o.scrollbarXRail.getBoundingClientRect().left)+o.railXRatio*(o.railXWidth-o.scrollbarXWidth);o.scrollbarXLeft=e<0?0:i<e?i:e;var n=s.toInt(o.scrollbarXLeft*(o.contentWidth-o.containerWidth)/(o.containerWidth-o.railXRatio*o.scrollbarXWidth))-o.negativeScrollAdjustment;c(r,"left",n)}(t.pageX-e),h(r),t.stopPropagation(),t.preventDefault()},n=function(){s.stopScrolling(r,"x"),o.event.unbind(o.ownerDocument,"mousemove",i)};o.event.bind(o.scrollbarX,"mousedown",function(t){e=t.pageX,a=s.toInt(l.css(o.scrollbarX,"left"))*o.railXRatio,s.startScrolling(r,"x"),o.event.bind(o.ownerDocument,"mousemove",i),o.event.once(o.ownerDocument,"mouseup",n),t.stopPropagation(),t.preventDefault()})}function o(r,o){var a=null,e=null;var i=function(t){!function(t){var e=a+t*o.railYRatio,i=Math.max(0,o.scrollbarYRail.getBoundingClientRect().top)+o.railYRatio*(o.railYHeight-o.scrollbarYHeight);o.scrollbarYTop=e<0?0:i<e?i:e;var n=s.toInt(o.scrollbarYTop*(o.contentHeight-o.containerHeight)/(o.containerHeight-o.railYRatio*o.scrollbarYHeight));c(r,"top",n)}(t.pageY-e),h(r),t.stopPropagation(),t.preventDefault()},n=function(){s.stopScrolling(r,"y"),o.event.unbind(o.ownerDocument,"mousemove",i)};o.event.bind(o.scrollbarY,"mousedown",function(t){e=t.pageY,a=s.toInt(l.css(o.scrollbarY,"top"))*o.railYRatio,s.startScrolling(r,"y"),o.event.bind(o.ownerDocument,"mousemove",i),o.event.once(o.ownerDocument,"mouseup",n),t.stopPropagation(),t.preventDefault()})}e.exports=function(t){var e=n.get(t);r(t,e),o(t,e)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(t,e,i){"use strict";var l=t("../../lib/helper"),h=t("../../lib/dom"),n=t("../instances"),c=t("../update-geometry"),u=t("../update-scroll");function r(o,a){var s=!1;a.event.bind(o,"mouseenter",function(){s=!0}),a.event.bind(o,"mouseleave",function(){s=!1});a.event.bind(a.ownerDocument,"keydown",function(t){if(!(t.isDefaultPrevented&&t.isDefaultPrevented()||t.defaultPrevented)){var e=h.matches(a.scrollbarX,":focus")||h.matches(a.scrollbarY,":focus");if(s||e){var i=document.activeElement?document.activeElement:a.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(l.isEditable(i))return}var n=0,r=0;switch(t.which){case 37:n=t.metaKey?-a.contentWidth:t.altKey?-a.containerWidth:-30;break;case 38:r=t.metaKey?a.contentHeight:t.altKey?a.containerHeight:30;break;case 39:n=t.metaKey?a.contentWidth:t.altKey?a.containerWidth:30;break;case 40:r=t.metaKey?-a.contentHeight:t.altKey?-a.containerHeight:-30;break;case 33:r=90;break;case 32:r=t.shiftKey?90:-90;break;case 34:r=-90;break;case 35:r=t.ctrlKey?-a.contentHeight:-a.containerHeight;break;case 36:r=t.ctrlKey?o.scrollTop:a.containerHeight;break;default:return}u(o,"top",o.scrollTop-r),u(o,"left",o.scrollLeft+n),c(o),function(t,e){var i=o.scrollTop;if(0===t){if(!a.scrollbarYActive)return!1;if(0===i&&0<e||i>=a.contentHeight-a.containerHeight&&e<0)return!a.settings.wheelPropagation}var n=o.scrollLeft;if(0===e){if(!a.scrollbarXActive)return!1;if(0===n&&t<0||n>=a.contentWidth-a.containerWidth&&0<t)return!a.settings.wheelPropagation}return!0}(n,r)&&t.preventDefault()}}})}e.exports=function(t){r(t,n.get(t))}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(t,e,i){"use strict";var n=t("../instances"),c=t("../update-geometry"),u=t("../update-scroll");function r(s,l){var h=!1;function t(t){var e,i,n,r=(i=(e=t).deltaX,n=-1*e.deltaY,void 0!==i&&void 0!==n||(i=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(i*=10,n*=10),i!=i&&n!=n&&(i=0,n=e.wheelDelta),e.shiftKey?[-n,-i]:[i,n]),o=r[0],a=r[1];(function(t,e){var i=s.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(i){if(!window.getComputedStyle(i).overflow.match(/(scroll|auto)/))return!1;var n=i.scrollHeight-i.clientHeight;if(0<n&&!(0===i.scrollTop&&0<e||i.scrollTop===n&&e<0))return!0;var r=i.scrollLeft-i.clientWidth;if(0<r&&!(0===i.scrollLeft&&t<0||i.scrollLeft===r&&0<t))return!0}return!1})(o,a)||(h=!1,l.settings.useBothWheelAxes?l.scrollbarYActive&&!l.scrollbarXActive?(u(s,"top",a?s.scrollTop-a*l.settings.wheelSpeed:s.scrollTop+o*l.settings.wheelSpeed),h=!0):l.scrollbarXActive&&!l.scrollbarYActive&&(u(s,"left",o?s.scrollLeft+o*l.settings.wheelSpeed:s.scrollLeft-a*l.settings.wheelSpeed),h=!0):(u(s,"top",s.scrollTop-a*l.settings.wheelSpeed),u(s,"left",s.scrollLeft+o*l.settings.wheelSpeed)),c(s),(h=h||function(t,e){var i=s.scrollTop;if(0===t){if(!l.scrollbarYActive)return!1;if(0===i&&0<e||i>=l.contentHeight-l.containerHeight&&e<0)return!l.settings.wheelPropagation}var n=s.scrollLeft;if(0===e){if(!l.scrollbarXActive)return!1;if(0===n&&t<0||n>=l.contentWidth-l.containerWidth&&0<t)return!l.settings.wheelPropagation}return!0}(o,a))&&(t.stopPropagation(),t.preventDefault()))}void 0!==window.onwheel?l.event.bind(s,"wheel",t):void 0!==window.onmousewheel&&l.event.bind(s,"mousewheel",t)}e.exports=function(t){r(t,n.get(t))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(t,e,i){"use strict";var n=t("../instances"),r=t("../update-geometry");e.exports=function(t){var e,i=n.get(t);e=t,i.event.bind(e,"scroll",function(){r(e)})}},{"../instances":18,"../update-geometry":19}],15:[function(t,e,i){"use strict";var d=t("../../lib/helper"),p=t("../instances"),f=t("../update-geometry"),g=t("../update-scroll");function n(s,t){var l=null,h={top:0,left:0};function c(){l&&(clearInterval(l),l=null),d.stopScrolling(s)}var u=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){var t;s.contains(0===(t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"").toString().length?null:t.getRangeAt(0).commonAncestorContainer)?u=!0:(u=!1,c())}),t.event.bind(window,"mouseup",function(){u&&(u=!1,c())}),t.event.bind(window,"keyup",function(){u&&(u=!1,c())}),t.event.bind(window,"mousemove",function(t){if(u){var e=t.pageX,i=t.pageY,n=s.offsetLeft,r=s.offsetLeft+s.offsetWidth,o=s.offsetTop,a=s.offsetTop+s.offsetHeight;e<n+3?(h.left=-5,d.startScrolling(s,"x")):r-3<e?(h.left=5,d.startScrolling(s,"x")):h.left=0,i<o+3?(h.top=o+3-i<5?-5:-20,d.startScrolling(s,"y")):a-3<i?(h.top=i-a+3<5?5:20,d.startScrolling(s,"y")):h.top=0,0===h.top&&0===h.left?c():l||(l=setInterval(function(){p.get(s)?(g(s,"top",s.scrollTop+h.top),g(s,"left",s.scrollLeft+h.left),f(s)):clearInterval(l)},50))}})}e.exports=function(t){n(t,p.get(t))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(t,e,i){"use strict";var n=t("../../lib/helper"),y=t("../instances"),b=t("../update-geometry"),x=t("../update-scroll");function r(s,l,t,e){function h(t,e){x(s,"top",s.scrollTop-e),x(s,"left",s.scrollLeft-t),b(s)}var c={},u=0,d={},i=null,p=!1,f=!1;function n(){p=!0}function r(){p=!1}function g(t){return t.targetTouches?t.targetTouches[0]:t}function m(t){return!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)}function v(t){if(m(t)){f=!0;var e=g(t);c.pageX=e.pageX,c.pageY=e.pageY,u=(new Date).getTime(),null!==i&&clearInterval(i),t.stopPropagation()}}function o(t){if(!f&&l.settings.swipePropagation&&v(t),!p&&f&&m(t)){var e=g(t),i={pageX:e.pageX,pageY:e.pageY},n=i.pageX-c.pageX,r=i.pageY-c.pageY;h(n,r),c=i;var o=(new Date).getTime(),a=o-u;0<a&&(d.x=n/a,d.y=r/a,u=o),function(t,e){var i=s.scrollTop,n=s.scrollLeft,r=Math.abs(t),o=Math.abs(e);if(r<o){if(e<0&&i===l.contentHeight-l.containerHeight||0<e&&0===i)return!l.settings.swipePropagation}else if(o<r&&(t<0&&n===l.contentWidth-l.containerWidth||0<t&&0===n))return!l.settings.swipePropagation;return!0}(n,r)&&(t.stopPropagation(),t.preventDefault())}}function a(){!p&&f&&(f=!1,clearInterval(i),i=setInterval(function(){y.get(s)&&(d.x||d.y)?Math.abs(d.x)<.01&&Math.abs(d.y)<.01?clearInterval(i):(h(30*d.x,30*d.y),d.x*=.8,d.y*=.8):clearInterval(i)},10))}t?(l.event.bind(window,"touchstart",n),l.event.bind(window,"touchend",r),l.event.bind(s,"touchstart",v),l.event.bind(s,"touchmove",o),l.event.bind(s,"touchend",a)):e&&(window.PointerEvent?(l.event.bind(window,"pointerdown",n),l.event.bind(window,"pointerup",r),l.event.bind(s,"pointerdown",v),l.event.bind(s,"pointermove",o),l.event.bind(s,"pointerup",a)):window.MSPointerEvent&&(l.event.bind(window,"MSPointerDown",n),l.event.bind(window,"MSPointerUp",r),l.event.bind(s,"MSPointerDown",v),l.event.bind(s,"MSPointerMove",o),l.event.bind(s,"MSPointerUp",a)))}e.exports=function(t){(n.env.supportsTouch||n.env.supportsIePointer)&&r(t,y.get(t),n.env.supportsTouch,n.env.supportsIePointer)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(t,e,i){"use strict";var n=t("../lib/helper"),r=t("../lib/class"),o=t("./instances"),a=t("./update-geometry"),s={"click-rail":t("./handler/click-rail"),"drag-scrollbar":t("./handler/drag-scrollbar"),keyboard:t("./handler/keyboard"),wheel:t("./handler/mouse-wheel"),touch:t("./handler/touch"),selection:t("./handler/selection")},l=t("./handler/native-scroll");e.exports=function(e,t){t="object"==typeof t?t:{},r.add(e,"ps-container");var i=o.add(e);i.settings=n.extend(i.settings,t),r.add(e,"ps-theme-"+i.settings.theme),i.settings.handlers.forEach(function(t){s[t](e)}),l(e),a(e)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(t,e,i){"use strict";var a=t("../lib/helper"),s=t("../lib/class"),l=t("./default-setting"),h=t("../lib/dom"),c=t("../lib/event-manager"),n=t("../lib/guid"),r={};function o(t){var e,i,n=this;function r(){s.add(t,"ps-focus")}function o(){s.remove(t,"ps-focus")}n.settings=a.clone(l),n.containerWidth=null,n.containerHeight=null,n.contentWidth=null,n.contentHeight=null,n.isRtl="rtl"===h.css(t,"direction"),n.isNegativeScroll=(i=t.scrollLeft,t.scrollLeft=-1,e=t.scrollLeft<0,t.scrollLeft=i,e),n.negativeScrollAdjustment=n.isNegativeScroll?t.scrollWidth-t.clientWidth:0,n.event=new c,n.ownerDocument=t.ownerDocument||document,n.scrollbarXRail=h.appendTo(h.e("div","ps-scrollbar-x-rail"),t),n.scrollbarX=h.appendTo(h.e("div","ps-scrollbar-x"),n.scrollbarXRail),n.scrollbarX.setAttribute("tabindex",0),n.event.bind(n.scrollbarX,"focus",r),n.event.bind(n.scrollbarX,"blur",o),n.scrollbarXActive=null,n.scrollbarXWidth=null,n.scrollbarXLeft=null,n.scrollbarXBottom=a.toInt(h.css(n.scrollbarXRail,"bottom")),n.isScrollbarXUsingBottom=n.scrollbarXBottom==n.scrollbarXBottom,n.scrollbarXTop=n.isScrollbarXUsingBottom?null:a.toInt(h.css(n.scrollbarXRail,"top")),n.railBorderXWidth=a.toInt(h.css(n.scrollbarXRail,"borderLeftWidth"))+a.toInt(h.css(n.scrollbarXRail,"borderRightWidth")),h.css(n.scrollbarXRail,"display","block"),n.railXMarginWidth=a.toInt(h.css(n.scrollbarXRail,"marginLeft"))+a.toInt(h.css(n.scrollbarXRail,"marginRight")),h.css(n.scrollbarXRail,"display",""),n.railXWidth=null,n.railXRatio=null,n.scrollbarYRail=h.appendTo(h.e("div","ps-scrollbar-y-rail"),t),n.scrollbarY=h.appendTo(h.e("div","ps-scrollbar-y"),n.scrollbarYRail),n.scrollbarY.setAttribute("tabindex",0),n.event.bind(n.scrollbarY,"focus",r),n.event.bind(n.scrollbarY,"blur",o),n.scrollbarYActive=null,n.scrollbarYHeight=null,n.scrollbarYTop=null,n.scrollbarYRight=a.toInt(h.css(n.scrollbarYRail,"right")),n.isScrollbarYUsingRight=n.scrollbarYRight==n.scrollbarYRight,n.scrollbarYLeft=n.isScrollbarYUsingRight?null:a.toInt(h.css(n.scrollbarYRail,"left")),n.scrollbarYOuterWidth=n.isRtl?a.outerWidth(n.scrollbarY):null,n.railBorderYWidth=a.toInt(h.css(n.scrollbarYRail,"borderTopWidth"))+a.toInt(h.css(n.scrollbarYRail,"borderBottomWidth")),h.css(n.scrollbarYRail,"display","block"),n.railYMarginHeight=a.toInt(h.css(n.scrollbarYRail,"marginTop"))+a.toInt(h.css(n.scrollbarYRail,"marginBottom")),h.css(n.scrollbarYRail,"display",""),n.railYHeight=null,n.railYRatio=null}function u(t){return t.getAttribute("data-ps-id")}i.add=function(t){var e,i=n();return e=i,t.setAttribute("data-ps-id",e),r[i]=new o(t),r[i]},i.remove=function(t){delete r[u(t)],t.removeAttribute("data-ps-id")},i.get=function(t){return r[u(t)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(t,e,i){"use strict";var n=t("../lib/helper"),r=t("../lib/class"),o=t("../lib/dom"),a=t("./instances"),s=t("./update-scroll");function l(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}e.exports=function(t){var e,i=a.get(t);i.containerWidth=t.clientWidth,i.containerHeight=t.clientHeight,i.contentWidth=t.scrollWidth,i.contentHeight=t.scrollHeight,t.contains(i.scrollbarXRail)||(0<(e=o.queryChildren(t,".ps-scrollbar-x-rail")).length&&e.forEach(function(t){o.remove(t)}),o.appendTo(i.scrollbarXRail,t)),t.contains(i.scrollbarYRail)||(0<(e=o.queryChildren(t,".ps-scrollbar-y-rail")).length&&e.forEach(function(t){o.remove(t)}),o.appendTo(i.scrollbarYRail,t)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=l(i,n.toInt(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=n.toInt((i.negativeScrollAdjustment+t.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=l(i,n.toInt(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=n.toInt(t.scrollTop*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),function(t,e){var i={width:e.railXWidth};e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:i.left=t.scrollLeft,e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-t.scrollTop:i.top=e.scrollbarXTop+t.scrollTop,o.css(e.scrollbarXRail,i);var n={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?n.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:n.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:n.left=e.scrollbarYLeft+t.scrollLeft,o.css(e.scrollbarYRail,n),o.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),o.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(t,i),i.scrollbarXActive?r.add(t,"ps-active-x"):(r.remove(t,"ps-active-x"),i.scrollbarXWidth=0,i.scrollbarXLeft=0,s(t,"left",0)),i.scrollbarYActive?r.add(t,"ps-active-y"):(r.remove(t,"ps-active-y"),i.scrollbarYHeight=0,i.scrollbarYTop=0,s(t,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(t,e,i){"use strict";var r,o,a=t("./instances"),s=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e};e.exports=function(t,e,i){if(void 0===t)throw"You must provide an element to the update-scroll function";if(void 0===e)throw"You must provide an axis to the update-scroll function";if(void 0===i)throw"You must provide a value to the update-scroll function";"top"===e&&i<=0&&(t.scrollTop=i=0,t.dispatchEvent(s("ps-y-reach-start"))),"left"===e&&i<=0&&(t.scrollLeft=i=0,t.dispatchEvent(s("ps-x-reach-start")));var n=a.get(t);"top"===e&&i>=n.contentHeight-n.containerHeight&&((i=n.contentHeight-n.containerHeight)-t.scrollTop<=1?i=t.scrollTop:t.scrollTop=i,t.dispatchEvent(s("ps-y-reach-end"))),"left"===e&&i>=n.contentWidth-n.containerWidth&&((i=n.contentWidth-n.containerWidth)-t.scrollLeft<=1?i=t.scrollLeft:t.scrollLeft=i,t.dispatchEvent(s("ps-x-reach-end"))),r||(r=t.scrollTop),o||(o=t.scrollLeft),"top"===e&&i<r&&t.dispatchEvent(s("ps-scroll-up")),"top"===e&&r<i&&t.dispatchEvent(s("ps-scroll-down")),"left"===e&&i<o&&t.dispatchEvent(s("ps-scroll-left")),"left"===e&&o<i&&t.dispatchEvent(s("ps-scroll-right")),"top"===e&&(t.scrollTop=r=i,t.dispatchEvent(s("ps-scroll-y"))),"left"===e&&(t.scrollLeft=o=i,t.dispatchEvent(s("ps-scroll-x")))}},{"./instances":18}],21:[function(t,e,i){"use strict";var n=t("../lib/helper"),r=t("../lib/dom"),o=t("./instances"),a=t("./update-geometry"),s=t("./update-scroll");e.exports=function(t){var e=o.get(t);e&&(e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,r.css(e.scrollbarXRail,"display","block"),r.css(e.scrollbarYRail,"display","block"),e.railXMarginWidth=n.toInt(r.css(e.scrollbarXRail,"marginLeft"))+n.toInt(r.css(e.scrollbarXRail,"marginRight")),e.railYMarginHeight=n.toInt(r.css(e.scrollbarYRail,"marginTop"))+n.toInt(r.css(e.scrollbarYRail,"marginBottom")),r.css(e.scrollbarXRail,"display","none"),r.css(e.scrollbarYRail,"display","none"),a(t),s(t,"top",t.scrollTop),s(t,"left",t.scrollLeft),r.css(e.scrollbarXRail,"display",""),r.css(e.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),function(n){"use strict";if(!n.fn.perfectScrollbar)throw new Error("perfect-scrollbar.jquery.js required.");var r="rtl"===n("html").attr("dir"),o=n.fn.perfectScrollbar;n.fn.perfectScrollbar=function(i){return this.each(function(){var t=this,e=n(this).attr("data-ps-id");o.call(n(this),i),r&&!e?(e=n(this).attr("data-ps-id"))&&n(window).on("resize.ps."+e,function(){return n(t).perfectScrollbar("update")}):r&&e&&"destroy"===i&&n(window).off("resize.ps."+e)})}}(jQuery);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxSidebar=function(r){"use strict";var t="pxSidebar",o="px.sidebar",e="."+o,i=r.fn[t],a="px-navbar-fixed",s="px-sidebar-left",l={RESIZE:"resize"+e,SCROLL:"scroll"+e,CLICK_DATA_API:"click"+e+".data-api",EXPAND:"expand"+e,EXPANDED:"expanded"+e,COLLAPSE:"collapse"+e,COLLAPSED:"collapsed"+e},h={DATA_TOGGLE:'[data-toggle="sidebar"]',CONTENT:".px-sidebar-content",NAVBAR_HEADER:".navbar-header"},c={width:null,enableScrollbar:!0,desktopMode:["lg","xl"],navbarSelector:"> .px-navbar"},n=function(){function n(t,e){_classCallCheck(this,n),this.uniqueId=pxUtil.generateUniqueId(),this.element=t,this.$content=r(t).find(h.CONTENT),this.parent=t.parentNode,this.config=this._getConfig(e),this._isRtl="rtl"===r("html").attr("dir"),this._setWidth(),this._setScrollbar(),this._checkMode(),this._setListeners()}return _createClass(n,[{key:"toggle",value:function(){this._triggerPreventableEvent(pxUtil.hasClass(this.element,"open")?"COLLAPSE":"EXPAND",this.element)&&(pxUtil.toggleClass(this.element,"open"),this._triggerEvent(pxUtil.hasClass(this.element,"open")?"EXPANDED":"COLLAPSED",this.element))}},{key:"update",value:function(){var t=r(this.parent).find(this.config.navbarSelector+" "+h.NAVBAR_HEADER);if(t.length){var e=t.height();if(pxUtil.hasClass(this.parent,a)||!this._positioning)this.element.style.top=e+"px";else{var i=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop||0;this.element.style.top=e<i?"0px":e-i+"px"}}this.config.enableScrollbar&&this.$content.perfectScrollbar("update")}},{key:"destroy",value:function(){this._unsetListeners(),this._unsetScrollbar(),r(this.element).removeData(o)}},{key:"_setWidth",value:function(){var t=parseInt(this.config.width||r(this.element).width(),10),e=void 0;e=this._isRtl?pxUtil.hasClass(this.element,s)?"right":"left":pxUtil.hasClass(this.element,s)?"left":"right",this.element.style.width=t+"px",this.element.style[e]="-"+t+"px"}},{key:"_checkMode",value:function(){this._positioning=-1!==this.config.desktopMode.indexOf(window.PixelAdmin.getScreenSize()),this.update()}},{key:"_setScrollbar",value:function(){if(this.config.enableScrollbar){if(!this.$content.length)throw new Error(".px-sidebar-content element is not found.");this.$content.perfectScrollbar()}}},{key:"_unsetScrollbar",value:function(){this.config.enableScrollbar&&this.$content.length&&this.$content.perfectScrollbar("destroy")}},{key:"_triggerEvent",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};r(this.element).trigger(r.Event(this.constructor.Event[t],{target:e}),[i])}},{key:"_triggerPreventableEvent",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=r.Event(this.constructor.Event[t],{target:e});return r(this.element).trigger(n,[i]),!n.isDefaultPrevented()}},{key:"_setListeners",value:function(){r(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,r.proxy(this._checkMode,this)).on(this.constructor.Event.SCROLL+"."+this.uniqueId,r.proxy(this.update,this))}},{key:"_unsetListeners",value:function(){r(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId).off(this.constructor.Event.SCROLL+"."+this.uniqueId)}},{key:"_getConfig",value:function(t){return r.extend({},this.constructor.Default,r(this.element).data(),t)}}],[{key:"_jQueryInterface",value:function(i){return this.each(function(){var t=r(this).data(o),e="object"===(void 0===i?"undefined":_typeof(i))?i:null;if(t||(t=new n(this,e),r(this).data(o,t)),"string"==typeof i){if(!t[i])throw new Error('No method named "'+i+'"');t[i]()}})}},{key:"Default",get:function(){return c}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return o}},{key:"Event",get:function(){return l}},{key:"EVENT_KEY",get:function(){return e}}]),n}();return r(document).on(l.CLICK_DATA_API,h.DATA_TOGGLE,function(t){t.preventDefault();var e=this.getAttribute("data-target"),i=e?r(e)[0]:null;i&&(r(i).data(o)||n._jQueryInterface.call(r(i),r(this).data()),n._jQueryInterface.call(r(i),"toggle"))}),r.fn[t]=n._jQueryInterface,r.fn[t].Constructor=n,r.fn[t].noConflict=function(){return r.fn[t]=i,n._jQueryInterface},n}(jQuery);_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxNavbar=function(o){"use strict";var t="pxNavbar",a="px.navbar",e="."+a,i=o.fn[t],n="px-navbar",s="px-navbar-collapse-inner",l="in",h="collapsed",c={DATA_TOGGLE:'.navbar-toggle[data-toggle="collapse"]',DROPDOWN_TOGGLE:'.dropdown-toggle[data-toggle="dropdown"]',COLLAPSE:".navbar-collapse",DROPDOWN:".dropdown"},u={CLICK_DATA_API:"click"+e+".data-api",RESIZE:"resize"+e,CLICK:"click"+e,MOUSEDOWN:"mousedown"+e,COLLAPSE_SHOW:"show.bs.collapse"+e,COLLAPSE_SHOWN:"shown.bs.collapse"+e,COLLAPSE_HIDDEN:"hidden.bs.collapse"+e,DROPDOWN_SHOWN:"shown.bs.dropdown"+e,DROPDOWN_HIDDEN:"hidden.bs.dropdown"+e},r=function(){function r(t){if(_classCallCheck(this,r),!o.fn.perfectScrollbar)throw new Error('Scrolling feature requires the "perfect-scrollbar" plugin included.');this.uniqueId=pxUtil.generateUniqueId(),this.element=t,this.$collapse=o(t).find(c.COLLAPSE),this.$toggle=o(t).find(c.DATA_TOGGLE),this._scrollbarEnabled=0,this._curScrollTop=0,this.$collapse.length&&this.$toggle.length&&(this.$inner=this._setupInnerContainer(),this._setListeners())}return _createClass(r,[{key:"updateScrollbar",value:function(){this._scrollbarEnabled&&(this._updateHeight(),this.$inner.scrollTop(this._curScrollTop).perfectScrollbar("update"))}},{key:"destroy",value:function(){this._unsetListeners(),this._disableScrollbar(),this.$collapse.append(this.$inner.find("> *")),this.$inner.remove(),o(this.element).removeData(a)}},{key:"_updateHeight",value:function(){var t=o(window).height()-this.$collapse[0].offsetTop;this.$collapse.height(""),t<this.$collapse.height()&&this.$collapse.height(t+"px")}},{key:"_enableScrollbar",value:function(){this._scrollbarEnabled||(this._updateHeight(),this.$inner.perfectScrollbar({suppressScrollX:!0}),this._scrollbarEnabled=1)}},{key:"_disableScrollbar",value:function(){this._scrollbarEnabled&&(this.$collapse.height(""),this.$inner.perfectScrollbar("destroy"),this._scrollbarEnabled=0)}},{key:"_setupInnerContainer",value:function(){var t=o('<div class="'+s+'"></div>');return t.append(this.$collapse.find("> *")),this.$collapse.append(t),t}},{key:"_setListeners",value:function(){var t=this,e=this;o(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,function(){t._scrollbarEnabled&&(t.$toggle.is(":visible")?(t._curScrollTop=t.$inner[0].scrollTop,t.updateScrollbar()):(t._disableScrollbar(),t.$collapse.removeClass(l),t.$toggle.addClass(h),t.$collapse.attr("aria-expanded","false"),t.$toggle.attr("aria-expanded","false")))}),o(this.element).on(this.constructor.Event.COLLAPSE_SHOW,c.COLLAPSE,function(){t.$collapse.find(".dropdown.open").removeClass("open")}).on(this.constructor.Event.COLLAPSE_SHOWN,c.COLLAPSE,function(){t._enableScrollbar()}).on(this.constructor.Event.COLLAPSE_HIDDEN,c.COLLAPSE,function(){t._disableScrollbar()}).on(this.constructor.Event.DROPDOWN_SHOWN+" "+this.constructor.Event.DROPDOWN_HIDDEN,c.DROPDOWN,function(){t.updateScrollbar()}).on(this.constructor.Event.MOUSEDOWN,c.DROPDOWN_TOGGLE,function(){if(!t._scrollbarEnabled)return!0;t._curScrollTop=t.$inner[0].scrollTop}).on(this.constructor.Event.CLICK,c.DROPDOWN_TOGGLE,function(t){return!e._scrollbarEnabled||(!this.getAttribute("href")||"#"===this.getAttribute("href")||(t.preventDefault(),t.stopPropagation(),this.removeAttribute("data-toggle"),this.click(),void this.setAttribute("data-toggle","dropdown")))})}},{key:"_unsetListeners",value:function(){o(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId),o(this.element).off(e)}}],[{key:"_jQueryInterface",value:function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return this.each(function(){var t=o(this).data(a);if(t||(t=new r(this),o(this).data(a,t),o.support.transition||"true"!==o(this).find(c.DATA_TOGGLE).attr("aria-expanded")||t._enableScrollbar()),"string"==typeof e){if(!t[e])throw new Error('No method named "'+e+'"');t[e].apply(t,i)}})}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return a}},{key:"Event",get:function(){return u}},{key:"EVENT_KEY",get:function(){return e}}]),r}();return o(document).on(u.CLICK_DATA_API,"."+n+" "+c.DATA_TOGGLE,function(t){t.preventDefault();var e=o(this).parents("."+n);e.length&&(e.data(a)||r._jQueryInterface.call(e))}),o.fn[t]=r._jQueryInterface,o.fn[t].Constructor=r,o.fn[t].noConflict=function(){return o.fn[t]=i,r._jQueryInterface},r}(jQuery);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxNav=function(g){"use strict";var i="pxNav",s="px.nav",t="."+s,e=g.fn[i],n={accordion:!0,transitionDuration:300,dropdownCloseDelay:400,enableTooltips:!0,animate:!0,storeState:!0,storagePrefix:"px-nav.",modes:{phone:["xs"],tablet:["sm","md"],desktop:["lg","xl"]}},m={NAV:"px-nav",NAV_LEFT:"px-nav-left",CONTENT:"px-nav-content",EXPAND:"px-nav-expand",STATIC:"px-nav-static",COLLAPSE:"px-nav-collapse",ANIMATE:"px-nav-animate",NAV_TRANSITIONING:"px-nav-transitioning",DIMMER:"px-nav-dimmer",FIXED:"px-nav-fixed",OFF_CANVAS:"px-nav-off-canvas",SCROLLABLE_AREA:"px-nav-scrollable-area",ITEM:"px-nav-item",TOOLTIP:"px-nav-tooltip",DROPDOWN:"px-nav-dropdown",DROPDOWN_MENU:"px-nav-dropdown-menu",DROPDOWN_MENU_TITLE:"px-nav-dropdown-menu-title",DROPDOWN_MENU_SHOW:"px-nav-dropdown-menu-show",DROPDOWN_MENU_WRAPPER:"px-nav-dropdown-menu-wrapper",DROPDOWN_MENU_TOP:"px-nav-dropdown-menu-top",OPEN:"px-open",SHOW:"px-show",FREEZE:"freeze",ACTIVE:"active",TRANSITIONING:"transitioning",PERFECT_SCROLLBAR_CONTAINER:"ps-container",NAVBAR_FIXED:"px-navbar-fixed"},v={DATA_TOGGLE:'[data-toggle="px-nav"]',CONTENT:".px-nav-content",ITEM:"> .px-nav-item",ITEM_LABEL:"> a > .px-nav-label",ROOT_LINK:"> .px-nav-item:not(.px-nav-dropdown) > a",DROPDOWN_LINK:".px-nav-dropdown > a",DROPDOWN_MENU:"> .px-nav-dropdown-menu",DROPDOWN_MENU_TITLE:"> .px-nav-dropdown-menu-title",OPENED_DROPDOWNS:"> .px-nav-dropdown.px-open",SHOWN_DROPDOWNS:"> .px-nav-dropdown.px-show",FROZEN_DROPDOWNS:".px-nav-dropdown.freeze",SCROLLABLE_AREA:".px-nav-scrollable-area",NEAR_NAVBAR:"~ .px-navbar"},r={CLICK_DATA_API:"click"+t+".data-api",RESIZE:"resize"+t,CLICK:"click"+t,MOUSEENTER:"mouseenter"+t,MOUSELEAVE:"mouseleave"+t,SCROLL:"scroll"+t,INITIALIZED:"initialized",EXPAND:"expand"+t,EXPANDED:"expanded"+t,COLLAPSE:"collapse"+t,COLLAPSED:"collapsed"+t,DESTROY:"destroy"+t,DROPDOWN_OPEN:"dropdown-open"+t,DROPDOWN_OPENED:"dropdown-opened"+t,DROPDOWN_CLOSE:"dropdown-close"+t,DROPDOWN_CLOSED:"dropdown-closed"+t,DROPDOWN_FROZEN:"dropdown-frozen"+t,DROPDOWN_UNFROZEN:"dropdown-unfrozen"+t},y={suppressScrollX:!0,wheelPropagation:!1,swipePropagation:!1},o=function(){function a(t,e){_classCallCheck(this,a),this.uniqueId=pxUtil.generateUniqueId(),this.element=t,this.content=g(t).find(v.CONTENT)[0],this.config=this._getConfig(e),this._curMode=this._getMode(),this._isCollapsed=this._getNavState(),this._stateChanging=0,this._setupMarkup(),this.dimmer=g(t).parent().find("> ."+m.DIMMER)[0],this._setListeners(),this._restoreNavState(),this._detectActiveItem(),this._enableAnimation(),this._checkNavbarPosition(),this._triggerEvent("INITIALIZED",t)}return _createClass(a,[{key:"toggle",value:function(){this["desktop"!==this._curMode&&pxUtil.hasClass(this.element,m.EXPAND)||"desktop"===this._curMode&&!pxUtil.hasClass(this.element,m.COLLAPSE)?"collapse":"expand"]()}},{key:"expand",value:function(){("phone"===this._curMode||this.isCollapsed())&&("phone"===this._curMode&&pxUtil.hasClass(this.element,m.EXPAND)||this._triggerPreventableEvent("EXPAND",this.element)&&("phone"!==this._curMode&&this.closeAllDropdowns(),this.config.enableTooltips&&this._clearTooltips(),this._changeNavState(function(){var t=this;if("desktop"!==this._curMode){var e=this;g(this.element).parent().find("> ."+m.EXPAND).each(function(){this!==e.element&&g(this)[i]("collapse")}),g(this.dimmer).on(this.constructor.Event.CLICK,function(){return t.collapse()}),pxUtil.addClass(this.element,m.EXPAND)}else pxUtil.removeClass(this.element,m.COLLAPSE);this._triggerEvent("EXPANDED",this.element)})))}},{key:"collapse",value:function(){this.isCollapsed()||this._triggerPreventableEvent("COLLAPSE",this.element)&&this._changeNavState(function(){"desktop"!==this._curMode?(g(this.dimmer).off("click"),pxUtil.removeClass(this.element,m.EXPAND)):pxUtil.addClass(this.element,m.COLLAPSE),g(window).trigger("scroll"),this._triggerEvent("COLLAPSED",this.element)})}},{key:"isFixed",value:function(){return pxUtil.hasClass(this.element,m.FIXED)}},{key:"isStatic",value:function(){return pxUtil.hasClass(this.element,m.STATIC)}},{key:"isCollapsed",value:function(){return this._isCollapsed}},{key:"activateItem",value:function(t){var e=this._getNode(t,m.ITEM);if(!pxUtil.hasClass(e,m.DROPDOWN)&&(g(this.element).find("."+m.ITEM+"."+m.ACTIVE).removeClass(m.ACTIVE),pxUtil.addClass(e,m.ACTIVE),!pxUtil.hasClass(e.parentNode,m.CONTENT)))if(pxUtil.hasClass(e.parentNode,m.DROPDOWN_MENU_WRAPPER)){var i=g(e).parents("."+m.DROPDOWN_MENU).data("dropdown");if(!i)return;i.addClass(m.ACTIVE)}else{var n=g(e).parents("."+m.DROPDOWN)[0],r=void 0;for(this.openDropdown(n,!1);n;)if(pxUtil.addClass(n,m.ACTIVE),pxUtil.hasClass(n.parentNode,m.DROPDOWN_MENU_WRAPPER)){if(r=g(n).parents("."+m.DROPDOWN_MENU).data("dropdown"),n=null,!r)return;pxUtil.addClass(r,m.ACTIVE)}else n=g(r=n).parents("."+m.DROPDOWN)[0];this.isCollapsed()&&(g(this.content).find(v.OPENED_DROPDOWNS).removeClass(m.OPEN),pxUtil.addClass(r,m.OPEN))}}},{key:"openDropdown",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=this._getNode(t);if((!this.isStatic()||this._isFloatingDropdown(i))&&(this._isFloatingDropdown(i)&&!e||this.isDropdownOpened(i)||this._triggerPreventableEvent("DROPDOWN_OPEN",i))){for(var n=this.isDropdownOpened(i)?[]:[i],r=i;r=g(r).parents("."+m.DROPDOWN)[0];)this.isDropdownOpened(r)||n.push(r);var o=n.pop();if(o){for(var a=0,s=n.length;a<s;a++)this._expandDropdown(n[a],!1);if(this._isFloatingDropdown(o)){if(!e)return;this._showDropdown(o)}else this._expandDropdown(o,!0)}}}},{key:"closeDropdown",value:function(t){var e=this._getNode(t);this.isDropdownOpened(e)&&(this.isStatic()&&!this._isFloatingDropdown(e)||this._triggerPreventableEvent("DROPDOWN_CLOSE",e)&&(this._isFloatingDropdown(e)?this._hideDropdown(e):this._collapseDropdown(e,!0)))}},{key:"toggleDropdown",value:function(t){var e=this._getNode(t);this[this.isDropdownOpened(e)?"closeDropdown":"openDropdown"](e)}},{key:"closeAllDropdowns",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:g(this.element).find("."+m.CONTENT);this._closeAllDropdowns(this._getNode(t,null))}},{key:"freezeDropdown",value:function(t){var e=this._getNode(t);this._isFloatingDropdown(e)&&this.isDropdownOpened(e)&&(pxUtil.hasClass(e,m.FREEZE)||(pxUtil.addClass(e,m.FREEZE),this._clearDropdownTimer(e),this._triggerEvent("DROPDOWN_FROZEN",e)))}},{key:"unfreezeDropdown",value:function(t){var e=this._getNode(t);this._isFloatingDropdown(e)&&this.isDropdownOpened(e)&&pxUtil.hasClass(e,m.FREEZE)&&(pxUtil.removeClass(e,m.FREEZE),this._triggerEvent("DROPDOWN_UNFROZEN",e))}},{key:"getDropdownContainer",value:function(t){var e=this._getNode(t);return this._isFloatingDropdown(e)&&this.isDropdownOpened(e)?g(g(e).data("dropdown")).find("."+m.DROPDOWN_MENU_WRAPPER):g(e).find(v.DROPDOWN_MENU)}},{key:"isFloatingDropdown",value:function(t){return this._isFloatingDropdown(this._getNode(t))}},{key:"isDropdownOpened",value:function(t){var e=this._getNode(t),i=this._isRootDropdown(e),n=this.isCollapsed();return n&&i&&pxUtil.hasClass(e,m.SHOW)||n&&!i&&pxUtil.hasClass(e,m.OPEN)||!n&&pxUtil.hasClass(e,m.OPEN)}},{key:"isDropdownFrozen",value:function(t){return pxUtil.hasClass(this._getNode(t),m.FREEZE)}},{key:"append",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return this.insert(t,null,e)}},{key:"prepend",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return this.insert(t,0,e)}},{key:"insert",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=this._getNodeOrCreate(t,m.ITEM,!1);if(n.hasClass(m.DROPDOWN)&&!n.find(v.DROPDOWN_MENU).length)throw new Error("The ."+m.DROPDOWN+" item(s) must contain the child ."+m.DROPDOWN_MENU+" element.");var r=null===i?g(this.content):this._getNode(i,m.DROPDOWN,!1),o=void 0;if(r.hasClass(m.CONTENT))o=r;else if(!(o=this._isFloatingDropdown(r[0])&&this.isDropdownOpened(r[0])?g(r.data("dropdown")).find("."+m.DROPDOWN_MENU_WRAPPER):r.find(v.DROPDOWN_MENU)).length)throw new Error("Targeted element is not found.");var a=o.find(v.ITEM);if(a.length)if(null===e)n.insertAfter(a.last());else{var s=a.eq(e);s.length?n.insertBefore(s):n.insertAfter(a.last())}else o.append(n);return!this.isCollapsed()||r.hasClass(m.CONTENT)?this._updateScrollbar(this.content):o.hasClass(m.DROPDOWN_MENU_WRAPPER)?this._updateScrollbar(o[0]):this._updateScrollbar(o.parents("."+m.DROPDOWN_MENU_WRAPPER)[0]),n}},{key:"remove",value:function(t){var e=this._getNode(t,m.ITEM,!1),i=e.parent();e.hasClass(m.DROPDOWN)&&g(e.data("dropdown")).remove(),e.remove(),!this.isCollapsed()||i.hasClass(m.CONTENT)?this._updateScrollbar(this.content):i.hasClass(m.DROPDOWN_MENU_WRAPPER)?this._updateScrollbar(i[0]):this._updateScrollbar(i.parents("."+m.DROPDOWN_MENU_WRAPPER)[0])}},{key:"destroy",value:function(){if(this._triggerPreventableEvent("DESTROY",this.element)){this._unsetListeners(),g(this.element).removeData(s),pxUtil.removeClass(this.element,m.ANIMATE),pxUtil.removeClass(this.element,m.TRANSITIONING),pxUtil.removeClass(this.element,m.EXPAND),this.isCollapsed()&&this.closeAllDropdowns();var t=0;g(this.element.parentNode).find("> ."+m.NAV).each(function(){g(this).data(s)&&t++}),t||g(this.dimmer).remove(),g(this.element).find("."+m.CONTENT).perfectScrollbar("destroy"),g(this.content).unwrap(v.SCROLLABLE_AREA)}}},{key:"_getNode",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:m.DROPDOWN,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],n="string"==typeof t?g(this.element).find(t):g(t);if(!n.length)throw new Error("Element is not found.");if(e&&!n.hasClass(e))throw new Error("Element(s) must have the ."+e+" class.");return i?n[0]:n}},{key:"_getNodeOrCreate",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:m.DROPDOWN,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return this._getNode("string"!=typeof t||"#"!==t[0]&&"."!==t[0]?g(t):t,e,i)}},{key:"_detectActiveItem",value:function(){var t=g(this.content).find("."+m.ITEM+"."+m.ACTIVE+":not(."+m.DROPDOWN+")");t.length&&this.activateItem(t.first())}},{key:"_expandDropdown",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!pxUtil.hasClass(t,m.OPEN)){var i=g(t).find(v.DROPDOWN_MENU);if(this.config.accordion&&this._closeAllDropdowns(t.parentNode,e,g(t)),pxUtil.addClass(t,m.OPEN),!g.support.transition||!e)return n.call(this);i.height(0).addClass(m.TRANSITIONING).one("bsTransitionEnd",g.proxy(n,this)).emulateTransitionEnd(this.config.transitionDuration).height(i[0].scrollHeight)}function n(){i.removeClass(m.TRANSITIONING).height(""),this._updateScrollbar(this.isCollapsed()?g(t).parents("."+m.DROPDOWN_MENU_WRAPPER)[0]:this.content),this._triggerEvent("DROPDOWN_OPENED",t)}}},{key:"_collapseDropdown",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(pxUtil.hasClass(t,m.OPEN)){var i=g(t).find(v.DROPDOWN_MENU);if(!g.support.transition||!e)return n.call(this);i.height(i.height())[0].offsetHeight,i.addClass(m.TRANSITIONING).height(0).one("bsTransitionEnd",g.proxy(n,this)).emulateTransitionEnd(this.config.transitionDuration)}function n(){pxUtil.removeClass(t,m.OPEN),i.removeClass(m.TRANSITIONING).height(""),g(t).find("."+m.OPEN).removeClass(m.OPEN),this._updateScrollbar(this.isCollapsed()?g(t).parents("."+m.DROPDOWN_MENU_WRAPPER)[0]:this.content),this._triggerEvent("DROPDOWN_CLOSED",t)}}},{key:"_showDropdown",value:function(t){var e=this;if(!pxUtil.hasClass(t,m.SHOW)&&this._isRootDropdown(t)){var i=t.parentNode.parentNode,n=g(t).find(v.DROPDOWN_MENU)[0];if(n){this.closeAllDropdowns();var r=t.parentNode.offsetTop,o=t.offsetTop-t.parentNode.scrollTop,a=g('<div class="'+m.DROPDOWN_MENU_TITLE+'"></div>').html(g(t).find(v.ITEM_LABEL).html()).prependTo(n);pxUtil.addClass(t,m.SHOW),pxUtil.addClass(n,m.SHOW),i.appendChild(n);var s=g(t).outerHeight(),l=g(n).find(v.ITEM),h=l.first().find("> a").outerHeight(),c=g(this.element).outerHeight()-r,u=a.outerHeight(),d=u+3*h,p=g('<div class="'+m.DROPDOWN_MENU_WRAPPER+'"></div>').append(l).appendTo(n)[0],f=void 0;c<o+d?(f=o,this.isFixed()||"tablet"===this._curMode?n.style.bottom=c-o-s+"px":n.style.bottom="0px",pxUtil.addClass(n,m.DROPDOWN_MENU_TOP),n.appendChild(a[0])):(f=c-o-u,n.style.top=r+o+"px",n.insertBefore(a[0],n.firstChild)),p.style.maxHeight=f-10+"px",g(p).perfectScrollbar(y),g(n).on(this.constructor.Event.MOUSEENTER,function(){return e._clearDropdownTimer(t)}).on(this.constructor.Event.MOUSELEAVE,function(){return e._setDropdownTimer(t)}),g(t).data("dropdown",n),g(n).data("element",t),this._updateScrollbar(t.parentNode),this._triggerEvent("DROPDOWN_OPENED",t)}}}},{key:"_hideDropdown",value:function(t){if(pxUtil.hasClass(t,m.SHOW)){var e=g(t).data("dropdown");if(e){pxUtil.removeClass(t,[m.SHOW,m.FREEZE]),pxUtil.removeClass(e,m.SHOW),pxUtil.removeClass(e,m.DROPDOWN_MENU_TOP),this.unfreezeDropdown(t);var i=g(e).find("."+m.DROPDOWN_MENU_WRAPPER);g(e).find("."+m.DROPDOWN_MENU_TITLE).remove(),g(e).append(i.find(v.ITEM)),i.perfectScrollbar("destroy").remove(),e.setAttribute("style",""),t.appendChild(e),g(t).data("dropdown",null),g(e).data("element",null),this._clearDropdownTimer(t),g(e).off("mouseenter").off("mouseleave"),this._updateScrollbar(t.parentNode),this._triggerEvent("DROPDOWN_CLOSED",t)}}}},{key:"_showTooltip",value:function(t){this._clearTooltips();var e=g(t).find(".px-nav-label").contents().filter(function(){return 3===this.nodeType}).text(),i=g('<div class="'+m.TOOLTIP+'"></div>').text(e)[0],n=t.parentNode.offsetTop,r=t.offsetTop-t.parentNode.scrollTop;i.style.top=n+r+"px",g(i).data("dropdown",t),t.parentNode.parentNode.appendChild(i)}},{key:"_updateTooltipPosition",value:function(){var t=g(this.element).find("."+m.TOOLTIP)[0];if(t){var e=g(t).data("dropdown");if(e){var i=e.parentNode.offsetTop,n=e.offsetTop-e.parentNode.scrollTop;t.style.top=i+n+"px"}else g(t).remove()}}},{key:"_clearTooltips",value:function(){g(this.element).find("."+m.TOOLTIP).remove()}},{key:"_closeAllDropdowns",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=this,r=void 0,o=void 0,a=t;this.isCollapsed()&&pxUtil.hasClass(a,m.CONTENT)?(r=v.SHOWN_DROPDOWNS,o="_hideDropdown"):(this._isFloatingDropdown(a)&&this.isDropdownOpened(a)?a=g(g(a).data("dropdown")).find("."+m.DROPDOWN_MENU_WRAPPER)[0]:pxUtil.hasClass(a,m.DROPDOWN)&&(a=g(a).find(v.DROPDOWN_MENU)[0]),r=v.OPENED_DROPDOWNS,o="_collapseDropdown"),g(a).find(r).each(function(){i&&i===g(this)||n[o](this,e)})}},{key:"_isRootDropdown",value:function(t){return pxUtil.hasClass(t.parentNode,m.CONTENT)}},{key:"_isFloatingDropdown",value:function(t){return this.isCollapsed()&&this._isRootDropdown(t)}},{key:"_getNavState",value:function(){return("phone"===this._curMode||"tablet"===this._curMode)&&!pxUtil.hasClass(this.element,m.EXPAND)||"desktop"===this._curMode&&pxUtil.hasClass(this.element,m.COLLAPSE)}},{key:"_setDropdownTimer",value:function(t){var e=this;if(!this.isDropdownFrozen(t)){this._clearDropdownTimer(t);var i=setTimeout(function(){e.isDropdownFrozen(t)||e._hideDropdown(t)},this.config.dropdownCloseDelay);g(t).data("timer",i)}}},{key:"_clearDropdownTimer",value:function(t){var e=g(t).data("timer");e&&clearTimeout(e)}},{key:"_updateScrollbar",value:function(t){t&&pxUtil.hasClass(t,m.PERFECT_SCROLLBAR_CONTAINER)&&g(t).perfectScrollbar("update")}},{key:"_changeNavState",value:function(t){function e(){this._stateChanging=this._stateChanging<2?0:this._stateChanging-1,this._stateChanging||pxUtil.removeClass(this.element,m.NAV_TRANSITIONING),this._updateScrollbar(this.content),pxUtil.triggerResizeEvent()}if(this._stateChanging++,this.config.animate&&g.support.transition&&pxUtil.addClass(this.element,m.NAV_TRANSITIONING),t.call(this),this._isCollapsed=this._getNavState(),this._storeNavState(),!this.config.animate||!g.support.transition)return e.call(this);g(this.element).one("bsTransitionEnd",g.proxy(e,this)).emulateTransitionEnd(this.config.transitionDuration)}},{key:"_getMode",value:function(){var t=window.PixelAdmin.getScreenSize(),e=void 0;if(-1!==this.config.modes.phone.indexOf(t))e="phone";else if(-1!==this.config.modes.tablet.indexOf(t))e="tablet";else{if(-1===this.config.modes.desktop.indexOf(t))throw new Error("Cannot determine PxNav mode.");e="desktop"}return e}},{key:"_prefixStorageKey",value:function(t){return this.config.storagePrefix+(pxUtil.hasClass(this.element,m.NAV_LEFT)?"left.":"right.")+t}},{key:"_storeNavState",value:function(){if(this.config.storeState){var t=this._prefixStorageKey("state"),e=pxUtil.hasClass(this.element,m.COLLAPSE)?"collapsed":"expanded";window.PixelAdmin.storage.set(t,e)}}},{key:"_restoreNavState",value:function(){if(this.config.storeState){var t=this._prefixStorageKey("state"),e=window.PixelAdmin.storage.get(t)||"expanded";pxUtil["collapsed"===e?"addClass":"removeClass"](this.element,m.COLLAPSE),this._isCollapsed=this._getNavState(),pxUtil.triggerResizeEvent()}}},{key:"_checkNavbarPosition",value:function(){if(this.isFixed()){var t=g(this.element).find(v.NEAR_NAVBAR)[0];t&&(pxUtil.hasClass(t.parentNode,m.NAVBAR_FIXED)||(console.warn("The "+(pxUtil.hasClass(this.element,m.NAV_LEFT)?"left":"right")+" .px-nav is fixed, but the coterminous .px-navbar isn't. You need to explicitly add the ."+m.NAVBAR_FIXED+" class to the parent element to fix the navbar."),pxUtil.addClass(t.parentNode,m.NAVBAR_FIXED)))}}},{key:"_setupMarkup",value:function(){var t=g(this.element).parent();if(t.find("> ."+m.DIMMER).length||t.append('<div class="'+m.DIMMER+'"></div>'),!g.fn.perfectScrollbar)throw new Error('Scrolling feature requires the "perfect-scrollbar" plugin included.');var e=g(this.content);e.length&&e.wrap('<div class="'+m.SCROLLABLE_AREA+'"></div>').perfectScrollbar(y)}},{key:"_setListeners",value:function(){var t=this,i=this;g(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,function(){i._curMode=i._getMode(),i._isCollapsed=i._getNavState(),i.isCollapsed()&&i.closeAllDropdowns(),i.config.enableTooltips&&i._clearTooltips(),i._updateScrollbar(i.content)}),g(this.element).on(this.constructor.Event.CLICK,v.DROPDOWN_LINK,function(t){t.preventDefault();var e=this.parentNode;i._isFloatingDropdown(e)?i.isDropdownOpened(e)?i[i.isDropdownFrozen(e)?"closeDropdown":"freezeDropdown"](e):(i.openDropdown(e),i.freezeDropdown(e)):i.toggleDropdown(e)}),g(this.content).on(this.constructor.Event.MOUSEENTER,v.DROPDOWN_LINK,function(){if(!window.PixelAdmin.isMobile){var t=this.parentNode;if(i._isFloatingDropdown(t)&&!pxUtil.hasClass(i.element,m.OFF_CANVAS))if(i.isDropdownOpened(t))i._clearDropdownTimer(t);else{if(g(i.element).find(v.FROZEN_DROPDOWNS).length)return;i.openDropdown(t)}}}).on(this.constructor.Event.MOUSELEAVE,v.DROPDOWN_LINK,function(){if(!window.PixelAdmin.isMobile){var t=this.parentNode;i._isFloatingDropdown(t)&&i.isDropdownOpened(t)&&i._setDropdownTimer(t)}}).on(this.constructor.Event.MOUSEENTER,v.ROOT_LINK,function(){window.PixelAdmin.isMobile||i.config.enableTooltips&&i.isCollapsed()&&!pxUtil.hasClass(i.element,m.OFF_CANVAS)&&i._showTooltip(this.parentNode)}).on(this.constructor.Event.MOUSELEAVE,v.ROOT_LINK,function(){window.PixelAdmin.isMobile||i.config.enableTooltips&&i._clearTooltips()}).on(this.constructor.Event.SCROLL,function(){t.isCollapsed()&&(t.config.enableTooltips&&t._updateTooltipPosition(),t.closeAllDropdowns())})}},{key:"_unsetListeners",value:function(){g(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId),g(this.element).off(t),g(this.content).off(t).find("."+m.DROPDOWN_MENU).off(t),"desktop"!==this._curMode&&pxUtil.hasClass(this.element,m.EXPAND)&&g(this.dimmer).off(t)}},{key:"_enableAnimation",value:function(){var t=this;this.config.animate&&(pxUtil.addClass(this.element,["off",m.ANIMATE]),setTimeout(function(){pxUtil.removeClass(t.element,"off")},this.config.transitionDuration))}},{key:"_triggerEvent",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};g(this.element).trigger(g.Event(this.constructor.Event[t],{target:e}),[i])}},{key:"_triggerPreventableEvent",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=g.Event(this.constructor.Event[t],{target:e});return g(this.element).trigger(n,[i]),!n.isDefaultPrevented()}},{key:"_getConfig",value:function(t){return g.extend({},this.constructor.Default,g(this.element).data(),t)}}],[{key:"_jQueryInterface",value:function(i){for(var t=arguments.length,n=Array(1<t?t-1:0),e=1;e<t;e++)n[e-1]=arguments[e];var r=void 0,o=this.each(function(){var t=g(this).data(s),e="object"===(void 0===i?"undefined":_typeof(i))?i:null;if(t||(t=new a(this,e),g(this).data(s,t)),"string"==typeof i){if(!t[i])throw new Error('No method named "'+i+'"');r=t[i].apply(t,n)}});return void 0!==r?r:o}},{key:"Default",get:function(){return n}},{key:"NAME",get:function(){return i}},{key:"DATA_KEY",get:function(){return s}},{key:"Event",get:function(){return r}},{key:"EVENT_KEY",get:function(){return t}}]),a}();return g(document).on(r.CLICK_DATA_API,v.DATA_TOGGLE,function(t){t.preventDefault();var e=g(g(this).data("target"));e.length||(e=g(this).parents("."+m.NAV)),e.length&&(e.data(s)||o._jQueryInterface.call(e,g(this).data()),o._jQueryInterface.call(e,"toggle"))}),g.fn[i]=o._jQueryInterface,g.fn[i].Constructor=o,g.fn[i].noConflict=function(){return g.fn[i]=e,o._jQueryInterface},o}(jQuery);_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxFooter=function(n){"use strict";var t="pxFooter",r="px.footer",e="."+r,i=n.fn[t],o="px-content",a="px-footer-bottom",s="px-footer-fixed",l={RESIZE:"resize"+e,SCROLL:"scroll"+e,NAV_EXPANDED:"expanded.px.nav",NAV_COLLAPSED:"collapsed.px.nav",DROPDOWN_OPENED:"dropdown-opened.px.nav",DROPDOWN_CLOSED:"dropdown-closed.px.nav"},h=function(){function i(t){_classCallCheck(this,i),this.uniqueId=pxUtil.generateUniqueId(),this.element=t,this.parent=this._getParent(t),this._setListeners(),this.update()}return _createClass(i,[{key:"update",value:function(){this.parent===document.body&&(this._curScreenSize=window.PixelAdmin.getScreenSize(),this._updateBodyMinHeight());var t=n(this.element.parentNode).find("> ."+o)[0];pxUtil.hasClass(this.element,a)||pxUtil.hasClass(this.element,s)?t.style.paddingBottom=n(this.element).outerHeight()+20+"px":t.style.paddingBottom=t.setAttribute("style",(t.getAttribute("style")||"").replace(/\s*padding-bottom:\s*\d+px\s*;?/i))}},{key:"destroy",value:function(){this._unsetListeners(),n(this.element).removeData(r),n(document.body).css("min-height","");var t=n(this.element.parentNode).find("> ."+o)[0];t.style.paddingBottom=t.setAttribute("style",(t.getAttribute("style")||"").replace(/\s*padding-bottom:\s*\d+px\s*;?/i))}},{key:"_getParent",value:function(t){for(var e=t.parentNode;"ui-view"===e.nodeName.toLowerCase();)e=e.parentNode;return e}},{key:"_updateBodyMinHeight",value:function(){document.body.style.minHeight&&(document.body.style.minHeight=null),"lg"!==this._curScreenSize&&"xl"!==this._curScreenSize||!pxUtil.hasClass(this.element,a)||n(document.body).height()>=document.body.scrollHeight||(document.body.style.minHeight=document.body.scrollHeight+"px")}},{key:"_setListeners",value:function(){n(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,n.proxy(this.update,this)).on(this.constructor.Event.SCROLL+"."+this.uniqueId,n.proxy(this._updateBodyMinHeight,this)).on(this.constructor.Event.NAV_EXPANDED+"."+this.uniqueId+" "+this.constructor.Event.NAV_COLLAPSED+"."+this.uniqueId,".px-nav",n.proxy(this._updateBodyMinHeight,this)),this.parent===document.body&&n(".px-nav").on(this.constructor.Event.DROPDOWN_OPENED+"."+this.uniqueId+" "+this.constructor.Event.DROPDOWN_CLOSED+"."+this.uniqueId,".px-nav-dropdown",n.proxy(this._updateBodyMinHeight,this))}},{key:"_unsetListeners",value:function(){n(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId+" "+this.constructor.Event.SCROLL+"."+this.uniqueId).off(this.constructor.Event.NAV_EXPANDED+"."+this.uniqueId+" "+this.constructor.Event.NAV_COLLAPSED+"."+this.uniqueId),n(".px-nav").off(this.constructor.Event.DROPDOWN_OPENED+"."+this.uniqueId+" "+this.constructor.Event.DROPDOWN_CLOSED+"."+this.uniqueId)}}],[{key:"_jQueryInterface",value:function(e){return this.each(function(){var t=n(this).data(r);if(t||(t=new i(this),n(this).data(r,t)),"string"==typeof e){if(!t[e])throw new Error('No method named "'+e+'"');t[e]()}})}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return r}},{key:"Event",get:function(){return l}},{key:"EVENT_KEY",get:function(){return e}}]),i}();return n.fn[t]=h._jQueryInterface,n.fn[t].Constructor=h,n.fn[t].noConflict=function(){return n.fn[t]=i,h._jQueryInterface},h}(jQuery),_slicedToArray=(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")});_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxWizard=function(s){"use strict";var t="pxWizard",l="px.wizard",e="."+l,i=s.fn[t],n={minStepWidth:200},o={WRAPPER:"wizard-wrapper",STEPS:"wizard-steps",PANE:"wizard-pane",FROZEN:"frozen",FINISHED:"finished",ACTIVE:"active",COMPLETED:"completed"},r={RESIZE:"resize"+e,CLICK:"click"+e,CHANGE:"stepchange"+e,CHANGED:"stepchanged"+e,FINISH:"finish"+e,FINISHED:"finished"+e,FROZEN:"frozen"+e,UNFROZEN:"unfrozen"+e,RESETED:"reseted"+e,DESTROY:"destroy"+e},a=function(){function a(t,e){_classCallCheck(this,a),this.uniqueId=pxUtil.generateUniqueId(),this.element=t,this.steps=s(t).find("."+o.STEPS)[0],this.stepItems=s(this.steps).find("li"),this.wrapper=s(t).find("."+o.WRAPPER)[0],this.config=this._getConfig(e),this.activeStep=null,this._isRtl="rtl"===s("html").attr("dir"),this._resetStepsWidth(),this.resizeStepItems(),this.goTo(this.getActiveStepIndex()),this._setListeners()}return _createClass(a,[{key:"resizeStepItems",value:function(){for(var t=this.stepItems.length,e=s(this.wrapper).width(),i=this.config.minStepWidth*t<e?Math.floor(e/t):this.config.minStepWidth,n=0;n<t;n++)this._setStrictWidth(this.stepItems[n],i);null!==this.activeStep&&this._placeStepsContainer()}},{key:"getActiveStepIndex",value:function(){var t=this.activeStep||s(this.steps).find("li."+o.ACTIVE)[0];return t?this._getStepIndex(t):0}},{key:"getStepCount",value:function(){return this.stepItems.length}},{key:"goTo",value:function(t){if(!this.isFrozen()&&!this.isFinished()){var e,i,n,r=this._getStepItemAndTarget(t),o=_slicedToArray(r,3);i=o[0],e=o[1],n=o[2];var a=this.activeStep?this._getStepIndex(this.activeStep):null;if(null===a||i!==a){if(null!==a)if(!this._triggerPreventableEvent("CHANGE",this.element,{activeStepIndex:a,nextStepIndex:i}))return;this.activeStep=e,this._activateStepItem(e,i),this._activateStepPane(n),null!==a&&this._triggerEvent("CHANGED",this.element,{prevStepIndex:a,activeStepIndex:i})}}}},{key:"getPaneByIndex",value:function(t){var e,i=this._getStepItemAndTarget(t),n=_slicedToArray(i,3);return n[0],n[1],e=n[2],s(e)}},{key:"getActivePane",value:function(){return this.getPaneByIndex(this.getActiveStepIndex())}},{key:"goNext",value:function(){if(!this.isFrozen()&&!this.isFinished()){var t=this._getStepIndex(this.activeStep)+1;if(t>=this.stepItems.length)return this.finish();this.goTo(t)}}},{key:"goPrev",value:function(){if(!this.isFrozen()&&!this.isFinished()){var t=this._getStepIndex(this.activeStep)-1;t<0||this.goTo(t)}}},{key:"finish",value:function(){if(!this.isFrozen()&&!this.isFinished()&&this._triggerPreventableEvent("FINISH",this.element)){var t=this._getStepIndex(this.activeStep),e=this.stepItems.length-1;t!==e&&this.goTo(e),pxUtil.addClass(this.element,o.FINISHED),this.freeze(),this._triggerEvent("FINISHED",this.element)}}},{key:"isFinished",value:function(){return pxUtil.hasClass(this.element,o.FINISHED)}},{key:"freeze",value:function(){pxUtil.addClass(this.element,o.FROZEN),this._triggerEvent("FROZEN",this.element)}},{key:"unfreeze",value:function(){this.isFinished()||(pxUtil.removeClass(this.element,o.FROZEN),this._triggerEvent("UNFROZEN",this.element))}},{key:"isFrozen",value:function(){return pxUtil.hasClass(this.element,o.FROZEN)}},{key:"reset",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];pxUtil.removeClass(this.element,o.FROZEN),pxUtil.removeClass(this.element,o.FINISHED),t&&this.goTo(0),this._triggerEvent("RESETED",this.element)}},{key:"destroy",value:function(){this._triggerPreventableEvent("DESTROY",this.element)&&(this._unsetListeners(),s(this.element).removeData(l))}},{key:"_resetStepsWidth",value:function(){this.steps.style.width="auto"}},{key:"_setStrictWidth",value:function(t,e){t.style.minWidth=e+"px",t.style.maxWidth=e+"px",t.style.width=e+"px"}},{key:"_getStepItemAndTarget",value:function(t){var e=void 0,i=void 0;if("number"==typeof t){if(i=t,!(e=this.stepItems[t]))throw new Error('Step item with index "'+t+'" is not found.')}else e=t[0]||t,i=this._getStepIndex(e);var n=e.getAttribute("data-target");if(!n)throw new Error('The step item has invalid "data-target" attribute.');return[i,e,n]}},{key:"_activateStepItem",value:function(t,e){pxUtil.addClass(t,o.ACTIVE),pxUtil.removeClass(t,o.COMPLETED);for(var i=0;i<e;i++)pxUtil.addClass(this.stepItems[i],o.COMPLETED),pxUtil.removeClass(this.stepItems[i],o.ACTIVE);for(var n=e+1,r=this.stepItems.length;n<r;n++)pxUtil.removeClass(this.stepItems[n],o.ACTIVE),pxUtil.removeClass(this.stepItems[n],o.COMPLETED);this._placeStepsContainer()}},{key:"_activateStepPane",value:function(t){for(var e=s(this.element).find("."+o.PANE+"."+o.ACTIVE),i=0,n=e.length;i<n;i++)pxUtil.removeClass(e[i],o.ACTIVE);pxUtil.addClass(s(this.element).find(t)[0],o.ACTIVE)}},{key:"_placeStepsContainer",value:function(){var t=s(this.wrapper).width(),e=s(this.steps).width(),i=s(this.activeStep).outerWidth(),n=Math.floor((t-i)/2),r=s(this.activeStep).position().left,o=void 0;this._isRtl&&(r=e-r-i),t<e&&n<r?e+(o=-1*r+n)<t&&(o=-1*e+t):o=0,this.steps.style[this._isRtl?"right":"left"]=o+"px"}},{key:"_getStepIndex",value:function(t){for(var e=void 0,i=0,n=this.stepItems.length;i<n;i++)if(t===this.stepItems[i]){e=i;break}if(void 0===e)throw new Error("Cannot find step item index.");return e}},{key:"_setListeners",value:function(){var e=this;s(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,s.proxy(this.resizeStepItems,this)),s(this.steps).on(this.constructor.Event.CLICK,"> li",function(){pxUtil.hasClass(this,o.COMPLETED)&&e.goTo(this)}),s(this.element).on(this.constructor.Event.CLICK,"[data-wizard-action]",function(){var t=this.getAttribute("data-wizard-action");if("next"===t)return e.goNext();if("prev"===t)return e.goPrev();if("finish"===t)return e.finish();throw new Error('Action "'+t+'" is not found.')})}},{key:"_unsetListeners",value:function(){s(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId),s(this.element).off(e),s(this.steps).off(e)}},{key:"_triggerEvent",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};s(this.element).trigger(s.Event(this.constructor.Event[t],{target:e}),[i])}},{key:"_triggerPreventableEvent",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=s.Event(this.constructor.Event[t],{target:e});return s(this.element).trigger(n,[i]),!n.isDefaultPrevented()}},{key:"_getConfig",value:function(t){return s.extend({},this.constructor.Default,s(this.element).data(),t)}}],[{key:"_jQueryInterface",value:function(i){for(var t=arguments.length,n=Array(1<t?t-1:0),e=1;e<t;e++)n[e-1]=arguments[e];var r=void 0,o=this.each(function(){var t=s(this).data(l),e="object"===(void 0===i?"undefined":_typeof(i))?i:null;if(t||(t=new a(this,e),s(this).data(l,t)),"string"==typeof i){if(!t[i])throw new Error('No method named "'+i+'".');r=t[i].apply(t,n)}});return void 0!==r?r:o}},{key:"Default",get:function(){return n}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return l}},{key:"Event",get:function(){return r}},{key:"EVENT_KEY",get:function(){return e}}]),a}();return s.fn[t]=a._jQueryInterface,s.fn[t].Constructor=a,s.fn[t].noConflict=function(){return s.fn[t]=i,a._jQueryInterface},a}(jQuery);function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}!function(r){var u=r.Markdown=function(t){switch(typeof t){case"undefined":this.dialect=u.dialects.Gruber;break;case"object":this.dialect=t;break;default:if(!(t in u.dialects))throw new Error("Unknown Markdown dialect '"+String(t)+"'");this.dialect=u.dialects[t]}this.em_state=[],this.strong_state=[],this.debug_indent=""};function o(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function s(){var t=require("util");return"Markdown.mk_block( "+t.inspect(this.toString())+", "+t.inspect(this.trailing)+", "+t.inspect(this.lineNumber)+" )"}r.parse=function(t,e){return new u(e).toTree(t)},r.toHTML=function(t,e,i){var n=r.toHTMLTree(t,e,i);return r.renderJsonML(n)},r.toHTMLTree=function(t,e,i){"string"==typeof t&&(t=this.parse(t,e));var n=g(t),r={};n&&n.references&&(r=n.references);var o=function t(e,i,n){var r;n=n||{};var o=e.slice(0);"function"==typeof n.preprocessTreeNode&&(o=n.preprocessTreeNode(o,i));var a=g(o);if(a){for(r in o[1]={},a)o[1][r]=a[r];a=o[1]}if("string"==typeof o)return o;switch(o[0]){case"header":o[0]="h"+o[1].level,delete o[1].level;break;case"bulletlist":o[0]="ul";break;case"numberlist":o[0]="ol";break;case"listitem":o[0]="li";break;case"para":o[0]="p";break;case"markdown":o[0]="html",a&&delete a.references;break;case"code_block":o[0]="pre",r=a?2:1;var s=["code"];s.push.apply(s,o.splice(r,o.length-r)),o[r]=s;break;case"inlinecode":o[0]="code";break;case"img":o[1].src=o[1].href,delete o[1].href;break;case"linebreak":o[0]="br";break;case"link":o[0]="a";break;case"link_ref":o[0]="a";var l=i[a.ref];if(!l)return a.original;delete a.ref,a.href=l.href,l.title&&(a.title=l.title),delete a.original;break;case"img_ref":o[0]="img";var l=i[a.ref];if(!l)return a.original;delete a.ref,a.src=l.href,l.title&&(a.title=l.title),delete a.original}r=1;if(a){for(var h in o[1]){r=2;break}1===r&&o.splice(r,1)}for(;r<o.length;++r)o[r]=t(o[r],i,n);return o}(t,r,i);return function t(e){var i=g(e)?2:1;for(;i<e.length;)"string"==typeof e[i]?i+1<e.length&&"string"==typeof e[i+1]?e[i]+=e.splice(i+1,1)[0]:++i:(t(e[i]),++i)}(o),o};var d=u.mk_block=function(t,e,i){1==arguments.length&&(e="\n\n");var n=new String(t);return n.trailing=e,n.inspect=s,n.toSource=o,null!=i&&(n.lineNumber=i),n};function l(t){for(var e=0,i=-1;-1!==(i=t.indexOf("\n",i+1));)e++;return e}function t(a,s){var l=a+"_state",h="strong"==a?"em_state":"strong_state";function c(t){this.len_after=t,this.name="close_"+s}return function(t,e){if(this[l][0]==s)return this[l].shift(),[t.length,new c(t.length-s.length)];var i=this[h].slice(),n=this[l].slice();this[l].unshift(s);var r=this.processInline(t.substr(s.length)),o=r[r.length-1];this[l].shift();return o instanceof c?(r.pop(),[t.length-o.len_after,[a].concat(r)]):(this[h]=i,this[l]=n,[s.length,s])}}u.prototype.split_blocks=function(t,e){t=t.replace(/(\r\n|\n|\r)/g,"\n");var i,n=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,r=[],o=1;for(null!=(i=/^(\s*\n)/.exec(t))&&(o+=l(i[0]),n.lastIndex=i[0].length);null!==(i=n.exec(t));)"\n#"==i[2]&&(i[2]="\n",n.lastIndex--),r.push(d(i[1],i[2],o)),o+=l(i[0]);return r},u.prototype.processBlock=function(t,e){var i=this.dialect.block,n=i.__order__;if("__call__"in i)return i.__call__.call(this,t,e);for(var r=0;r<n.length;r++){var o=i[n[r]].call(this,t,e);if(o)return(!h(o)||0<o.length&&!h(o[0]))&&this.debug(n[r],"didn't return a proper array"),o}return[]},u.prototype.processInline=function(t){return this.dialect.inline.__call__.call(this,String(t))},u.prototype.toTree=function(t,e){var i=t instanceof Array?t:this.split_blocks(t),n=this.tree;try{for(this.tree=e||this.tree||["markdown"];i.length;){var r=this.processBlock(i.shift(),i);r.length&&this.tree.push.apply(this.tree,r)}return this.tree}finally{e&&(this.tree=n)}},u.prototype.debug=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,t),"undefined"!=typeof console&&void 0!==console.log&&console.log.apply(null,t)},u.prototype.loop_re_over_block=function(t,e,i){for(var n,r=e.valueOf();r.length&&null!=(n=t.exec(r));)r=r.substr(n[0].length),i.call(this,n);return r},u.dialects={},u.dialects.Gruber={block:{atxHeader:function(t,e){var i=t.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(i){var n=["header",{level:i[1].length}];return Array.prototype.push.apply(n,this.processInline(i[2])),i[0].length<t.length&&e.unshift(d(t.substr(i[0].length),t.trailing,t.lineNumber+2)),[n]}},setextHeader:function(t,e){var i=t.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(i){var n=["header",{level:"="===i[2]?1:2},i[1]];return i[0].length<t.length&&e.unshift(d(t.substr(i[0].length),t.trailing,t.lineNumber+2)),[n]}},code:function(t,e){var i=[],n=/^(?: {0,3}\t| {4})(.*)\n?/;if(t.match(n)){t:for(;;){var r=this.loop_re_over_block(n,t.valueOf(),function(t){i.push(t[1])});if(r.length){e.unshift(d(r,t.trailing));break t}if(!e.length)break t;if(!e[0].match(n))break t;i.push(t.trailing.replace(/[^\n]/g,"").substring(2)),t=e.shift()}return[["code_block",i.join("\n")]]}},horizRule:function(t,e){var i=t.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(i){var n=[["hr"]];return i[1]&&n.unshift.apply(n,this.processBlock(i[1],[])),i[3]&&e.unshift(d(i[3])),n}},lists:function(){var w="[*+-]|\\d+\\.",S=/[*+-]/,C=new RegExp("^( {0,3})("+w+")[ \t]+"),k="(?: {0,3}\\t| {4})";function T(t,e,i,n){if(e)t.push(["para"].concat(i));else{var r=t[t.length-1]instanceof Array&&"para"==t[t.length-1][0]?t[t.length-1]:t;n&&1<t.length&&i.unshift(n);for(var o=0;o<i.length;o++){var a=i[o];"string"==typeof a&&1<r.length&&"string"==typeof r[r.length-1]?r[r.length-1]+=a:r.push(a)}}}function D(t,e){for(var i=new RegExp("^("+k+"{"+t+"}.*?\\n?)*$"),n=new RegExp("^"+k+"{"+t+"}","gm"),r=[];0<e.length&&i.exec(e[0]);){var o=e.shift(),a=o.replace(n,"");r.push(d(a,o.trailing,o.lineNumber))}return r}function A(t,e,i){var n=t.list,r=n[n.length-1];if(!(r[1]instanceof Array&&"para"==r[1][0]))if(e+1==i.length)r.push(["para"].concat(r.splice(1,r.length-1)));else{var o=r.pop();r.push(["para"].concat(r.splice(1,r.length-1)),o)}}return function(t,e){var i=t.match(C);if(i){for(var n,r,o,a=[],s=_(i),l=!1,h=[a[0].list];;){for(var c=t.split(/(?=\n)/),u="",d=0;d<c.length;d++){var p="",f=c[d].replace(/^\n/,function(t){return p=t,""}),g=(o=a.length,new RegExp("(?:^("+k+"{0,"+o+"} {0,3})("+w+")\\s+)|(^"+k+"{0,"+(o-1)+"}[ ]{0,4})"));if(void 0!==(i=f.match(g))[1]){u.length&&(T(n,l,this.processInline(u),p),l=!1,u=""),i[1]=i[1].replace(/ {0,3}\t/g,"    ");var m=Math.floor(i[1].length/4)+1;if(m>a.length)s=_(i),n.push(s),n=s[1]=["listitem"];else{var v=!1;for(r=0;r<a.length;r++)if(a[r].indent==i[1]){s=a[r].list,a.splice(r+1,a.length-(r+1)),v=!0;break}v||(++m<=a.length?(a.splice(m,a.length-m),s=a[m-1].list):(s=_(i),n.push(s))),n=["listitem"],s.push(n)}p=""}f.length>i[0].length&&(u+=p+f.substr(i[0].length))}u.length&&(T(n,l,this.processInline(u),p),l=!1,u="");var y=D(a.length,e);0<y.length&&(M(a,A,this),n.push.apply(n,this.toTree(y,[])));var b=e[0]&&e[0].valueOf()||"";if(!b.match(C)&&!b.match(/^ /))break;t=e.shift();var x=this.dialect.block.horizRule(t,e);if(x){h.push.apply(h,x);break}M(a,A,this),l=!0}return h}function _(t){var e=S.exec(t[2])?["bulletlist"]:["numberlist"];return a.push({list:e,indent:t[1]}),e}}}(),blockquote:function(t,e){if(t.match(/^>/m)){var i=[];if(">"!=t[0]){for(var n=t.split(/\n/),r=[],o=t.lineNumber;n.length&&">"!=n[0][0];)r.push(n.shift()),o++;var a=d(r.join("\n"),"\n",t.lineNumber);i.push.apply(i,this.processBlock(a,[])),t=d(n.join("\n"),t.trailing,o)}for(;e.length&&">"==e[0][0];){var s=e.shift();t=d(t+t.trailing+s,s.trailing,t.lineNumber)}var l=t.replace(/^> ?/gm,""),h=(this.tree,this.toTree(l,["blockquote"])),c=g(h);return c&&c.references&&(delete c.references,f(c)&&h.splice(1,1)),i.push(h),i}},referenceDefn:function(t,e){var i=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(t.match(i)){g(this.tree)||this.tree.splice(1,0,{});var n=g(this.tree);void 0===n.references&&(n.references={});var r=this.loop_re_over_block(i,t,function(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1));var e=n.references[t[1].toLowerCase()]={href:t[2]};void 0!==t[4]?e.title=t[4]:void 0!==t[5]&&(e.title=t[5])});return r.length&&e.unshift(d(r,t.trailing)),[]}},para:function(t,e){return[["para"].concat(this.processInline(t))]}}},u.dialects.Gruber.inline={__oneElement__:function(t,e,i){var n,r;return e=e||this.dialect.inline.__patterns__,(n=new RegExp("([\\s\\S]*?)("+(e.source||e)+")").exec(t))?n[1]?[n[1].length,n[1]]:(n[2]in this.dialect.inline&&(r=this.dialect.inline[n[2]].call(this,t.substr(n.index),n,i||[])),r=r||[n[2].length,n[2]]):[t.length,t]},__call__:function(t,e){var i,n=[];function r(t){"string"==typeof t&&"string"==typeof n[n.length-1]?n[n.length-1]+=t:n.push(t)}for(;0<t.length;)i=this.dialect.inline.__oneElement__.call(this,t,e,n),t=t.substr(i.shift()),M(i,r);return n},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(t){return this.dialect.inline.__escape__.exec(t)?[2,t.charAt(1)]:[1,"\\"]},"![":function(t){var e=t.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1)),e[2]=this.dialect.inline.__call__.call(this,e[2],/\\/)[0];var i={alt:e[1],href:e[2]||""};return void 0!==e[4]&&(i.title=e[4]),[e[0].length,["img",i]]}return(e=t.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/))?[e[0].length,["img_ref",{alt:e[1],ref:e[2].toLowerCase(),original:e[0]}]]:[2,"!["]},"[":function(t){var e=String(t),i=u.DialectHelpers.inline_until_char.call(this,t.substr(1),"]");if(!i)return[1,"["];var n,r,o=1+i[0],a=i[1],s=(t=t.substr(o)).match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(s){var l=s[1];if(o+=s[0].length,l&&"<"==l[0]&&">"==l[l.length-1]&&(l=l.substring(1,l.length-1)),!s[3])for(var h=1,c=0;c<l.length;c++)switch(l[c]){case"(":h++;break;case")":0==--h&&(o-=l.length-c,l=l.substring(0,c))}return r={href:(l=this.dialect.inline.__call__.call(this,l,/\\/)[0])||""},void 0!==s[3]&&(r.title=s[3]),n=["link",r].concat(a),[o,n]}return(s=t.match(/^\s*\[(.*?)\]/))?(o+=s[0].length,n=["link_ref",r={ref:(s[1]||String(a)).toLowerCase(),original:e.substr(0,o)}].concat(a),[o,n]):1==a.length&&"string"==typeof a[0]?(n=["link_ref",r={ref:a[0].toLowerCase(),original:e.substr(0,o)},a[0]],[o,n]):[1,"["]},"<":function(t){var e;return null!=(e=t.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?e[3]?[e[0].length,["link",{href:"mailto:"+e[3]},e[3]]]:"mailto"==e[2]?[e[0].length,["link",{href:e[1]},e[1].substr("mailto:".length)]]:[e[0].length,["link",{href:e[1]},e[1]]]:[1,"<"]},"`":function(t){var e=t.match(/(`+)(([\s\S]*?)\1)/);return e&&e[2]?[e[1].length+e[2].length,["inlinecode",e[3]]]:[1,"`"]},"  \n":function(t){return[3,["linebreak"]]}},u.dialects.Gruber.inline["**"]=t("strong","**"),u.dialects.Gruber.inline.__=t("strong","__"),u.dialects.Gruber.inline["*"]=t("em","*"),u.dialects.Gruber.inline._=t("em","_"),u.buildBlockOrder=function(t){var e=[];for(var i in t)"__order__"!=i&&"__call__"!=i&&e.push(i);t.__order__=e},u.buildInlinePatterns=function(t){var i=[];for(var e in t)if(!e.match(/^__.*__$/)){var n=e.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");i.push(1==e.length?n:"(?:"+n+")")}i=i.join("|"),t.__patterns__=i;var r=t.__call__;t.__call__=function(t,e){return null!=e?r.call(this,t,e):r.call(this,t,i)}},u.DialectHelpers={},u.DialectHelpers.inline_until_char=function(t,e){for(var i=0,n=[];;){if(t.charAt(i)==e)return[++i,n];if(i>=t.length)return null;var r=this.dialect.inline.__oneElement__.call(this,t.substr(i));i+=r[0],n.push.apply(n,r.slice(1))}},u.subclassDialect=function(t){function e(){}function i(){}return e.prototype=t.block,i.prototype=t.inline,{block:new e,inline:new i}},u.buildBlockOrder(u.dialects.Gruber.block),u.buildInlinePatterns(u.dialects.Gruber.inline),u.dialects.Maruku=u.subclassDialect(u.dialects.Gruber),u.dialects.Maruku.processMetaHash=function(t){for(var e=function(t){var e=t.split(""),i=[""],n=!1;for(;e.length;){var r=e.shift();switch(r){case" ":n?i[i.length-1]+=r:i.push("");break;case"'":case'"':n=!n;break;case"\\":r=e.shift();default:i[i.length-1]+=r}}return i}(t),i={},n=0;n<e.length;++n)if(/^#/.test(e[n]))i.id=e[n].substring(1);else if(/^\./.test(e[n]))i.class?i.class=i.class+e[n].replace(/./," "):i.class=e[n].substring(1);else if(/\=/.test(e[n])){var r=e[n].split(/\=/);i[r[0]]=r[1]}return i},u.dialects.Maruku.block.document_meta=function(t,e){if(!(1<t.lineNumber)&&t.match(/^(?:\w+:.*\n)*\w+:.*$/)){g(this.tree)||this.tree.splice(1,0,{});var i=t.split(/\n/);for(p in i){var n=i[p].match(/(\w+):\s*(.*)$/),r=n[1].toLowerCase(),o=n[2];this.tree[1][r]=o}return[]}},u.dialects.Maruku.block.block_meta=function(t,e){var i=t.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(i){var n,r=this.dialect.processMetaHash(i[2]);if(""===i[1]){var o=this.tree[this.tree.length-1];if(n=g(o),"string"==typeof o)return;for(a in n||(n={},o.splice(1,0,n)),r)n[a]=r[a];return[]}var s=t.replace(/\n.*$/,""),l=this.processBlock(s,[]);for(a in(n=g(l[0]))||(n={},l[0].splice(1,0,n)),r)n[a]=r[a];return l}},u.dialects.Maruku.block.definition_list=function(t,e){var i,n=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,r=["dl"];if(s=t.match(n)){for(var o=[t];e.length&&n.exec(e[0]);)o.push(e.shift());for(var a=0;a<o.length;++a){var s,l=(s=o[a].match(n))[1].replace(/\n$/,"").split(/\n/),h=s[2].split(/\n:\s+/);for(i=0;i<l.length;++i)r.push(["dt",l[i]]);for(i=0;i<h.length;++i)r.push(["dd"].concat(this.processInline(h[i].replace(/(\n)\s+/,"$1"))))}return[r]}},u.dialects.Maruku.block.table=function(t,e){var i,n,r=function(t,e){(e=e||"\\s").match(/^[\\|\[\]{}?*.+^$]$/)&&(e="\\"+e);for(var i,n=[],r=new RegExp("^((?:\\\\.|[^\\\\"+e+"])*)"+e+"(.*)");i=t.match(r);)n.push(i[1]),t=i[2];return n.push(t),n};if(n=t.match(/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/))n[3]=n[3].replace(/^\s*\|/gm,"");else if(!(n=t.match(/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/)))return;var o=["table",["thead",["tr"]],["tbody"]];n[2]=n[2].replace(/\|\s*$/,"").split("|");var a=[];for(M(n[2],function(t){t.match(/^\s*-+:\s*$/)?a.push({align:"right"}):t.match(/^\s*:-+\s*$/)?a.push({align:"left"}):t.match(/^\s*:-+:\s*$/)?a.push({align:"center"}):a.push({})}),n[1]=r(n[1].replace(/\|\s*$/,""),"|"),i=0;i<n[1].length;i++)o[1][1].push(["th",a[i]||{}].concat(this.processInline(n[1][i].trim())));return M(n[3].replace(/\|\s*$/gm,"").split("\n"),function(t){var e=["tr"];for(t=r(t,"|"),i=0;i<t.length;i++)e.push(["td",a[i]||{}].concat(this.processInline(t[i].trim())));o[2].push(e)},this),[o]},u.dialects.Maruku.inline["{:"]=function(t,e,i){if(!i.length)return[2,"{:"];var n=i[i.length-1];if("string"==typeof n)return[2,"{:"];var r=t.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!r)return[2,"{:"];var o=this.dialect.processMetaHash(r[1]),a=g(n);for(var s in a||(a={},n.splice(1,0,a)),o)a[s]=o[s];return[r[0].length,""]},u.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,u.buildBlockOrder(u.dialects.Maruku.block),u.buildInlinePatterns(u.dialects.Maruku.inline);var M,h=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)};M=Array.prototype.forEach?function(t,e,i){return t.forEach(e,i)}:function(t,e,i){for(var n=0;n<t.length;n++)e.call(i||t,t[n],n,t)};var f=function(t){for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0};function g(t){return h(t)&&1<t.length&&"object"==typeof t[1]&&!h(t[1])?t[1]:void 0}function c(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function m(t){if("string"==typeof t)return c(t);var e=t.shift(),i={},n=[];for(!t.length||"object"!=typeof t[0]||t[0]instanceof Array||(i=t.shift());t.length;)n.push(m(t.shift()));var r="";for(var o in i)r+=" "+o+'="'+c(i[o])+'"';return"img"==e||"br"==e||"hr"==e?"<"+e+r+"/>":"<"+e+r+">"+n.join("")+"</"+e+">"}r.renderJsonML=function(t,e){(e=e||{}).root=e.root||!1;var i=[];if(e.root)i.push(m(t));else for(t.shift(),!t.length||"object"!=typeof t[0]||t[0]instanceof Array||t.shift();t.length;)i.push(m(t.shift()));return i.join("\n\n")}}("undefined"==typeof exports?(window.markdown={},window.markdown):exports),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t,r;function d(){return t.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function l(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function h(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function p(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function f(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function g(t,e){for(var i in e)f(e,i)&&(t[i]=e[i]);return f(e,"toString")&&(t.toString=e.toString),f(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e,i,n){return Te(t,e,i,n,!0).utc()}function v(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function y(t){if(null==t._isValid){var e=v(t),i=r.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function b(t){var e=m(NaN);return null!=t?g(v(e),t):v(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var o=d.momentProperties=[];function x(t,e){var i,n,r;if(h(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),h(e._i)||(t._i=e._i),h(e._f)||(t._f=e._f),h(e._l)||(t._l=e._l),h(e._strict)||(t._strict=e._strict),h(e._tzm)||(t._tzm=e._tzm),h(e._isUTC)||(t._isUTC=e._isUTC),h(e._offset)||(t._offset=e._offset),h(e._pf)||(t._pf=v(e)),h(e._locale)||(t._locale=e._locale),0<o.length)for(i=0;i<o.length;i++)h(r=e[n=o[i]])||(t[n]=r);return t}var e=!1;function _(t){x(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===e&&(e=!0,d.updateOffset(this),e=!1)}function w(t){return t instanceof _||null!=t&&null!=t._isAMomentObject}function S(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function C(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=S(e)),i}function a(t,e,i){var n,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(n=0;n<r;n++)(i&&t[n]!==e[n]||!i&&C(t[n])!==C(e[n]))&&a++;return a+o}function k(t){!1===d.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function i(r,o){var a=!0;return g(function(){if(null!=d.deprecationHandler&&d.deprecationHandler(null,r),a){for(var t,e=[],i=0;i<arguments.length;i++){if(t="","object"==typeof arguments[i]){for(var n in t+="\n["+i+"] ",arguments[0])t+=n+": "+arguments[0][n]+", ";t=t.slice(0,-2)}else t=arguments[i];e.push(t)}k(r+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),a=!1}return o.apply(this,arguments)},o)}var n,T={};function D(t,e){null!=d.deprecationHandler&&d.deprecationHandler(t,e),T[t]||(k(e),T[t]=!0)}function A(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function M(t,e){var i,n=g({},t);for(i in e)f(e,i)&&(l(t[i])&&l(e[i])?(n[i]={},g(n[i],t[i]),g(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)f(t,i)&&!f(e,i)&&l(t[i])&&(n[i]=g({},n[i]));return n}function E(t){null!=t&&this.set(t)}d.suppressDeprecationWarnings=!1,d.deprecationHandler=null,n=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)f(t,e)&&i.push(e);return i};var P={};function L(t,e){var i=t.toLowerCase();P[i]=P[i+"s"]=P[e]=t}function I(t){return"string"==typeof t?P[t]||P[t.toLowerCase()]:void 0}function O(t){var e,i,n={};for(i in t)f(t,i)&&(e=I(i))&&(n[e]=t[i]);return n}var R={};function F(t,e){R[t]=e}function N(t,e,i){var n=""+Math.abs(t),r=e-n.length;return(0<=t?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},V={};function B(t,e,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),t&&(V[t]=r),e&&(V[e[0]]=function(){return N(r.apply(this,arguments),e[1],e[2])}),i&&(V[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function W(t,e){return t.isValid()?(e=j(e,t.localeData()),H[e]=H[e]||function(n){var t,r,e,o=n.match(z);for(t=0,r=o.length;t<r;t++)V[o[t]]?o[t]=V[o[t]]:o[t]=(e=o[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,i="";for(e=0;e<r;e++)i+=A(o[e])?o[e].call(t,n):o[e];return i}}(e),H[e](t)):t.localeData().invalidDate()}function j(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for($.lastIndex=0;0<=i&&$.test(t);)t=t.replace($,n),$.lastIndex=0,i-=1;return t}var Y=/\d/,U=/\d\d/,G=/\d{3}/,q=/\d{4}/,X=/[+-]?\d{6}/,K=/\d\d?/,Z=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,J=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,it=/\d+/,nt=/[+-]?\d+/,rt=/Z|[+-]\d\d:?\d\d/gi,ot=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,st={};function lt(t,i,n){st[t]=A(i)?i:function(t,e){return t&&n?n:i}}function ht(t,e){return f(st,t)?st[t](e._strict,e._locale):new RegExp(ct(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,r){return e||i||n||r})))}function ct(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ut={};function dt(t,i){var e,n=i;for("string"==typeof t&&(t=[t]),c(i)&&(n=function(t,e){e[i]=C(t)}),e=0;e<t.length;e++)ut[t[e]]=n}function pt(t,r){dt(t,function(t,e,i,n){i._w=i._w||{},r(t,i._w,i,n)})}var ft=0,gt=1,mt=2,vt=3,yt=4,bt=5,xt=6,_t=7,wt=8;function St(t){return Ct(t)?366:365}function Ct(t){return t%4==0&&t%100!=0||t%400==0}B("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),L("year","y"),F("year",1),lt("Y",nt),lt("YY",K,U),lt("YYYY",tt,q),lt("YYYYY",et,X),lt("YYYYYY",et,X),dt(["YYYYY","YYYYYY"],ft),dt("YYYY",function(t,e){e[ft]=2===t.length?d.parseTwoDigitYear(t):C(t)}),dt("YY",function(t,e){e[ft]=d.parseTwoDigitYear(t)}),dt("Y",function(t,e){e[ft]=parseInt(t,10)}),d.parseTwoDigitYear=function(t){return C(t)+(68<C(t)?1900:2e3)};var kt,Tt=Dt("FullYear",!0);function Dt(e,i){return function(t){return null!=t?(Mt(this,e,t),d.updateOffset(this,i),this):At(this,e)}}function At(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Mt(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&Ct(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),Et(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function Et(t,e){if(isNaN(t)||isNaN(e))return NaN;var i,n=(e%(i=12)+i)%i;return t+=(e-n)/12,1===n?Ct(t)?29:28:31-n%7%2}kt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),B("MMMM",0,0,function(t){return this.localeData().months(this,t)}),L("month","M"),F("month",8),lt("M",K),lt("MM",K,U),lt("MMM",function(t,e){return e.monthsShortRegex(t)}),lt("MMMM",function(t,e){return e.monthsRegex(t)}),dt(["M","MM"],function(t,e){e[gt]=C(t)-1}),dt(["MMM","MMMM"],function(t,e,i,n){var r=i._locale.monthsParse(t,n,i._strict);null!=r?e[gt]=r:v(i).invalidMonth=t});var Pt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Lt="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var It="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ot(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=C(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),Et(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function Rt(t){return null!=t?(Ot(this,t),d.updateOffset(this,!0),this):At(this,"Month")}var Ft=at;var Nt=at;function zt(){function t(t,e){return e.length-t.length}var e,i,n=[],r=[],o=[];for(e=0;e<12;e++)i=m([2e3,e]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),o.push(this.months(i,"")),o.push(this.monthsShort(i,""));for(n.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)n[e]=ct(n[e]),r[e]=ct(r[e]);for(e=0;e<24;e++)o[e]=ct(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function $t(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Ht(t,e,i){var n=7+e-i;return-((7+$t(t,0,n).getUTCDay()-e)%7)+n-1}function Vt(t,e,i,n,r){var o,a,s=1+7*(e-1)+(7+i-n)%7+Ht(t,n,r);return s<=0?a=St(o=t-1)+s:s>St(t)?(o=t+1,a=s-St(t)):(o=t,a=s),{year:o,dayOfYear:a}}function Bt(t,e,i){var n,r,o=Ht(t.year(),e,i),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?n=a+Wt(r=t.year()-1,e,i):a>Wt(t.year(),e,i)?(n=a-Wt(t.year(),e,i),r=t.year()+1):(r=t.year(),n=a),{week:n,year:r}}function Wt(t,e,i){var n=Ht(t,e,i),r=Ht(t+1,e,i);return(St(t)-n+r)/7}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),F("week",5),F("isoWeek",5),lt("w",K),lt("ww",K,U),lt("W",K),lt("WW",K,U),pt(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=C(t)});B("d",0,"do","day"),B("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),B("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),B("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),lt("d",K),lt("e",K),lt("E",K),lt("dd",function(t,e){return e.weekdaysMinRegex(t)}),lt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),lt("dddd",function(t,e){return e.weekdaysRegex(t)}),pt(["dd","ddd","dddd"],function(t,e,i,n){var r=i._locale.weekdaysParse(t,n,i._strict);null!=r?e.d=r:v(i).invalidWeekday=t}),pt(["d","e","E"],function(t,e,i,n){e[n]=C(t)});var jt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Yt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Ut="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Gt=at;var qt=at;var Xt=at;function Kt(){function t(t,e){return e.length-t.length}var e,i,n,r,o,a=[],s=[],l=[],h=[];for(e=0;e<7;e++)i=m([2e3,1]).day(e),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),o=this.weekdays(i,""),a.push(n),s.push(r),l.push(o),h.push(n),h.push(r),h.push(o);for(a.sort(t),s.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)s[e]=ct(s[e]),l[e]=ct(l[e]),h[e]=ct(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Zt(){return this.hours()%12||12}function Qt(t,e){B(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Jt(t,e){return e._meridiemParse}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Zt),B("k",["kk",2],0,function(){return this.hours()||24}),B("hmm",0,0,function(){return""+Zt.apply(this)+N(this.minutes(),2)}),B("hmmss",0,0,function(){return""+Zt.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+N(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)}),Qt("a",!0),Qt("A",!1),L("hour","h"),F("hour",13),lt("a",Jt),lt("A",Jt),lt("H",K),lt("h",K),lt("k",K),lt("HH",K,U),lt("hh",K,U),lt("kk",K,U),lt("hmm",Z),lt("hmmss",Q),lt("Hmm",Z),lt("Hmmss",Q),dt(["H","HH"],vt),dt(["k","kk"],function(t,e,i){var n=C(t);e[vt]=24===n?0:n}),dt(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),dt(["h","hh"],function(t,e,i){e[vt]=C(t),v(i).bigHour=!0}),dt("hmm",function(t,e,i){var n=t.length-2;e[vt]=C(t.substr(0,n)),e[yt]=C(t.substr(n)),v(i).bigHour=!0}),dt("hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[vt]=C(t.substr(0,n)),e[yt]=C(t.substr(n,2)),e[bt]=C(t.substr(r)),v(i).bigHour=!0}),dt("Hmm",function(t,e,i){var n=t.length-2;e[vt]=C(t.substr(0,n)),e[yt]=C(t.substr(n))}),dt("Hmmss",function(t,e,i){var n=t.length-4,r=t.length-2;e[vt]=C(t.substr(0,n)),e[yt]=C(t.substr(n,2)),e[bt]=C(t.substr(r))});var te,ee=Dt("Hours",!0),ie={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Lt,monthsShort:It,week:{dow:0,doy:6},weekdays:jt,weekdaysMin:Ut,weekdaysShort:Yt,meridiemParse:/[ap]\.?m?\.?/i},ne={},re={};function oe(t){return t?t.toLowerCase().replace("_","-"):t}function ae(t){var e=null;if(!ne[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=te._abbr,require("./locale/"+t),se(e)}catch(t){}return ne[t]}function se(t,e){var i;return t&&((i=h(e)?he(t):le(t,e))?te=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),te._abbr}function le(t,e){if(null!==e){var i,n=ie;if(e.abbr=t,null!=ne[t])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ne[t]._config;else if(null!=e.parentLocale)if(null!=ne[e.parentLocale])n=ne[e.parentLocale]._config;else{if(null==(i=ae(e.parentLocale)))return re[e.parentLocale]||(re[e.parentLocale]=[]),re[e.parentLocale].push({name:t,config:e}),null;n=i._config}return ne[t]=new E(M(n,e)),re[t]&&re[t].forEach(function(t){le(t.name,t.config)}),se(t),ne[t]}return delete ne[t],null}function he(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return te;if(!s(t)){if(e=ae(t))return e;t=[t]}return function(t){for(var e,i,n,r,o=0;o<t.length;){for(e=(r=oe(t[o]).split("-")).length,i=(i=oe(t[o+1]))?i.split("-"):null;0<e;){if(n=ae(r.slice(0,e).join("-")))return n;if(i&&i.length>=e&&a(r,i,!0)>=e-1)break;e--}o++}return te}(t)}function ce(t){var e,i=t._a;return i&&-2===v(t).overflow&&(e=i[gt]<0||11<i[gt]?gt:i[mt]<1||i[mt]>Et(i[ft],i[gt])?mt:i[vt]<0||24<i[vt]||24===i[vt]&&(0!==i[yt]||0!==i[bt]||0!==i[xt])?vt:i[yt]<0||59<i[yt]?yt:i[bt]<0||59<i[bt]?bt:i[xt]<0||999<i[xt]?xt:-1,v(t)._overflowDayOfYear&&(e<ft||mt<e)&&(e=mt),v(t)._overflowWeeks&&-1===e&&(e=_t),v(t)._overflowWeekday&&-1===e&&(e=wt),v(t).overflow=e),t}function ue(t,e,i){return null!=t?t:null!=e?e:i}function de(t){var e,i,n,r,o,a=[];if(!t._d){var s,l;for(s=t,l=new Date(d.now()),n=s._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()],t._w&&null==t._a[mt]&&null==t._a[gt]&&function(t){var e,i,n,r,o,a,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,i=ue(e.GG,t._a[ft],Bt(De(),1,4).year),n=ue(e.W,1),((r=ue(e.E,1))<1||7<r)&&(l=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var h=Bt(De(),o,a);i=ue(e.gg,t._a[ft],h.year),n=ue(e.w,h.week),null!=e.d?((r=e.d)<0||6<r)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||6<e.e)&&(l=!0)):r=o}n<1||n>Wt(i,o,a)?v(t)._overflowWeeks=!0:null!=l?v(t)._overflowWeekday=!0:(s=Vt(i,n,r,o,a),t._a[ft]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(o=ue(t._a[ft],n[ft]),(t._dayOfYear>St(o)||0===t._dayOfYear)&&(v(t)._overflowDayOfYear=!0),i=$t(o,0,t._dayOfYear),t._a[gt]=i.getUTCMonth(),t._a[mt]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=n[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[vt]&&0===t._a[yt]&&0===t._a[bt]&&0===t._a[xt]&&(t._nextDay=!0,t._a[vt]=0),t._d=(t._useUTC?$t:function(t,e,i,n,r,o,a){var s=new Date(t,e,i,n,r,o,a);return t<100&&0<=t&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,a),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[vt]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(v(t).weekdayMismatch=!0)}}var pe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ge=/Z|[+-]\d\d(?::?\d\d)?/,me=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ve=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ye=/^\/?Date\((\-?\d+)/i;function be(t){var e,i,n,r,o,a,s=t._i,l=pe.exec(s)||fe.exec(s);if(l){for(v(t).iso=!0,e=0,i=me.length;e<i;e++)if(me[e][1].exec(l[1])){r=me[e][0],n=!1!==me[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,i=ve.length;e<i;e++)if(ve[e][1].exec(l[3])){o=(l[2]||" ")+ve[e][0];break}if(null==o)return void(t._isValid=!1)}if(!n&&null!=o)return void(t._isValid=!1);if(l[4]){if(!ge.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),Ce(t)}else t._isValid=!1}var xe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function _e(t,e,i,n,r,o){var a=[function(t){var e=parseInt(t,10);{if(e<=49)return 2e3+e;if(e<=999)return 1900+e}return e}(t),It.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}var we={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Se(t){var e,i,n,r=xe.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(r){var o=_e(r[4],r[3],r[2],r[5],r[6],r[7]);if(e=r[1],i=o,n=t,e&&Yt.indexOf(e)!==new Date(i[0],i[1],i[2]).getDay()&&(v(n).weekdayMismatch=!0,!(n._isValid=!1)))return;t._a=o,t._tzm=function(t,e,i){if(t)return we[t];if(e)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(r[8],r[9],r[10]),t._d=$t.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),v(t).rfc2822=!0}else t._isValid=!1}function Ce(t){if(t._f!==d.ISO_8601)if(t._f!==d.RFC_2822){t._a=[],v(t).empty=!0;var e,i,n,r,o,a,s,l,h=""+t._i,c=h.length,u=0;for(n=j(t._f,t._locale).match(z)||[],e=0;e<n.length;e++)r=n[e],(i=(h.match(ht(r,t))||[])[0])&&(0<(o=h.substr(0,h.indexOf(i))).length&&v(t).unusedInput.push(o),h=h.slice(h.indexOf(i)+i.length),u+=i.length),V[r]?(i?v(t).empty=!1:v(t).unusedTokens.push(r),a=r,l=t,null!=(s=i)&&f(ut,a)&&ut[a](s,l._a,l,a)):t._strict&&!i&&v(t).unusedTokens.push(r);v(t).charsLeftOver=c-u,0<h.length&&v(t).unusedInput.push(h),t._a[vt]<=12&&!0===v(t).bigHour&&0<t._a[vt]&&(v(t).bigHour=void 0),v(t).parsedDateParts=t._a.slice(0),v(t).meridiem=t._meridiem,t._a[vt]=function(t,e,i){var n;if(null==i)return e;return null!=t.meridiemHour?t.meridiemHour(e,i):(null!=t.isPM&&((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0)),e)}(t._locale,t._a[vt],t._meridiem),de(t),ce(t)}else Se(t);else be(t)}function ke(t){var e,i,n,r,o=t._i,a=t._f;return t._locale=t._locale||he(t._l),null===o||void 0===a&&""===o?b({nullInput:!0}):("string"==typeof o&&(t._i=o=t._locale.preparse(o)),w(o)?new _(ce(o)):(u(o)?t._d=o:s(a)?function(t){var e,i,n,r,o;if(0===t._f.length)return v(t).invalidFormat=!0,t._d=new Date(NaN);for(r=0;r<t._f.length;r++)o=0,e=x({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Ce(e),y(e)&&(o+=v(e).charsLeftOver,o+=10*v(e).unusedTokens.length,v(e).score=o,(null==n||o<n)&&(n=o,i=e));g(t,i||e)}(t):a?Ce(t):h(i=(e=t)._i)?e._d=new Date(d.now()):u(i)?e._d=new Date(i.valueOf()):"string"==typeof i?(n=e,null===(r=ye.exec(n._i))?(be(n),!1===n._isValid&&(delete n._isValid,Se(n),!1===n._isValid&&(delete n._isValid,d.createFromInputFallback(n)))):n._d=new Date(+r[1])):s(i)?(e._a=p(i.slice(0),function(t){return parseInt(t,10)}),de(e)):l(i)?function(t){if(!t._d){var e=O(t._i);t._a=p([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),de(t)}}(e):c(i)?e._d=new Date(i):d.createFromInputFallback(e),y(t)||(t._d=null),t))}function Te(t,e,i,n,r){var o,a={};return!0!==i&&!1!==i||(n=i,i=void 0),(l(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||s(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=i,a._i=t,a._f=e,a._strict=n,(o=new _(ce(ke(a))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function De(t,e,i,n){return Te(t,e,i,n,!1)}d.createFromInputFallback=i("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),d.ISO_8601=function(){},d.RFC_2822=function(){};var Ae=i("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:b()}),Me=i("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:b()});function Ee(t,e){var i,n;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return De();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}var Pe=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Le(t){var e=O(t),i=e.year||0,n=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===kt.call(Pe,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Pe.length;++n)if(t[Pe[n]]){if(i)return!1;parseFloat(t[Pe[n]])!==C(t[Pe[n]])&&(i=!0)}return!0}(e),this._milliseconds=+c+1e3*h+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*n+12*i,this._data={},this._locale=he(),this._bubble()}function Ie(t){return t instanceof Le}function Oe(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Re(t,i){B(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+N(~~(t/60),2)+i+N(~~t%60,2)})}Re("Z",":"),Re("ZZ",""),lt("Z",ot),lt("ZZ",ot),dt(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Ne(ot,t)});var Fe=/([\+\-]|\d\d)/gi;function Ne(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(Fe)||["-",0,0],r=60*n[1]+C(n[2]);return 0===r?0:"+"===n[0]?r:-r}function ze(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(w(t)||u(t)?t.valueOf():De(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),d.updateOffset(i,!1),i):De(t).local()}function $e(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function He(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}d.updateOffset=function(){};var Ve=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Be=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function We(t,e){var i,n,r,o=t,a=null;return Ie(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:c(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=Ve.exec(t))?(i="-"===a[1]?-1:1,o={y:0,d:C(a[mt])*i,h:C(a[vt])*i,m:C(a[yt])*i,s:C(a[bt])*i,ms:C(Oe(1e3*a[xt]))*i}):(a=Be.exec(t))?(i="-"===a[1]?-1:(a[1],1),o={y:je(a[2],i),M:je(a[3],i),w:je(a[4],i),d:je(a[5],i),h:je(a[6],i),m:je(a[7],i),s:je(a[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=function(t,e){var i;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=ze(e,t),t.isBefore(e)?i=Ye(t,e):((i=Ye(e,t)).milliseconds=-i.milliseconds,i.months=-i.months);return i}(De(o.from),De(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),n=new Le(o),Ie(t)&&f(t,"_locale")&&(n._locale=t._locale),n}function je(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Ye(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Ue(n,r){return function(t,e){var i;return null===e||isNaN(+e)||(D(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=t,t=e,e=i),Ge(this,We(t="string"==typeof t?+t:t,e),n),this}}function Ge(t,e,i,n){var r=e._milliseconds,o=Oe(e._days),a=Oe(e._months);t.isValid()&&(n=null==n||n,a&&Ot(t,At(t,"Month")+a*i),o&&Mt(t,"Date",At(t,"Date")+o*i),r&&t._d.setTime(t._d.valueOf()+r*i),n&&d.updateOffset(t,o||a))}We.fn=Le.prototype,We.invalid=function(){return We(NaN)};var qe=Ue(1,"add"),Xe=Ue(-1,"subtract");function Ke(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function Ze(t){var e;return void 0===t?this._locale._abbr:(null!=(e=he(t))&&(this._locale=e),this)}d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",d.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qe=i("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Je(){return this._locale}function ti(t,e){B(0,[t,t.length],0,e)}function ei(t,e,i,n,r){var o;return null==t?Bt(this,n,r).year:((o=Wt(t,n,r))<e&&(e=o),function(t,e,i,n,r){var o=Vt(t,e,i,n,r),a=$t(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,i,n,r))}B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ti("gggg","weekYear"),ti("ggggg","weekYear"),ti("GGGG","isoWeekYear"),ti("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),lt("G",nt),lt("g",nt),lt("GG",K,U),lt("gg",K,U),lt("GGGG",tt,q),lt("gggg",tt,q),lt("GGGGG",et,X),lt("ggggg",et,X),pt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=C(t)}),pt(["gg","GG"],function(t,e,i,n){e[n]=d.parseTwoDigitYear(t)}),B("Q",0,"Qo","quarter"),L("quarter","Q"),F("quarter",7),lt("Q",Y),dt("Q",function(t,e){e[gt]=3*(C(t)-1)}),B("D",["DD",2],"Do","date"),L("date","D"),F("date",9),lt("D",K),lt("DD",K,U),lt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),dt(["D","DD"],mt),dt("Do",function(t,e){e[mt]=C(t.match(K)[0])});var ii=Dt("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),F("dayOfYear",4),lt("DDD",J),lt("DDDD",G),dt(["DDD","DDDD"],function(t,e,i){i._dayOfYear=C(t)}),B("m",["mm",2],0,"minute"),L("minute","m"),F("minute",14),lt("m",K),lt("mm",K,U),dt(["m","mm"],yt);var ni=Dt("Minutes",!1);B("s",["ss",2],0,"second"),L("second","s"),F("second",15),lt("s",K),lt("ss",K,U),dt(["s","ss"],bt);var ri,oi=Dt("Seconds",!1);for(B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),F("millisecond",16),lt("S",J,Y),lt("SS",J,U),lt("SSS",J,G),ri="SSSS";ri.length<=9;ri+="S")lt(ri,it);function ai(t,e){e[xt]=C(1e3*("0."+t))}for(ri="S";ri.length<=9;ri+="S")dt(ri,ai);var si=Dt("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var li=_.prototype;function hi(t){return t}li.add=qe,li.calendar=function(t,e){var i=t||De(),n=ze(i,this).startOf("day"),r=d.calendarFormat(this,n)||"sameElse",o=e&&(A(e[r])?e[r].call(this,i):e[r]);return this.format(o||this.localeData().calendar(r,this,De(i)))},li.clone=function(){return new _(this)},li.diff=function(t,e,i){var n,r,o;if(!this.isValid())return NaN;if(!(n=ze(t,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),e=I(e)){case"year":o=Ke(this,n)/12;break;case"month":o=Ke(this,n);break;case"quarter":o=Ke(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-r)/864e5;break;case"week":o=(this-n-r)/6048e5;break;default:o=this-n}return i?o:S(o)},li.endOf=function(t){return void 0===(t=I(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},li.format=function(t){t||(t=this.isUtc()?d.defaultFormatUtc:d.defaultFormat);var e=W(this,t);return this.localeData().postformat(e)},li.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||De(t).isValid())?We({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},li.fromNow=function(t){return this.from(De(),t)},li.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||De(t).isValid())?We({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},li.toNow=function(t){return this.to(De(),t)},li.get=function(t){return A(this[t=I(t)])?this[t]():this},li.invalidAt=function(){return v(this).overflow},li.isAfter=function(t,e){var i=w(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=I(h(e)?"millisecond":e))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},li.isBefore=function(t,e){var i=w(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=I(h(e)?"millisecond":e))?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},li.isBetween=function(t,e,i,n){return("("===(n=n||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))},li.isSame=function(t,e){var i,n=w(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(e||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},li.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},li.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},li.isValid=function(){return y(this)},li.lang=Qe,li.locale=Ze,li.localeData=Je,li.max=Me,li.min=Ae,li.parsingFlags=function(){return g({},v(this))},li.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:R[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=O(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(A(this[t=I(t)]))return this[t](e);return this},li.startOf=function(t){switch(t=I(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},li.subtract=Xe,li.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},li.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},li.toDate=function(){return new Date(this.valueOf())},li.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||9999<i.year()?W(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(i,"Z")):W(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},li.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+r)},li.toJSON=function(){return this.isValid()?this.toISOString():null},li.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},li.unix=function(){return Math.floor(this.valueOf()/1e3)},li.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},li.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},li.year=Tt,li.isLeapYear=function(){return Ct(this.year())},li.weekYear=function(t){return ei.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},li.isoWeekYear=function(t){return ei.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},li.quarter=li.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},li.month=Rt,li.daysInMonth=function(){return Et(this.year(),this.month())},li.week=li.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},li.isoWeek=li.isoWeeks=function(t){var e=Bt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},li.weeksInYear=function(){var t=this.localeData()._week;return Wt(this.year(),t.dow,t.doy)},li.isoWeeksInYear=function(){return Wt(this.year(),1,4)},li.date=ii,li.day=li.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,i,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,i=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=i.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-n,"d")):n},li.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},li.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=(i=t,n=this.localeData(),"string"==typeof i?n.weekdaysParse(i)%7||7:isNaN(i)?null:i);return this.day(this.day()%7?e:e-7)}return this.day()||7;var i,n},li.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},li.hour=li.hours=ee,li.minute=li.minutes=ni,li.second=li.seconds=oi,li.millisecond=li.milliseconds=si,li.utcOffset=function(t,e,i){var n,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ne(ot,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(n=$e(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),r!==t&&(!e||this._changeInProgress?Ge(this,We(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,d.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:$e(this)},li.utc=function(t){return this.utcOffset(0,t)},li.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract($e(this),"m")),this},li.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ne(rt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},li.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?De(t).utcOffset():0,(this.utcOffset()-t)%60==0)},li.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},li.isLocal=function(){return!!this.isValid()&&!this._isUTC},li.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},li.isUtc=He,li.isUTC=He,li.zoneAbbr=function(){return this._isUTC?"UTC":""},li.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},li.dates=i("dates accessor is deprecated. Use date instead.",ii),li.months=i("months accessor is deprecated. Use month instead",Rt),li.years=i("years accessor is deprecated. Use year instead",Tt),li.zone=i("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),li.isDSTShifted=i("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!h(this._isDSTShifted))return this._isDSTShifted;var t={};if(x(t,this),(t=ke(t))._a){var e=t._isUTC?m(t._a):De(t._a);this._isDSTShifted=this.isValid()&&0<a(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var ci=E.prototype;function ui(t,e,i,n){var r=he(),o=m().set(n,e);return r[i](o,t)}function di(t,e,i){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return ui(t,e,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=ui(t,n,i,"month");return r}function pi(t,e,i,n){"boolean"==typeof t?c(e)&&(i=e,e=void 0):(e=t,t=!1,c(i=e)&&(i=e,e=void 0)),e=e||"";var r,o=he(),a=t?o._week.dow:0;if(null!=i)return ui(e,(i+a)%7,n,"day");var s=[];for(r=0;r<7;r++)s[r]=ui(e,(r+a)%7,n,"day");return s}ci.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return A(n)?n.call(e,i):n},ci.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},ci.invalidDate=function(){return this._invalidDate},ci.ordinal=function(t){return this._ordinal.replace("%d",t)},ci.preparse=hi,ci.postformat=hi,ci.relativeTime=function(t,e,i,n){var r=this._relativeTime[i];return A(r)?r(t,e,i,n):r.replace(/%d/i,t)},ci.pastFuture=function(t,e){var i=this._relativeTime[0<t?"future":"past"];return A(i)?i(e):i.replace(/%s/i,e)},ci.set=function(t){var e,i;for(i in t)A(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ci.months=function(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Pt).test(e)?"format":"standalone"][t.month()]:s(this._months)?this._months:this._months.standalone},ci.monthsShort=function(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Pt.test(e)?"format":"standalone"][t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ci.monthsParse=function(t,e,i){var n,r,o;if(this._monthsParseExact)return function(t,e,i){var n,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=m([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(r=kt.call(this._shortMonthsParse,a))?r:null:-1!==(r=kt.call(this._longMonthsParse,a))?r:null:"MMM"===e?-1!==(r=kt.call(this._shortMonthsParse,a))?r:-1!==(r=kt.call(this._longMonthsParse,a))?r:null:-1!==(r=kt.call(this._longMonthsParse,a))?r:-1!==(r=kt.call(this._shortMonthsParse,a))?r:null}.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=m([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},ci.monthsRegex=function(t){return this._monthsParseExact?(f(this,"_monthsRegex")||zt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(f(this,"_monthsRegex")||(this._monthsRegex=Nt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},ci.monthsShortRegex=function(t){return this._monthsParseExact?(f(this,"_monthsRegex")||zt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(f(this,"_monthsShortRegex")||(this._monthsShortRegex=Ft),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},ci.week=function(t){return Bt(t,this._week.dow,this._week.doy).week},ci.firstDayOfYear=function(){return this._week.doy},ci.firstDayOfWeek=function(){return this._week.dow},ci.weekdays=function(t,e){return t?s(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:s(this._weekdays)?this._weekdays:this._weekdays.standalone},ci.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},ci.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},ci.weekdaysParse=function(t,e,i){var n,r,o;if(this._weekdaysParseExact)return function(t,e,i){var n,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=m([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(r=kt.call(this._weekdaysParse,a))?r:null:"ddd"===e?-1!==(r=kt.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=kt.call(this._minWeekdaysParse,a))?r:null:"dddd"===e?-1!==(r=kt.call(this._weekdaysParse,a))?r:-1!==(r=kt.call(this._shortWeekdaysParse,a))?r:-1!==(r=kt.call(this._minWeekdaysParse,a))?r:null:"ddd"===e?-1!==(r=kt.call(this._shortWeekdaysParse,a))?r:-1!==(r=kt.call(this._weekdaysParse,a))?r:-1!==(r=kt.call(this._minWeekdaysParse,a))?r:null:-1!==(r=kt.call(this._minWeekdaysParse,a))?r:-1!==(r=kt.call(this._weekdaysParse,a))?r:-1!==(r=kt.call(this._shortWeekdaysParse,a))?r:null}.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=m([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},ci.weekdaysRegex=function(t){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(f(this,"_weekdaysRegex")||(this._weekdaysRegex=Gt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},ci.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(f(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ci.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(f(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ci.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},ci.meridiem=function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},se("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===C(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),d.lang=i("moment.lang is deprecated. Use moment.locale instead.",se),d.langData=i("moment.langData is deprecated. Use moment.localeData instead.",he);var fi=Math.abs;function gi(t,e,i,n){var r=We(e,i);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function mi(t){return t<0?Math.floor(t):Math.ceil(t)}function vi(t){return 4800*t/146097}function yi(t){return 146097*t/4800}function bi(t){return function(){return this.as(t)}}var xi=bi("ms"),_i=bi("s"),wi=bi("m"),Si=bi("h"),Ci=bi("d"),ki=bi("w"),Ti=bi("M"),Di=bi("y");function Ai(t){return function(){return this.isValid()?this._data[t]:NaN}}var Mi=Ai("milliseconds"),Ei=Ai("seconds"),Pi=Ai("minutes"),Li=Ai("hours"),Ii=Ai("days"),Oi=Ai("months"),Ri=Ai("years");var Fi=Math.round,Ni={ss:44,s:45,m:45,h:22,d:26,M:11};var zi=Math.abs;function $i(t){return(0<t)-(t<0)||+t}function Hi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=zi(this._milliseconds)/1e3,n=zi(this._days),r=zi(this._months);e=S((t=S(i/60))/60),i%=60,t%=60;var o=S(r/12),a=r%=12,s=n,l=e,h=t,c=i?i.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var d=u<0?"-":"",p=$i(this._months)!==$i(u)?"-":"",f=$i(this._days)!==$i(u)?"-":"",g=$i(this._milliseconds)!==$i(u)?"-":"";return d+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(s?f+s+"D":"")+(l||h||c?"T":"")+(l?g+l+"H":"")+(h?g+h+"M":"")+(c?g+c+"S":"")}var Vi=Le.prototype;return Vi.isValid=function(){return this._isValid},Vi.abs=function(){var t=this._data;return this._milliseconds=fi(this._milliseconds),this._days=fi(this._days),this._months=fi(this._months),t.milliseconds=fi(t.milliseconds),t.seconds=fi(t.seconds),t.minutes=fi(t.minutes),t.hours=fi(t.hours),t.months=fi(t.months),t.years=fi(t.years),this},Vi.add=function(t,e){return gi(this,t,e,1)},Vi.subtract=function(t,e){return gi(this,t,e,-1)},Vi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=I(t))||"year"===t)return e=this._days+n/864e5,i=this._months+vi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(yi(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Vi.asMilliseconds=xi,Vi.asSeconds=_i,Vi.asMinutes=wi,Vi.asHours=Si,Vi.asDays=Ci,Vi.asWeeks=ki,Vi.asMonths=Ti,Vi.asYears=Di,Vi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN},Vi._bubble=function(){var t,e,i,n,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*mi(yi(s)+a),s=a=0),l.milliseconds=o%1e3,t=S(o/1e3),l.seconds=t%60,e=S(t/60),l.minutes=e%60,i=S(e/60),l.hours=i%24,s+=r=S(vi(a+=S(i/24))),a-=mi(yi(r)),n=S(s/12),s%=12,l.days=a,l.months=s,l.years=n,this},Vi.clone=function(){return We(this)},Vi.get=function(t){return t=I(t),this.isValid()?this[t+"s"]():NaN},Vi.milliseconds=Mi,Vi.seconds=Ei,Vi.minutes=Pi,Vi.hours=Li,Vi.days=Ii,Vi.weeks=function(){return S(this.days()/7)},Vi.months=Oi,Vi.years=Ri,Vi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,i,n,r,o,a,s,l,h,c,u,d=this.localeData(),p=(i=!t,n=d,r=We(e=this).abs(),o=Fi(r.as("s")),a=Fi(r.as("m")),s=Fi(r.as("h")),l=Fi(r.as("d")),h=Fi(r.as("M")),c=Fi(r.as("y")),(u=o<=Ni.ss&&["s",o]||o<Ni.s&&["ss",o]||a<=1&&["m"]||a<Ni.m&&["mm",a]||s<=1&&["h"]||s<Ni.h&&["hh",s]||l<=1&&["d"]||l<Ni.d&&["dd",l]||h<=1&&["M"]||h<Ni.M&&["MM",h]||c<=1&&["y"]||["yy",c])[2]=i,u[3]=0<+e,u[4]=n,function(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}.apply(null,u));return t&&(p=d.pastFuture(+this,p)),d.postformat(p)},Vi.toISOString=Hi,Vi.toString=Hi,Vi.toJSON=Hi,Vi.locale=Ze,Vi.localeData=Je,Vi.toIsoString=i("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hi),Vi.lang=Qe,B("X",0,0,"unix"),B("x",0,0,"valueOf"),lt("x",nt),lt("X",/[+-]?\d+(\.\d{1,3})?/),dt("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),dt("x",function(t,e,i){i._d=new Date(C(t))}),d.version="2.22.1",t=De,d.fn=li,d.min=function(){return Ee("isBefore",[].slice.call(arguments,0))},d.max=function(){return Ee("isAfter",[].slice.call(arguments,0))},d.now=function(){return Date.now?Date.now():+new Date},d.utc=m,d.unix=function(t){return De(1e3*t)},d.months=function(t,e){return di(t,e,"months")},d.isDate=u,d.locale=se,d.invalid=b,d.duration=We,d.isMoment=w,d.weekdays=function(t,e,i){return pi(t,e,i,"weekdays")},d.parseZone=function(){return De.apply(null,arguments).parseZone()},d.localeData=he,d.isDuration=Ie,d.monthsShort=function(t,e){return di(t,e,"monthsShort")},d.weekdaysMin=function(t,e,i){return pi(t,e,i,"weekdaysMin")},d.defineLocale=le,d.updateLocale=function(t,e){if(null!=e){var i,n,r=ie;null!=(n=ae(t))&&(r=n._config),(i=new E(e=M(r,e))).parentLocale=ne[t],ne[t]=i,se(t)}else null!=ne[t]&&(null!=ne[t].parentLocale?ne[t]=ne[t].parentLocale:null!=ne[t]&&delete ne[t]);return ne[t]},d.locales=function(){return n(ne)},d.weekdaysShort=function(t,e,i){return pi(t,e,i,"weekdaysShort")},d.normalizeUnits=I,d.relativeTimeRounding=function(t){return void 0===t?Fi:"function"==typeof t&&(Fi=t,!0)},d.relativeTimeThreshold=function(t,e){return void 0!==Ni[t]&&(void 0===e?Ni[t]:(Ni[t]=e,"s"===t&&(Ni.ss=e-1),!0))},d.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},d.prototype=li,d.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},d});var PxBlockAlert=function(l){"use strict";var t="pxBlockAlert",e=l.fn[t],i={type:null,style:null,namespace:"default",animate:!0,timer:0,closeButton:!0},h={add:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("Content is not specified");var n=h._getConfig(i),r=h._getContainer(t),o="px-block-alerts-namespace--"+n.namespace,a=l(r.find("."+o)[0]||l('<div class="'+o+'"></div>').appendTo(r)[0]),s=l('<div class="alert"></div>');n.closeButton&&s.append('<button type="button" class="close">×</button>'),n.type&&s.addClass("alert-"+n.type),n.style&&s.addClass("alert-"+n.style),s.addClass(o+"__alert").append(e),r.removeClass("px-block-alerts-empty"),n.animate&&s.css("display","none").attr("data-animate","true"),a.append(s),n.animate&&s.slideDown(300),n.timer&&s.data("px-block-alert-timer",setTimeout(function(){return h.remove(t,s,n.animate)},1e3*n.timer))},remove:function(e,t){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],n=e.find(t);if(n.length){var r=n.data("px-block-alert-timer");if(r&&(clearTimeout(r),n.data("px-block-alert-timer",null)),"true"===n.attr("data-animate")&&!0===i)return n.slideUp(300,o);o()}function o(){var t=e.find("> .px-block-alerts");n.remove(),t.find(".alert").length||t.addClass("px-block-alerts-empty")}},clear:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if("string"!=typeof e)throw new Error("Namespace must be a string.");var n=t.find("> .px-block-alerts .px-block-alerts-namespace--"+e);n.length&&n.find(".alert").each(function(){h.remove(t,l(this),i)})},clearAll:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t.find("> .px-block-alerts .alert").each(function(){h.remove(t,l(this),e)})},destroy:function(t){var e=t.find("> .px-block-alerts");e.length&&(h._unsetListeners(e),e.remove())},_getContainer:function(t){var e=t.find("> .px-block-alerts");if(!e.length)if(e=l('<div class="px-block-alerts"></div>'),t.hasClass("panel")){var i=t.find("> .panel-heading");i.length||(i=t.find("> .panel-subtitle")),i.length||(i=t.find("> .panel-title")),i.length?e.insertAfter(i.first()):e.prependTo(t)}else e.prependTo(t);return e.data("pxBlockAlert-listenersDefined")||(h._setListeners(e),e.data("pxBlockAlert-listenersDefined",!0)),e},_getConfig:function(t){var e=l.extend({},i,t);return e.animate=!("false"===e.animate||!1===e.animate),e.closeButton=!("false"===e.closeButton||!1===e.closeButton),e.timer=parseInt(String(e.timer),10)||0,e},_setListeners:function(t){t.on("click",".close",function(){h.remove(t.parent(),l(this).parents(".alert"))})},_unsetListeners:function(t){t.off()}};function n(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.each(function(){if(-1!==["remove","clear","clearAll","destroy"].indexOf(e[0]))return h[e[0]].apply(null,[l(this)].concat(e.slice(1)));h.add.apply(h,[l(this),e[0]].concat(_toConsumableArray(e.slice(1))))})}return l.fn[t]=n,l.fn[t].noConflict=function(){return l.fn[t]=e,n},h}(jQuery);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxTabResize=function(r){"use strict";var t="pxTabResize",o="px.tab-resize",e="."+o,i=r.fn[t],a={template:'\n<li class="dropdown">\n  <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"></a>\n  <ul class="dropdown-menu"></ul>\n</li>',content:'<span class="tab-resize-icon"></span>'},s={TAB_RESIZE:"tab-resize",TAB_RESIZE_NAV:"tab-resize-nav",SHOW:"show",ACTIVE:"active"},l="> li:not(.tab-resize)",h="> a",c="> .dropdown-toggle",u="> .dropdown-menu",d="> li",p={RESIZE:"resize"+e,CLICK:"click"+e},n=function(){function n(t,e){_classCallCheck(this,n),this.uniqueId=pxUtil.generateUniqueId(),this.config=this._getConfig(e),this.element=r(t).find("> .nav")[0]||t,pxUtil.addClass(t,s.TAB_RESIZE_NAV),this.navItem=this._createNavItemElement(),this.navLink=this._getNavLinkElement(),this.dropdown=this._getDropdownElement(),this._setListeners(),this.placeTabs()}return _createClass(n,[{key:"placeTabs",value:function(){this._resetDropdown();var t=r(this.element).find(l),e=t.length-1,i=t[e],n=i?t[0].offsetTop:0;if(!i||i.offsetTop<=n)pxUtil.removeClass(this.navItem,s.SHOW);else for(pxUtil.addClass(this.navItem,s.SHOW);i&&!(i.offsetTop<=n);)this._moveItemToDropdown(i),i=t[--e]}},{key:"destroy",value:function(){this._unsetListeners(),this._resetDropdown(),r(this.navItem).remove(),pxUtil.removeClass(this.element,s.TAB_RESIZE_NAV),r(this.element).removeData(o)}},{key:"_createNavItemElement",value:function(){var t=r(this.config.template).addClass(s.TAB_RESIZE)[0];return this.element.insertBefore(t,this.element.firstChild),t}},{key:"_getNavLinkElement",value:function(){return r(this.navItem).find(c).html(this.config.content)[0]}},{key:"_getDropdownElement",value:function(){return r(this.navItem).find(u)[0]}},{key:"_moveItemToDropdown",value:function(t){r(this.dropdown).prepend(t),pxUtil.hasClass(t,s.ACTIVE)&&(pxUtil.addClass(this.navItem,s.ACTIVE),this.navLink.innerHTML=r(t).find(h)[0].innerHTML)}},{key:"_resetDropdown",value:function(){pxUtil.removeClass(this.navItem,s.ACTIVE),this.navLink.innerHTML=this.config.content,r(this.element).append(r(this.dropdown).find(d))}},{key:"_setListeners",value:function(){var t=this;r(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,r.proxy(this.placeTabs,this)),r(this.element).on(this.constructor.Event.CLICK,l+", > ."+s.TAB_RESIZE+" li",function(){return setTimeout(r.proxy(t.placeTabs,t,10))})}},{key:"_unsetListeners",value:function(){r(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId),r(this.element).off(e)}},{key:"_getConfig",value:function(t){return r.extend({},this.constructor.Default,t)}}],[{key:"_jQueryInterface",value:function(i){return this.each(function(){var t=r(this).data(o),e="object"===(void 0===i?"undefined":_typeof(i))?i:null;if(t||(t=new n(this,e),r(this).data(o,t)),"string"==typeof i){if(!t[i])throw new Error('No method named "'+i+'"');t[i]()}})}},{key:"Default",get:function(){return a}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return o}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return e}}]),n}();return r.fn[t]=n._jQueryInterface,r.fn[t].Constructor=n,r.fn[t].noConflict=function(){return r.fn[t]=i,n._jQueryInterface},n}(jQuery);_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxExpandingInput=function(n){"use strict";var t="pxExpandingInput",r="px.expanding-input",e="."+r,i=n.fn[t],o={EXPANDED:"expanded",CONTROL:"expanding-input-control",OVERLAY:"expanding-input-overlay",CONTENT:"expanding-input-content"},a={FOCUS:"focus"+e,CLICK:"click"+e,EXPAND:"expand"+e,EXPANDED:"expanded"+e,COLLAPSE:"collapse"+e,COLLAPSED:"collapsed"+e},s=function(){function i(t){_classCallCheck(this,i),this.element=t,this.control=n(t).find("."+o.CONTROL)[0],this.overlay=n(t).find("."+o.OVERLAY)[0],this._checkElements(),this._setListeners()}return _createClass(i,[{key:"expand",value:function(){if(!pxUtil.hasClass(this.element,o.EXPANDED)){var t=n.Event(this.constructor.Event.EXPAND,{target:this.element});n(this.element).trigger(t),t.isDefaultPrevented()||(pxUtil.addClass(this.element,o.EXPANDED),n(this.element).trigger(n.Event(this.constructor.Event.EXPANDED,{target:this.element})),n(this.control).trigger("focus"))}}},{key:"collapse",value:function(){if(pxUtil.hasClass(this.element,o.EXPANDED)){var t=n.Event(this.constructor.Event.COLLAPSE,{target:this.element});n(this.element).trigger(t),t.isDefaultPrevented()||(pxUtil.removeClass(this.element,o.EXPANDED),n(this.element).trigger(n.Event(this.constructor.Event.COLLAPSED,{target:this.element})))}}},{key:"destroy",value:function(){this._unsetListeners(),n(this.element).removeData(r)}},{key:"_checkElements",value:function(){if(!pxUtil.hasClass(this.element,"expanding-input"))throw new Error(t+" plugin must be called on an element with 'expanding-input' class.");if(!this.control)throw new Error("Input is not found.");if(this.overlay||(this.overlay=n('<div class="expanding-input-overlay"></div>').insertAfter(this.control)[0]),!n(this.element).find("."+o.CONTENT)[0])throw new Error("Content element is not found.")}},{key:"_setListeners",value:function(){n(this.control).on(this.constructor.Event.FOCUS,n.proxy(this.expand,this)),n(this.overlay).on(this.constructor.Event.CLICK,n.proxy(this.expand,this)),n(this.element).find('[data-collapse="true"]').on(this.constructor.Event.CLICK,n.proxy(this.collapse,this))}},{key:"_unsetListeners",value:function(){n(this.control).off(e),n(this.overlay).off(e),n(this.element).find('[data-collapse="true"]').off(e)}}],[{key:"_jQueryInterface",value:function(e){return this.each(function(){var t=n(this).data(r);if(t||(t=new i(this),n(this).data(r,t)),"string"==typeof e){if(!t[e])throw new Error('No method named "'+e+'".');t[e]()}})}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return r}},{key:"Event",get:function(){return a}},{key:"EVENT_KEY",get:function(){return e}}]),i}();return n.fn[t]=s._jQueryInterface,n.fn[t].Constructor=s,n.fn[t].noConflict=function(){return n.fn[t]=i,s._jQueryInterface},s}(jQuery);!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(c){c.extend(c.fn,{validate:function(t){if(this.length){var n=c.data(this[0],"validator");return n||(this.attr("novalidate","novalidate"),n=new c.validator(t,this[0]),c.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(t){n.submitButton=t.currentTarget,c(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==c(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(i){function t(){var t,e;return n.submitButton&&(n.settings.submitHandler||n.formSubmitted)&&(t=c("<input type='hidden'/>").attr("name",n.submitButton.name).val(c(n.submitButton).val()).appendTo(n.currentForm)),!n.settings.submitHandler||(e=n.settings.submitHandler.call(n,n.currentForm,i),t&&t.remove(),void 0!==e&&e)}return n.settings.debug&&i.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,t()):n.form()?n.pendingRequest?!(n.formSubmitted=!0):t():(n.focusInvalid(),!1)})),n)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,e,i;return c(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,e=c(this[0].form).validate(),this.each(function(){(t=e.element(this)&&t)||(i=i.concat(e.errorList))}),e.errorList=i),t},rules:function(t,e){var i,n,r,o,a,s,l=this[0];if(null!=l&&(!l.form&&l.hasAttribute("contenteditable")&&(l.form=this.closest("form")[0],l.name=this.attr("name")),null!=l.form)){if(t)switch(n=(i=c.data(l.form,"validator").settings).rules,r=c.validator.staticRules(l),t){case"add":c.extend(r,c.validator.normalizeRule(e)),delete r.messages,n[l.name]=r,e.messages&&(i.messages[l.name]=c.extend(i.messages[l.name],e.messages));break;case"remove":return e?(s={},c.each(e.split(/\s/),function(t,e){s[e]=r[e],delete r[e]}),s):(delete n[l.name],r)}return(o=c.validator.normalizeRules(c.extend({},c.validator.classRules(l),c.validator.attributeRules(l),c.validator.dataRules(l),c.validator.staticRules(l)),l)).required&&(a=o.required,delete o.required,o=c.extend({required:a},o)),o.remote&&(a=o.remote,delete o.remote,o=c.extend(o,{remote:a})),o}}}),c.extend(c.expr.pseudos||c.expr[":"],{blank:function(t){return!c.trim(""+c(t).val())},filled:function(t){var e=c(t).val();return null!==e&&!!c.trim(""+e)},unchecked:function(t){return!c(t).prop("checked")}}),c.validator=function(t,e){this.settings=c.extend(!0,{},c.validator.defaults,t),this.currentForm=e,this.init()},c.validator.format=function(i,t){return 1===arguments.length?function(){var t=c.makeArray(arguments);return t.unshift(i),c.validator.format.apply(this,t)}:(void 0===t||(2<arguments.length&&t.constructor!==Array&&(t=c.makeArray(arguments).slice(1)),t.constructor!==Array&&(t=[t]),c.each(t,function(t,e){i=i.replace(new RegExp("\\{"+t+"\\}","g"),function(){return e})})),i)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){9===e.which&&""===this.elementValue(t)||-1!==c.inArray(e.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,i){"radio"===t.type?this.findByName(t.name).addClass(e).removeClass(i):c(t).addClass(e).removeClass(i)},unhighlight:function(t,e,i){"radio"===t.type?this.findByName(t.name).removeClass(e).addClass(i):c(t).removeClass(e).addClass(i)}},setDefaults:function(t){c.extend(c.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,n=this.groups={};function t(t){!this.form&&this.hasAttribute("contenteditable")&&(this.form=c(this).closest("form")[0],this.name=c(this).attr("name"));var e=c.data(this.form,"validator"),i="on"+t.type.replace(/^validate/,""),n=e.settings;n[i]&&!c(this).is(n.ignore)&&n[i].call(e,this,t)}c.each(this.settings.groups,function(i,t){"string"==typeof t&&(t=t.split(/\s/)),c.each(t,function(t,e){n[e]=i})}),i=this.settings.rules,c.each(i,function(t,e){i[t]=c.validator.normalizeRule(e)}),c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(t){var e,i,n=this.clean(t),r=this.validationTargetFor(n),o=this,a=!0;return void 0===r?delete this.invalid[n.name]:(this.prepareElement(r),this.currentElements=c(r),(i=this.groups[r.name])&&c.each(this.groups,function(t,e){e===i&&t!==r.name&&(n=o.validationTargetFor(o.clean(o.findByName(t))))&&n.name in o.invalid&&(o.currentElements.push(n),a=o.check(n)&&a)}),e=!1!==this.check(r),a=a&&e,this.invalid[r.name]=!e,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c(t).attr("aria-invalid",!e)),a},showErrors:function(e){if(e){var i=this;c.extend(this.errorMap,e),this.errorList=c.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=c.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===c.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var t=this.name||c(this).attr("name");return!t&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=c(this).closest("form")[0],this.name=t),!(t in i||!e.objectLength(c(this).rules()))&&(i[t]=!0)})},clean:function(t){return c(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([])},reset:function(){this.resetInternals(),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e,i,n=c(t),r=t.type;return"radio"===r||"checkbox"===r?this.findByName(t.name).filter(":checked").val():"number"===r&&void 0!==t.validity?t.validity.badInput?"NaN":n.val():(e=t.hasAttribute("contenteditable")?n.text():n.val(),"file"===r?"C:\\fakepath\\"===e.substr(0,12)?e.substr(12):0<=(i=e.lastIndexOf("/"))?e.substr(i+1):0<=(i=e.lastIndexOf("\\"))?e.substr(i+1):e:"string"==typeof e?e.replace(/\r/g,""):e)},check:function(e){e=this.validationTargetFor(this.clean(e));var t,i,n,r,o=c(e).rules(),a=c.map(o,function(t,e){return e}).length,s=!1,l=this.elementValue(e);if("function"==typeof o.normalizer?r=o.normalizer:"function"==typeof this.settings.normalizer&&(r=this.settings.normalizer),r){if("string"!=typeof(l=r.call(e,l)))throw new TypeError("The normalizer should return a string value.");delete o.normalizer}for(i in o){n={method:i,parameters:o[i]};try{if("dependency-mismatch"===(t=c.validator.methods[i].call(this,l,e,n.parameters))&&1===a){s=!0;continue}if(s=!1,"pending"===t)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!t)return this.formatAndAdd(e,n),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+n.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+n.method+"' method."),t}}if(!s)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(t,e){return c(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||c(t).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(t,e){"string"==typeof e&&(e={method:e});var i=this.findDefined(this.customMessage(t.name,e.method),this.customDataMessage(t,e.method),!this.settings.ignoreTitle&&t.title||void 0,c.validator.messages[e.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,e.parameters,t):n.test(i)&&(i=c.validator.format(i.replace(n,"{$1}"),e.parameters)),i},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(t,e){var i,n,r,o,a=this.errorsFor(t),s=this.idOrName(t),l=c(t).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(e)):(i=a=c("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(e||""),this.settings.wrapper&&(i=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,c(t)):i.insertAfter(t),a.is("label")?a.attr("for",s):0===a.parents("label[for='"+this.escapeCssMeta(s)+"']").length&&(r=a.attr("id"),l?l.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(l+=" "+r):l=r,c(t).attr("aria-describedby",l),(n=this.groups[t.name])&&(o=this,c.each(o.groups,function(t,e){e===n&&c("[name='"+o.escapeCssMeta(t)+"']",o.currentForm).attr("aria-describedby",a.attr("id"))})))),!e&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var e=this.escapeCssMeta(this.idOrName(t)),i=c(t).attr("aria-describedby"),n="label[for='"+e+"'], label[for='"+e+"'] *";return i&&(n=n+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(n)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),c(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return c(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return c("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(t,e){return!!c(t,e.form).length},function:function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!c.validator.methods.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,c(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],c(t).removeClass(this.settings.pendingClass),e&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(c(this.currentForm).submit(),this.submitButton&&c("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,e){return e="string"==typeof e&&e||"remote",c.data(t,"previousValue")||c.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:e})})},destroy:function(){this.resetForm(),c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:c.extend(this.classRuleSettings,t)},classRules:function(t){var e={},i=c(t).attr("class");return i&&c.each(i.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(e,c.validator.classRuleSettings[this])}),e},normalizeAttributeRule:function(t,e,i,n){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?t[i]=n:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(t){var e,i,n={},r=c(t),o=t.getAttribute("type");for(e in c.validator.methods)"required"===e?(""===(i=t.getAttribute(e))&&(i=!0),i=!!i):i=r.attr(e),this.normalizeAttributeRule(n,o,e,i);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var e,i,n={},r=c(t),o=t.getAttribute("type");for(e in c.validator.methods)i=r.data("rule"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()),this.normalizeAttributeRule(n,o,e,i);return n},staticRules:function(t){var e={},i=c.data(t.form,"validator");return i.settings.rules&&(e=c.validator.normalizeRule(i.settings.rules[t.name])||{}),e},normalizeRules:function(n,r){return c.each(n,function(t,e){if(!1!==e){if(e.param||e.depends){var i=!0;switch(typeof e.depends){case"string":i=!!c(e.depends,r.form).length;break;case"function":i=e.depends.call(r,r)}i?n[t]=void 0===e.param||e.param:(c.data(r.form,"validator").resetElements(c(r)),delete n[t])}}else delete n[t]}),c.each(n,function(t,e){n[t]=c.isFunction(e)&&"normalizer"!==t?e(r):e}),c.each(["minlength","maxlength"],function(){n[this]&&(n[this]=Number(n[this]))}),c.each(["rangelength","range"],function(){var t;n[this]&&(c.isArray(n[this])?n[this]=[Number(n[this][0]),Number(n[this][1])]:"string"==typeof n[this]&&(t=n[this].replace(/[\[\]]/g,"").split(/[\s,]+/),n[this]=[Number(t[0]),Number(t[1])]))}),c.validator.autoCreateRanges&&(null!=n.min&&null!=n.max&&(n.range=[n.min,n.max],delete n.min,delete n.max),null!=n.minlength&&null!=n.maxlength&&(n.rangelength=[n.minlength,n.maxlength],delete n.minlength,delete n.maxlength)),n},normalizeRule:function(t){if("string"==typeof t){var e={};c.each(t.split(/\s/),function(){e[this]=!0}),t=e}return t},addMethod:function(t,e,i){c.validator.methods[t]=e,c.validator.messages[t]=void 0!==i?i:c.validator.messages[t],e.length<3&&c.validator.addClassRules(t,c.validator.normalizeRule(t))},methods:{required:function(t,e,i){if(!this.depend(i,e))return"dependency-mismatch";if("select"===e.nodeName.toLowerCase()){var n=c(e).val();return n&&0<n.length}return this.checkable(e)?0<this.getLength(t,e):0<t.length},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,i){var n=c.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||i<=n},maxlength:function(t,e,i){var n=c.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||n<=i},rangelength:function(t,e,i){var n=c.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||n>=i[0]&&n<=i[1]},min:function(t,e,i){return this.optional(e)||i<=t},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(t,e,i){var n,r=c(e).attr("type"),o="Step attribute on input type "+r+" is not supported.",a=new RegExp("\\b"+r+"\\b"),s=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},l=function(t){return Math.round(t*Math.pow(10,n))},h=!0;if(r&&!a.test(["text","number","range"].join()))throw new Error(o);return n=s(i),(s(t)>n||l(t)%l(i)!=0)&&(h=!1),this.optional(e)||h},equalTo:function(t,e,i){var n=c(i);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(e).valid()}),t===n.val()},remote:function(o,a,t,s){if(this.optional(a))return"dependency-mismatch";s="string"==typeof s&&s||"remote";var l,e,i,h=this.previousValue(a,s);return this.settings.messages[a.name]||(this.settings.messages[a.name]={}),h.originalMessage=h.originalMessage||this.settings.messages[a.name][s],this.settings.messages[a.name][s]=h.message,t="string"==typeof t&&{url:t}||t,i=c.param(c.extend({data:o},t.data)),h.old===i?h.valid:(h.old=i,(l=this).startRequest(a),(e={})[a.name]=o,c.ajax(c.extend(!0,{mode:"abort",port:"validate"+a.name,dataType:"json",data:e,context:l.currentForm,success:function(t){var e,i,n,r=!0===t||"true"===t;l.settings.messages[a.name][s]=h.originalMessage,r?(n=l.formSubmitted,l.resetInternals(),l.toHide=l.errorsFor(a),l.formSubmitted=n,l.successList.push(a),l.invalid[a.name]=!1,l.showErrors()):(e={},i=t||l.defaultMessage(a,{method:s,parameters:o}),e[a.name]=h.message=i,l.invalid[a.name]=!0,l.showErrors(e)),h.valid=r,l.stopRequest(a,r)}},t)),"pending")}}});var n,r={};return c.ajaxPrefilter?c.ajaxPrefilter(function(t,e,i){var n=t.port;"abort"===t.mode&&(r[n]&&r[n].abort(),r[n]=i)}):(n=c.ajax,c.ajax=function(t){var e=("mode"in t?t:c.ajaxSettings).mode,i=("port"in t?t:c.ajaxSettings).port;return"abort"===e?(r[i]&&r[i].abort(),r[i]=n.apply(this,arguments),r[i]):n.apply(this,arguments)}),c}),function(t){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(l){return function(){function o(t){return t.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-“”’]*/g,"")}l.validator.addMethod("maxWords",function(t,e,i){return this.optional(e)||o(t).match(/\b\w+\b/g).length<=i},l.validator.format("Please enter {0} words or less.")),l.validator.addMethod("minWords",function(t,e,i){return this.optional(e)||o(t).match(/\b\w+\b/g).length>=i},l.validator.format("Please enter at least {0} words.")),l.validator.addMethod("rangeWords",function(t,e,i){var n=o(t),r=/\b\w+\b/g;return this.optional(e)||n.match(r).length>=i[0]&&n.match(r).length<=i[1]},l.validator.format("Please enter between {0} and {1} words."))}(),l.validator.addMethod("accept",function(t,e,i){var n,r,o="string"==typeof i?i.replace(/\s/g,""):"image/*",a=this.optional(e);if(a)return a;if("file"===l(e).attr("type")&&(o=o.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),e.files&&e.files.length))for(r=new RegExp(".?("+o+")$","i"),n=0;n<e.files.length;n++)if(!e.files[n].type.match(r))return!1;return!0},l.validator.format("Please enter a value with a valid mimetype.")),l.validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^\w+$/i.test(t)},"Letters, numbers, and underscores only please"),l.validator.addMethod("bankaccountNL",function(t,e){if(this.optional(e))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(t))return!1;var i,n=t.replace(/ /g,""),r=0,o=n.length;for(i=0;i<o;i++)r+=(o-i)*n.substring(i,i+1);return r%11==0},"Please specify a valid bank account number"),l.validator.addMethod("bankorgiroaccountNL",function(t,e){return this.optional(e)||l.validator.methods.bankaccountNL.call(this,t,e)||l.validator.methods.giroaccountNL.call(this,t,e)},"Please specify a valid bank or giro account number"),l.validator.addMethod("bic",function(t,e){return this.optional(e)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(t.toUpperCase())},"Please specify a valid BIC code"),l.validator.addMethod("cifES",function(t,e){"use strict";if(this.optional(e))return!0;var i,n,r,o,a=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),s=t.substring(0,1),l=t.substring(1,8),h=t.substring(8,9),c=0,u=0;if(9!==t.length||!a.test(t))return!1;for(i=0;i<l.length;i++)n=parseInt(l[i],10),i%2==0?u+=(n*=2)<10?n:n-9:c+=n;return r=(10-(c+u).toString().substr(-1)).toString(),r=9<parseInt(r,10)?"0":r,o="JABCDEFGHI".substr(r,1).toString(),s.match(/[ABEH]/)?h===r:s.match(/[KPQS]/)?h===o:h===r||h===o},"Please specify a valid CIF number."),l.validator.addMethod("cpfBR",function(t){if(11!==(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var e,i,n,r,o=0;if(e=parseInt(t.substring(9,10),10),i=parseInt(t.substring(10,11),10),n=function(t,e){var i=10*t%11;return 10!==i&&11!==i||(i=0),i===e},""===t||"00000000000"===t||"11111111111"===t||"22222222222"===t||"33333333333"===t||"44444444444"===t||"55555555555"===t||"66666666666"===t||"77777777777"===t||"88888888888"===t||"99999999999"===t)return!1;for(r=1;r<=9;r++)o+=parseInt(t.substring(r-1,r),10)*(11-r);if(n(o,e)){for(o=0,r=1;r<=10;r++)o+=parseInt(t.substring(r-1,r),10)*(12-r);return n(o,i)}return!1},"Please specify a valid CPF number"),l.validator.addMethod("creditcard",function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,n,r=0,o=0,a=!1;if((t=t.replace(/\D/g,"")).length<13||19<t.length)return!1;for(i=t.length-1;0<=i;i--)n=t.charAt(i),o=parseInt(n,10),a&&9<(o*=2)&&(o-=9),r+=o,a=!a;return r%10==0},"Please enter a valid credit card number."),l.validator.addMethod("creditcardtypes",function(t,e,i){if(/[^0-9\-]+/.test(t))return!1;t=t.replace(/\D/g,"");var n=0;return i.mastercard&&(n|=1),i.visa&&(n|=2),i.amex&&(n|=4),i.dinersclub&&(n|=8),i.enroute&&(n|=16),i.discover&&(n|=32),i.jcb&&(n|=64),i.unknown&&(n|=128),i.all&&(n=255),1&n&&/^(5[12345])/.test(t)?16===t.length:2&n&&/^(4)/.test(t)?16===t.length:4&n&&/^(3[47])/.test(t)?15===t.length:8&n&&/^(3(0[012345]|[68]))/.test(t)?14===t.length:16&n&&/^(2(014|149))/.test(t)?15===t.length:32&n&&/^(6011)/.test(t)?16===t.length:64&n&&/^(3)/.test(t)?16===t.length:64&n&&/^(2131|1800)/.test(t)?15===t.length:!!(128&n)},"Please enter a valid credit card number."),l.validator.addMethod("currency",function(t,e,i){var n,r="string"==typeof i,o=r?i:i[0],a=!!r||i[1];return o=o.replace(/,/g,""),n="^["+(o=a?o+"]":o+"]?")+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",n=new RegExp(n),this.optional(e)||n.test(t)},"Please specify a valid currency"),l.validator.addMethod("dateFA",function(t,e){return this.optional(e)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(t)},l.validator.messages.date),l.validator.addMethod("dateITA",function(t,e){var i,n,r,o,a,s=!1;return/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(t)?(i=t.split("/"),n=parseInt(i[0],10),r=parseInt(i[1],10),o=parseInt(i[2],10),s=(a=new Date(Date.UTC(o,r-1,n,12,0,0,0))).getUTCFullYear()===o&&a.getUTCMonth()===r-1&&a.getUTCDate()===n):s=!1,this.optional(e)||s},l.validator.messages.date),l.validator.addMethod("dateNL",function(t,e){return this.optional(e)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(t)},l.validator.messages.date),l.validator.addMethod("extension",function(t,e,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(new RegExp("\\.("+i+")$","i"))},l.validator.format("Please enter a value with a valid extension.")),l.validator.addMethod("giroaccountNL",function(t,e){return this.optional(e)||/^[0-9]{1,7}$/.test(t)},"Please specify a valid giro account number"),l.validator.addMethod("iban",function(t,e){if(this.optional(e))return!0;var i,n,r,o,a,s=t.replace(/ /g,"").toUpperCase(),l="",h=!0,c="";if(s.length<5)return!1;if(void 0!==(r={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"}[s.substring(0,2)])&&!new RegExp("^[A-Z]{2}\\d{2}"+r+"$","").test(s))return!1;for(i=s.substring(4,s.length)+s.substring(0,4),o=0;o<i.length;o++)"0"!==(n=i.charAt(o))&&(h=!1),h||(l+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(n));for(a=0;a<l.length;a++)c=(""+c+l.charAt(a))%97;return 1===c},"Please specify a valid IBAN"),l.validator.addMethod("integer",function(t,e){return this.optional(e)||/^-?\d+$/.test(t)},"A positive or negative non-decimal number please"),l.validator.addMethod("ipv4",function(t,e){return this.optional(e)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(t)},"Please enter a valid IP v4 address."),l.validator.addMethod("ipv6",function(t,e){return this.optional(e)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(t)},"Please enter a valid IP v6 address."),l.validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},"Letters only please"),l.validator.addMethod("letterswithbasicpunc",function(t,e){return this.optional(e)||/^[a-z\-.,()'"\s]+$/i.test(t)},"Letters or punctuation only please"),l.validator.addMethod("mobileNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid mobile number"),l.validator.addMethod("mobileUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||9<t.length&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),l.validator.addMethod("netmask",function(t,e){return this.optional(e)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(t)},"Please enter a valid netmask."),l.validator.addMethod("nieES",function(t,e){"use strict";if(this.optional(e))return!0;var i,n=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),r=t.substr(t.length-1).toUpperCase();return!(10<(t=t.toString().toUpperCase()).length||t.length<9||!n.test(t))&&(i=9===(t=t.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2")).length?t.substr(0,8):t.substr(0,9),"TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(i,10)%23)===r)},"Please specify a valid NIE number."),l.validator.addMethod("nifES",function(t,e){"use strict";return!!this.optional(e)||!!(t=t.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(t)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,0)%23)===t.charAt(8):!!/^[KLM]{1}/.test(t)&&t[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,1)%23))},"Please specify a valid NIF number."),l.validator.addMethod("nipPL",function(t){"use strict";if(10!==(t=t.replace(/[^0-9]/g,"")).length)return!1;for(var e=[6,5,7,2,3,4,5,6,7],i=0,n=0;n<9;n++)i+=e[n]*t[n];var r=i%11;return(10===r?0:r)===parseInt(t[9],10)},"Please specify a valid NIP number."),l.validator.addMethod("notEqualTo",function(t,e,i){return this.optional(e)||!l.validator.methods.equalTo.call(this,t,e,i)},"Please enter a different value, values must not be the same."),l.validator.addMethod("nowhitespace",function(t,e){return this.optional(e)||/^\S+$/i.test(t)},"No white space please"),l.validator.addMethod("pattern",function(t,e,i){return!!this.optional(e)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(t))},"Invalid format."),l.validator.addMethod("phoneNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid phone number."),l.validator.addMethod("phonesUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||9<t.length&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),l.validator.addMethod("phoneUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||9<t.length&&t.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),l.validator.addMethod("phoneUS",function(t,e){return t=t.replace(/\s+/g,""),this.optional(e)||9<t.length&&t.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number"),l.validator.addMethod("postalcodeBR",function(t,e){return this.optional(e)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(t)},"Informe um CEP válido."),l.validator.addMethod("postalCodeCA",function(t,e){return this.optional(e)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(t)},"Please specify a valid postal code"),l.validator.addMethod("postalcodeIT",function(t,e){return this.optional(e)||/^\d{5}$/.test(t)},"Please specify a valid postal code"),l.validator.addMethod("postalcodeNL",function(t,e){return this.optional(e)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(t)},"Please specify a valid postal code"),l.validator.addMethod("postcodeUK",function(t,e){return this.optional(e)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(t)},"Please specify a valid UK postcode"),l.validator.addMethod("require_from_group",function(t,e,i){var n=l(i[1],e.form),r=n.eq(0),o=r.data("valid_req_grp")?r.data("valid_req_grp"):l.extend({},this),a=n.filter(function(){return o.elementValue(this)}).length>=i[0];return r.data("valid_req_grp",o),l(e).data("being_validated")||(n.data("being_validated",!0),n.each(function(){o.element(this)}),n.data("being_validated",!1)),a},l.validator.format("Please fill at least {0} of these fields.")),l.validator.addMethod("skip_or_fill_minimum",function(t,e,i){var n=l(i[1],e.form),r=n.eq(0),o=r.data("valid_skip")?r.data("valid_skip"):l.extend({},this),a=n.filter(function(){return o.elementValue(this)}).length,s=0===a||a>=i[0];return r.data("valid_skip",o),l(e).data("being_validated")||(n.data("being_validated",!0),n.each(function(){o.element(this)}),n.data("being_validated",!1)),s},l.validator.format("Please either skip these fields or fill at least {0} of them.")),l.validator.addMethod("stateUS",function(t,e,i){var n,r=void 0===i,o=!r&&void 0!==i.caseSensitive&&i.caseSensitive,a=!r&&void 0!==i.includeTerritories&&i.includeTerritories,s=!r&&void 0!==i.includeMilitary&&i.includeMilitary;return n=a||s?a&&s?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":a?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",n=o?new RegExp(n):new RegExp(n,"i"),this.optional(e)||n.test(t)},"Please specify a valid state"),l.validator.addMethod("strippedminlength",function(t,e,i){return l(t).text().length>=i},l.validator.format("Please enter at least {0} characters")),l.validator.addMethod("time",function(t,e){return this.optional(e)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(t)},"Please enter a valid time, between 00:00 and 23:59"),l.validator.addMethod("time12h",function(t,e){return this.optional(e)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(t)},"Please enter a valid time in 12-hour am/pm format"),l.validator.addMethod("url2",function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},l.validator.messages.url),l.validator.addMethod("vinUS",function(t){if(17!==t.length)return!1;var e,i,n,r,o,a,s=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],l=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],h=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],c=0;for(e=0;e<17;e++){if(r=h[e],n=t.slice(e,e+1),8===e&&(a=n),isNaN(n)){for(i=0;i<s.length;i++)if(n.toUpperCase()===s[i]){n=l[i],n*=r,isNaN(a)&&8===i&&(a=s[i]);break}}else n*=r;c+=n}return 10===(o=c%11)&&(o="X"),o===a},"The specified vehicle identification number (VIN) is invalid."),l.validator.addMethod("zipcodeUS",function(t,e){return this.optional(e)||/^\d{5}(-\d{4})?$/.test(t)},"The specified US ZIP Code is invalid"),l.validator.addMethod("ziprange",function(t,e){return this.optional(e)||/^90[2-5]\d\{2\}-\d{4}$/.test(t)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),l});_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxValidate=function(o){"use strict";if(!o.fn.validate)throw new Error("jquery.validate.js required.");var t="pxValidate",a="px.validate",e=o.fn[t],s="form-help-text",i="has-validation-error",l="validation-error",h="validation-error-no-arrow",n={errorElement:"div",errorClass:"form-message "+l},c=new RegExp("(^|\\s)(?:"+"validation-container"+"|form-group|col-(?:xs|sm|md|lg)-\\d+)(\\s|$)"),r=function(){function r(t,e){_classCallCheck(this,r),this.element=t,this.validator=o(t).validate(this._getConfig(t,e))}return _createClass(r,[{key:"getValidator",value:function(){return this.validator}},{key:"destroy",value:function(){this.validator.destroy(),o(this.element).removeData(a)}},{key:"_highlight",value:function(t){pxUtil.addClass(o(t).parents(".form-group")[0],"has-error "+i)}},{key:"_unhighlight",value:function(t){pxUtil.removeClass(o(t).parents(".form-group")[0],"has-error "+i)}},{key:"_errorPlacement",value:function(t,e){var i=o(this._getParentContainer(e[0]));if(i.length){i.find("."+l).remove();var n=e[0].getAttribute("type");"checkbox"!==(n=n?n.toLowerCase():null)&&"radio"!==n||pxUtil.addClass(t[0],h);var r=i.find("."+s).first();r.length?t.insertBefore(r):i.append(t)}}},{key:"_getParentContainer",value:function(t){var e=t.parentNode,i=e.nodeName.toUpperCase();return"FORM"===i||"BODY"===i?(console.error(new Error("Cannot find parent container.")),null):c.test(e.className)?e:this._getParentContainer(e)}},{key:"_getConfig",value:function(t,e){return o.extend({},this.constructor.Default,{highlight:this._highlight,unhighlight:this._unhighlight,errorPlacement:o.proxy(this._errorPlacement,this)},o(t).data(),e)}}],[{key:"_jQueryInterface",value:function(i){var n=void 0,t=this.each(function(){var t=o(this).data(a),e="object"===(void 0===i?"undefined":_typeof(i))?i:null;if(t||(t=new r(this,e),o(this).data(a,t)),"string"==typeof i){if(!t[i])throw new Error('No method named "'+i+'".');n=t[i]()}});return void 0!==n?n:t}},{key:"Default",get:function(){return n}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return a}}]),r}();return o.fn[t]=r._jQueryInterface,o.fn[t].Constructor=r,o.fn[t].noConflict=function(){return o.fn[t]=e,r._jQueryInterface},r}(jQuery);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxResponsiveBg=function(s){"use strict";var t="pxResponsiveBg",a="px.responsiveBg",e="."+a,i=s.fn[t],n={backgroundImage:null,backgroundPosition:"center middle",overlay:!1,overlayOpacity:.2},r="px-responsive-bg-container",l="px-responsive-bg",h="px-responsive-bg-overlay",c={RESIZE:"resize"+e},o=function(){function o(t,e){var i=this;_classCallCheck(this,o),this.uniqueId=pxUtil.generateUniqueId(),this.element=t,this.config=this._getConfig(e),null!==this.config.backgroundImage&&this._loadImage(this.config.backgroundImage,function(t){i._sizeRatio=t.height/t.width,i._setupMarkup(t),i._setListeners(),i.update()})}return _createClass(o,[{key:"update",value:function(){var t=this.image.parentNode,e=s(t).height(),i=s(t).width(),n=void 0,r=void 0,o=void 0,a=void 0;i*this._sizeRatio>e?(r="100%",n=Math.ceil(i*this._sizeRatio),a=0,o="top"===this.config.backgroundPosition[1]?0:"bottom"===this.config.backgroundPosition[1]?-1*(n-e):Math.floor(-1*(n-e)/2)):(r=Math.ceil(e/this._sizeRatio),n=e,o=0,a="left"===this.config.backgroundPosition[0]?0:"right"===this.config.backgroundPosition[0]?-1*(r-i):Math.floor(-1*(r-i)/2)),this.image.style.width="100%"===r?r:r+"px",this.image.style.height=n+"px",this.image.style.top=o+"px",this.image.style.left=a+"px"}},{key:"destroy",value:function(t){this._unsetListeners(),t&&s(this.element).removeClass(r).find("> ."+l).remove(),s(this.element).removeData(a)}},{key:"_loadImage",value:function(t,e){var i=new Image;i.onload=function(){return e(i)},i.src=t}},{key:"_setupMarkup",value:function(t){pxUtil.addClass(this.element,r);var e=s(this.element).find("> ."+l);if(e.length||(e=s('<div class="'+l+'"></div>').appendTo(this.element)).append('<img alt="">'),this.image=e.find("> img")[0],!this.image)throw new Error("Background <img> element not found!");s(this.image).attr("src",t.src),!1!==this.config.overlay?(e.find("."+h).remove(),e.prepend("string"==typeof this.config.overlay&&"<"===this.config.overlay[0]?s(this.config.overlay).addClass(h).css("opacity",this.config.overlayOpacity):s('<div class="'+h+'"></div>').css({background:"boolean"==typeof this.config.overlay?"#000":this.config.overlay,opacity:this.config.overlayOpacity}))):e.find("> ."+h).remove()}},{key:"_setListeners",value:function(){s(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,s.proxy(this.update,this))}},{key:"_unsetListeners",value:function(){s(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId)}},{key:"_getConfig",value:function(t){var e=s.extend({},this.constructor.Default,s(this.element).data(),t);if(!e.backgroundImage&&null!==e.backgroundImage)throw new Error("Background image is not specified.");var i=String(e.backgroundPosition).split(" ").slice(0,2);return"center"!==i[0]&&"left"!==i[0]&&"right"!==i[0]&&(i[0]="center"),"middle"!==i[1]&&"top"!==i[1]&&"bottom"!==i[1]&&(i[1]="middle"),e.backgroundPosition=i,e}}],[{key:"_jQueryInterface",value:function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];return this.each(function(){var t=s(this).data(a),e="object"===(void 0===n?"undefined":_typeof(n))?n:null;if(t||"destroy"===n||(t=new o(this,e),s(this).data(a,t)),t&&"string"==typeof n){var i;if(!t[n])throw new Error('No method named "'+n+'"');(i=t)[n].apply(i,r)}})}},{key:"Default",get:function(){return n}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return a}},{key:"Event",get:function(){return c}},{key:"EVENT_KEY",get:function(){return e}}]),o}();return s.fn[t]=o._jQueryInterface,s.fn[t].Constructor=o,s.fn[t].noConflict=function(){return s.fn[t]=i,o._jQueryInterface},o}(jQuery);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxCharLimit=function(r){"use strict";var t="pxCharLimit",o="px.charLimit",e="."+o,i=r.fn[t],a={maxlength:null,counter:""},s={CHANGE:"change"+e,KEYUP:"keyup"+e,FOCUS:"focus"+e},n=function(){function n(t,e){_classCallCheck(this,n),this.element=t,this.isTextarea=r(t).is("textarea"),this.config=this._getConfig(e),this.counter=this._getLabel(),this._setMaxLength(),this._setListeners(),this.update()}return _createClass(n,[{key:"update",value:function(){var t=this.config.maxlength,e=this.element.value,i=void 0;this.isTextarea&&(e=e.replace(/\r?\n/g,"\n")),t<(i=e.length)&&(r(this.element).val(e.substr(0,t)).trigger("change"),i=t),this.counter&&(this.counter.innerHTML=t-i)}},{key:"destroy",value:function(){this._unsetListeners(),r(this.element).removeData(o)}},{key:"_getLabel",value:function(){return this.config.counter?"string"==typeof this.config.counter?r(this.config.counter)[0]||null:this.config.counter:null}},{key:"_setMaxLength",value:function(){this.isTextarea?this.element.removeAttribute("maxlength"):this.element.setAttribute("maxlength",this.config.maxlength)}},{key:"_setListeners",value:function(){r(this.element).on(this.constructor.Event.CHANGE,r.proxy(this.update,this)).on(this.constructor.Event.KEYUP,r.proxy(this.update,this)).on(this.constructor.Event.FOCUS,r.proxy(this.update,this))}},{key:"_unsetListeners",value:function(){r(this.element).off(e)}},{key:"_getConfig",value:function(t){var e=r.extend({},this.constructor.Default,{maxlength:this.element.getAttribute("maxlength")},r(this.element).data(),t);if(!e.maxlength)throw new Error("maxlength is not specified.");return this.isTextarea&&this.element.getAttribute("maxlength")&&this.element.removeAttribute("maxlength"),e}}],[{key:"_jQueryInterface",value:function(i){return this.each(function(){var t=r(this).data(o),e="object"===(void 0===i?"undefined":_typeof(i))?i:null;if(t||(t=new n(this,e),r(this).data(o,t)),"string"==typeof i){if(!t[i])throw new Error('No method named "'+i+'"');t[i]()}})}},{key:"Default",get:function(){return a}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return o}},{key:"Event",get:function(){return s}},{key:"EVENT_KEY",get:function(){return e}}]),n}();return r.fn[t]=n._jQueryInterface,r.fn[t].Constructor=n,r.fn[t].noConflict=function(){return r.fn[t]=i,n._jQueryInterface},n}(jQuery);!function(i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),i(e),e}:i(jQuery)}(function(n){var t=function(){if(n&&n.fn&&n.fn.select2&&n.fn.select2.amd)var t=n.fn.select2.amd;var e,r,h,i;return t&&t.requirejs||(t?r=t:t={},function(p){var o,a,f,g,m={},v={},y={},b={},i=Object.prototype.hasOwnProperty,n=[].slice,x=/\.js$/;function _(t,e){return i.call(t,e)}function s(t,e){var i,n,r,o,a,s,l,h,c,u,d,p=e&&e.split("/"),f=y.map,g=f&&f["*"]||{};if(t){for(a=(t=t.split("/")).length-1,y.nodeIdCompat&&x.test(t[a])&&(t[a]=t[a].replace(x,"")),"."===t[0].charAt(0)&&p&&(t=p.slice(0,p.length-1).concat(t)),c=0;c<t.length;c++)if("."===(d=t[c]))t.splice(c,1),c-=1;else if(".."===d){if(0===c||1===c&&".."===t[2]||".."===t[c-1])continue;0<c&&(t.splice(c-1,2),c-=2)}t=t.join("/")}if((p||g)&&f){for(c=(i=t.split("/")).length;0<c;c-=1){if(n=i.slice(0,c).join("/"),p)for(u=p.length;0<u;u-=1)if((r=f[p.slice(0,u).join("/")])&&(r=r[n])){o=r,s=c;break}if(o)break;!l&&g&&g[n]&&(l=g[n],h=c)}!o&&l&&(o=l,s=h),o&&(i.splice(0,s,o),t=i.join("/"))}return t}function w(e,i){return function(){var t=n.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),a.apply(p,t.concat([e,i]))}}function S(e){return function(t){m[e]=t}}function C(t){if(_(v,t)){var e=v[t];delete v[t],b[t]=!0,o.apply(p,e)}if(!_(m,t)&&!_(b,t))throw new Error("No "+t);return m[t]}function l(t){var e,i=t?t.indexOf("!"):-1;return-1<i&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function k(t){return t?l(t):[]}f=function(t,e){var i,n,r=l(t),o=r[0],a=e[1];return t=r[1],o&&(i=C(o=s(o,a))),o?t=i&&i.normalize?i.normalize(t,(n=a,function(t){return s(t,n)})):s(t,a):(o=(r=l(t=s(t,a)))[0],t=r[1],o&&(i=C(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:i}},g={require:function(t){return w(t)},exports:function(t){var e=m[t];return void 0!==e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:(e=t,function(){return y&&y.config&&y.config[e]||{}})};var e}},o=function(t,e,i,n){var r,o,a,s,l,h,c,u=[],d=typeof i;if(h=k(n=n||t),"undefined"===d||"function"===d){for(e=!e.length&&i.length?["require","exports","module"]:e,l=0;l<e.length;l+=1)if("require"===(o=(s=f(e[l],h)).f))u[l]=g.require(t);else if("exports"===o)u[l]=g.exports(t),c=!0;else if("module"===o)r=u[l]=g.module(t);else if(_(m,o)||_(v,o)||_(b,o))u[l]=C(o);else{if(!s.p)throw new Error(t+" missing "+o);s.p.load(s.n,w(n,!0),S(o),{}),u[l]=m[o]}a=i?i.apply(m[t],u):void 0,t&&(r&&r.exports!==p&&r.exports!==m[t]?m[t]=r.exports:a===p&&c||(m[t]=a))}else t&&(m[t]=i)},e=r=a=function(t,e,i,n,r){if("string"==typeof t)return g[t]?g[t](e):C(f(t,k(e)).f);if(!t.splice){if((y=t).deps&&a(y.deps,y.callback),!e)return;e.splice?(t=e,e=i,i=null):t=p}return e=e||function(){},"function"==typeof i&&(i=n,n=r),n?o(p,t,e,i):setTimeout(function(){o(p,t,e,i)},4),a},a.config=function(t){return a(t)},e._defined=m,(h=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),_(m,t)||_(v,t)||(v[t]=[t,e,i])}).amd={jQuery:!0}}(),t.requirejs=e,t.require=r,t.define=h),t.define("almond",function(){}),t.define("jquery",[],function(){var t=n||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(o){var t={};function c(t){var e=t.prototype,i=[];for(var n in e){"function"==typeof e[n]&&("constructor"!==n&&i.push(n))}return i}t.Extend=function(t,e){var i={}.hasOwnProperty;function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},t.Decorate=function(n,r){var t=c(r),e=c(n);function o(){var t=Array.prototype.unshift,e=r.prototype.constructor.length,i=n.prototype.constructor;0<e&&(t.call(arguments,n.prototype.constructor),i=r.prototype.constructor),i.apply(this,arguments)}r.displayName=n.displayName,o.prototype=new function(){this.constructor=o};for(var i=0;i<e.length;i++){var a=e[i];o.prototype[a]=n.prototype[a]}for(var s=function(t){var e=function(){};t in o.prototype&&(e=o.prototype[t]);var i=r.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),i.apply(this,arguments)}},l=0;l<t.length;l++){var h=t[l];o.prototype[h]=s(h)}return o};var e=function(){this.listeners={}};return e.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},e.prototype.trigger=function(t){var e=Array.prototype.slice,i=e.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),(i[0]._type=t)in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(t,e){for(var i=0,n=t.length;i<n;i++)t[i].apply(this,e)},t.Observable=e,t.generateChars=function(t){for(var e="",i=0;i<t;i++){e+=Math.floor(36*Math.random()).toString(36)}return e},t.bind=function(t,e){return function(){t.apply(e,arguments)}},t._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var r=0;r<i.length;r++){var o=i[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in n||(n[o]={}),r==i.length-1&&(n[o]=t[e]),n=n[o]}delete t[e]}}return t},t.hasScroll=function(t,e){var i=o(e),n=e.style.overflowX,r=e.style.overflowY;return(n!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===n||"scroll"===r||(i.innerHeight()<e.scrollHeight||i.innerWidth()<e.scrollWidth))},t.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},t.appendMany=function(t,e){if("1.7"===o.fn.jquery.substr(0,3)){var i=o();o.map(e,function(t){i=i.add(t)}),e=i}t.append(e)},t}),t.define("select2/results",["jquery","./utils"],function(d,t){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=d('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var e=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=d('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),n=this.options.get("translations").get(t.message);i.append(e(n(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],r=this.option(n);e.push(r)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");0<e.length?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var e=this;this.data.current(function(t){var n=d.map(t,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var t=d(this),e=d.data(this,"data"),i=""+e.id;null!=e.element&&e.element.selected||null==e.element&&-1<d.inArray(i,n)?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},i=this.option(e);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var e=document.createElement("li");e.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};for(var n in t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(e.id=t._resultId),t.title&&(e.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]),i){var r=i[n];e.setAttribute(n,r)}if(t.children){var o=d(e),a=document.createElement("strong");a.className="select2-results__group";d(a);this.template(t,a);for(var s=[],l=0;l<t.children.length;l++){var h=t.children[l],c=this.option(h);s.push(c)}var u=d("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});u.append(s),o.append(a),o.append(u)}else this.template(t,e);return d.data(e,"data",t),e},n.prototype.bind=function(e,t){var l=this,i=e.id+"-results";this.$results.attr("id",i),e.on("results:all",function(t){l.clear(),l.append(t.data),e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("results:append",function(t){l.append(t.data),e.isOpen()&&l.setClasses()}),e.on("query",function(t){l.hideMessages(),l.showLoading(t)}),e.on("select",function(){e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),e.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=l.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=l.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?l.trigger("close",{}):l.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var n=i-1;0===t.length&&(n=0);var r=e.eq(n);r.trigger("mouseenter");var o=l.$results.offset().top,a=r.offset().top,s=l.$results.scrollTop()+(a-o);0===n?l.$results.scrollTop(0):a-o<0&&l.$results.scrollTop(s)}}),e.on("results:next",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),i=e.index(t)+1;if(!(i>=e.length)){var n=e.eq(i);n.trigger("mouseenter");var r=l.$results.offset().top+l.$results.outerHeight(!1),o=n.offset().top+n.outerHeight(!1),a=l.$results.scrollTop()+o-r;0===i?l.$results.scrollTop(0):r<o&&l.$results.scrollTop(a)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){l.displayMessage(t)}),d.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=l.$results.scrollTop(),i=l.$results.get(0).scrollHeight-e+t.deltaY,n=0<t.deltaY&&e-t.deltaY<=0,r=t.deltaY<0&&i<=l.$results.height();n?(l.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var e=d(this),i=e.data("data");"true"!==e.attr("aria-selected")?l.trigger("select",{originalEvent:t,data:i}):l.options.get("multiple")?l.trigger("unselect",{originalEvent:t,data:i}):l.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var e=d(this).data("data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:e,element:d(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),i=this.$results.offset().top,n=t.offset().top,r=this.$results.scrollTop()+(n-i),o=n-i;r-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(r)}},n.prototype.template=function(t,e){var i=this.options.get("templateResult"),n=this.options.get("escapeMarkup"),r=i(t,e);null==r?e.style.display="none":"string"==typeof r?e.innerHTML=n(r):d(e).append(r)},n}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(i,t,r){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=i('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t},n.prototype.bind=function(t,e){var i=this,n=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){i.trigger("focus",t)}),this.$selection.on("blur",function(t){i._handleBlur(t)}),this.$selection.on("keydown",function(t){i.trigger("keypress",t),t.which===r.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){i.update(t.data)}),t.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",n),i._attachCloseHandler(t)}),t.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(t)}),t.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),t.on("disable",function(){i.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(t){var e=this;window.setTimeout(function(){document.activeElement==e.$selection[0]||i.contains(e.$selection[0],document.activeElement)||e.trigger("blur",t)},1)},n.prototype._attachCloseHandler=function(t){i(document.body).on("mousedown.select2."+t.id,function(t){var e=i(t.target).closest(".select2");i(".select2.select2-container--open").each(function(){var t=i(this);this!=e[0]&&t.data("element").select2("close")})})},n.prototype._detachCloseHandler=function(t){i(document.body).off("mousedown.select2."+t.id)},n.prototype.position=function(t,e){e.find(".selection").append(t)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},n}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i,n){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,e),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},r.prototype.bind=function(e,t){var i=this;r.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&i.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),e.on("focus",function(t){e.isOpen()||i.$selection.focus()}),e.on("selection:update",function(t){i.update(t.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},r.prototype.selectionContainer=function(){return t("<span></span>")},r.prototype.update=function(t){if(0!==t.length){var e=t[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(e,i);i.empty().append(n),i.prop("title",e.title||e.text)}else this.clear()},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,t,s){function r(t,e){r.__super__.constructor.apply(this,arguments)}return s.Extend(r,t),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},r.prototype.bind=function(t,e){var i=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){i.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!i.options.get("disabled")){var e=n(this).parent().data("data");i.trigger("unselect",{originalEvent:t,data:e})}})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},r.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},r.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var n=t[i],r=this.selectionContainer(),o=this.display(n,r);r.append(o),r.prop("title",n.title||n.text),r.data("data",n),e.push(r)}var a=this.$selection.find(".select2-selection__rendered");s.appendMany(a,e)}},r}),t.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},e.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id;if(1<e.length||i)return t.call(this,e);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},e}),t.define("select2/selection/allowClear",["jquery","../keys"],function(n,r){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},t.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();for(var n=i.data("data"),r=0;r<n.length;r++){var o={data:n[r]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},t.prototype._handleKeyboardClear=function(t,e,i){i.isOpen()||e.which!=r.DELETE&&e.which!=r.BACKSPACE||this._handleClear(e)},t.prototype.update=function(t,e){if(t.call(this,e),!(0<this.$selection.find(".select2-selection__placeholder").length||0===e.length)){var i=n('<span class="select2-selection__clear">&times;</span>');i.data("data",e),this.$selection.find(".select2-selection__rendered").prepend(i)}},t}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(n,t,a){function e(t,e,i){t.call(this,e,i)}return e.prototype.render=function(t){var e=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=e,this.$search=e.find("input");var i=t.call(this);return this._transferTabIndex(),i},e.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("open",function(){n.$search.trigger("focus")}),e.on("close",function(){n.$search.val(""),n.$search.removeAttr("aria-activedescendant"),n.$search.trigger("focus")}),e.on("enable",function(){n.$search.prop("disabled",!1),n._transferTabIndex()}),e.on("disable",function(){n.$search.prop("disabled",!0)}),e.on("focus",function(t){n.$search.trigger("focus")}),e.on("results:focus",function(t){n.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){n.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){n._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),n.trigger("keypress",t),n._keyUpPrevented=t.isDefaultPrevented(),t.which===a.BACKSPACE&&""===n.$search.val()){var e=n.$searchContainer.prev(".select2-selection__choice");if(0<e.length){var i=e.data("data");n.searchRemoveChoice(i),t.preventDefault()}}});var r=document.documentMode,o=r&&r<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){o?n.$selection.off("input.search input.searchcheck"):n.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(o&&"input"===t.type)n.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=a.SHIFT&&e!=a.CTRL&&e!=a.ALT&&e!=a.TAB&&n.handleSearch(t)}})},e.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},e.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},e.prototype.update=function(t,e){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.focus()},e.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").innerWidth():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},e}),t.define("select2/selection/eventRelay",["jquery"],function(a){function t(){}return t.prototype.bind=function(t,e,i){var n=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],o=["opening","closing","selecting","unselecting"];t.call(this,e,i),e.on("*",function(t,e){if(-1!==a.inArray(t,r)){e=e||{};var i=a.Event("select2:"+t,{params:e});n.$element.trigger(i),-1!==a.inArray(t,o)&&(e.prevented=i.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,i){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var e=i(t);n._cache[t]=e}return new n(n._cache[t])},n}),t.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),t.define("select2/data/base",["../utils"],function(n){function i(t,e){i.__super__.constructor.call(this)}return n.Extend(i,n.Observable),i.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},i.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},i.prototype.bind=function(t,e){},i.prototype.destroy=function(){},i.prototype.generateResultId=function(t,e){var i=t.id+"-result-";return i+=n.generateChars(4),null!=e.id?i+="-"+e.id.toString():i+="-"+n.generateChars(4),i},i}),t.define("select2/data/select",["./base","../utils","jquery"],function(t,e,s){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var i=[],n=this;this.$element.find(":selected").each(function(){var t=s(this),e=n.item(t);i.push(e)}),t(i)},i.prototype.select=function(r){var o=this;if(r.selected=!0,s(r.element).is("option"))return r.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(t){var e=[];(r=[r]).push.apply(r,t);for(var i=0;i<r.length;i++){var n=r[i].id;-1===s.inArray(n,e)&&e.push(n)}o.$element.val(e),o.$element.trigger("change")});else{var t=r.id;this.$element.val(t),this.$element.trigger("change")}},i.prototype.unselect=function(r){var o=this;if(this.$element.prop("multiple")){if(r.selected=!1,s(r.element).is("option"))return r.element.selected=!1,void this.$element.trigger("change");this.current(function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i].id;n!==r.id&&-1===s.inArray(n,e)&&e.push(n)}o.$element.val(e),o.$element.trigger("change")})}},i.prototype.bind=function(t,e){var i=this;(this.container=t).on("select",function(t){i.select(t.data)}),t.on("unselect",function(t){i.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){s.removeData(this,"data")})},i.prototype.query=function(n,t){var r=[],o=this;this.$element.children().each(function(){var t=s(this);if(t.is("option")||t.is("optgroup")){var e=o.item(t),i=o.matches(n,e);null!==i&&r.push(i)}}),t({results:r})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,void 0!==t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=s(e),n=this._normalizeItem(t);return n.element=e,s.data(e,"data",n),i},i.prototype.item=function(t){var e={};if(null!=(e=s.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),n=[],r=0;r<i.length;r++){var o=s(i[r]),a=this.item(o);n.push(a)}e.children=n}return(e=this._normalizeItem(e)).element=t[0],s.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){s.isPlainObject(t)||(t={id:t,text:t});return null!=(t=s.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),s.extend({},{selected:!1,disabled:!1},t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),t.define("select2/data/array",["./select","../utils","jquery"],function(t,f,g){function n(t,e){var i=e.get("data")||[];n.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return f.Extend(n,t),n.prototype.select=function(i){var t=this.$element.find("option").filter(function(t,e){return e.value==i.id.toString()});0===t.length&&(t=this.option(i),this.addOptions(t)),n.__super__.select.call(this,i)},n.prototype.convertToOptions=function(t){var e=this,i=this.$element.find("option"),n=i.map(function(){return e.item(g(this)).id}).get(),r=[];function o(t){return function(){return g(this).val()==t.id}}for(var a=0;a<t.length;a++){var s=this._normalizeItem(t[a]);if(0<=g.inArray(s.id,n)){var l=i.filter(o(s)),h=this.item(l),c=g.extend(!0,{},s,h),u=this.option(c);l.replaceWith(u)}else{var d=this.option(s);if(s.children){var p=this.convertToOptions(s.children);f.appendMany(d,p)}r.push(d)}}return r},n}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,o){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return o.extend({},t,{q:t.term})},transport:function(t,e,i){var n=o.ajax(t);return n.then(e),n.fail(i),n}};return o.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(i,n){var r=this;null!=this._request&&(o.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var e=o.extend({type:"GET"},this.ajaxOptions);function t(){var t=e.transport(e,function(t){var e=r.processResults(t,i);r.options.get("debug")&&window.console&&console.error&&(e&&e.results&&o.isArray(e.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),n(e)},function(){t.status&&"0"===t.status||r.trigger("results:message",{message:"errorLoading"})});r._request=t}"function"==typeof e.url&&(e.url=e.url.call(this.$element,i)),"function"==typeof e.data&&(e.data=e.data.call(this.$element,i)),this.ajaxOptions.delay&&null!=i.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(t,this.ajaxOptions.delay)):t()},i}),t.define("select2/data/tags",["jquery"],function(c){function t(t,e,i){var n=i.get("tags"),r=i.get("createTag");void 0!==r&&(this.createTag=r);var o=i.get("insertTag");if(void 0!==o&&(this.insertTag=o),t.call(this,e,i),c.isArray(n))for(var a=0;a<n.length;a++){var s=n[a],l=this._normalizeItem(s),h=this.option(l);this.$element.append(h)}}return t.prototype.query=function(t,h,c){var u=this;this._removeOldTags(),null!=h.term&&null==h.page?t.call(this,h,function t(e,i){for(var n=e.results,r=0;r<n.length;r++){var o=n[r],a=null!=o.children&&!t({results:o.children},!0);if((o.text||"").toUpperCase()===(h.term||"").toUpperCase()||a)return!i&&(e.data=n,void c(e))}if(i)return!0;var s=u.createTag(h);if(null!=s){var l=u.option(s);l.attr("data-select2-tag",!0),u.addOptions([l]),u.insertTag(n,s)}e.results=n,c(e)}):t.call(this,h,c)},t.prototype.createTag=function(t,e){var i=c.trim(e.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(t,e,i){e.unshift(i)},t.prototype._removeOldTags=function(t){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||c(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(u){function t(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return t.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,e,i){var r=this;e.term=e.term||"";var n=this.tokenizer(e,this.options,function(t){var e,i=r._normalizeItem(t);if(!r.$element.find("option").filter(function(){return u(this).val()===i.id}).length){var n=r.option(i);n.attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([n])}e=i,r.trigger("select",{data:e})});n.term!==e.term&&(this.$search.length&&(this.$search.val(n.term),this.$search.focus()),e.term=n.term),t.call(this,e,i)},t.prototype.tokenizer=function(t,e,i,n){for(var r=i.get("tokenSeparators")||[],o=e.term,a=0,s=this.createTag||function(t){return{id:t.term,text:t.term}};a<o.length;){var l=o[a];if(-1!==u.inArray(l,r)){var h=o.substr(0,a),c=s(u.extend({},e,{term:h}));null!=c?(n(c),o=o.substr(a+1)||"",a=0):a++}else a++}return{term:o}},t}),t.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,i)},t}),t.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,i)},t}),t.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(i,n,r){var o=this;this.current(function(t){var e=null!=t?t.length:0;0<o.maximumSelectionLength&&e>=o.maximumSelectionLength?o.trigger("results:message",{message:"maximumSelected",args:{maximum:o.maximumSelectionLength}}):i.call(o,n,r)})},t}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},i.prototype.bind=function(){},i.prototype.position=function(t,e){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(r,t){function e(){}return e.prototype.render=function(t){var e=t.call(this),i=r('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),e.prepend(i),e},e.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),this.$search.on("keydown",function(t){n.trigger("keypress",t),n._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(t){r(this).off("keyup")}),this.$search.on("keyup input",function(t){n.handleSearch(t)}),e.on("open",function(){n.$search.attr("tabindex",0),n.$search.focus(),window.setTimeout(function(){n.$search.focus()},0)}),e.on("close",function(){n.$search.attr("tabindex",-1),n.$search.val("")}),e.on("focus",function(){e.isOpen()||n.$search.focus()}),e.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(n.showSearch(t)?n.$searchContainer.removeClass("select2-search--hide"):n.$searchContainer.addClass("select2-search--hide"))})},e.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},e.prototype.showSearch=function(t,e){return!0},e}),t.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;0<=n;n--){var r=e[n];this.placeholder.id===r.id&&i.splice(n,1)}return i},t}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(r){function t(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("query",function(t){n.lastParams=t,n.loading=!0}),e.on("query:append",function(t){n.lastParams=t,n.loading=!0}),this.$results.on("scroll",function(){var t=r.contains(document.documentElement,n.$loadingMore[0]);if(!n.loading&&t){var e=n.$results.offset().top+n.$results.outerHeight(!1);n.$loadingMore.offset().top+n.$loadingMore.outerHeight(!1)<=e+50&&n.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=r.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},t.prototype.createLoadingMore=function(){var t=r('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),e=this.options.get("translations").get("loadingMore");return t.html(e(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(f,s){function t(t,e,i){this.$dropdownParent=i.get("dropdownParent")||f(document.body),t.call(this,e,i)}return t.prototype.bind=function(t,e,i){var n=this,r=!1;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),r||(r=!0,e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},t.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},t.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},t.prototype.render=function(t){var e=f("<span></span>"),i=t.call(this);return e.append(i),this.$dropdownContainer=e},t.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},t.prototype._attachPositioningHandler=function(t,e){var i=this,n="scroll.select2."+e.id,r="resize.select2."+e.id,o="orientationchange.select2."+e.id,a=this.$container.parents().filter(s.hasScroll);a.each(function(){f(this).data("select2-scroll-position",{x:f(this).scrollLeft(),y:f(this).scrollTop()})}),a.on(n,function(t){var e=f(this).data("select2-scroll-position");f(this).scrollTop(e.y)}),f(window).on(n+" "+r+" "+o,function(t){i._positionDropdown(),i._resizeDropdown()})},t.prototype._detachPositioningHandler=function(t,e){var i="scroll.select2."+e.id,n="resize.select2."+e.id,r="orientationchange.select2."+e.id;this.$container.parents().filter(s.hasScroll).off(i),f(window).off(i+" "+n+" "+r)},t.prototype._positionDropdown=function(){var t=f(window),e=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),n=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=r.top,o.bottom=r.top+o.height;var a=this.$dropdown.outerHeight(!1),s=t.scrollTop(),l=t.scrollTop()+t.height(),h=s<r.top-a,c=l>r.bottom+a,u={left:r.left,top:o.bottom},d=this.$dropdownParent;"static"===d.css("position")&&(d=d.offsetParent());var p=d.offset();u.top-=p.top,u.left-=p.left,e||i||(n="below"),c||!h||e?!h&&c&&e&&(n="below"):n="above",("above"==n||e&&"below"!==n)&&(u.top=o.top-p.top-a),null!=n&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+n),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+n)),this.$dropdownContainer.css(u)},t.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},t.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},t}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var i=0,n=0;n<e.length;n++){var r=e[n];r.children?i+=t(r.children):i++}return i}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(t){n._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var i=e.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var n=this.getHighlightedResults();if(!(n.length<1)){var r=n.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close",{originalEvent:i,originalSelect2Event:e})},t}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(f,g,m,v,y,b,x,_,w,S,C,e,k,T,D,A,M,E,P,L,I,O,R,F,N,z,$,H,t){function i(){this.reset()}return i.prototype.apply=function(e){if(null==(e=f.extend(!0,{},this.defaults,e)).dataAdapter){if(null!=e.ajax?e.dataAdapter=D:null!=e.data?e.dataAdapter=T:e.dataAdapter=k,0<e.minimumInputLength&&(e.dataAdapter=S.Decorate(e.dataAdapter,E)),0<e.maximumInputLength&&(e.dataAdapter=S.Decorate(e.dataAdapter,P)),0<e.maximumSelectionLength&&(e.dataAdapter=S.Decorate(e.dataAdapter,L)),e.tags&&(e.dataAdapter=S.Decorate(e.dataAdapter,A)),null==e.tokenSeparators&&null==e.tokenizer||(e.dataAdapter=S.Decorate(e.dataAdapter,M)),null!=e.query){var t=g(e.amdBase+"compat/query");e.dataAdapter=S.Decorate(e.dataAdapter,t)}if(null!=e.initSelection){var i=g(e.amdBase+"compat/initSelection");e.dataAdapter=S.Decorate(e.dataAdapter,i)}}if(null==e.resultsAdapter&&(e.resultsAdapter=m,null!=e.ajax&&(e.resultsAdapter=S.Decorate(e.resultsAdapter,F)),null!=e.placeholder&&(e.resultsAdapter=S.Decorate(e.resultsAdapter,R)),e.selectOnClose&&(e.resultsAdapter=S.Decorate(e.resultsAdapter,$))),null==e.dropdownAdapter){if(e.multiple)e.dropdownAdapter=I;else{var n=S.Decorate(I,O);e.dropdownAdapter=n}if(0!==e.minimumResultsForSearch&&(e.dropdownAdapter=S.Decorate(e.dropdownAdapter,z)),e.closeOnSelect&&(e.dropdownAdapter=S.Decorate(e.dropdownAdapter,H)),null!=e.dropdownCssClass||null!=e.dropdownCss||null!=e.adaptDropdownCssClass){var r=g(e.amdBase+"compat/dropdownCss");e.dropdownAdapter=S.Decorate(e.dropdownAdapter,r)}e.dropdownAdapter=S.Decorate(e.dropdownAdapter,N)}if(null==e.selectionAdapter){if(e.multiple?e.selectionAdapter=y:e.selectionAdapter=v,null!=e.placeholder&&(e.selectionAdapter=S.Decorate(e.selectionAdapter,b)),e.allowClear&&(e.selectionAdapter=S.Decorate(e.selectionAdapter,x)),e.multiple&&(e.selectionAdapter=S.Decorate(e.selectionAdapter,_)),null!=e.containerCssClass||null!=e.containerCss||null!=e.adaptContainerCssClass){var o=g(e.amdBase+"compat/containerCss");e.selectionAdapter=S.Decorate(e.selectionAdapter,o)}e.selectionAdapter=S.Decorate(e.selectionAdapter,w)}if("string"==typeof e.language)if(0<e.language.indexOf("-")){var a=e.language.split("-")[0];e.language=[e.language,a]}else e.language=[e.language];if(f.isArray(e.language)){var s=new C;e.language.push("en");for(var l=e.language,h=0;h<l.length;h++){var c=l[h],u={};try{u=C.loadPath(c)}catch(t){try{c=this.defaults.amdLanguageBase+c,u=C.loadPath(c)}catch(t){e.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+c+'" could not be automatically loaded. A fallback will be used instead.');continue}}s.extend(u)}e.translations=s}else{var d=C.loadPath(this.defaults.amdLanguageBase+"en"),p=new C(e.language);p.extend(d),e.translations=p}return e},i.prototype.reset=function(){function s(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return e[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:S.escapeMarkup,language:t,matcher:function t(e,i){if(""===f.trim(e.term))return i;if(i.children&&0<i.children.length){for(var n=f.extend(!0,{},i),r=i.children.length-1;0<=r;r--)null==t(e,i.children[r])&&n.children.splice(r,1);return 0<n.children.length?n:t(e,n)}var o=s(i.text).toUpperCase(),a=s(e.term).toUpperCase();return-1<o.indexOf(a)?i:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},i.prototype.set=function(t,e){var i={};i[f.camelCase(t)]=e;var n=S._convertData(i);f.extend(this.defaults,n)},new i}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(n,o,r,a){function t(t,e){if(this.options=t,null!=e&&this.fromElement(e),this.options=r.apply(this.options),e&&e.is("input")){var i=n(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=a.Decorate(this.options.dataAdapter,i)}}return t.prototype.fromElement=function(t){var e=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var i={};i=o.fn.jquery&&"1."==o.fn.jquery.substr(0,2)&&t[0].dataset?o.extend(!0,{},t[0].dataset,t.data()):t.data();var n=o.extend(!0,{},i);for(var r in n=a._convertData(n))-1<o.inArray(r,e)||(o.isPlainObject(this.options[r])?o.extend(this.options[r],n[r]):this.options[r]=n[r]);return this},t.prototype.get=function(t){return this.options[t]},t.prototype.set=function(t,e){this.options[t]=e},t}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(r,h,i,n){var c=function(t,e){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),e=e||{},this.options=new h(e,t),c.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var n=this.options.get("dataAdapter");this.dataAdapter=new n(t,this.options);var r=this.render();this._placeContainer(r);var o=this.options.get("selectionAdapter");this.selection=new o(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,r);var a=this.options.get("dropdownAdapter");this.dropdown=new a(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,r);var s=this.options.get("resultsAdapter");this.results=new s(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){l.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return i.Extend(c,i.Observable),c.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},c.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},c.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==e){var o=t.attr("style");if("string"!=typeof o)return null;for(var a=o.split(";"),s=0,l=a.length;s<l;s+=1){var h=a[s].replace(/\s/g,"").match(i);if(null!==h&&1<=h.length)return h[1]}return null}return e},c.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},c.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t(function(t){r.each(t,e._syncA),r.each(t,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},c.prototype._registerDataEvents=function(){var i=this;this.dataAdapter.on("*",function(t,e){i.trigger(t,e)})},c.prototype._registerSelectionEvents=function(){var i=this,n=["toggle","focus"];this.selection.on("toggle",function(){i.toggleDropdown()}),this.selection.on("focus",function(t){i.focus(t)}),this.selection.on("*",function(t,e){-1===r.inArray(t,n)&&i.trigger(t,e)})},c.prototype._registerDropdownEvents=function(){var i=this;this.dropdown.on("*",function(t,e){i.trigger(t,e)})},c.prototype._registerResultsEvents=function(){var i=this;this.results.on("*",function(t,e){i.trigger(t,e)})},c.prototype._registerEvents=function(){var i=this;this.on("open",function(){i.$container.addClass("select2-container--open")}),this.on("close",function(){i.$container.removeClass("select2-container--open")}),this.on("enable",function(){i.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){i.$container.addClass("select2-container--disabled")}),this.on("blur",function(){i.$container.removeClass("select2-container--focus")}),this.on("query",function(e){i.isOpen()||i.trigger("open",{}),this.dataAdapter.query(e,function(t){i.trigger("results:all",{data:t,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(t){i.trigger("results:append",{data:t,query:e})})}),this.on("keypress",function(t){var e=t.which;i.isOpen()?e===n.ESC||e===n.TAB||e===n.UP&&t.altKey?(i.close(),t.preventDefault()):e===n.ENTER?(i.trigger("results:select",{}),t.preventDefault()):e===n.SPACE&&t.ctrlKey?(i.trigger("results:toggle",{}),t.preventDefault()):e===n.UP?(i.trigger("results:previous",{}),t.preventDefault()):e===n.DOWN&&(i.trigger("results:next",{}),t.preventDefault()):(e===n.ENTER||e===n.SPACE||e===n.DOWN&&t.altKey)&&(i.open(),t.preventDefault())})},c.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},c.prototype._syncSubtree=function(t,e){var i=!1,n=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&0<e.addedNodes.length)for(var r=0;r<e.addedNodes.length;r++){e.addedNodes[r].selected&&(i=!0)}else e.removedNodes&&0<e.removedNodes.length&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(t){n.trigger("selection:update",{data:t})})}},c.prototype.trigger=function(t,e){var i=c.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in n){var r=n[t],o={prevented:!1,name:t,args:e};if(i.call(this,r,o),o.prevented)return void(e.prevented=!0)}i.call(this,t,e)},c.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},c.prototype.open=function(){this.isOpen()||this.trigger("query",{})},c.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},c.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},c.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},c.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},c.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},c.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},c.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var e=t[0];r.isArray(e)&&(e=r.map(e,function(t){return t.toString()})),this.$element.val(e).trigger("change")},c.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},c.prototype.render=function(){var t=r('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},c}),t.define("select2/compat/utils",["jquery"],function(a){return{syncCssClasses:function(t,e,i){var n,r,o=[];(n=a.trim(t.attr("class")))&&a((n=""+n).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&o.push(this)}),(n=a.trim(e.attr("class")))&&a((n=""+n).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(r=i(this))&&o.push(r)}),t.attr("class",o.join(" "))}}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(a,s){function l(t){return null}function t(){}return t.prototype.render=function(t){var e=t.call(this),i=this.options.get("containerCssClass")||"";a.isFunction(i)&&(i=i(this.$element));var n=this.options.get("adaptContainerCssClass");if(n=n||l,-1!==i.indexOf(":all:")){i=i.replace(":all:","");var r=n;n=function(t){var e=r(t);return null!=e?e+" "+t:t}}var o=this.options.get("containerCss")||{};return a.isFunction(o)&&(o=o(this.$element)),s.syncCssClasses(e,this.$element,n),e.css(o),e.addClass(i),e},t}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(a,s){function l(t){return null}function t(){}return t.prototype.render=function(t){var e=t.call(this),i=this.options.get("dropdownCssClass")||"";a.isFunction(i)&&(i=i(this.$element));var n=this.options.get("adaptDropdownCssClass");if(n=n||l,-1!==i.indexOf(":all:")){i=i.replace(":all:","");var r=n;n=function(t){var e=r(t);return null!=e?e+" "+t:t}}var o=this.options.get("dropdownCss")||{};return a.isFunction(o)&&(o=o(this.$element)),s.syncCssClasses(e,this.$element,n),e.css(o),e.addClass(i),e},t}),t.define("select2/compat/initSelection",["jquery"],function(n){function t(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=i.get("initSelection"),this._isInitialized=!1,t.call(this,e,i)}return t.prototype.current=function(t,e){var i=this;this._isInitialized?t.call(this,e):this.initSelection.call(null,this.$element,function(t){i._isInitialized=!0,n.isArray(t)||(t=[t]),e(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(a){function t(t,e,i){this._currentData=[],this._valueSeparator=i.get("valueSeparator")||",","hidden"===e.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,i)}return t.prototype.current=function(t,e){function n(t,e){var i=[];return t.selected||-1!==a.inArray(t.id,e)?(t.selected=!0,i.push(t)):t.selected=!1,t.children&&i.push.apply(i,n(t.children,e)),i}for(var i=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r];i.push.apply(i,n(o,this.$element.val().split(this._valueSeparator)))}e(i)},t.prototype.select=function(t,e){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+e.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(t){a.map(t,function(t){t.selected=!1})}),this.$element.val(e.id),this.$element.trigger("change")},t.prototype.unselect=function(t,r){var o=this;r.selected=!1,this.current(function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];r.id!=n.id&&e.push(n.id)}o.$element.val(e.join(o._valueSeparator)),o.$element.trigger("change")})},t.prototype.query=function(t,e,i){for(var n=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r],a=this.matches(e,o);null!==a&&n.push(a)}i({results:n})},t.prototype.addOptions=function(t,e){var i=a.map(e,function(t){return a.data(t[0],"data")});this._currentData.push.apply(this._currentData,i)},t}),t.define("select2/compat/matcher",["jquery"],function(a){return function(o){return function(t,e){var i=a.extend(!0,{},e);if(null==t.term||""===a.trim(t.term))return i;if(e.children){for(var n=e.children.length-1;0<=n;n--){var r=e.children[n];o(t.term,r.text,r)||i.children.splice(n,1)}if(0<i.children.length)return i}return o(t.term,e.text,e)?i:null}}}),t.define("select2/compat/query",[],function(){function t(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.callback=i,this.options.get("query").call(null,e)},t}),t.define("select2/dropdown/attachContainer",[],function(){function t(t,e,i){t.call(this,e,i)}return t.prototype.position=function(t,e,i){i.find(".dropdown-wrapper").append(e),e.addClass("select2-dropdown--below"),i.addClass("select2-container--below")},t}),t.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(t){t.stopPropagation()})},t}),t.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(t){t.stopPropagation()})},t}),i=function(d){var p,f,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],e="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],g=Array.prototype.slice;if(d.event.fixHooks)for(var i=t.length;i;)d.event.fixHooks[t[--i]]=d.event.mouseHooks;var m=d.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=e.length;t;)this.addEventListener(e[--t],n,!1);else this.onmousewheel=n;d.data(this,"mousewheel-line-height",m.getLineHeight(this)),d.data(this,"mousewheel-page-height",m.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=e.length;t;)this.removeEventListener(e[--t],n,!1);else this.onmousewheel=null;d.removeData(this,"mousewheel-line-height"),d.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=d(t),i=e["offsetParent"in d.fn?"offsetParent":"parent"]();return i.length||(i=d("body")),parseInt(i.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return d(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function n(t){var e,i=t||window.event,n=g.call(arguments,1),r=0,o=0,a=0,s=0,l=0;if((t=d.event.fix(i)).type="mousewheel","detail"in i&&(a=-1*i.detail),"wheelDelta"in i&&(a=i.wheelDelta),"wheelDeltaY"in i&&(a=i.wheelDeltaY),"wheelDeltaX"in i&&(o=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(o=-1*a,a=0),r=0===a?o:a,"deltaY"in i&&(r=a=-1*i.deltaY),"deltaX"in i&&(o=i.deltaX,0===a&&(r=-1*o)),0!==a||0!==o){if(1===i.deltaMode){var h=d.data(this,"mousewheel-line-height");r*=h,a*=h,o*=h}else if(2===i.deltaMode){var c=d.data(this,"mousewheel-page-height");r*=c,a*=c,o*=c}if(e=Math.max(Math.abs(a),Math.abs(o)),(!f||e<f)&&y(i,f=e)&&(f/=40),y(i,e)&&(r/=40,o/=40,a/=40),r=Math[1<=r?"floor":"ceil"](r/f),o=Math[1<=o?"floor":"ceil"](o/f),a=Math[1<=a?"floor":"ceil"](a/f),m.settings.normalizeOffset&&this.getBoundingClientRect){var u=this.getBoundingClientRect();s=t.clientX-u.left,l=t.clientY-u.top}return t.deltaX=o,t.deltaY=a,t.deltaFactor=f,t.offsetX=s,t.offsetY=l,t.deltaMode=0,n.unshift(t,r,o,a),p&&clearTimeout(p),p=setTimeout(v,200),(d.event.dispatch||d.event.handle).apply(this,n)}}function v(){f=null}function y(t,e){return m.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}d.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})},"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],i):"object"==typeof exports?module.exports=i:i(n),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(r,t,o,e){if(null==r.fn.select2){var a=["open","close","destroy"];r.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var t=r.extend(!0,{},e);new o(r(this),t)}),this;if("string"==typeof e){var i,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=r(this).data("select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=t[e].apply(t,n)}),-1<r.inArray(e,a)?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==r.fn.select2.defaults&&(r.fn.select2.defaults=e),o}),{define:t.define,require:t.require}}(),e=t.require("jquery.select2");return n.fn.select2.amd=t,e}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(T,D){function A(){return new Date(Date.UTC.apply(Date,arguments))}function _(){var t=new Date;return A(t.getFullYear(),t.getMonth(),t.getDate())}function o(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function t(t,e){return function(){return e!==D&&T.fn.datepicker.deprecated(e),this[t].apply(this,arguments)}}var e,i=(e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;i<n;i++)if(0<=this[i].valueOf()-e&&this[i].valueOf()-e<864e5)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(T.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var t=new i;return t.replace(this),t}},function(){var t=[];return t.push.apply(t,arguments),T.extend(t,e),t}),w=function(t,e){T.data(t,"datepicker",this),this._process_options(e),this.dates=new i,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=T(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=T(E.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};w.prototype={constructor:w,_resolveViewName:function(i){return T.each(E.viewModes,function(t,e){if(i===t||-1!==T.inArray(i,e.names))return i=t,!1}),i},_resolveDaysOfWeek:function(t){return T.isArray(t)||(t=t.split(/[,\s]*/)),T.map(t,Number)},_check_template:function(t){try{return t!==D&&""!==t&&((t.match(/[<>]/g)||[]).length<=0||0<T(t).length)}catch(t){return!1}},_process_options:function(t){this._o=T.extend({},this._o,t);var e=this.o=T.extend({},this._o),i=e.language;M[i]||(i=i.split("-")[0],M[i]||(i=c.language)),e.language=i,e.startView=this._resolveViewName(e.startView),e.minViewMode=this._resolveViewName(e.minViewMode),e.maxViewMode=this._resolveViewName(e.maxViewMode),e.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,e.startView)),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var n=E.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=E.parseDate(e.startDate,n,e.language,e.assumeNearbyYear):e.startDate=-1/0),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=E.parseDate(e.endDate,n,e.language,e.assumeNearbyYear):e.endDate=1/0),e.daysOfWeekDisabled=this._resolveDaysOfWeek(e.daysOfWeekDisabled||[]),e.daysOfWeekHighlighted=this._resolveDaysOfWeek(e.daysOfWeekHighlighted||[]),e.datesDisabled=e.datesDisabled||[],T.isArray(e.datesDisabled)||(e.datesDisabled=e.datesDisabled.split(",")),e.datesDisabled=T.map(e.datesDisabled,function(t){return E.parseDate(t,n,e.language,e.assumeNearbyYear)});var r=String(e.orientation).toLowerCase().split(/\s+/g),o=e.orientation.toLowerCase();if(r=T.grep(r,function(t){return/^auto|left|right|top|bottom$/.test(t)}),e.orientation={x:"auto",y:"auto"},o&&"auto"!==o)if(1===r.length)switch(r[0]){case"top":case"bottom":e.orientation.y=r[0];break;case"left":case"right":e.orientation.x=r[0]}else o=T.grep(r,function(t){return/^left|right$/.test(t)}),e.orientation.x=o[0]||"auto",o=T.grep(r,function(t){return/^top|bottom$/.test(t)}),e.orientation.y=o[0]||"auto";else;if(e.defaultViewDate instanceof Date||"string"==typeof e.defaultViewDate)e.defaultViewDate=E.parseDate(e.defaultViewDate,n,e.language,e.assumeNearbyYear);else if(e.defaultViewDate){var a=e.defaultViewDate.year||(new Date).getFullYear(),s=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=A(a,s,l)}else e.defaultViewDate=_()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,n,r=0;r<t.length;r++)e=t[r][0],2===t[r].length?(i=D,n=t[r][1]):3===t[r].length&&(i=t[r][1],n=t[r][2]),e.on(n,i)},_unapplyEvents:function(t){for(var e,i,n,r=0;r<t.length;r++)e=t[r][0],2===t[r].length?(n=D,i=t[r][1]):3===t[r].length&&(n=t[r][1],i=t[r][2]),e.off(i,n)},_buildEvents:function(){var t={keyup:T.proxy(function(t){-1===T.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:T.proxy(this.keydown,this),paste:T.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=T.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.inputField.length?this._events=[[this.inputField,t],[this.component,{click:T.proxy(this.show,this)}]]:this._events=[[this.element,{click:T.proxy(this.show,this),keydown:T.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:T.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:T.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":T.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:T.proxy(this.click,this)}],[this.picker,".prev, .next",{click:T.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:T.proxy(this.dayCellClick,this)}],[T(window),{resize:T.proxy(this.place,this)}],[T(document),{"mousedown touchstart":T.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,e){var i=e||this.dates.get(-1),n=this._utc_to_local(i);this.element.trigger({type:t,date:n,viewMode:this.viewMode,dates:T.map(this.dates,this._utc_to_local),format:T.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return E.formatDate(i,e,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&T(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var e;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==T.inArray("text/plain",t.originalEvent.clipboardData.types))e=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;e=window.clipboardData.getData("Text")}this.setDate(e),this.update(),t.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&A(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return T.map(this.dates,this._utc_to_local)},getUTCDates:function(){return T.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==D?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=T.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=T.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,T.map(t,this._utc_to_local)),this},setDate:t("setDates"),setUTCDate:t("setUTCDates"),remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(e){e===D&&(e=this.o.format);var i=this.o.language;return T.map(this.dates,function(t){return E.formatDate(t,e,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),e=this.picker.outerHeight(),i=T(this.o.container),n=i.width(),r="body"===this.o.container?T(document).scrollTop():i.scrollTop(),o=i.offset(),a=[0];this.element.parents().each(function(){var t=T(this).css("z-index");"auto"!==t&&0!==Number(t)&&a.push(Number(t))});var s=Math.max.apply(Math,a)+this.o.zIndexOffset,l=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),u=l.left-o.left,d=l.top-o.top;"body"!==this.o.container&&(d+=r),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(u-=t-c)):l.left<0?(this.picker.addClass("datepicker-orient-left"),u-=l.left-10):n<u+t?(this.picker.addClass("datepicker-orient-right"),u+=c-t):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var p=this.o.orientation.y;if("auto"===p&&(p=-r+d-e<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+p),"top"===p?d-=e+parseInt(this.picker.css("padding-top")):d+=h,this.o.rtl){var f=n-(u+c);this.picker.css({top:d,right:f,zIndex:s})}else this.picker.css({top:d,left:u,zIndex:s});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],e=!1;return arguments.length?(T.each(arguments,T.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),e=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=T.map(i,T.proxy(function(t){return E.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=T.grep(i,T.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(i),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),e?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&e&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var t=this.o.weekStart,e="<tr>";for(this.o.calendarWeeks&&(e+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)e+='<th class="dow',-1!==T.inArray(t,this.o.daysOfWeekDisabled)&&(e+=" disabled"),e+='">'+M[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",i=0;i<12;i++)e+='<span class="month'+(t&&t.getMonth()===i?" focused":"")+'">'+M[this.o.language].monthsShort[i]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=T.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),r=_();return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<n?e.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>n)&&e.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&e.push("focused"),this.o.todayHighlight&&o(t,r)&&e.push("today"),-1!==this.dates.contains(t)&&e.push("active"),this.dateWithinRange(t)||e.push("disabled"),this.dateIsDisabled(t)&&e.push("disabled","disabled-date"),-1!==T.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&e.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!==T.inArray(t.valueOf(),this.range)&&e.push("selected"),t.valueOf()===this.range[0]&&e.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&e.push("range-end")),e},_fill_yearsView:function(t,e,i,n,r,o,a){for(var s,l,h,c="",u=i/10,d=this.picker.find(t),p=Math.floor(n/i)*i,f=p+9*u,g=Math.floor(this.viewDate.getFullYear()/u)*u,m=T.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/u)*u}),v=p-u;v<=f+u;v+=u)s=[e],l=null,v===p-u?s.push("old"):v===f+u&&s.push("new"),-1!==T.inArray(v,m)&&s.push("active"),(v<r||o<v)&&s.push("disabled"),v===g&&s.push("focused"),a!==T.noop&&((h=a(new Date(v,0,1)))===D?h={}:"boolean"==typeof h?h={enabled:h}:"string"==typeof h&&(h={classes:h}),!1===h.enabled&&s.push("disabled"),h.classes&&(s=s.concat(h.classes.split(/\s+/))),h.tooltip&&(l=h.tooltip)),c+='<span class="'+s.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+v+"</span>";d.find(".datepicker-switch").text(p+"-"+f),d.find("td").html(c)},fill:function(){var t,e,i=new Date(this.viewDate),r=i.getUTCFullYear(),n=i.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=M[this.o.language].today||M.en.today||"",c=M[this.o.language].clear||M.en.clear||"",u=M[this.o.language].titleFormat||M.en.titleFormat;if(!isNaN(r)&&!isNaN(n)){this.picker.find(".datepicker-days .datepicker-switch").text(E.formatDate(i,u,this.o.language)),this.picker.find("tfoot .today").text(h).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(c).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var d=A(r,n,0),p=d.getUTCDate();d.setUTCDate(p-(d.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(d);d.getUTCFullYear()<100&&f.setUTCFullYear(d.getUTCFullYear()),f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var g,m,v=[];d.valueOf()<f;){if((g=d.getUTCDay())===this.o.weekStart&&(v.push("<tr>"),this.o.calendarWeeks)){var y=new Date(+d+(this.o.weekStart-g-7)%7*864e5),b=new Date(Number(y)+(11-y.getUTCDay())%7*864e5),x=new Date(Number(x=A(b.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),_=(b-x)/864e5/7+1;v.push('<td class="cw">'+_+"</td>")}(m=this.getClassNames(d)).push("day");var w=d.getUTCDate();this.o.beforeShowDay!==T.noop&&((e=this.o.beforeShowDay(this._utc_to_local(d)))===D?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),!1===e.enabled&&m.push("disabled"),e.classes&&(m=m.concat(e.classes.split(/\s+/))),e.tooltip&&(t=e.tooltip),e.content&&(w=e.content)),m=T.isFunction(T.uniqueSort)?T.uniqueSort(m):T.unique(m),v.push('<td class="'+m.join(" ")+'"'+(t?' title="'+t+'"':"")+' data-date="'+d.getTime().toString()+'">'+w+"</td>"),t=null,g===this.o.weekEnd&&v.push("</tr>"),d.setUTCDate(d.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(v.join(""));var S=M[this.o.language].monthsTitle||M.en.monthsTitle||"Months",C=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?S:r).end().find("tbody span").removeClass("active");if(T.each(this.dates,function(t,e){e.getUTCFullYear()===r&&C.eq(e.getUTCMonth()).addClass("active")}),(r<o||s<r)&&C.addClass("disabled"),r===o&&C.slice(0,a).addClass("disabled"),r===s&&C.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==T.noop){var k=this;T.each(C,function(t,e){var i=new Date(r,t,1),n=k.o.beforeShowMonth(i);n===D?n={}:"boolean"==typeof n?n={enabled:n}:"string"==typeof n&&(n={classes:n}),!1!==n.enabled||T(e).hasClass("disabled")||T(e).addClass("disabled"),n.classes&&T(e).addClass(n.classes),n.tooltip&&T(e).prop("title",n.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,r,o,s,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,r,o,s,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,r,o,s,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,i=new Date(this.viewDate),n=i.getUTCFullYear(),r=i.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=1;switch(this.viewMode){case 0:t=n<=o&&r<=a,e=s<=n&&l<=r;break;case 4:h*=10;case 3:h*=10;case 2:h*=10;case 1:t=Math.floor(n/h)*h<=o,e=Math.floor(n/h)*h+h>=s}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(t){var e,i,n;t.preventDefault(),t.stopPropagation(),(e=T(t.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),e.hasClass("today")&&!e.hasClass("day")&&(this.setViewMode(0),this._setDate(_(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("month")||e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),1===this.viewMode?(n=e.parent().find("span").index(e),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(n)):(n=0,i=Number(e.text()),this.viewDate.setUTCFullYear(i)),this._trigger(E.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(A(i,n,1)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(t){var e=T(t.currentTarget).data("date"),i=new Date(e);this.o.updateViewDate&&(i.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),i.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(i)},navArrowsClick:function(t){var e=T(t.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(e*=12*E.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,e),this._trigger(E.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(e):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(t)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var i=new Date(t);return i.setUTCDate(t.getUTCDate()+e),i},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!(i=t)||isNaN(i.getTime()))return this.o.defaultViewDate;var i;if(!e)return t;var n,r,o=new Date(t.valueOf()),a=o.getUTCDate(),s=o.getUTCMonth(),l=Math.abs(e);if(e=0<e?1:-1,1===l)r=-1===e?function(){return o.getUTCMonth()===s}:function(){return o.getUTCMonth()!==n},n=s+e,o.setUTCMonth(n),n=(n+12)%12;else{for(var h=0;h<l;h++)o=this.moveMonth(o,e);n=o.getUTCMonth(),o.setUTCDate(a),r=function(){return n!==o.getUTCMonth()}}for(;r();)o.setUTCDate(--a),o.setUTCMonth(n);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,i){do{if(t=this[i](t,e),!this.dateWithinRange(t))return!1;i="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(t){return-1!==T.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||0<T.grep(this.o.datesDisabled,function(t){return o(e,t)}).length},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,i,n=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(i=this.moveAvailableDate(r,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(i=this.moveAvailableDate(r,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?i=this.moveAvailableDate(r,e,"moveDay"):this.weekOfDateIsDisabled(r)||(i=this.moveAvailableDate(r,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(r,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(r,e,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}n&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+E.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var h=function(t,e){T.data(t,"datepicker",this),this.element=T(t),this.inputs=T.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,this.keepEmptyValues=e.keepEmptyValues,delete e.keepEmptyValues,r.call(T(this.inputs),e).on("changeDate",T.proxy(this.dateUpdated,this)),this.pickers=T.map(this.inputs,function(t){return T.data(t,"datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=T.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var i=T.map(this.dates,function(t){return t.valueOf()});T.each(this.pickers,function(t,e){e.setRange(i)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=T.data(t.target,"datepicker");if(i!==D){var n=i.getUTCDate(),r=this.keepEmptyValues,e=T.inArray(t.target,this.inputs),o=e-1,a=e+1,s=this.inputs.length;if(-1!==e){if(T.each(this.pickers,function(t,e){e.getUTCDate()||e!==i&&r||e.setUTCDate(n)}),n<this.dates[o])for(;0<=o&&n<this.dates[o];)this.pickers[o--].setUTCDate(n);else if(n>this.dates[a])for(;a<s&&n>this.dates[a];)this.pickers[a++].setUTCDate(n);this.updateDates(),delete this.updating}}}},destroy:function(){T.map(this.pickers,function(t){t.destroy()}),T(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var n=T.fn.datepicker,r=function(a){var s,l=Array.apply(null,arguments);if(l.shift(),this.each(function(){var t=T(this),e=t.data("datepicker"),i="object"==typeof a&&a;if(!e){var n=function(t,e){var i=T(t).data(),n={},r=new RegExp("^"+e.toLowerCase()+"([A-Z])");function o(t,e){return e.toLowerCase()}for(var a in e=new RegExp("^"+e.toLowerCase()),i)e.test(a)&&(n[a.replace(r,o)]=i[a]);return n}(this,"date"),r=function(t){var i={};if(M[t]||(t=t.split("-")[0],M[t])){var n=M[t];return T.each(u,function(t,e){e in n&&(i[e]=n[e])}),i}}(T.extend({},c,n,i).language),o=T.extend({},c,r,n,i);t.hasClass("input-daterange")||o.inputs?(T.extend(o,{inputs:o.inputs||t.find("input").toArray()}),e=new h(this,o)):e=new w(this,o),t.data("datepicker",e)}"string"==typeof a&&"function"==typeof e[a]&&(s=e[a].apply(e,l))}),s===D||s instanceof w||s instanceof h)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+a+" function)");return s};T.fn.datepicker=r;var c=T.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:T.noop,beforeShowMonth:T.noop,beforeShowYear:T.noop,beforeShowDecade:T.noop,beforeShowCentury:T.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},u=T.fn.datepicker.locale_opts=["format","rtl","weekStart"];T.fn.datepicker.Constructor=w;var M=T.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},E={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(t,e,i,r){if(!t)return D;if(t instanceof Date)return t;if("string"==typeof e&&(e=E.parseFormat(e)),e.toValue)return e.toValue(t,e,i);var n,o,a,s,l,h={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},c={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(t in c&&(t=c[t]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(t)){for(n=t.match(/([\-+]\d+)([dmwy])/gi),t=new Date,s=0;s<n.length;s++)o=n[s].match(/([\-+]\d+)([dmwy])/i),a=Number(o[1]),l=h[o[2].toLowerCase()],t=w.prototype[l](t,a);return w.prototype._zero_utc_time(t)}n=t&&t.match(this.nonpunctuation)||[];var u,d,p={},f=["yyyy","yy","M","MM","m","mm","d","dd"],g={yyyy:function(t,e){return t.setUTCFullYear(r?(!0===(n=r)&&(n=10),(i=e)<100&&(i+=2e3)>(new Date).getFullYear()+n&&(i-=100),i):e);var i,n},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};g.yy=g.yyyy,g.M=g.MM=g.mm=g.m,g.dd=g.d,t=_();var m=e.parts.slice();function v(){var t=this.slice(0,n[s].length),e=n[s].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(n.length!==m.length&&(m=T(m).filter(function(t,e){return-1!==T.inArray(e,f)}).toArray()),n.length===m.length){var y,b,x;for(s=0,y=m.length;s<y;s++){if(u=parseInt(n[s],10),o=m[s],isNaN(u))switch(o){case"MM":d=T(M[i].months).filter(v),u=T.inArray(d[0],M[i].months)+1;break;case"M":d=T(M[i].monthsShort).filter(v),u=T.inArray(d[0],M[i].monthsShort)+1}p[o]=u}for(s=0;s<f.length;s++)(x=f[s])in p&&!isNaN(p[x])&&(b=new Date(t),g[x](b,p[x]),isNaN(b)||(t=b))}return t},formatDate:function(t,e,i){if(!t)return"";if("string"==typeof e&&(e=E.parseFormat(e)),e.toDisplay)return e.toDisplay(t,e,i);var n={d:t.getUTCDate(),D:M[i].daysShort[t.getUTCDay()],DD:M[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:M[i].monthsShort[t.getUTCMonth()],MM:M[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,t=[];for(var r=T.extend([],e.separators),o=0,a=e.parts.length;o<=a;o++)r.length&&t.push(r.shift()),t.push(n[e.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+c.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+c.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};E.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+E.headTemplate+"<tbody></tbody>"+E.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+"</table></div></div>",T.fn.datepicker.DPGlobal=E,T.fn.datepicker.noConflict=function(){return T.fn.datepicker=n,this},T.fn.datepicker.version="1.7.1",T.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},T(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=T(this);e.data("datepicker")||(t.preventDefault(),r.call(e,"show"))}),T(function(){r.call(T('[data-provide="datepicker-inline"]'))})}),function(n){"use strict";if(!n.fn.datepicker)throw new Error("bootstrap-datepicker.js required.");var r=n.fn.datepicker.Constructor.prototype.place;n.fn.datepicker.Constructor.prototype.place=function(){if(r.call(this),!this.o.rtl)return this;var t=n(this.o.container),e=parseInt(this.picker.css("right"),10);if(e+=t.outerWidth()-t.width(),!this.picker.hasClass("datepicker-orient-left")){var i=this.picker.outerWidth();e+=2*(this.component?this.component.outerWidth(!0):this.element.outerWidth(!1))-2*i}return this.picker.css({right:e}),this},n.fn.datepicker.defaults.rtl="rtl"===n("html").attr("dir")}(jQuery),function(f,g,n){"use strict";var o=function(t,e){this.widget="",this.$element=f(t),this.defaultTime=e.defaultTime,this.disableFocus=e.disableFocus,this.disableMousewheel=e.disableMousewheel,this.isOpen=e.isOpen,this.minuteStep=e.minuteStep,this.modalBackdrop=e.modalBackdrop,this.orientation=e.orientation,this.secondStep=e.secondStep,this.snapToStep=e.snapToStep,this.showInputs=e.showInputs,this.showMeridian=e.showMeridian,this.showSeconds=e.showSeconds,this.template=e.template,this.appendWidgetTo=e.appendWidgetTo,this.showWidgetOnAddonClick=e.showWidgetOnAddonClick,this.icons=e.icons,this.maxHours=e.maxHours,this.explicitMode=e.explicitMode,this.handleDocumentClick=function(t){var e=t.data.scope;e.$element.parent().find(t.target).length||e.$widget.is(t.target)||e.$widget.find(t.target).length||e.hideWidget()},this._init()};o.prototype={constructor:o,_init:function(){var t=this;this.showWidgetOnAddonClick&&this.$element.parent().hasClass("input-group")&&this.$element.parent().hasClass("bootstrap-timepicker")?(this.$element.parent(".input-group.bootstrap-timepicker").find(".input-group-addon").on({"click.timepicker":f.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":f.proxy(this.highlightUnit,this),"click.timepicker":f.proxy(this.highlightUnit,this),"keydown.timepicker":f.proxy(this.elementKeydown,this),"blur.timepicker":f.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":f.proxy(this.mousewheel,this)})):this.template?this.$element.on({"focus.timepicker":f.proxy(this.showWidget,this),"click.timepicker":f.proxy(this.showWidget,this),"blur.timepicker":f.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":f.proxy(this.mousewheel,this)}):this.$element.on({"focus.timepicker":f.proxy(this.highlightUnit,this),"click.timepicker":f.proxy(this.highlightUnit,this),"keydown.timepicker":f.proxy(this.elementKeydown,this),"blur.timepicker":f.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":f.proxy(this.mousewheel,this)}),!1!==this.template?this.$widget=f(this.getTemplate()).on("click",f.proxy(this.widgetClick,this)):this.$widget=!1,this.showInputs&&!1!==this.$widget&&this.$widget.find("input").each(function(){f(this).on({"click.timepicker":function(){f(this).select()},"keydown.timepicker":f.proxy(t.widgetKeydown,t),"keyup.timepicker":f.proxy(t.widgetKeyup,t)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=this.maxHours-1:this.hour--},decrementMinute:function(t){var e;(e=t?this.minute-t:this.minute-this.minuteStep)<0?(this.decrementHour(),this.minute=e+60):this.minute=e},decrementSecond:function(){var t=this.second-this.secondStep;t<0?(this.decrementMinute(!0),this.second=t+60):this.second=t},elementKeydown:function(t){switch(t.which){case 9:if(t.shiftKey){if("hour"===this.highlightedUnit){this.hideWidget();break}this.highlightPrevUnit()}else{if(this.showMeridian&&"meridian"===this.highlightedUnit||this.showSeconds&&"second"===this.highlightedUnit||!this.showMeridian&&!this.showSeconds&&"minute"===this.highlightedUnit){this.hideWidget();break}this.highlightNextUnit()}t.preventDefault(),this.updateFromElementVal();break;case 27:this.updateFromElementVal();break;case 37:t.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:t.preventDefault(),this.highlightNextUnit(),this.updateFromElementVal();break;case 40:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var t=this.$element.get(0);if("selectionStart"in t)return t.selectionStart;if(n.selection){t.focus();var e=n.selection.createRange(),i=n.selection.createRange().text.length;return e.moveStart("character",-t.value.length),e.text.length-i}},getTemplate:function(){var t,e,i,n,r,o;switch(this.showInputs?(e='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',i='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',n='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',r='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(e='<span class="bootstrap-timepicker-hour"></span>',i='<span class="bootstrap-timepicker-minute"></span>',n='<span class="bootstrap-timepicker-second"></span>',r='<span class="bootstrap-timepicker-meridian"></span>'),o='<table><tr><td><a href="#" data-action="incrementHour"><span class="'+this.icons.up+'"></span></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><span class="'+this.icons.up+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="'+this.icons.up+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="'+this.icons.up+'"></span></a></td>':"")+"</tr><tr><td>"+e+'</td> <td class="separator">:</td><td>'+i+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+n+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+r+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><span class="'+this.icons.down+'"></span></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><span class="'+this.icons.down+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="'+this.icons.down+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><span class="'+this.icons.down+'"></span></a></td>':"")+"</tr></table>",this.template){case"modal":t='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;</a><h3>Pick a Time</h3></div><div class="modal-content">'+o+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":t='<div class="bootstrap-timepicker-widget dropdown-menu">'+o+"</div>"}return t},getTime:function(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){!1!==this.isOpen&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),f(n).off("mousedown.timepicker, touchend.timepicker",this.handleDocumentClick),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition(),0<=this.position&&this.position<=2?this.highlightHour():3<=this.position&&this.position<=5?this.highlightMinute():6<=this.position&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():9<=this.position&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="hour",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(0,1):t.setSelectionRange(0,2)},0)},highlightMinute:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="minute",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(2,4):t.setSelectionRange(3,5)},0)},highlightSecond:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="second",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0)},highlightMeridian:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="meridian",t.setSelectionRange&&(this.showSeconds?setTimeout(function(){e.hour<10?t.setSelectionRange(8,10):t.setSelectionRange(9,11)},0):setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}this.hour!==this.maxHours-1?this.hour++:this.hour=0},incrementMinute:function(t){var e;59<(e=t?this.minute+t:this.minute+this.minuteStep-this.minute%this.minuteStep)?(this.incrementHour(),this.minute=e-60):this.minute=e},incrementSecond:function(){var t=this.second+this.secondStep-this.second%this.secondStep;59<t?(this.incrementMinute(!0),this.second=t-60):this.second=t},mousewheel:function(t){if(!this.disableMousewheel){t.preventDefault(),t.stopPropagation();var e=t.originalEvent.wheelDelta||-t.originalEvent.detail,i=null;switch("mousewheel"===t.type?i=-1*t.originalEvent.wheelDelta:"DOMMouseScroll"===t.type&&(i=40*t.originalEvent.detail),i&&(t.preventDefault(),f(this).scrollTop(i+f(this).scrollTop())),this.highlightedUnit){case"minute":0<e?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":0<e?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:0<e?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},changeToNearestStep:function(t,e){return t%e==0?t:Math.round(t%e/e)?(t+(e-t%e))%60:t-t%e},place:function(){if(!this.isInline){var t=this.$widget.outerWidth(),e=this.$widget.outerHeight(),i=f(g).width(),n=f(g).height(),r=f(g).scrollTop(),o=parseInt(this.$element.parents().filter(function(){return"auto"!==f(this).css("z-index")}).first().css("z-index"),10)+10,a=this.component?this.component.parent().offset():this.$element.offset(),s=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),h=a.left,c=a.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.orientation.x?(this.$widget.addClass("timepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(h-=t-l)):(this.$widget.addClass("timepicker-orient-left"),a.left<0?h-=a.left-10:a.left+t>i&&(h=i-t-10));var u,d,p=this.orientation.y;"auto"===p&&(u=-r+a.top-e,d=r+n-(a.top+s+e),p=Math.max(u,d)===d?"top":"bottom"),this.$widget.addClass("timepicker-orient-"+p),"top"===p?c+=s:c-=e+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:c,left:h,zIndex:o})}},remove:function(){f("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(t){if(this.$element.val())this.updateFromElementVal();else if("current"===t){var e=new Date,i=e.getHours(),n=e.getMinutes(),r=e.getSeconds(),o="AM";0!==r&&60===(r=Math.ceil(e.getSeconds()/this.secondStep)*this.secondStep)&&(n+=1,r=0),0!==n&&60===(n=Math.ceil(e.getMinutes()/this.minuteStep)*this.minuteStep)&&(i+=1,n=0),this.showMeridian&&(0===i?i=12:12<=i?(12<i&&(i-=12),o="PM"):o="AM"),this.hour=i,this.minute=n,this.second=r,this.meridian=o,this.update()}else!1===t?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(t)},setTime:function(t,e){if(t){var i,n,r,o,a,s;if("object"==typeof t&&t.getMonth)r=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),this.showMeridian&&(s="AM",12<r&&(s="PM",r%=12),12===r&&(s="PM"));else{if(2<(i=(/a/i.test(t)?1:0)+(/p/i.test(t)?2:0)))return void this.clear();if(r=(n=t.replace(/[^0-9\:]/g,"").split(":"))[0]?n[0].toString():n.toString(),this.explicitMode&&2<r.length&&r.length%2!=0)return void this.clear();o=n[1]?n[1].toString():"",a=n[2]?n[2].toString():"",4<r.length&&(a=r.slice(-2),r=r.slice(0,-2)),2<r.length&&(o=r.slice(-2),r=r.slice(0,-2)),2<o.length&&(a=o.slice(-2),o=o.slice(0,-2)),r=parseInt(r,10),o=parseInt(o,10),a=parseInt(a,10),isNaN(r)&&(r=0),isNaN(o)&&(o=0),isNaN(a)&&(a=0),59<a&&(a=59),59<o&&(o=59),r>=this.maxHours&&(r=this.maxHours-1),this.showMeridian?(12<r&&(i=2,r-=12),i||(i=1),0===r&&(r=12),s=1===i?"AM":"PM"):r<12&&2===i?r+=12:r>=this.maxHours?r=this.maxHours-1:(r<0||12===r&&1===i)&&(r=0)}this.hour=r,this.snapToStep?(this.minute=this.changeToNearestStep(o,this.minuteStep),this.second=this.changeToNearestStep(a,this.secondStep)):(this.minute=o,this.second=a),this.meridian=s,this.update(e)}else this.clear()},showWidget:function(){this.isOpen||this.$element.is(":disabled")||(this.$widget.appendTo(this.appendWidgetTo),f(n).on("mousedown.timepicker, touchend.timepicker",{scope:this},this.handleDocumentClick),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",f.proxy(this.hideWidget,this)):!1===this.isOpen&&this.$widget.addClass("open"),this.isOpen=!0)},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(t){this.updateElement(),t||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(!1!==this.$widget){var t=this.hour,e=1===this.minute.toString().length?"0"+this.minute:this.minute,i=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(t),this.$widget.find("input.bootstrap-timepicker-minute").val(e),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(i),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(t),this.$widget.find("span.bootstrap-timepicker-minute").text(e),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(i),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(!1!==this.$widget){var t=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(t,!0)}},widgetClick:function(t){t.stopPropagation(),t.preventDefault();var e=f(t.target),i=e.closest("a").data("action");i&&this[i](),this.update(),e.is("input")&&e.get(0).setSelectionRange(0,2)},widgetKeydown:function(t){var e=f(t.target),i=e.attr("class").replace("bootstrap-timepicker-","");switch(t.which){case 9:if(t.shiftKey){if("hour"===i)return this.hideWidget()}else if(this.showMeridian&&"meridian"===i||this.showSeconds&&"second"===i||!this.showMeridian&&!this.showSeconds&&"minute"===i)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(t.preventDefault(),i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),e.get(0).setSelectionRange(0,2);break;case 40:switch(t.preventDefault(),i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),e.get(0).setSelectionRange(0,2)}},widgetKeyup:function(t){(65===t.which||77===t.which||80===t.which||46===t.which||8===t.which||48<=t.which&&t.which<=57||96<=t.which&&t.which<=105)&&this.updateFromWidgetInputs()}},f.fn.timepicker=function(n){var r=Array.apply(null,arguments);return r.shift(),this.each(function(){var t=f(this),e=t.data("timepicker"),i="object"==typeof n&&n;e||t.data("timepicker",e=new o(this,f.extend({},f.fn.timepicker.defaults,i,f(this).data()))),"string"==typeof n&&e[n].apply(e,r)})},f.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,snapToStep:!1,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0,icons:{up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},maxHours:24,explicitMode:!1},f.fn.timepicker.Constructor=o,f(n).on("focus.timepicker.data-api click.timepicker.data-api",'[data-provide="timepicker"]',function(t){var e=f(this);e.data("timepicker")||(t.preventDefault(),e.timepicker())})}(jQuery,window,document),function(t){"use strict";if(!t.fn.timepicker)throw new Error("bootstrap-timepicker.js required.");var e=t.fn.timepicker.Constructor.prototype._init,i=t.fn.timepicker.Constructor.prototype.place;t.fn.timepicker.Constructor.prototype._init=function(){this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this)}),this.$element.parent(".input-group").find(".input-group-addon").addClass("bootstrap-timepicker-trigger").on("click.timepicker",t.proxy(this.showWidget,this)),e.call(this)},t.fn.timepicker.Constructor.prototype.place=function(){"dropdown"===this.template&&i.call(this)},t.fn.timepicker.Constructor.prototype.getTemplate=function(){var t=void 0,e=void 0,i=void 0,n=void 0;this.showInputs?(t='<input type="text" name="hour" class="bootstrap-timepicker-hour form-control timepicker-input" maxlength="2"/>',e='<input type="text" name="minute" class="bootstrap-timepicker-minute form-control timepicker-input" maxlength="2"/>',i='<input type="text" name="second" class="bootstrap-timepicker-second form-control timepicker-input" maxlength="2"/>',n='<input type="text" name="meridian" class="bootstrap-timepicker-meridian form-control timepicker-input" maxlength="2"/>'):(t='<span class="bootstrap-timepicker-hour timepicker-value"></span>',e='<span class="bootstrap-timepicker-minute timepicker-value"></span>',i='<span class="bootstrap-timepicker-second timepicker-value"></span>',n='<span class="bootstrap-timepicker-meridian timepicker-value"></span>');var r='\n<table class="table">\n<tr>\n  <td><a href="#" data-action="incrementHour" class="timepicker-increment">+</a></td>\n  <td class="separator">&nbsp;</td>\n  <td><a href="#" data-action="incrementMinute" class="timepicker-increment">+</a></td>\n  '+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond" class="timepicker-increment">+</a></td>':"")+"\n  "+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian" class="timepicker-increment">+</a></td>':"")+"\n</tr>\n<tr>\n  <td>"+t+'</td>\n  <td class="separator">:</td>\n  <td>'+e+"</td>\n  "+(this.showSeconds?'<td class="separator">:</td><td>'+i+"</td>":"")+"\n  "+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+n+"</td>":"")+'\n</tr>\n<tr>\n  <td><a href="#" data-action="decrementHour" class="timepicker-decrement">-</a></td>\n  <td class="separator"></td>\n  <td><a href="#" data-action="decrementMinute" class="timepicker-decrement">-</a></td>\n  '+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond" class="timepicker-decrement">-</a></td>':"")+"\n  "+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian" class="timepicker-decrement">-</a></td>':"")+"\n</tr>\n</table>";return"modal"!==this.template?'<div class="bootstrap-timepicker-widget dropdown-menu">'+r+"</div>":'\n<div class="bootstrap-timepicker-widget modal fade" tabindex="-1" role="dialog">\n<div class="modal-dialog modal-sm" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n        <span aria-hidden="true">&times;</span>\n      </button>\n      <h4 class="modal-title">Pick a Time</h4>\n    </div>\n    <div class="modal-body">\n      '+r+'\n    </div>\n    <div class="modal-footer">\n      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n    </div>\n  </div>\n</div>\n</div>'}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(_){"use strict";function i(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function n(t){var e=t.parent(),i=e.find(".minicolors-panel"),n=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(r(),e.addClass("minicolors-focus"),i.stop(!0,!0).fadeIn(n.showSpeed,function(){n.show&&n.show.call(t.get(0))}))}function r(){_(".minicolors-focus").each(function(){var t=_(this),e=t.find(".minicolors-input"),i=t.find(".minicolors-panel"),n=e.data("minicolors-settings");i.fadeOut(n.hideSpeed,function(){n.hide&&n.hide.call(e.get(0)),t.removeClass("minicolors-focus")})})}function o(t,e,i){var n,r,o,a,s=t.parents(".minicolors").find(".minicolors-input"),l=s.data("minicolors-settings"),h=t.find("[class$=-picker]"),c=t.offset().left,u=t.offset().top,d=Math.round(e.pageX-c),p=Math.round(e.pageY-u),f=i?l.animationSpeed:0;e.originalEvent.changedTouches&&(d=e.originalEvent.changedTouches[0].pageX-c,p=e.originalEvent.changedTouches[0].pageY-u),d<0&&(d=0),p<0&&(p=0),d>t.width()&&(d=t.width()),p>t.height()&&(p=t.height()),t.parent().is(".minicolors-slider-wheel")&&h.parent().is(".minicolors-grid")&&(n=75-d,r=75-p,o=Math.sqrt(n*n+r*r),(a=Math.atan2(r,n))<0&&(a+=2*Math.PI),75<o&&(d=(o=75)-75*Math.cos(a),p=75-75*Math.sin(a)),d=Math.round(d),p=Math.round(p)),t.is(".minicolors-grid")?h.stop(!0).animate({top:p+"px",left:d+"px"},f,l.animationEasing,function(){g(s,t)}):h.stop(!0).animate({top:p+"px"},f,l.animationEasing,function(){g(s,t)})}function g(t,e){function i(t,e){var i,n;return t.length&&e?(i=t.offset().left,n=t.offset().top,{x:i-e.offset().left+t.outerWidth()/2,y:n-e.offset().top+t.outerHeight()/2}):null}var n,r,o,a,s,l,h,c=t.val(),u=t.attr("data-opacity"),d=t.parent(),p=t.data("minicolors-settings"),f=d.find(".minicolors-input-swatch"),g=d.find(".minicolors-grid"),m=d.find(".minicolors-slider"),v=d.find(".minicolors-opacity-slider"),y=g.find("[class$=-picker]"),b=m.find("[class$=-picker]"),x=v.find("[class$=-picker]"),_=i(y,g),w=i(b,m),S=i(x,v);if(e.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(p.control){case"wheel":a=g.width()/2-_.x,s=g.height()/2-_.y,l=Math.sqrt(a*a+s*s),(h=Math.atan2(s,a))<0&&(h+=2*Math.PI),75<l&&(l=75,_.x=69-75*Math.cos(h),_.y=69-75*Math.sin(h)),r=A(l/.75,0,100),c=L({h:n=A(180*h/Math.PI,0,360),s:r,b:o=A(100-Math.floor(w.y*(100/m.height())),0,100)}),m.css("backgroundColor",L({h:n,s:r,b:100}));break;case"saturation":c=L({h:n=A(parseInt(_.x*(360/g.width()),10),0,360),s:r=A(100-Math.floor(w.y*(100/m.height())),0,100),b:o=A(100-Math.floor(_.y*(100/g.height())),0,100)}),m.css("backgroundColor",L({h:n,s:100,b:o})),d.find(".minicolors-grid-inner").css("opacity",r/100);break;case"brightness":c=L({h:n=A(parseInt(_.x*(360/g.width()),10),0,360),s:r=A(100-Math.floor(_.y*(100/g.height())),0,100),b:o=A(100-Math.floor(w.y*(100/m.height())),0,100)}),m.css("backgroundColor",L({h:n,s:r,b:100})),d.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:c=L({h:n=A(360-parseInt(w.y*(360/m.height()),10),0,360),s:r=A(Math.floor(_.x*(100/g.width())),0,100),b:o=A(100-Math.floor(_.y*(100/g.height())),0,100)}),g.css("backgroundColor",L({h:n,s:100,b:100}))}C(t,c,u=p.opacity?parseFloat(1-S.y/v.height()).toFixed(2):1)}else f.find("span").css({backgroundColor:c,opacity:u}),k(t,c,u)}function C(t,e,i){var n,r=t.parent(),o=t.data("minicolors-settings"),a=r.find(".minicolors-input-swatch");o.opacity&&t.attr("data-opacity",i),"rgb"===o.format?(n=M(e)?T(e,!0):I(S(e,!0)),i=""===t.attr("data-opacity")?1:A(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),!isNaN(i)&&o.opacity||(i=1),e=t.minicolors("rgbObject").a<=1&&n&&o.opacity?"rgba("+n.r+", "+n.g+", "+n.b+", "+parseFloat(i)+")":"rgb("+n.r+", "+n.g+", "+n.b+")"):(M(e)&&(e=P(e)),e=w(e,o.letterCase)),t.val(e),a.find("span").css({backgroundColor:e,opacity:i}),k(t,e,i)}function h(t,e){var i,n,r,o,a,s,l,h,c,u,d=t.parent(),p=t.data("minicolors-settings"),f=d.find(".minicolors-input-swatch"),g=d.find(".minicolors-grid"),m=d.find(".minicolors-slider"),v=d.find(".minicolors-opacity-slider"),y=g.find("[class$=-picker]"),b=m.find("[class$=-picker]"),x=v.find("[class$=-picker]");switch(M(t.val())?(i=P(t.val()),(a=A(parseFloat(E(t.val())).toFixed(2),0,1))&&t.attr("data-opacity",a)):i=w(S(t.val(),!0),p.letterCase),i||(i=w(D(p.defaultValue,!0),p.letterCase)),n=function(t){var e=function(t){var e={h:0,s:0,b:0},i=Math.min(t.r,t.g,t.b),n=Math.max(t.r,t.g,t.b),r=n-i;e.b=n,e.s=0!==n?255*r/n:0,0!==e.s?t.r===n?e.h=(t.g-t.b)/r:t.g===n?e.h=2+(t.b-t.r)/r:e.h=4+(t.r-t.g)/r:e.h=-1;e.h*=60,e.h<0&&(e.h+=360);return e.s*=100/255,e.b*=100/255,e}(I(t));0===e.s&&(e.h=360);return e}(i),o=p.keywords?_.map(p.keywords.split(","),function(t){return _.trim(t.toLowerCase())}):[],s=""!==t.val()&&-1<_.inArray(t.val().toLowerCase(),o)?w(t.val()):M(t.val())?T(t.val()):i,e||t.val(s),p.opacity&&(r=""===t.attr("data-opacity")?1:A(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(r)&&(r=1),t.attr("data-opacity",r),f.find("span").css("opacity",r),h=A(v.height()-v.height()*r,0,v.height()),x.css("top",h+"px")),"transparent"===t.val().toLowerCase()&&f.find("span").css("opacity",0),f.find("span").css("backgroundColor",i),p.control){case"wheel":c=A(Math.ceil(.75*n.s),0,g.height()/2),u=n.h*Math.PI/180,l=A(75-Math.cos(u)*c,0,g.width()),h=A(75-Math.sin(u)*c,0,g.height()),y.css({top:h+"px",left:l+"px"}),h=150-n.b/(100/g.height()),""===i&&(h=0),b.css("top",h+"px"),m.css("backgroundColor",L({h:n.h,s:n.s,b:100}));break;case"saturation":l=A(5*n.h/12,0,150),h=A(g.height()-Math.ceil(n.b/(100/g.height())),0,g.height()),y.css({top:h+"px",left:l+"px"}),h=A(m.height()-n.s*(m.height()/100),0,m.height()),b.css("top",h+"px"),m.css("backgroundColor",L({h:n.h,s:100,b:n.b})),d.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":l=A(5*n.h/12,0,150),h=A(g.height()-Math.ceil(n.s/(100/g.height())),0,g.height()),y.css({top:h+"px",left:l+"px"}),h=A(m.height()-n.b*(m.height()/100),0,m.height()),b.css("top",h+"px"),m.css("backgroundColor",L({h:n.h,s:n.s,b:100})),d.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:l=A(Math.ceil(n.s/(100/g.width())),0,g.width()),h=A(g.height()-Math.ceil(n.b/(100/g.height())),0,g.height()),y.css({top:h+"px",left:l+"px"}),h=A(m.height()-n.h/(360/m.height()),0,m.height()),b.css("top",h+"px"),g.css("backgroundColor",L({h:n.h,s:100,b:100}))}t.data("minicolors-initialized")&&k(t,s,r)}function k(t,e,i){var n,r,o,a=t.data("minicolors-settings"),s=t.data("minicolors-lastChange");if(!s||s.value!==e||s.opacity!==i){if(t.data("minicolors-lastChange",{value:e,opacity:i}),a.swatches&&0!==a.swatches.length){for(n=M(e)?T(e,!0):I(e),r=-1,o=0;o<a.swatches.length;++o)if(n.r===a.swatches[o].r&&n.g===a.swatches[o].g&&n.b===a.swatches[o].b&&n.a===a.swatches[o].a){r=o;break}t.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==r&&t.parent().find(".minicolors-swatches .minicolors-swatch").eq(o).addClass("selected")}a.change&&(a.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout(function(){a.change.call(t.get(0),e,i)},a.changeDelay))):a.change.call(t.get(0),e,i)),t.trigger("change").trigger("input")}}function w(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function S(t,e){return(t=t.replace(/^#/g,"")).match(/^[A-F0-9]{3,6}/gi)?3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t):""}function T(t,e){var i=t.replace(/[^\d,.]/g,"").split(",");return i[0]=A(parseInt(i[0],10),0,255),i[1]=A(parseInt(i[1],10),0,255),i[2]=A(parseInt(i[2],10),0,255),i[3]&&(i[3]=A(parseFloat(i[3],10),0,1)),e?i[3]?{r:i[0],g:i[1],b:i[2],a:i[3]}:{r:i[0],g:i[1],b:i[2]}:void 0!==i[3]&&i[3]<=1?"rgba("+i[0]+", "+i[1]+", "+i[2]+", "+i[3]+")":"rgb("+i[0]+", "+i[1]+", "+i[2]+")"}function D(t,e){return M(t)?T(t):S(t,e)}function A(t,e,i){return t<e&&(t=e),i<t&&(t=i),t}function M(t){var e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!e||4!==e.length)}function E(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===t.length?t[4]:"1"}function P(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}function c(t){var i=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return _.each(i,function(t,e){1===e.length&&(i[t]="0"+e)}),"#"+i.join("")}function L(t){return c(function(t){var e={},i=Math.round(t.h),n=Math.round(255*t.s/100),r=Math.round(255*t.b/100);if(0===n)e.r=e.g=e.b=r;else{var o=r,a=(255-n)*r/255,s=i%60*(o-a)/60;360===i&&(i=0),i<60?(e.r=o,e.b=a,e.g=a+s):i<120?(e.g=o,e.b=a,e.r=o-s):i<180?(e.g=o,e.r=a,e.b=a+s):i<240?(e.b=o,e.r=a,e.g=o-s):i<300?(e.b=o,e.g=a,e.r=a+s):i<360?(e.r=o,e.g=a,e.b=o-s):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}(t))}function I(t){return{r:(t=parseInt(-1<t.indexOf("#")?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}}_.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},_.extend(_.fn,{minicolors:function(t,e){switch(t){case"destroy":return _(this).each(function(){i(_(this))}),_(this);case"hide":return r(),_(this);case"opacity":return void 0===e?_(this).attr("data-opacity"):(_(this).each(function(){h(_(this).attr("data-opacity",e))}),_(this));case"rgbObject":return function(t){var e,i=_(t).attr("data-opacity");if(M(_(t).val()))e=T(_(t).val(),!0);else{var n=S(_(t).val(),!0);e=I(n)}if(!e)return null;void 0!==i&&_.extend(e,{a:parseFloat(i)});return e}(_(this));case"rgbString":case"rgbaString":return function(t,e){var i,n=_(t).attr("data-opacity");if(M(_(t).val()))i=T(_(t).val(),!0);else{var r=S(_(t).val(),!0);i=I(r)}if(!i)return null;void 0===n&&(n=1);return e?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(n)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"}(_(this),"rgbaString"===t);case"settings":return void 0===e?_(this).data("minicolors-settings"):(_(this).each(function(){var t=_(this).data("minicolors-settings")||{};i(_(this)),_(this).minicolors(_.extend(!0,t,e))}),_(this));case"show":return n(_(this).eq(0)),_(this);case"value":return void 0===e?_(this).val():(_(this).each(function(){"object"==typeof e&&"null"!==e?(e.opacity&&_(this).attr("data-opacity",A(e.opacity,0,1)),e.color&&_(this).val(e.color)):_(this).val(e),h(_(this))}),_(this));default:return"create"!==t&&(e=t),_(this).each(function(){!function(e,t){var i,n,r,o,a,s=_('<div class="minicolors" />'),l=_.minicolors.defaults;if(e.data("minicolors-initialized"))return;t=_.extend(!0,{},l,t),s.addClass("minicolors-theme-"+t.theme).toggleClass("minicolors-with-opacity",t.opacity),void 0!==t.position&&_.each(t.position.split(" "),function(){s.addClass("minicolors-position-"+this)});i="rgb"===t.format?t.opacity?"25":"20":t.keywords?"11":"7";e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",t).prop("size",i).wrap(s).after('<div class="minicolors-panel minicolors-slider-'+t.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),t.inline||(e.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-input-swatch").on("click",function(t){t.preventDefault(),e.focus()}));if((o=e.parent().find(".minicolors-panel")).on("selectstart",function(){return!1}).end(),t.swatches&&0!==t.swatches.length)for(o.addClass("minicolors-with-swatches"),n=_('<ul class="minicolors-swatches"></ul>').appendTo(o),a=0;a<t.swatches.length;++a)r=M(r=t.swatches[a])?T(r,!0):I(S(r,!0)),_('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(n).data("swatch-color",t.swatches[a]).find(".minicolors-swatch-color").css({backgroundColor:c(r),opacity:r.a}),t.swatches[a]=r;t.inline&&e.parent().addClass("minicolors-inline");h(e,!1),e.data("minicolors-initialized",!0)}(_(this),e)}),_(this)}}}),_([document,top.document]).on("mousedown.minicolors touchstart.minicolors",function(t){_(t.target).parents().add(t.target).hasClass("minicolors")||r()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var e=_(this);t.preventDefault(),_(t.delegateTarget).data("minicolors-target",e),o(e,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var e=_(t.delegateTarget).data("minicolors-target");e&&o(e,t)}).on("mouseup.minicolors touchend.minicolors",function(){_(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(t){t.preventDefault();var e=_(this),i=e.parents(".minicolors").find(".minicolors-input"),n=e.data("swatch-color");C(i,n,E(n)),h(i)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(t){var e=_(this).parent().find(".minicolors-input");t.preventDefault(),n(e)}).on("focus.minicolors",".minicolors-input",function(){var t=_(this);t.data("minicolors-initialized")&&n(t)}).on("blur.minicolors",".minicolors-input",function(){var t,e,i,n,r,o=_(this),a=o.data("minicolors-settings");o.data("minicolors-initialized")&&(t=a.keywords?_.map(a.keywords.split(","),function(t){return _.trim(t.toLowerCase())}):[],r=""!==o.val()&&-1<_.inArray(o.val().toLowerCase(),t)?o.val():null===(i=M(o.val())?T(o.val(),!0):(e=S(o.val(),!0))?I(e):null)?a.defaultValue:"rgb"===a.format?a.opacity?T("rgba("+i.r+","+i.g+","+i.b+","+o.attr("data-opacity")+")"):T("rgb("+i.r+","+i.g+","+i.b+")"):c(i),n=a.opacity?o.attr("data-opacity"):1,"transparent"===r.toLowerCase()&&(n=0),o.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",n),o.val(r),""===o.val()&&o.val(D(a.defaultValue,!0)),o.val(w(o.val(),a.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var e=_(this);if(e.data("minicolors-initialized"))switch(t.keyCode){case 9:r();break;case 13:case 27:r(),e.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=_(this);t.data("minicolors-initialized")&&h(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=_(this);t.data("minicolors-initialized")&&setTimeout(function(){h(t,!0)},1)})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(C){var n,t=navigator.userAgent,k=/iphone/i.test(t),r=/chrome/i.test(t),T=/android/i.test(t);C.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},C.fn.extend({caret:function(t,e){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&((i=this.createTextRange()).collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(e,v){var i,y,b,x,_,w,S;if(!e&&0<this.length){var t=C(this[0]).data(C.mask.dataName);return t?t():void 0}return v=C.extend({autoclear:C.mask.autoclear,placeholder:C.mask.placeholder,completed:null},v),i=C.mask.definitions,y=[],b=w=e.length,x=null,C.each(e.split(""),function(t,e){"?"==e?(w--,b=t):i[e]?(y.push(new RegExp(i[e])),null===x&&(x=y.length-1),t<b&&(_=y.length-1)):y.push(null)}),this.trigger("unmask").each(function(){function a(){if(v.completed){for(var t=x;t<=_;t++)if(y[t]&&f[t]===s(t))return;v.completed.call(p)}}function s(t){return v.placeholder.charAt(t<v.placeholder.length?t:0)}function l(t){for(;++t<w&&!y[t];);return t}function h(t,e){var i,n;if(!(t<0)){for(i=t,n=l(e);i<w;i++)if(y[i]){if(!(n<w&&y[i].test(f[n])))break;f[i]=f[n],f[n]=s(n),n=l(n)}u(),p.caret(Math.max(x,t))}}function o(){d(),p.val()!=m&&p.change()}function c(t,e){var i;for(i=t;i<e&&i<w;i++)y[i]&&(f[i]=s(i))}function u(){p.val(f.join(""))}function d(t){var e,i,n,r=p.val(),o=-1;for(n=e=0;e<w;e++)if(y[e]){for(f[e]=s(e);n++<r.length;)if(i=r.charAt(n-1),y[e].test(i)){f[e]=i,o=e;break}if(n>r.length){c(e+1,w);break}}else f[e]===r.charAt(n)&&n++,e<b&&(o=e);return t?u():o+1<b?v.autoclear||f.join("")===g?(p.val()&&p.val(""),c(0,w)):u():(u(),p.val(p.val().substring(0,o+1))),b?e:x}var p=C(this),f=C.map(e.split(""),function(t,e){return"?"!=t?i[t]?s(e):t:void 0}),g=f.join(""),m=p.val();p.data(C.mask.dataName,function(){return C.map(f,function(t,e){return y[e]&&t!=s(e)?t:null}).join("")}),p.one("unmask",function(){p.off(".mask").removeData(C.mask.dataName)}).on("focus.mask",function(){var t;p.prop("readonly")||(clearTimeout(n),m=p.val(),t=d(),n=setTimeout(function(){p.get(0)===document.activeElement&&(u(),t==e.replace("?","").length?p.caret(0,t):p.caret(t))},10))}).on("blur.mask",o).on("keydown.mask",function(t){if(!p.prop("readonly")){var e,i,n,r=t.which||t.keyCode;S=p.val(),8===r||46===r||k&&127===r?(i=(e=p.caret()).begin,(n=e.end)-i==0&&(i=46!==r?function(t){for(;0<=--t&&!y[t];);return t}(i):n=l(i-1),n=46===r?l(n):n),c(i,n),h(i,n-1),t.preventDefault()):13===r?o.call(this,t):27===r&&(p.val(m),p.caret(0,d()),t.preventDefault())}}).on("keypress.mask",function(t){if(!p.prop("readonly")){var e,i,n,r=t.which||t.keyCode,o=p.caret();t.ctrlKey||t.altKey||t.metaKey||r<32||!r||13===r||(o.end-o.begin!=0&&(c(o.begin,o.end),h(o.begin,o.end-1)),(e=l(o.begin-1))<w&&(i=String.fromCharCode(r),y[e].test(i))&&(function(t){var e,i,n,r;for(i=s(e=t);e<w;e++)if(y[e]){if(n=l(e),r=f[e],f[e]=i,!(n<w&&y[n].test(r)))break;i=r}}(e),f[e]=i,u(),n=l(e),T?setTimeout(function(){C.proxy(C.fn.caret,p,n)()},0):p.caret(n),o.begin<=_&&a()),t.preventDefault())}}).on("input.mask paste.mask",function(){p.prop("readonly")||setTimeout(function(){var t=d(!0);p.caret(t),a()},0)}),r&&T&&p.off("input.mask").on("input.mask",function(){var t=p.val(),e=p.caret();if(S&&S.length&&S.length>t.length){for(d(!0);0<e.begin&&!y[e.begin-1];)e.begin--;if(0===e.begin)for(;e.begin<x&&!y[e.begin];)e.begin++;p.caret(e.begin,e.begin)}else{for(d(!0);e.begin<w&&!y[e.begin];)e.begin++;p.caret(e.begin,e.begin)}a()}),d()})}})}),function(f){var g,t={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},m=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],v=f('<textarea tabindex="-1"/>').data("autosize",!0)[0];v.style.cssText="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;",(v.style.lineHeight="99px")===f(v).css("lineHeight")&&m.push("lineHeight"),v.style.lineHeight="",f.fn.autosize=function(p){return this.length?(p=f.extend({},t,p||{}),v.parentNode!==document.body&&f(document.body).append(v),this.each(function(){var n,i,t,r=this,o=f(r),a=0,s=f.isFunction(p.callback),e={height:r.style.height,overflow:r.style.overflow,overflowY:r.style.overflowY,wordWrap:r.style.wordWrap,resize:r.style.resize},l=o.width(),h=o.css("resize");function c(){var i,n=window.getComputedStyle?window.getComputedStyle(r,null):null;n?(i=parseFloat(n.width),"border-box"!==n.boxSizing&&"border-box"!==n.webkitBoxSizing&&"border-box"!==n.mozBoxSizing||f.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(t,e){i-=parseFloat(n[e])})):i=o.width(),v.style.width=Math.max(i,0)+"px"}function u(){var t,e;g!==r?function(){var i={};if(g=r,v.className=p.className,v.id=p.id,n=parseFloat(o.css("maxHeight")),f.each(m,function(t,e){i[e]=o.css(e)}),f(v).css(i).attr("wrap",o.attr("wrap")),c(),window.chrome){var t=r.style.width;r.style.width="0px",r.offsetWidth,r.style.width=t}}():c(),!r.value&&p.placeholder?v.value=o.attr("placeholder")||"":v.value=r.value,v.value+=p.append||"",v.style.overflowY=r.style.overflowY,e=parseFloat(r.style.height)||0,v.scrollTop=0,v.scrollTop=9e4,t=v.scrollTop,n&&n<t?(r.style.overflowY="scroll",t=n):(r.style.overflowY="hidden",t<i&&(t=i)),t+=a,.01<Math.abs(e-t)&&(r.style.height=t+"px",v.className=v.className,s&&p.callback.call(r,r),o.trigger("autosize.resized"))}function d(){clearTimeout(t),t=setTimeout(function(){var t=o.width();t!==l&&(l=t,u())},parseInt(p.resizeDelay,10))}o.data("autosize")||(o.data("autosize",!0),"border-box"!==o.css("box-sizing")&&"border-box"!==o.css("-moz-box-sizing")&&"border-box"!==o.css("-webkit-box-sizing")||(a=o.outerHeight()-o.height()),i=Math.max(parseFloat(o.css("minHeight"))-a||0,o.height()),o.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===h?o.css("resize","none"):"both"===h&&o.css("resize","horizontal"),"onpropertychange"in r?"oninput"in r?o.on("input.autosize keyup.autosize",u):o.on("propertychange.autosize",function(){"value"===event.propertyName&&u()}):o.on("input.autosize",u),!1!==p.resizeDelay&&f(window).on("resize.autosize",d),o.on("autosize.resize",u),o.on("autosize.resizeIncludeStyle",function(){g=null,u()}),o.on("autosize.destroy",function(){g=null,clearTimeout(t),f(window).off("resize",d),o.off("autosize").off(".autosize").css(e).removeData("autosize")}),u())})):this}}(jQuery||$),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function e(h,c){"use strict";var u={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},l={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},d={};function p(t,e,i){t.stopPropagation(),t.preventDefault(),h.isFunction(i)&&!1===i.call(e,t)||e.modal("hide")}function f(t,i){var n=0;h.each(t,function(t,e){i(t,e,n++)})}function g(t,e,i){return h.extend(!0,{},t,function(t,e){var i=t.length,n={};if(i<1||2<i)throw new Error("Invalid argument length");return 2===i||"string"==typeof t[0]?(n[e[0]]=t[0],n[e[1]]=t[1]):n=t[0],n}(e,i))}function i(t,e,i,n){return v(g({className:"bootbox-"+t,buttons:m.apply(null,e)},n,i),e)}function m(){for(var t,e,i={},n=0,r=arguments.length;n<r;n++){var o=arguments[n],a=o.toLowerCase(),s=o.toUpperCase();i[a]={label:(t=s,void 0,e=y[l.locale],e?e[t]:y.en[t])}}return i}function v(t,e){var i={};return f(e,function(t,e){i[e]=!0}),f(t.buttons,function(t){if(i[t]===c)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}d.alert=function(){var t;if((t=i("alert",["ok"],["message","callback"],arguments)).callback&&!h.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!h.isFunction(t.callback)||t.callback.call(this)},d.dialog(t)},d.confirm=function(){var t;if((t=i("confirm",["cancel","confirm"],["message","callback"],arguments)).buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!h.isFunction(t.callback))throw new Error("confirm requires a callback");return d.dialog(t)},d.prompt=function(){var e,t,i,n,r,o,a;if(n=h(u.form),t={className:"bootbox-prompt",buttons:m("cancel","confirm"),value:"",inputType:"text"},o=(e=v(g(t,arguments,["title","callback"]),["cancel","confirm"])).show===c||e.show,e.message=n,e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,null)},e.buttons.confirm.callback=function(){var i;switch(e.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":i=r.val();break;case"checkbox":var t=r.find("input:checked");i=[],f(t,function(t,e){i.push(h(e).val())})}return e.callback.call(this,i)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!h.isFunction(e.callback))throw new Error("prompt requires a callback");if(!u.inputs[e.inputType])throw new Error("invalid prompt type");switch(r=h(u.inputs[e.inputType]),e.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":r.val(e.value);break;case"select":var s={};if(a=e.inputOptions||[],!h.isArray(a))throw new Error("Please pass an array of input options");if(!a.length)throw new Error("prompt with select requires options");f(a,function(t,e){var i=r;if(e.value===c||e.text===c)throw new Error("given options in wrong format");e.group&&(s[e.group]||(s[e.group]=h("<optgroup/>").attr("label",e.group)),i=s[e.group]),i.append("<option value='"+e.value+"'>"+e.text+"</option>")}),f(s,function(t,e){r.append(e)}),r.val(e.value);break;case"checkbox":var l=h.isArray(e.value)?e.value:[e.value];if(!(a=e.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!a[0].value||!a[0].text)throw new Error("given options in wrong format");r=h("<div/>"),f(a,function(t,i){var n=h(u.inputs[e.inputType]);n.find("input").attr("value",i.value),n.find("label").append(i.text),f(l,function(t,e){e===i.value&&n.find("input").prop("checked",!0)}),r.append(n)})}return e.placeholder&&r.attr("placeholder",e.placeholder),e.pattern&&r.attr("pattern",e.pattern),e.maxlength&&r.attr("maxlength",e.maxlength),n.append(r),n.on("submit",function(t){t.preventDefault(),t.stopPropagation(),i.find(".btn-primary").click()}),(i=d.dialog(e)).off("shown.bs.modal"),i.on("shown.bs.modal",function(){r.focus()}),!0===o&&i.modal("show"),i},d.dialog=function(t){t=function(t){var n,r;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return(t=h.extend({},l,t)).buttons||(t.buttons={}),n=t.buttons,r=function(t){var e,i=0;for(e in t)i++;return i}(n),f(n,function(t,e,i){if(h.isFunction(e)&&(e=n[t]={callback:e}),"object"!==h.type(e))throw new Error("button with key "+t+" must be an object");e.label||(e.label=t),e.className||(e.className=r<=2&&i===r-1?"btn-primary":"btn-default")}),t}(t);var i=h(u.dialog),e=i.find(".modal-dialog"),n=i.find(".modal-body"),r=t.buttons,o="",a={onEscape:t.onEscape};if(h.fn.modal===c)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(f(r,function(t,e){o+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",a[t]=e.callback}),n.find(".bootbox-body").html(t.message),!0===t.animate&&i.addClass("fade"),t.className&&i.addClass(t.className),"large"===t.size?e.addClass("modal-lg"):"small"===t.size&&e.addClass("modal-sm"),t.title&&n.before(u.header),t.closeButton){var s=h(u.closeButton);t.title?i.find(".modal-header").prepend(s):s.css("margin-top","-10px").prependTo(n)}return t.title&&i.find(".modal-title").html(t.title),o.length&&(n.after(u.footer),i.find(".modal-footer").html(o)),i.on("hidden.bs.modal",function(t){t.target===this&&i.remove()}),i.on("shown.bs.modal",function(){i.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&i.on("click.dismiss.bs.modal",function(t){i.children(".modal-backdrop").length&&(t.currentTarget=i.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&i.trigger("escape.close.bb")}),i.on("escape.close.bb",function(t){a.onEscape&&p(t,i,a.onEscape)}),i.on("click",".modal-footer button",function(t){var e=h(this).data("bb-handler");p(t,i,a[e])}),i.on("click",".bootbox-close-button",function(t){p(t,i,a.onEscape)}),i.on("keyup",function(t){27===t.which&&i.trigger("escape.close.bb")}),h(t.container).append(i),i.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&i.modal("show"),i},d.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],h.extend(l,t)},d.hideAll=function(){return h(".bootbox").modal("hide"),d};var y={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return d.addLocale=function(t,i){return h.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!i[e])throw new Error("Please supply a translation for '"+e+"'")}),y[t]={OK:i.OK,CANCEL:i.CANCEL,CONFIRM:i.CONFIRM},d},d.removeLocale=function(t){return delete y[t],d},d.setLocale=function(t){return d.setDefaults("locale",t)},d.init=function(t){return e(t||h)},d}),function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e||(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),i(e,t,t.document)}:i(jQuery,window,document)}(function(B,A,y,W){"use strict";var f,b,e,t,D=function(S){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new b(t?oe(this[f.iApiIndex]):this)},this.fnAddData=function(t,e){var i=this.api(!0),n=B.isArray(t)&&(B.isArray(t[0])||B.isPlainObject(t[0]))?i.rows.add(t):i.row.add(t);return(e===W||e)&&i.draw(),n.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],n=i.oScroll;t===W||t?e.draw(!1):""===n.sX&&""===n.sY||Vt(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===W||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var n=this.api(!0),r=n.rows(t),o=r.settings()[0],a=o.aoData[r[0][0]];return r.remove(),e&&e.call(this,o,a),(i===W||i)&&n.draw(),a},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,n,r,o){var a=this.api(!0);null===e||e===W?a.search(t,i,n,o):a.column(e).search(t,i,n,o),a.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t!==W){var n=t.nodeName?t.nodeName.toLowerCase():"";return e!==W||"td"==n||"th"==n?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==W?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();if("TR"==i)return e.row(t).index();if("TD"==i||"TH"==i){var n=e.cell(t).index();return[n.row,n.columnVisible,n.column]}return null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===W||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){var n=this.api(!0).column(t).visible(e);(i===W||i)&&n.columns.adjust().draw()},this.fnSettings=function(){return oe(this[f.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,i,n,r){var o=this.api(!0);return i===W||null===i?o.row(e).data(t):o.cell(e,i).data(t),(r===W||r)&&o.columns.adjust(),(n===W||n)&&o.draw(),0},this.fnVersionCheck=f.fnVersionCheck;var C=this,k=S===W,T=this.length;for(var t in k&&(S={}),this.oApi=this.internal=f.internal,D.ext.internal)t&&(this[t]=Oe(t));return this.each(function(){var o,a=1<T?le({},S,!0):S,s=0,t=this.getAttribute("id"),l=!1,e=D.defaults,h=B(this);if("table"==this.nodeName.toLowerCase()){P(e),L(e.column),M(e,e,!0),M(e.column,e.column,!0),M(e,B.extend(a,h.data()));var i=D.settings;for(s=0,o=i.length;s<o;s++){var n=i[s];if(n.nTable==this||n.nTHead.parentNode==this||n.nTFoot&&n.nTFoot.parentNode==this){var r=a.bRetrieve!==W?a.bRetrieve:e.bRetrieve,c=a.bDestroy!==W?a.bDestroy:e.bDestroy;if(k||r)return n.oInstance;if(c){n.oInstance.fnDestroy();break}return void ae(n,0,"Cannot reinitialise DataTable",3)}if(n.sTableId==this.id){i.splice(s,1);break}}null!==t&&""!==t||(t="DataTables_Table_"+D.ext._unique++,this.id=t);var u=B.extend(!0,{},D.models.oSettings,{sDestroyWidth:h[0].style.width,sInstance:t,sTableId:t});u.nTable=this,u.oApi=C.internal,u.oInit=a,i.push(u),u.oInstance=1===C.length?C:h.dataTable(),P(a),a.oLanguage&&E(a.oLanguage),a.aLengthMenu&&!a.iDisplayLength&&(a.iDisplayLength=B.isArray(a.aLengthMenu[0])?a.aLengthMenu[0][0]:a.aLengthMenu[0]),a=le(B.extend(!0,{},e),a),se(u.oFeatures,a,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),se(u,a,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),se(u.oScroll,a,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),se(u.oLanguage,a,"fnInfoCallback"),ce(u,"aoDrawCallback",a.fnDrawCallback,"user"),ce(u,"aoServerParams",a.fnServerParams,"user"),ce(u,"aoStateSaveParams",a.fnStateSaveParams,"user"),ce(u,"aoStateLoadParams",a.fnStateLoadParams,"user"),ce(u,"aoStateLoaded",a.fnStateLoaded,"user"),ce(u,"aoRowCallback",a.fnRowCallback,"user"),ce(u,"aoRowCreatedCallback",a.fnCreatedRow,"user"),ce(u,"aoHeaderCallback",a.fnHeaderCallback,"user"),ce(u,"aoFooterCallback",a.fnFooterCallback,"user"),ce(u,"aoInitComplete",a.fnInitComplete,"user"),ce(u,"aoPreDrawCallback",a.fnPreDrawCallback,"user"),u.rowIdFn=K(a.rowId),I(u);var d=u.oClasses;if(B.extend(d,D.ext.classes,a.oClasses),h.addClass(d.sTable),u.iInitDisplayStart===W&&(u.iInitDisplayStart=a.iDisplayStart,u._iDisplayStart=a.iDisplayStart),null!==a.iDeferLoading){u.bDeferLoading=!0;var p=B.isArray(a.iDeferLoading);u._iRecordsDisplay=p?a.iDeferLoading[0]:a.iDeferLoading,u._iRecordsTotal=p?a.iDeferLoading[1]:a.iDeferLoading}var f=u.oLanguage;B.extend(!0,f,a.oLanguage),f.sUrl&&(B.ajax({dataType:"json",url:f.sUrl,success:function(t){E(t),M(e.oLanguage,t),B.extend(!0,f,t),Lt(u)},error:function(){Lt(u)}}),l=!0),null===a.asStripeClasses&&(u.asStripeClasses=[d.sStripeOdd,d.sStripeEven]);var g=u.asStripeClasses,m=h.children("tbody").find("tr").eq(0);-1!==B.inArray(!0,B.map(g,function(t,e){return m.hasClass(t)}))&&(B("tbody tr",this).removeClass(g.join(" ")),u.asDestroyStripes=g.slice());var v,y=[],b=this.getElementsByTagName("thead");if(0!==b.length&&(ct(u.aoHeader,b[0]),y=ut(u)),null===a.aoColumns)for(v=[],s=0,o=y.length;s<o;s++)v.push(null);else v=a.aoColumns;for(s=0,o=v.length;s<o;s++)O(u,y?y[s]:null);if(z(u,a.aoColumnDefs,v,function(t,e){R(u,t,e)}),m.length){var x=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};B(m[0]).children("th, td").each(function(t,e){var i=u.aoColumns[t];if(i.mData===t){var n=x(e,"sort")||x(e,"order"),r=x(e,"filter")||x(e,"search");null===n&&null===r||(i.mData={_:t+".display",sort:null!==n?t+".@data-"+n:W,type:null!==n?t+".@data-"+n:W,filter:null!==r?t+".@data-"+r:W},R(u,t))}})}var _=u.oFeatures,w=function(){if(a.aaSorting===W){var t=u.aaSorting;for(s=0,o=t.length;s<o;s++)t[s][1]=u.aoColumns[s].asSorting[0]}ee(u),_.bSort&&ce(u,"aoDrawCallback",function(){if(u.bSorted){var t=Kt(u),i={};B.each(t,function(t,e){i[e.src]=e.dir}),ue(u,null,"order",[u,t,i]),Qt(u)}}),ce(u,"aoDrawCallback",function(){(u.bSorted||"ssp"===fe(u)||_.bDeferRender)&&ee(u)},"sc");var e=h.children("caption").each(function(){this._captionSide=B(this).css("caption-side")}),i=h.children("thead");0===i.length&&(i=B("<thead/>").appendTo(h)),u.nTHead=i[0];var n=h.children("tbody");0===n.length&&(n=B("<tbody/>").appendTo(h)),u.nTBody=n[0];var r=h.children("tfoot");if(0===r.length&&0<e.length&&(""!==u.oScroll.sX||""!==u.oScroll.sY)&&(r=B("<tfoot/>").appendTo(h)),0===r.length||0===r.children().length?h.addClass(d.sNoFooter):0<r.length&&(u.nTFoot=r[0],ct(u.aoFooter,u.nTFoot)),a.aaData)for(s=0;s<a.aaData.length;s++)$(u,a.aaData[s]);else(u.bDeferLoading||"dom"==fe(u))&&H(u,B(u.nTBody).children("tr"));u.aiDisplay=u.aiDisplayMaster.slice(),!(u.bInitialised=!0)===l&&Lt(u)};a.bStateSave?(_.bStateSave=!0,ce(u,"aoDrawCallback",ne,"state_save"),re(u,a,w)):w()}else ae(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),C=null,this},i={},n=/[\r\n]/g,r=/<.*?>/g,o=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,a=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),s=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,l=function(t){return!t||!0===t||"-"===t},p=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},h=function(t,e){return i[e]||(i[e]=new RegExp(St(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(i[e],"."):t},c=function(t,e,i){var n="string"==typeof t;return!!l(t)||(e&&n&&(t=h(t,e)),i&&n&&(t=t.replace(s,"")),!isNaN(parseFloat(t))&&isFinite(t))},u=function(t,e,i){return!!l(t)||((l(n=t)||"string"==typeof n)&&!!c(d(t),e,i)||null);var n},j=function(t,e,i){var n=[],r=0,o=t.length;if(i!==W)for(;r<o;r++)t[r]&&t[r][e]&&n.push(t[r][e][i]);else for(;r<o;r++)t[r]&&n.push(t[r][e]);return n},x=function(t,e,i,n){var r=[],o=0,a=e.length;if(n!==W)for(;o<a;o++)t[e[o]][i]&&r.push(t[e[o]][i][n]);else for(;o<a;o++)r.push(t[e[o]][i]);return r},g=function(t,e){var i,n=[];e===W?(e=0,i=t):(i=e,e=t);for(var r=e;r<i;r++)n.push(r);return n},_=function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},d=function(t){return t.replace(r,"")},m=function(t){if(function(t){if(t.length<2)return!0;for(var e=t.slice().sort(),i=e[0],n=1,r=e.length;n<r;n++){if(e[n]===i)return!1;i=e[n]}return!0}(t))return t.slice();var e,i,n,r=[],o=t.length,a=0;t:for(i=0;i<o;i++){for(e=t[i],n=0;n<a;n++)if(r[n]===e)continue t;r.push(e),a++}return r};function v(i){var n,r,o={};B.each(i,function(t,e){(n=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(r=t.replace(n[0],n[2].toLowerCase()),o[r]=t,"o"===n[1]&&v(i[t]))}),i._hungarianMap=o}function M(i,n,r){var o;i._hungarianMap||v(i),B.each(n,function(t,e){(o=i._hungarianMap[t])===W||!r&&n[o]!==W||("o"===o.charAt(0)?(n[o]||(n[o]={}),B.extend(!0,n[o],n[t]),M(i[o],n[o],r)):n[o]=n[t])})}function E(t){var e=D.defaults.oLanguage,i=t.sZeroRecords;!t.sEmptyTable&&i&&"No data available in table"===e.sEmptyTable&&se(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&i&&"Loading..."===e.sLoadingRecords&&se(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands);var n=t.sDecimal;n&&Le(n)}D.util={throttle:function(n,t){var r,o,a=t!==W?t:200;return function(){var t=this,e=+new Date,i=arguments;r&&e<r+a?(clearTimeout(o),o=setTimeout(function(){r=W,n.apply(t,i)},a)):(r=e,n.apply(t,i))}},escapeRegex:function(t){return t.replace(a,"\\$1")}};var w=function(t,e,i){t[e]!==W&&(t[i]=t[e])};function P(t){w(t,"ordering","bSort"),w(t,"orderMulti","bSortMulti"),w(t,"orderClasses","bSortClasses"),w(t,"orderCellsTop","bSortCellsTop"),w(t,"order","aaSorting"),w(t,"orderFixed","aaSortingFixed"),w(t,"paging","bPaginate"),w(t,"pagingType","sPaginationType"),w(t,"pageLength","iDisplayLength"),w(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":"");var e=t.aoSearchCols;if(e)for(var i=0,n=e.length;i<n;i++)e[i]&&M(D.models.oSearch,e[i])}function L(t){w(t,"orderable","bSortable"),w(t,"orderData","aDataSort"),w(t,"orderSequence","asSorting"),w(t,"orderDataType","sortDataType");var e=t.aDataSort;"number"!=typeof e||B.isArray(e)||(t.aDataSort=[e])}function I(t){if(!D.__browser){var e={};D.__browser=e;var i=B("<div/>").css({position:"fixed",top:0,left:-1*B(A).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(B("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(B("<div/>").css({width:"100%",height:10}))).appendTo("body"),n=i.children(),r=n.children();e.barWidth=n[0].offsetWidth-n[0].clientWidth,e.bScrollOversize=100===r[0].offsetWidth&&100!==n[0].clientWidth,e.bScrollbarLeft=1!==Math.round(r.offset().left),e.bBounding=!!i[0].getBoundingClientRect().width,i.remove()}B.extend(t.oBrowser,D.__browser),t.oScroll.iBarWidth=D.__browser.barWidth}function S(t,e,i,n,r,o){var a,s=n,l=!1;for(i!==W&&(a=i,l=!0);s!==r;)t.hasOwnProperty(s)&&(a=l?e(a,t[s],s,t):t[s],l=!0,s+=o);return a}function O(t,e){var i=D.defaults.column,n=t.aoColumns.length,r=B.extend({},D.models.oColumn,i,{nTh:e||y.createElement("th"),sTitle:i.sTitle?i.sTitle:e?e.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[n],mData:i.mData?i.mData:n,idx:n});t.aoColumns.push(r);var o=t.aoPreSearchCols;o[n]=B.extend({},D.models.oSearch,o[n]),R(t,n,B(e).data())}function R(t,e,i){var n=t.aoColumns[e],r=t.oClasses,o=B(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=o.attr("width")||null;var a=(o.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);a&&(n.sWidthOrig=a[1])}i!==W&&null!==i&&(L(i),M(D.defaults.column,i),i.mDataProp===W||i.mData||(i.mData=i.mDataProp),i.sType&&(n._sManualType=i.sType),i.className&&!i.sClass&&(i.sClass=i.className),i.sClass&&o.addClass(i.sClass),B.extend(n,i),se(n,i,"sWidth","sWidthOrig"),i.iDataSort!==W&&(n.aDataSort=[i.iDataSort]),se(n,i,"aDataSort"));var s=n.mData,l=K(s),h=n.mRender?K(n.mRender):null,c=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};n._bAttrSrc=B.isPlainObject(s)&&(c(s.sort)||c(s.type)||c(s.filter)),n._setter=null,n.fnGetData=function(t,e,i){var n=l(t,e,W,i);return h&&e?h(n,e,t,i):n},n.fnSetData=function(t,e,i){return Z(s)(t,e,i)},"number"!=typeof s&&(t._rowReadObject=!0),t.oFeatures.bSort||(n.bSortable=!1,o.addClass(r.sSortableNone));var u=-1!==B.inArray("asc",n.asSorting),d=-1!==B.inArray("desc",n.asSorting);n.bSortable&&(u||d)?u&&!d?(n.sSortingClass=r.sSortableAsc,n.sSortingClassJUI=r.sSortJUIAscAllowed):!u&&d?(n.sSortingClass=r.sSortableDesc,n.sSortingClassJUI=r.sSortJUIDescAllowed):(n.sSortingClass=r.sSortable,n.sSortingClassJUI=r.sSortJUI):(n.sSortingClass=r.sSortableNone,n.sSortingClassJUI="")}function Y(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;jt(t);for(var i=0,n=e.length;i<n;i++)e[i].nTh.style.width=e[i].sWidth}var r=t.oScroll;""===r.sY&&""===r.sX||Vt(t),ue(t,null,"column-sizing",[t])}function U(t,e){var i=N(t,"bVisible");return"number"==typeof i[e]?i[e]:null}function C(t,e){var i=N(t,"bVisible"),n=B.inArray(e,i);return-1!==n?n:null}function F(t){var i=0;return B.each(t.aoColumns,function(t,e){e.bVisible&&"none"!==B(e.nTh).css("display")&&i++}),i}function N(t,i){var n=[];return B.map(t.aoColumns,function(t,e){t[i]&&n.push(e)}),n}function k(t){var e,i,n,r,o,a,s,l,h,c=t.aoColumns,u=t.aoData,d=D.ext.type.detect;for(e=0,i=c.length;e<i;e++)if(h=[],!(s=c[e]).sType&&s._sManualType)s.sType=s._sManualType;else if(!s.sType){for(n=0,r=d.length;n<r;n++){for(o=0,a=u.length;o<a&&(h[o]===W&&(h[o]=T(t,o,e,"type")),(l=d[n](h[o],t))||n===d.length-1)&&"html"!==l;o++);if(l){s.sType=l;break}}s.sType||(s.sType="string")}}function z(t,e,i,n){var r,o,a,s,l,h,c,u=t.aoColumns;if(e)for(r=e.length-1;0<=r;r--){var d=(c=e[r]).targets!==W?c.targets:c.aTargets;for(B.isArray(d)||(d=[d]),a=0,s=d.length;a<s;a++)if("number"==typeof d[a]&&0<=d[a]){for(;u.length<=d[a];)O(t);n(d[a],c)}else if("number"==typeof d[a]&&d[a]<0)n(u.length+d[a],c);else if("string"==typeof d[a])for(l=0,h=u.length;l<h;l++)("_all"==d[a]||B(u[l].nTh).hasClass(d[a]))&&n(l,c)}if(i)for(r=0,o=i.length;r<o;r++)n(r,i[r])}function $(t,e,i,n){var r=t.aoData.length,o=B.extend(!0,{},D.models.oRow,{src:i?"dom":"data",idx:r});o._aData=e,t.aoData.push(o);for(var a=t.aoColumns,s=0,l=a.length;s<l;s++)a[s].sType=null;t.aiDisplayMaster.push(r);var h=t.rowIdFn(e);return h!==W&&(t.aIds[h]=o),!i&&t.oFeatures.bDeferRender||nt(t,r,i,n),r}function H(i,t){var n;return t instanceof B||(t=B(t)),t.map(function(t,e){return n=it(i,e),$(i,n.data,e,n.cells)})}function T(t,e,i,n){var r=t.iDraw,o=t.aoColumns[i],a=t.aoData[e]._aData,s=o.sDefaultContent,l=o.fnGetData(a,n,{settings:t,row:e,col:i});if(l===W)return t.iDrawError!=r&&null===s&&(ae(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+e+", column "+i,4),t.iDrawError=r),s;if(l!==a&&null!==l||null===s||n===W){if("function"==typeof l)return l.call(a)}else l=s;return null===l&&"display"==n?"":l}function V(t,e,i,n){var r=t.aoColumns[i],o=t.aoData[e]._aData;r.fnSetData(o,n,{settings:t,row:e,col:i})}var G=/\[.*?\]$/,q=/\(\)$/;function X(t){return B.map(t.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function K(r){if(B.isPlainObject(r)){var o={};return B.each(r,function(t,e){e&&(o[t]=K(e))}),function(t,e,i,n){var r=o[e]||o._;return r!==W?r(t,e,i,n):t}}if(null===r)return function(t){return t};if("function"==typeof r)return function(t,e,i,n){return r(t,e,i,n)};if("string"!=typeof r||-1===r.indexOf(".")&&-1===r.indexOf("[")&&-1===r.indexOf("("))return function(t,e){return t[r]};var p=function(t,e,i){var n,r,o,a;if(""!==i)for(var s=X(i),l=0,h=s.length;l<h;l++){if(n=s[l].match(G),r=s[l].match(q),n){if(s[l]=s[l].replace(G,""),""!==s[l]&&(t=t[s[l]]),o=[],s.splice(0,l+1),a=s.join("."),B.isArray(t))for(var c=0,u=t.length;c<u;c++)o.push(p(t[c],e,a));var d=n[0].substring(1,n[0].length-1);t=""===d?o:o.join(d);break}if(r)s[l]=s[l].replace(q,""),t=t[s[l]]();else{if(null===t||t[s[l]]===W)return W;t=t[s[l]]}}return t};return function(t,e){return p(t,e,r)}}function Z(n){if(B.isPlainObject(n))return Z(n._);if(null===n)return function(){};if("function"==typeof n)return function(t,e,i){n(t,"set",e,i)};if("string"!=typeof n||-1===n.indexOf(".")&&-1===n.indexOf("[")&&-1===n.indexOf("("))return function(t,e){t[n]=e};var f=function(t,e,i){for(var n,r,o,a,s,l=X(i),h=l[l.length-1],c=0,u=l.length-1;c<u;c++){if(r=l[c].match(G),o=l[c].match(q),r){if(l[c]=l[c].replace(G,""),t[l[c]]=[],(n=l.slice()).splice(0,c+1),s=n.join("."),B.isArray(e))for(var d=0,p=e.length;d<p;d++)f(a={},e[d],s),t[l[c]].push(a);else t[l[c]]=e;return}o&&(l[c]=l[c].replace(q,""),t=t[l[c]](e)),null!==t[l[c]]&&t[l[c]]!==W||(t[l[c]]={}),t=t[l[c]]}h.match(q)?t=t[h.replace(q,"")](e):t[h.replace(G,"")]=e};return function(t,e){return f(t,e,n)}}function Q(t){return j(t.aoData,"_aData")}function J(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function tt(t,e,i){for(var n=-1,r=0,o=t.length;r<o;r++)t[r]==e?n=r:t[r]>e&&t[r]--;-1!=n&&i===W&&t.splice(n,1)}function et(i,n,t,e){var r,o,a=i.aoData[n],s=function(t,e){for(;t.childNodes.length;)t.removeChild(t.firstChild);t.innerHTML=T(i,n,e,"display")};if("dom"!==t&&(t&&"auto"!==t||"dom"!==a.src)){var l=a.anCells;if(l)if(e!==W)s(l[e],e);else for(r=0,o=l.length;r<o;r++)s(l[r],r)}else a._aData=it(i,a,e,e===W?W:a._aData).data;a._aSortData=null,a._aFilterData=null;var h=i.aoColumns;if(e!==W)h[e].sType=null;else{for(r=0,o=h.length;r<o;r++)h[r].sType=null;rt(i,a)}}function it(t,e,i,r){var n,o,a,s=[],l=e.firstChild,h=0,c=t.aoColumns,u=t._rowReadObject;r=r!==W?r:u?{}:[];var d=function(t,e){if("string"==typeof t){var i=t.indexOf("@");if(-1!==i){var n=t.substring(i+1);Z(t)(r,e.getAttribute(n))}}},p=function(t){i!==W&&i!==h||(o=c[h],a=B.trim(t.innerHTML),o&&o._bAttrSrc?(Z(o.mData._)(r,a),d(o.mData.sort,t),d(o.mData.type,t),d(o.mData.filter,t)):u?(o._setter||(o._setter=Z(o.mData)),o._setter(r,a)):r[h]=a);h++};if(l)for(;l;)"TD"!=(n=l.nodeName.toUpperCase())&&"TH"!=n||(p(l),s.push(l)),l=l.nextSibling;else for(var f=0,g=(s=e.anCells).length;f<g;f++)p(s[f]);var m=e.firstChild?e:e.nTr;if(m){var v=m.getAttribute("id");v&&Z(t.rowId)(r,v)}return{data:r,cells:s}}function nt(t,e,i,n){var r,o,a,s,l,h=t.aoData[e],c=h._aData,u=[];if(null===h.nTr){for(r=i||y.createElement("tr"),h.nTr=r,h.anCells=u,r._DT_RowIndex=e,rt(t,h),s=0,l=t.aoColumns.length;s<l;s++)a=t.aoColumns[s],(o=i?n[s]:y.createElement(a.sCellType))._DT_CellIndex={row:e,column:s},u.push(o),i&&!a.mRender&&a.mData===s||B.isPlainObject(a.mData)&&a.mData._===s+".display"||(o.innerHTML=T(t,e,s,"display")),a.sClass&&(o.className+=" "+a.sClass),a.bVisible&&!i?r.appendChild(o):!a.bVisible&&i&&o.parentNode.removeChild(o),a.fnCreatedCell&&a.fnCreatedCell.call(t.oInstance,o,T(t,e,s),c,e,s);ue(t,"aoRowCreatedCallback",null,[r,c,e])}h.nTr.setAttribute("role","row")}function rt(t,e){var i=e.nTr,n=e._aData;if(i){var r=t.rowIdFn(n);if(r&&(i.id=r),n.DT_RowClass){var o=n.DT_RowClass.split(" ");e.__rowc=e.__rowc?m(e.__rowc.concat(o)):o,B(i).removeClass(e.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowAttr&&B(i).attr(n.DT_RowAttr),n.DT_RowData&&B(i).data(n.DT_RowData)}}function ot(t){var e,i,n,r,o,a=t.nTHead,s=t.nTFoot,l=0===B("th, td",a).length,h=t.oClasses,c=t.aoColumns;for(l&&(r=B("<tr/>").appendTo(a)),e=0,i=c.length;e<i;e++)o=c[e],n=B(o.nTh).addClass(o.sClass),l&&n.appendTo(r),t.oFeatures.bSort&&(n.addClass(o.sSortingClass),!1!==o.bSortable&&(n.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),te(t,o.nTh,e))),o.sTitle!=n[0].innerHTML&&n.html(o.sTitle),pe(t,"header")(t,n,o,h);if(l&&ct(t.aoHeader,a),B(a).find(">tr").attr("role","row"),B(a).find(">tr>th, >tr>td").addClass(h.sHeaderTH),B(s).find(">tr>th, >tr>td").addClass(h.sFooterTH),null!==s){var u=t.aoFooter[0];for(e=0,i=u.length;e<i;e++)(o=c[e]).nTf=u[e].cell,o.sClass&&B(o.nTf).addClass(o.sClass)}}function at(t,e,i){var n,r,o,a,s,l,h,c,u,d=[],p=[],f=t.aoColumns.length;if(e){for(i===W&&(i=!1),n=0,r=e.length;n<r;n++){for(d[n]=e[n].slice(),d[n].nTr=e[n].nTr,o=f-1;0<=o;o--)t.aoColumns[o].bVisible||i||d[n].splice(o,1);p.push([])}for(n=0,r=d.length;n<r;n++){if(h=d[n].nTr)for(;l=h.firstChild;)h.removeChild(l);for(o=0,a=d[n].length;o<a;o++)if(u=c=1,p[n][o]===W){for(h.appendChild(d[n][o].cell),p[n][o]=1;d[n+c]!==W&&d[n][o].cell==d[n+c][o].cell;)p[n+c][o]=1,c++;for(;d[n][o+u]!==W&&d[n][o].cell==d[n][o+u].cell;){for(s=0;s<c;s++)p[n+s][o+u]=1;u++}B(d[n][o].cell).attr("rowspan",c).attr("colspan",u)}}}}function st(t){var e=ue(t,"aoPreDrawCallback","preDraw",[t]);if(-1===B.inArray(!1,e)){var i=[],n=0,r=t.asStripeClasses,o=r.length,a=(t.aoOpenRows.length,t.oLanguage),s=t.iInitDisplayStart,l="ssp"==fe(t),h=t.aiDisplay;t.bDrawing=!0,s!==W&&-1!==s&&(t._iDisplayStart=l?s:s>=t.fnRecordsDisplay()?0:s,t.iInitDisplayStart=-1);var c=t._iDisplayStart,u=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,$t(t,!1);else if(l){if(!t.bDestroying&&!pt(t))return}else t.iDraw++;if(0!==h.length)for(var d=l?0:c,p=l?t.aoData.length:u,f=d;f<p;f++){var g=h[f],m=t.aoData[g];null===m.nTr&&nt(t,g);var v=m.nTr;if(0!==o){var y=r[n%o];m._sRowStripe!=y&&(B(v).removeClass(m._sRowStripe).addClass(y),m._sRowStripe=y)}ue(t,"aoRowCallback",null,[v,m._aData,n,f]),i.push(v),n++}else{var b=a.sZeroRecords;1==t.iDraw&&"ajax"==fe(t)?b=a.sLoadingRecords:a.sEmptyTable&&0===t.fnRecordsTotal()&&(b=a.sEmptyTable),i[0]=B("<tr/>",{class:o?r[0]:""}).append(B("<td />",{valign:"top",colSpan:F(t),class:t.oClasses.sRowEmpty}).html(b))[0]}ue(t,"aoHeaderCallback","header",[B(t.nTHead).children("tr")[0],Q(t),c,u,h]),ue(t,"aoFooterCallback","footer",[B(t.nTFoot).children("tr")[0],Q(t),c,u,h]);var x=B(t.nTBody);x.children().detach(),x.append(B(i)),ue(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}else $t(t,!1)}function lt(t,e){var i=t.oFeatures,n=i.bSort,r=i.bFilter;n&&Zt(t),r?yt(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,st(t),t._drawHold=!1}function ht(t){var e=t.oClasses,i=B(t.nTable),n=B("<div/>").insertBefore(i),r=t.oFeatures,o=B("<div/>",{id:t.sTableId+"_wrapper",class:e.sWrapper+(t.nTFoot?"":" "+e.sNoFooter)});t.nHolding=n[0],t.nTableWrapper=o[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var a,s,l,h,c,u,d=t.sDom.split(""),p=0;p<d.length;p++){if(a=null,"<"==(s=d[p])){if(l=B("<div/>")[0],"'"==(h=d[p+1])||'"'==h){for(c="",u=2;d[p+u]!=h;)c+=d[p+u],u++;if("H"==c?c=e.sJUIHeader:"F"==c&&(c=e.sJUIFooter),-1!=c.indexOf(".")){var f=c.split(".");l.id=f[0].substr(1,f[0].length-1),l.className=f[1]}else"#"==c.charAt(0)?l.id=c.substr(1,c.length-1):l.className=c;p+=u}o.append(l),o=B(l)}else if(">"==s)o=o.parent();else if("l"==s&&r.bPaginate&&r.bLengthChange)a=Rt(t);else if("f"==s&&r.bFilter)a=vt(t);else if("r"==s&&r.bProcessing)a=zt(t);else if("t"==s)a=Ht(t);else if("i"==s&&r.bInfo)a=Mt(t);else if("p"==s&&r.bPaginate)a=Ft(t);else if(0!==D.ext.feature.length)for(var g=D.ext.feature,m=0,v=g.length;m<v;m++)if(s==g[m].cFeature){a=g[m].fnInit(t);break}if(a){var y=t.aanFeatures;y[s]||(y[s]=[]),y[s].push(a),o.append(a)}}n.replaceWith(o),t.nHolding=null}function ct(t,e){var i,n,r,o,a,s,l,h,c,u,d=B(e).children("tr"),p=function(t,e,i){for(var n=t[e];n[i];)i++;return i};for(t.splice(0,t.length),r=0,s=d.length;r<s;r++)t.push([]);for(r=0,s=d.length;r<s;r++)for(0,n=(i=d[r]).firstChild;n;){if("TD"==n.nodeName.toUpperCase()||"TH"==n.nodeName.toUpperCase())for(h=(h=1*n.getAttribute("colspan"))&&0!==h&&1!==h?h:1,c=(c=1*n.getAttribute("rowspan"))&&0!==c&&1!==c?c:1,l=p(t,r,0),u=1===h,a=0;a<h;a++)for(o=0;o<c;o++)t[r+o][l+a]={cell:n,unique:u},t[r+o].nTr=i;n=n.nextSibling}}function ut(t,e,i){var n=[];i||(i=t.aoHeader,e&&ct(i=[],e));for(var r=0,o=i.length;r<o;r++)for(var a=0,s=i[r].length;a<s;a++)!i[r][a].unique||n[a]&&t.bSortCellsTop||(n[a]=i[r][a].cell);return n}function dt(r,t,e){if(ue(r,"aoServerParams","serverParams",[t]),t&&B.isArray(t)){var o={},a=/(.*?)\[\]$/;B.each(t,function(t,e){var i=e.name.match(a);if(i){var n=i[0];o[n]||(o[n]=[]),o[n].push(e.value)}else o[e.name]=e.value}),t=o}var i,n=r.ajax,s=r.oInstance,l=function(t){ue(r,null,"xhr",[r,t,r.jqXHR]),e(t)};if(B.isPlainObject(n)&&n.data){i=n.data;var h=B.isFunction(i)?i(t,r):i;t=B.isFunction(i)&&h?h:B.extend(!0,t,h),delete n.data}var c={data:t,success:function(t){var e=t.error||t.sError;e&&ae(r,0,e),r.json=t,l(t)},dataType:"json",cache:!1,type:r.sServerMethod,error:function(t,e,i){var n=ue(r,null,"xhr",[r,null,r.jqXHR]);-1===B.inArray(!0,n)&&("parsererror"==e?ae(r,0,"Invalid JSON response",1):4===t.readyState&&ae(r,0,"Ajax error",7)),$t(r,!1)}};r.oAjaxData=t,ue(r,null,"preXhr",[r,t]),r.fnServerData?r.fnServerData.call(s,r.sAjaxSource,B.map(t,function(t,e){return{name:e,value:t}}),l,r):r.sAjaxSource||"string"==typeof n?r.jqXHR=B.ajax(B.extend(c,{url:n||r.sAjaxSource})):B.isFunction(n)?r.jqXHR=n.call(s,t,l,r):(r.jqXHR=B.ajax(B.extend(c,n)),n.data=i)}function pt(e){return!e.bAjaxDataGet||(e.iDraw++,$t(e,!0),dt(e,ft(e),function(t){gt(e,t)}),!1)}function ft(t){var e,i,n,r,o=t.aoColumns,a=o.length,s=t.oFeatures,l=t.oPreviousSearch,h=t.aoPreSearchCols,c=[],u=Kt(t),d=t._iDisplayStart,p=!1!==s.bPaginate?t._iDisplayLength:-1,f=function(t,e){c.push({name:t,value:e})};f("sEcho",t.iDraw),f("iColumns",a),f("sColumns",j(o,"sName").join(",")),f("iDisplayStart",d),f("iDisplayLength",p);var g={draw:t.iDraw,columns:[],order:[],start:d,length:p,search:{value:l.sSearch,regex:l.bRegex}};for(e=0;e<a;e++)n=o[e],r=h[e],i="function"==typeof n.mData?"function":n.mData,g.columns.push({data:i,name:n.sName,searchable:n.bSearchable,orderable:n.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),f("mDataProp_"+e,i),s.bFilter&&(f("sSearch_"+e,r.sSearch),f("bRegex_"+e,r.bRegex),f("bSearchable_"+e,n.bSearchable)),s.bSort&&f("bSortable_"+e,n.bSortable);s.bFilter&&(f("sSearch",l.sSearch),f("bRegex",l.bRegex)),s.bSort&&(B.each(u,function(t,e){g.order.push({column:e.col,dir:e.dir}),f("iSortCol_"+t,e.col),f("sSortDir_"+t,e.dir)}),f("iSortingCols",u.length));var m=D.ext.legacy.ajax;return null===m?t.sAjaxSource?c:g:m?c:g}function gt(t,i){var e=function(t,e){return i[t]!==W?i[t]:i[e]},n=mt(t,i),r=e("sEcho","draw"),o=e("iTotalRecords","recordsTotal"),a=e("iTotalDisplayRecords","recordsFiltered");if(r){if(1*r<t.iDraw)return;t.iDraw=1*r}J(t),t._iRecordsTotal=parseInt(o,10),t._iRecordsDisplay=parseInt(a,10);for(var s=0,l=n.length;s<l;s++)$(t,n[s]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,st(t),t._bInitComplete||It(t,i),t.bAjaxDataGet=!0,$t(t,!1)}function mt(t,e){var i=B.isPlainObject(t.ajax)&&t.ajax.dataSrc!==W?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===i?e.aaData||e[i]:""!==i?K(i)(e):e}function vt(i){var t=i.oClasses,e=i.sTableId,n=i.oLanguage,r=i.oPreviousSearch,o=i.aanFeatures,a='<input type="search" class="'+t.sFilterInput+'"/>',s=n.sSearch;s=s.match(/_INPUT_/)?s.replace("_INPUT_",a):s+a;var l=B("<div/>",{id:o.f?null:e+"_filter",class:t.sFilter}).append(B("<label/>").append(s)),h=function(){o.f;var t=this.value?this.value:"";t!=r.sSearch&&(yt(i,{sSearch:t,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),i._iDisplayStart=0,st(i))},c=null!==i.searchDelay?i.searchDelay:"ssp"===fe(i)?400:0,u=B("input",l).val(r.sSearch).attr("placeholder",n.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",c?Yt(h,c):h).on("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",e);return B(i.nTable).on("search.dt.DT",function(t,e){if(i===e)try{u[0]!==y.activeElement&&u.val(r.sSearch)}catch(t){}}),l[0]}function yt(t,e,i){var n=t.oPreviousSearch,r=t.aoPreSearchCols,o=function(t){n.sSearch=t.sSearch,n.bRegex=t.bRegex,n.bSmart=t.bSmart,n.bCaseInsensitive=t.bCaseInsensitive},a=function(t){return t.bEscapeRegex!==W?!t.bEscapeRegex:t.bRegex};if(k(t),"ssp"!=fe(t)){_t(t,e.sSearch,i,a(e),e.bSmart,e.bCaseInsensitive),o(e);for(var s=0;s<r.length;s++)xt(t,r[s].sSearch,s,a(r[s]),r[s].bSmart,r[s].bCaseInsensitive);bt(t)}else o(e);t.bFiltered=!0,ue(t,null,"search",[t])}function bt(t){for(var e,i,n=D.ext.search,r=t.aiDisplay,o=0,a=n.length;o<a;o++){for(var s=[],l=0,h=r.length;l<h;l++)i=r[l],e=t.aoData[i],n[o](t,e._aFilterData,i,e._aData,l)&&s.push(i);r.length=0,B.merge(r,s)}}function xt(t,e,i,n,r,o){if(""!==e){for(var a,s=[],l=t.aiDisplay,h=wt(e,n,r,o),c=0;c<l.length;c++)a=t.aoData[l[c]]._aFilterData[i],h.test(a)&&s.push(l[c]);t.aiDisplay=s}}function _t(t,e,i,n,r,o){var a,s,l,h=wt(e,n,r,o),c=t.oPreviousSearch.sSearch,u=t.aiDisplayMaster,d=[];if(0!==D.ext.search.length&&(i=!0),s=Tt(t),e.length<=0)t.aiDisplay=u.slice();else{for((s||i||c.length>e.length||0!==e.indexOf(c)||t.bSorted)&&(t.aiDisplay=u.slice()),a=t.aiDisplay,l=0;l<a.length;l++)h.test(t.aoData[a[l]]._sFilterRow)&&d.push(a[l]);t.aiDisplay=d}}function wt(t,e,i,n){(t=e?t:St(t),i)&&(t="^(?=.*?"+B.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}).join(")(?=.*?")+").*$");return new RegExp(t,n?"i":"")}var St=D.util.escapeRegex,Ct=B("<div>")[0],kt=Ct.textContent!==W;function Tt(t){var e,i,n,r,o,a,s,l,h=t.aoColumns,c=D.ext.type.search,u=!1;for(i=0,r=t.aoData.length;i<r;i++)if(!(l=t.aoData[i])._aFilterData){for(a=[],n=0,o=h.length;n<o;n++)(e=h[n]).bSearchable?(s=T(t,i,n,"filter"),c[e.sType]&&(s=c[e.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(Ct.innerHTML=s,s=kt?Ct.textContent:Ct.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),a.push(s);l._aFilterData=a,l._sFilterRow=a.join("  "),u=!0}return u}function Dt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function At(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function Mt(t){var e=t.sTableId,i=t.aanFeatures.i,n=B("<div/>",{class:t.oClasses.sInfo,id:i?null:e+"_info"});return i||(t.aoDrawCallback.push({fn:Et,sName:"information"}),n.attr("role","status").attr("aria-live","polite"),B(t.nTable).attr("aria-describedby",e+"_info")),n[0]}function Et(t){var e=t.aanFeatures.i;if(0!==e.length){var i=t.oLanguage,n=t._iDisplayStart+1,r=t.fnDisplayEnd(),o=t.fnRecordsTotal(),a=t.fnRecordsDisplay(),s=a?i.sInfo:i.sInfoEmpty;a!==o&&(s+=" "+i.sInfoFiltered),s=Pt(t,s+=i.sInfoPostFix);var l=i.fnInfoCallback;null!==l&&(s=l.call(t.oInstance,t,n,r,o,a,s)),B(e).html(s)}}function Pt(t,e){var i=t.fnFormatNumber,n=t._iDisplayStart+1,r=t._iDisplayLength,o=t.fnRecordsDisplay(),a=-1===r;return e.replace(/_START_/g,i.call(t,n)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,o)).replace(/_PAGE_/g,i.call(t,a?1:Math.ceil(n/r))).replace(/_PAGES_/g,i.call(t,a?1:Math.ceil(o/r)))}function Lt(i){var n,t,e,r=i.iInitDisplayStart,o=i.aoColumns,a=i.oFeatures,s=i.bDeferLoading;if(i.bInitialised){for(ht(i),ot(i),at(i,i.aoHeader),at(i,i.aoFooter),$t(i,!0),a.bAutoWidth&&jt(i),n=0,t=o.length;n<t;n++)(e=o[n]).sWidth&&(e.nTh.style.width=Xt(e.sWidth));ue(i,null,"preInit",[i]),lt(i);var l=fe(i);("ssp"!=l||s)&&("ajax"==l?dt(i,[],function(t){var e=mt(i,t);for(n=0;n<e.length;n++)$(i,e[n]);i.iInitDisplayStart=r,lt(i),$t(i,!1),It(i,t)}):($t(i,!1),It(i)))}else setTimeout(function(){Lt(i)},200)}function It(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&Y(t),ue(t,null,"plugin-init",[t,e]),ue(t,"aoInitComplete","init",[t,e])}function Ot(t,e){var i=parseInt(e,10);t._iDisplayLength=i,de(t),ue(t,null,"length",[t,i])}function Rt(n){for(var t=n.oClasses,e=n.sTableId,i=n.aLengthMenu,r=B.isArray(i[0]),o=r?i[0]:i,a=r?i[1]:i,s=B("<select/>",{name:e+"_length","aria-controls":e,class:t.sLengthSelect}),l=0,h=o.length;l<h;l++)s[0][l]=new Option("number"==typeof a[l]?n.fnFormatNumber(a[l]):a[l],o[l]);var c=B("<div><label/></div>").addClass(t.sLength);return n.aanFeatures.l||(c[0].id=e+"_length"),c.children().append(n.oLanguage.sLengthMenu.replace("_MENU_",s[0].outerHTML)),B("select",c).val(n._iDisplayLength).on("change.DT",function(t){Ot(n,B(this).val()),st(n)}),B(n.nTable).on("length.dt.DT",function(t,e,i){n===e&&B("select",c).val(i)}),c[0]}function Ft(t){var e=t.sPaginationType,c=D.ext.pager[e],u="function"==typeof c,d=function(t){st(t)},i=B("<div/>").addClass(t.oClasses.sPaging+e)[0],p=t.aanFeatures;return u||c.fnInit(t,i,d),p.p||(i.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(u){var e,i,n=t._iDisplayStart,r=t._iDisplayLength,o=t.fnRecordsDisplay(),a=-1===r,s=a?0:Math.ceil(n/r),l=a?1:Math.ceil(o/r),h=c(s,l);for(e=0,i=p.p.length;e<i;e++)pe(t,"pageButton")(t,p.p[e],e,h,s,l)}else c.fnUpdate(t,d)},sName:"pagination"})),i}function Nt(t,e,i){var n=t._iDisplayStart,r=t._iDisplayLength,o=t.fnRecordsDisplay();0===o||-1===r?n=0:"number"==typeof e?o<(n=e*r)&&(n=0):"first"==e?n=0:"previous"==e?(n=0<=r?n-r:0)<0&&(n=0):"next"==e?n+r<o&&(n+=r):"last"==e?n=Math.floor((o-1)/r)*r:ae(t,0,"Unknown paging action: "+e,5);var a=t._iDisplayStart!==n;return t._iDisplayStart=n,a&&(ue(t,null,"page",[t]),i&&st(t)),a}function zt(t){return B("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function $t(t,e){t.oFeatures.bProcessing&&B(t.aanFeatures.r).css("display",e?"block":"none"),ue(t,null,"processing",[t,e])}function Ht(t){var e=B(t.nTable);e.attr("role","grid");var i=t.oScroll;if(""===i.sX&&""===i.sY)return t.nTable;var n=i.sX,r=i.sY,o=t.oClasses,a=e.children("caption"),s=a.length?a[0]._captionSide:null,l=B(e[0].cloneNode(!1)),h=B(e[0].cloneNode(!1)),c=e.children("tfoot"),u="<div/>",d=function(t){return t?Xt(t):null};c.length||(c=null);var p=B(u,{class:o.sScrollWrapper}).append(B(u,{class:o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:n?d(n):"100%"}).append(B(u,{class:o.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append("top"===s?a:null).append(e.children("thead"))))).append(B(u,{class:o.sScrollBody}).css({position:"relative",overflow:"auto",width:d(n)}).append(e));c&&p.append(B(u,{class:o.sScrollFoot}).css({overflow:"hidden",border:0,width:n?d(n):"100%"}).append(B(u,{class:o.sScrollFootInner}).append(h.removeAttr("id").css("margin-left",0).append("bottom"===s?a:null).append(e.children("tfoot")))));var f=p.children(),g=f[0],m=f[1],v=c?f[2]:null;return n&&B(m).on("scroll.DT",function(t){var e=this.scrollLeft;g.scrollLeft=e,c&&(v.scrollLeft=e)}),B(m).css(r&&i.bCollapse?"max-height":"height",r),t.nScrollHead=g,t.nScrollBody=m,t.nScrollFoot=v,t.aoDrawCallback.push({fn:Vt,sName:"scrolling"}),p[0]}function Vt(i){var t,e,n,r,o,a,s,l,h,c=i.oScroll,u=c.sX,d=c.sXInner,p=c.sY,f=c.iBarWidth,g=B(i.nScrollHead),m=g[0].style,v=g.children("div"),y=v[0].style,b=v.children("table"),x=i.nScrollBody,_=B(x),w=x.style,S=B(i.nScrollFoot).children("div"),C=S.children("table"),k=B(i.nTHead),T=B(i.nTable),D=T[0],A=D.style,M=i.nTFoot?B(i.nTFoot):null,E=i.oBrowser,P=E.bScrollOversize,L=j(i.aoColumns,"nTh"),I=[],O=[],R=[],F=[],N=function(t){var e=t.style;e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0},z=x.scrollHeight>x.clientHeight;if(i.scrollBarVis!==z&&i.scrollBarVis!==W)return i.scrollBarVis=z,void Y(i);i.scrollBarVis=z,T.children("thead, tfoot").remove(),M&&(a=M.clone().prependTo(T),e=M.find("tr"),r=a.find("tr")),o=k.clone().prependTo(T),t=k.find("tr"),n=o.find("tr"),o.find("th, td").removeAttr("tabindex"),u||(w.width="100%",g[0].style.width="100%"),B.each(ut(i,o),function(t,e){s=U(i,t),e.style.width=i.aoColumns[s].sWidth}),M&&Bt(function(t){t.style.width=""},r),h=T.outerWidth(),""===u?(A.width="100%",P&&(T.find("tbody").height()>x.offsetHeight||"scroll"==_.css("overflow-y"))&&(A.width=Xt(T.outerWidth()-f)),h=T.outerWidth()):""!==d&&(A.width=Xt(d),h=T.outerWidth()),Bt(N,n),Bt(function(t){R.push(t.innerHTML),I.push(Xt(B(t).css("width")))},n),Bt(function(t,e){-1!==B.inArray(t,L)&&(t.style.width=I[e])},t),B(n).height(0),M&&(Bt(N,r),Bt(function(t){F.push(t.innerHTML),O.push(Xt(B(t).css("width")))},r),Bt(function(t,e){t.style.width=O[e]},e),B(r).height(0)),Bt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+R[e]+"</div>",t.style.width=I[e]},n),M&&Bt(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+F[e]+"</div>",t.style.width=O[e]},r),T.outerWidth()<h?(l=x.scrollHeight>x.offsetHeight||"scroll"==_.css("overflow-y")?h+f:h,P&&(x.scrollHeight>x.offsetHeight||"scroll"==_.css("overflow-y"))&&(A.width=Xt(l-f)),""!==u&&""===d||ae(i,1,"Possible column misalignment",6)):l="100%",w.width=Xt(l),m.width=Xt(l),M&&(i.nScrollFoot.style.width=Xt(l)),p||P&&(w.height=Xt(D.offsetHeight+f));var $=T.outerWidth();b[0].style.width=Xt($),y.width=Xt($);var H=T.height()>x.clientHeight||"scroll"==_.css("overflow-y"),V="padding"+(E.bScrollbarLeft?"Left":"Right");y[V]=H?f+"px":"0px",M&&(C[0].style.width=Xt($),S[0].style.width=Xt($),S[0].style[V]=H?f+"px":"0px"),T.children("colgroup").insertBefore(T.children("thead")),_.scroll(),!i.bSorted&&!i.bFiltered||i._drawHold||(x.scrollTop=0)}function Bt(t,e,i){for(var n,r,o=0,a=0,s=e.length;a<s;){for(n=e[a].firstChild,r=i?i[a].firstChild:null;n;)1===n.nodeType&&(i?t(n,r,o):t(n,o),o++),n=n.nextSibling,r=i?r.nextSibling:null;a++}}var Wt=/<.*?>/g;function jt(t){var e,i,n,r=t.nTable,o=t.aoColumns,a=t.oScroll,s=a.sY,l=a.sX,h=a.sXInner,c=o.length,u=N(t,"bVisible"),d=B("th",t.nTHead),p=r.getAttribute("width"),f=r.parentNode,g=!1,m=t.oBrowser,v=m.bScrollOversize,y=r.style.width;for(y&&-1!==y.indexOf("%")&&(p=y),e=0;e<u.length;e++)null!==(i=o[u[e]]).sWidth&&(i.sWidth=Ut(i.sWidthOrig,f),g=!0);if(v||!g&&!l&&!s&&c==F(t)&&c==d.length)for(e=0;e<c;e++){var b=U(t,e);null!==b&&(o[b].sWidth=Xt(d.eq(e).width()))}else{var x=B(r).clone().css("visibility","hidden").removeAttr("id");x.find("tbody tr").remove();var _=B("<tr/>").appendTo(x.find("tbody"));for(x.find("thead, tfoot").remove(),x.append(B(t.nTHead).clone()).append(B(t.nTFoot).clone()),x.find("tfoot th, tfoot td").css("width",""),d=ut(t,x.find("thead")[0]),e=0;e<u.length;e++)i=o[u[e]],d[e].style.width=null!==i.sWidthOrig&&""!==i.sWidthOrig?Xt(i.sWidthOrig):"",i.sWidthOrig&&l&&B(d[e]).append(B("<div/>").css({width:i.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(t.aoData.length)for(e=0;e<u.length;e++)i=o[n=u[e]],B(Gt(t,n)).clone(!1).append(i.sContentPadding).appendTo(_);B("[name]",x).removeAttr("name");var w=B("<div/>").css(l||s?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(x).appendTo(f);l&&h?x.width(h):l?(x.css("width","auto"),x.removeAttr("width"),x.width()<f.clientWidth&&p&&x.width(f.clientWidth)):s?x.width(f.clientWidth):p&&x.width(p);var S=0;for(e=0;e<u.length;e++){var C=B(d[e]),k=C.outerWidth()-C.width(),T=m.bBounding?Math.ceil(d[e].getBoundingClientRect().width):C.outerWidth();S+=T,o[u[e]].sWidth=Xt(T-k)}r.style.width=Xt(S),w.remove()}if(p&&(r.style.width=Xt(p)),(p||l)&&!t._reszEvt){var D=function(){B(A).on("resize.DT-"+t.sInstance,Yt(function(){Y(t)}))};v?setTimeout(D,1e3):D(),t._reszEvt=!0}}var Yt=D.util.throttle;function Ut(t,e){if(!t)return 0;var i=B("<div/>").css("width",Xt(t)).appendTo(e||y.body),n=i[0].offsetWidth;return i.remove(),n}function Gt(t,e){var i=qt(t,e);if(i<0)return null;var n=t.aoData[i];return n.nTr?n.anCells[e]:B("<td/>").html(T(t,i,e,"display"))[0]}function qt(t,e){for(var i,n=-1,r=-1,o=0,a=t.aoData.length;o<a;o++)(i=(i=(i=T(t,o,e,"display")+"").replace(Wt,"")).replace(/&nbsp;/g," ")).length>n&&(n=i.length,r=o);return r}function Xt(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function Kt(t){var e,i,n,r,o,a,s,l=[],h=t.aoColumns,c=t.aaSortingFixed,u=B.isPlainObject(c),d=[],p=function(t){t.length&&!B.isArray(t[0])?d.push(t):B.merge(d,t)};for(B.isArray(c)&&p(c),u&&c.pre&&p(c.pre),p(t.aaSorting),u&&c.post&&p(c.post),e=0;e<d.length;e++)for(i=0,n=(r=h[s=d[e][0]].aDataSort).length;i<n;i++)a=h[o=r[i]].sType||"string",d[e]._idx===W&&(d[e]._idx=B.inArray(d[e][1],h[o].asSorting)),l.push({src:s,col:o,dir:d[e][1],index:d[e]._idx,type:a,formatter:D.ext.type.order[a+"-pre"]});return l}function Zt(t){var e,i,n,r,c,u=[],d=D.ext.type.order,p=t.aoData,o=(t.aoColumns,0),a=t.aiDisplayMaster;for(k(t),e=0,i=(c=Kt(t)).length;e<i;e++)(r=c[e]).formatter&&o++,ie(t,r.col);if("ssp"!=fe(t)&&0!==c.length){for(e=0,n=a.length;e<n;e++)u[a[e]]=e;o===c.length?a.sort(function(t,e){var i,n,r,o,a,s=c.length,l=p[t]._aSortData,h=p[e]._aSortData;for(r=0;r<s;r++)if(0!==(o=(i=l[(a=c[r]).col])<(n=h[a.col])?-1:n<i?1:0))return"asc"===a.dir?o:-o;return(i=u[t])<(n=u[e])?-1:n<i?1:0}):a.sort(function(t,e){var i,n,r,o,a,s=c.length,l=p[t]._aSortData,h=p[e]._aSortData;for(r=0;r<s;r++)if(i=l[(a=c[r]).col],n=h[a.col],0!==(o=(d[a.type+"-"+a.dir]||d["string-"+a.dir])(i,n)))return o;return(i=u[t])<(n=u[e])?-1:n<i?1:0})}t.bSorted=!0}function Qt(t){for(var e,i,n=t.aoColumns,r=Kt(t),o=t.oLanguage.oAria,a=0,s=n.length;a<s;a++){var l=n[a],h=l.asSorting,c=l.sTitle.replace(/<.*?>/g,""),u=l.nTh;u.removeAttribute("aria-sort"),l.bSortable?(0<r.length&&r[0].col==a?(u.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),i=h[r[0].index+1]||h[0]):i=h[0],e=c+("asc"===i?o.sSortAscending:o.sSortDescending)):e=c,u.setAttribute("aria-label",e)}}function Jt(t,e,i,n){var r,o=t.aoColumns[e],a=t.aaSorting,s=o.asSorting,l=function(t,e){var i=t._idx;return i===W&&(i=B.inArray(t[1],s)),i+1<s.length?i+1:e?null:0};if("number"==typeof a[0]&&(a=t.aaSorting=[a]),i&&t.oFeatures.bSortMulti){var h=B.inArray(e,j(a,"0"));-1!==h?(null===(r=l(a[h],!0))&&1===a.length&&(r=0),null===r?a.splice(h,1):(a[h][1]=s[r],a[h]._idx=r)):(a.push([e,s[0],0]),a[a.length-1]._idx=0)}else a.length&&a[0][0]==e?(r=l(a[0]),a.length=1,a[0][1]=s[r],a[0]._idx=r):(a.length=0,a.push([e,s[0]]),a[0]._idx=0);lt(t),"function"==typeof n&&n(t)}function te(e,t,i,n){var r=e.aoColumns[i];he(t,{},function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?($t(e,!0),setTimeout(function(){Jt(e,i,t.shiftKey,n),"ssp"!==fe(e)&&$t(e,!1)},0)):Jt(e,i,t.shiftKey,n))})}function ee(t){var e,i,n,r=t.aLastSort,o=t.oClasses.sSortColumn,a=Kt(t),s=t.oFeatures;if(s.bSort&&s.bSortClasses){for(e=0,i=r.length;e<i;e++)n=r[e].src,B(j(t.aoData,"anCells",n)).removeClass(o+(e<2?e+1:3));for(e=0,i=a.length;e<i;e++)n=a[e].src,B(j(t.aoData,"anCells",n)).addClass(o+(e<2?e+1:3))}t.aLastSort=a}function ie(t,e){var i,n,r,o=t.aoColumns[e],a=D.ext.order[o.sSortDataType];a&&(i=a.call(t.oInstance,t,e,C(t,e)));for(var s=D.ext.type.order[o.sType+"-pre"],l=0,h=t.aoData.length;l<h;l++)(n=t.aoData[l])._aSortData||(n._aSortData=[]),n._aSortData[e]&&!a||(r=a?i[l]:T(t,l,e,"sort"),n._aSortData[e]=s?s(r):r)}function ne(i){if(i.oFeatures.bStateSave&&!i.bDestroying){var t={time:+new Date,start:i._iDisplayStart,length:i._iDisplayLength,order:B.extend(!0,[],i.aaSorting),search:Dt(i.oPreviousSearch),columns:B.map(i.aoColumns,function(t,e){return{visible:t.bVisible,search:Dt(i.aoPreSearchCols[e])}})};ue(i,"aoStateSaveParams","stateSaveParams",[i,t]),i.oSavedState=t,i.fnStateSaveCallback.call(i.oInstance,i,t)}}function re(r,t,o){var a,s,l=r.aoColumns,e=function(t){if(t&&t.time){var e=ue(r,"aoStateLoadParams","stateLoadParams",[r,t]);if(-1===B.inArray(!1,e)){var i=r.iStateDuration;if(0<i&&t.time<+new Date-1e3*i)o();else if(t.columns&&l.length!==t.columns.length)o();else{if(r.oLoadedState=B.extend(!0,{},t),t.start!==W&&(r._iDisplayStart=t.start,r.iInitDisplayStart=t.start),t.length!==W&&(r._iDisplayLength=t.length),t.order!==W&&(r.aaSorting=[],B.each(t.order,function(t,e){r.aaSorting.push(e[0]>=l.length?[0,e[1]]:e)})),t.search!==W&&B.extend(r.oPreviousSearch,At(t.search)),t.columns)for(a=0,s=t.columns.length;a<s;a++){var n=t.columns[a];n.visible!==W&&(l[a].bVisible=n.visible),n.search!==W&&B.extend(r.aoPreSearchCols[a],At(n.search))}ue(r,"aoStateLoaded","stateLoaded",[r,t]),o()}}else o()}else o()};if(r.oFeatures.bStateSave){var i=r.fnStateLoadCallback.call(r.oInstance,r,e);i!==W&&e(i)}else o()}function oe(t){var e=D.settings,i=B.inArray(t,j(e,"nTable"));return-1!==i?e[i]:null}function ae(t,e,i,n){if(i="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+i,n&&(i+=". For more information about this error, please see http://datatables.net/tn/"+n),e)A.console&&console.log&&console.log(i);else{var r=D.ext,o=r.sErrMode||r.errMode;if(t&&ue(t,null,"error",[t,n,i]),"alert"==o)alert(i);else{if("throw"==o)throw new Error(i);"function"==typeof o&&o(t,n,i)}}}function se(i,n,t,e){B.isArray(t)?B.each(t,function(t,e){B.isArray(e)?se(i,n,e[0],e[1]):se(i,n,e)}):(e===W&&(e=t),n[t]!==W&&(i[e]=n[t]))}function le(t,e,i){var n;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],B.isPlainObject(n)?(B.isPlainObject(t[r])||(t[r]={}),B.extend(!0,t[r],n)):i&&"data"!==r&&"aaData"!==r&&B.isArray(n)?t[r]=n.slice():t[r]=n);return t}function he(e,t,i){B(e).on("click.DT",t,function(t){e.blur(),i(t)}).on("keypress.DT",t,function(t){13===t.which&&(t.preventDefault(),i(t))}).on("selectstart.DT",function(){return!1})}function ce(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function ue(i,t,e,n){var r=[];if(t&&(r=B.map(i[t].slice().reverse(),function(t,e){return t.fn.apply(i.oInstance,n)})),null!==e){var o=B.Event(e+".dt");B(i.nTable).trigger(o,n),r.push(o.result)}return r}function de(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),n=t._iDisplayLength;i<=e&&(e=i-n),e-=e%n,(-1===n||e<0)&&(e=0),t._iDisplayStart=e}function pe(t,e){var i=t.renderer,n=D.ext.renderer[e];return B.isPlainObject(i)&&i[e]?n[i[e]]||n._:"string"==typeof i&&n[i]||n._}function fe(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}var ge=[],me=Array.prototype;b=function(t,e){if(!(this instanceof b))return new b(t,e);var s=[],i=function(t){var e,i,n,r,o,a=(e=t,r=D.settings,o=B.map(r,function(t,e){return t.nTable}),e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?-1!==(i=B.inArray(e,o))?[r[i]]:null:e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?n=B(e):e instanceof B&&(n=e),n?n.map(function(t){return-1!==(i=B.inArray(this,o))?r[i]:null}).toArray():void 0):[]);a&&(s=s.concat(a))};if(B.isArray(t))for(var n=0,r=t.length;n<r;n++)i(t[n]);else i(t);this.context=m(s),e&&B.merge(this,e),this.selector={rows:null,cols:null,opts:null},b.extend(this,this,ge)},D.Api=b,B.extend(b.prototype,{any:function(){return 0!==this.count()},concat:me.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,i=this.length;e<i;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new b(e[t],this[t]):null},filter:function(t){var e=[];if(me.filter)e=me.filter.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new b(this.context,e)},flatten:function(){var t=[];return new b(this.context,t.concat.apply(t,this.toArray()))},join:me.join,indexOf:me.indexOf||function(t,e){for(var i=e||0,n=this.length;i<n;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,i,n){var r,o,a,s,l,h,c,u,d=[],p=this.context,f=this.selector;for("string"==typeof t&&(n=i,i=e,e=t,t=!1),o=0,a=p.length;o<a;o++){var g=new b(p[o]);if("table"===e)(r=i.call(g,p[o],o))!==W&&d.push(r);else if("columns"===e||"rows"===e)(r=i.call(g,p[o],this[o],o))!==W&&d.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(c=this[o],"column-rows"===e&&(h=_e(p[o],f.opts)),s=0,l=c.length;s<l;s++)u=c[s],(r="cell"===e?i.call(g,p[o],u.row,u.column,o,s):i.call(g,p[o],u,o,s,h))!==W&&d.push(r)}if(d.length||n){var m=new b(p,t?d.concat.apply([],d):d),v=m.selector;return v.rows=f.rows,v.cols=f.cols,v.opts=f.opts,m}return this},lastIndexOf:me.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(me.map)e=me.map.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)e.push(t.call(this,this[i],i));return new b(this.context,e)},pluck:function(e){return this.map(function(t){return t[e]})},pop:me.pop,push:me.push,reduce:me.reduce||function(t,e){return S(this,t,e,0,this.length,1)},reduceRight:me.reduceRight||function(t,e){return S(this,t,e,this.length-1,-1,-1)},reverse:me.reverse,selector:null,shift:me.shift,slice:function(){return new b(this.context,this)},sort:me.sort,splice:me.splice,toArray:function(){return me.slice.call(this)},to$:function(){return B(this)},toJQuery:function(){return B(this)},unique:function(){return new b(this.context,m(this))},unshift:me.unshift}),b.extend=function(t,e,i){if(i.length&&e&&(e instanceof b||e.__dt_wrapper)){var n,r,o,a=function(e,i,n){return function(){var t=i.apply(e,arguments);return b.extend(t,t,n.methodExt),t}};for(n=0,r=i.length;n<r;n++)e[(o=i[n]).name]="function"==typeof o.val?a(t,o.val,o):B.isPlainObject(o.val)?{}:o.val,e[o.name].__dt_wrapper=!0,b.extend(t,e[o.name],o.propExt)}},b.register=e=function(t,e){if(B.isArray(t))for(var i=0,n=t.length;i<n;i++)b.register(t[i],e);else{var r,o,a,s,l=t.split("."),h=ge,c=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i].name===e)return t[i];return null};for(r=0,o=l.length;r<o;r++){var u=c(h,a=(s=-1!==l[r].indexOf("()"))?l[r].replace("()",""):l[r]);u||(u={name:a,val:{},methodExt:[],propExt:[]},h.push(u)),r===o-1?u.val=e:h=s?u.methodExt:u.propExt}}},b.registerPlural=t=function(t,e,i){b.register(t,i),b.register(e,function(){var t=i.apply(this,arguments);return t===this?this:t instanceof b?t.length?B.isArray(t[0])?new b(t.context,t[0]):t[0]:W:t})};e("tables()",function(t){return t?new b(function(t,i){if("number"==typeof t)return[i[t]];var n=B.map(i,function(t,e){return t.nTable});return B(n).filter(t).map(function(t){var e=B.inArray(this,n);return i[e]}).toArray()}(t,this.context)):this}),e("table()",function(t){var e=this.tables(t),i=e.context;return i.length?new b(i[0]):e}),t("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),t("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),t("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),t("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),t("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),e("draw()",function(e){return this.iterator("table",function(t){"page"===e?st(t):("string"==typeof e&&(e="full-hold"!==e),lt(t,!1===e))})}),e("page()",function(e){return e===W?this.page.info().page:this.iterator("table",function(t){Nt(t,e)})}),e("page.info()",function(t){if(0===this.context.length)return W;var e=this.context[0],i=e._iDisplayStart,n=e.oFeatures.bPaginate?e._iDisplayLength:-1,r=e.fnRecordsDisplay(),o=-1===n;return{page:o?0:Math.floor(i/n),pages:o?1:Math.ceil(r/n),start:i,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===fe(e)}}),e("page.len()",function(e){return e===W?0!==this.context.length?this.context[0]._iDisplayLength:W:this.iterator("table",function(t){Ot(t,e)})});var ve=function(r,o,t){if(t){var e=new b(r);e.one("draw",function(){t(e.ajax.json())})}if("ssp"==fe(r))lt(r,o);else{$t(r,!0);var i=r.jqXHR;i&&4!==i.readyState&&i.abort(),dt(r,[],function(t){J(r);for(var e=mt(r,t),i=0,n=e.length;i<n;i++)$(r,e[i]);lt(r,o),$t(r,!1)})}};e("ajax.json()",function(){var t=this.context;if(0<t.length)return t[0].json}),e("ajax.params()",function(){var t=this.context;if(0<t.length)return t[0].oAjaxData}),e("ajax.reload()",function(e,i){return this.iterator("table",function(t){ve(t,!1===i,e)})}),e("ajax.url()",function(e){var t=this.context;return e===W?0===t.length?W:(t=t[0]).ajax?B.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource:this.iterator("table",function(t){B.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),e("ajax.url().load()",function(e,i){return this.iterator("table",function(t){ve(t,!1===i,e)})});var ye=function(t,e,i,n,r){var o,a,s,l,h,c,u=[],d=typeof e;for(e&&"string"!==d&&"function"!==d&&e.length!==W||(e=[e]),s=0,l=e.length;s<l;s++)for(h=0,c=(a=e[s]&&e[s].split&&!e[s].match(/[\[\(:]/)?e[s].split(","):[e[s]]).length;h<c;h++)(o=i("string"==typeof a[h]?B.trim(a[h]):a[h]))&&o.length&&(u=u.concat(o));var p=f.selector[t];if(p.length)for(s=0,l=p.length;s<l;s++)u=p[s](n,r,u);return m(u)},be=function(t){return t||(t={}),t.filter&&t.search===W&&(t.search=t.filter),B.extend({search:"none",order:"current",page:"all"},t)},xe=function(t){for(var e=0,i=t.length;e<i;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},_e=function(t,e){var i,n,r,o=[],a=t.aiDisplay,s=t.aiDisplayMaster,l=e.search,h=e.order,c=e.page;if("ssp"==fe(t))return"removed"===l?[]:g(0,s.length);if("current"==c)for(i=t._iDisplayStart,n=t.fnDisplayEnd();i<n;i++)o.push(a[i]);else if("current"==h||"applied"==h)o="none"==l?s.slice():"applied"==l?a.slice():B.map(s,function(t,e){return-1===B.inArray(t,a)?t:null});else if("index"==h||"original"==h)for(i=0,n=t.aoData.length;i<n;i++)"none"==l?o.push(i):(-1===(r=B.inArray(i,a))&&"removed"==l||0<=r&&"applied"==l)&&o.push(i);return o};e("rows()",function(e,i){e===W?e="":B.isPlainObject(e)&&(i=e,e=""),i=be(i);var t=this.iterator("table",function(t){return ye("row",e,function(i){var t=p(i);if(null!==t&&!a)return[t];if(s||(s=_e(o,a)),null!==t&&-1!==B.inArray(t,s))return[t];if(null===i||i===W||""===i)return s;if("function"==typeof i)return B.map(s,function(t){var e=o.aoData[t];return i(t,e._aData,e.nTr)?t:null});var e=_(x(o.aoData,s,"nTr"));if(i.nodeName){if(i._DT_RowIndex!==W)return[i._DT_RowIndex];if(i._DT_CellIndex)return[i._DT_CellIndex.row];var n=B(i).closest("*[data-dt-row]");return n.length?[n.data("dt-row")]:[]}if("string"==typeof i&&"#"===i.charAt(0)){var r=o.aIds[i.replace(/^#/,"")];if(r!==W)return[r.idx]}return B(e).filter(i).map(function(){return this._DT_RowIndex}).toArray()},o=t,a=i);var o,a,s},1);return t.selector.rows=e,t.selector.opts=i,t}),e("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||W},1)}),e("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return x(t.aoData,e,"_aData")},1)}),t("rows().cache()","row().cache()",function(n){return this.iterator("row",function(t,e){var i=t.aoData[e];return"search"===n?i._aFilterData:i._aSortData},1)}),t("rows().invalidate()","row().invalidate()",function(i){return this.iterator("row",function(t,e){et(t,e,i)})}),t("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),t("rows().ids()","row().id()",function(t){for(var e=[],i=this.context,n=0,r=i.length;n<r;n++)for(var o=0,a=this[n].length;o<a;o++){var s=i[n].rowIdFn(i[n].aoData[this[n][o]]._aData);e.push((!0===t?"#":"")+s)}return new b(i,e)}),t("rows().remove()","row().remove()",function(){var d=this;return this.iterator("row",function(t,e,i){var n,r,o,a,s,l,h=t.aoData,c=h[e];for(h.splice(e,1),n=0,r=h.length;n<r;n++)if(l=(s=h[n]).anCells,null!==s.nTr&&(s.nTr._DT_RowIndex=n),null!==l)for(o=0,a=l.length;o<a;o++)l[o]._DT_CellIndex.row=n;tt(t.aiDisplayMaster,e),tt(t.aiDisplay,e),tt(d[i],e,!1),0<t._iRecordsDisplay&&t._iRecordsDisplay--,de(t);var u=t.rowIdFn(c._aData);u!==W&&delete t.aIds[u]}),this.iterator("table",function(t){for(var e=0,i=t.aoData.length;e<i;e++)t.aoData[e].idx=e}),this}),e("rows.add()",function(o){var t=this.iterator("table",function(t){var e,i,n,r=[];for(i=0,n=o.length;i<n;i++)(e=o[i]).nodeName&&"TR"===e.nodeName.toUpperCase()?r.push(H(t,e)[0]):r.push($(t,e));return r},1),e=this.rows(-1);return e.pop(),B.merge(e,t),e}),e("row()",function(t,e){return xe(this.rows(t,e))}),e("row().data()",function(t){var e=this.context;return t===W?e.length&&this.length?e[0].aoData[this[0]]._aData:W:(e[0].aoData[this[0]]._aData=t,et(e[0],this[0],"data"),this)}),e("row().node()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null}),e("row.add()",function(e){e instanceof B&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?H(t,e)[0]:$(t,e)});return this.row(t[0])});var we=function(t,e){var i=t.context;if(i.length){var n=i[0].aoData[e!==W?e:t[0]];n&&n._details&&(n._details.remove(),n._detailsShow=W,n._details=W)}},Se=function(t,e){var i=t.context;if(i.length&&t.length){var n=i[0].aoData[t[0]];n._details&&((n._detailsShow=e)?n._details.insertAfter(n.nTr):n._details.detach(),Ce(i[0]))}},Ce=function(l){var r=new b(l),t=".dt.DT_details",e="draw"+t,i="column-visibility"+t,n="destroy"+t,h=l.aoData;r.off(e+" "+i+" "+n),0<j(h,"_details").length&&(r.on(e,function(t,e){l===e&&r.rows({page:"current"}).eq(0).each(function(t){var e=h[t];e._detailsShow&&e._details.insertAfter(e.nTr)})}),r.on(i,function(t,e,i,n){if(l===e)for(var r,o=F(e),a=0,s=h.length;a<s;a++)(r=h[a])._details&&r._details.children("td[colspan]").attr("colspan",o)}),r.on(n,function(t,e){if(l===e)for(var i=0,n=h.length;i<n;i++)h[i]._details&&we(r,i)}))},ke="row().child",Te=ke+"()";e(Te,function(t,e){var o,i,a,s,n=this.context;return t===W?n.length&&this.length?n[0].aoData[this[0]]._details:W:(!0===t?this.child.show():!1===t?we(this):n.length&&this.length&&(o=n[0],i=n[0].aoData[this[0]],a=[],(s=function(t,e){if(B.isArray(t)||t instanceof B)for(var i=0,n=t.length;i<n;i++)s(t[i],e);else if(t.nodeName&&"tr"===t.nodeName.toLowerCase())a.push(t);else{var r=B("<tr><td/></tr>").addClass(e);B("td",r).addClass(e).html(t)[0].colSpan=F(o),a.push(r[0])}})(t,e),i._details&&i._details.detach(),i._details=B(a),i._detailsShow&&i._details.insertAfter(i.nTr)),this)}),e([ke+".show()",Te+".show()"],function(t){return Se(this,!0),this}),e([ke+".hide()",Te+".hide()"],function(){return Se(this,!1),this}),e([ke+".remove()",Te+".remove()"],function(){return we(this),this}),e(ke+".isShown()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1});var De=/^([^:]+):(name|visIdx|visible)$/,Ae=function(t,e,i,n,r){for(var o=[],a=0,s=r.length;a<s;a++)o.push(T(t,r[a],e));return o};e("columns()",function(i,n){i===W?i="":B.isPlainObject(i)&&(n=i,i=""),n=be(n);var t=this.iterator("table",function(t){return e=i,h=n,c=(l=t).aoColumns,u=j(c,"sName"),d=j(c,"nTh"),ye("column",e,function(i){var t=p(i);if(""===i)return g(c.length);if(null!==t)return[0<=t?t:c.length+t];if("function"==typeof i){var n=_e(l,h);return B.map(c,function(t,e){return i(e,Ae(l,e,0,0,n),d[e])?e:null})}var r="string"==typeof i?i.match(De):"";if(r)switch(r[2]){case"visIdx":case"visible":var e=parseInt(r[1],10);if(e<0){var o=B.map(c,function(t,e){return t.bVisible?e:null});return[o[o.length+e]]}return[U(l,e)];case"name":return B.map(u,function(t,e){return t===r[1]?e:null});default:return[]}if(i.nodeName&&i._DT_CellIndex)return[i._DT_CellIndex.column];var a=B(d).filter(i).map(function(){return B.inArray(this,d)}).toArray();if(a.length||!i.nodeName)return a;var s=B(i).closest("*[data-dt-column]");return s.length?[s.data("dt-column")]:[]},l,h);var l,e,h,c,u,d},1);return t.selector.cols=i,t.selector.opts=n,t}),t("columns().header()","column().header()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),t("columns().footer()","column().footer()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),t("columns().data()","column().data()",function(){return this.iterator("column-rows",Ae,1)}),t("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),t("columns().cache()","column().cache()",function(o){return this.iterator("column-rows",function(t,e,i,n,r){return x(t.aoData,r,"search"===o?"_aFilterData":"_aSortData",e)},1)}),t("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,i,n,r){return x(t.aoData,r,"anCells",e)},1)}),t("columns().visible()","column().visible()",function(i,n){var t=this.iterator("column",function(t,e){if(i===W)return t.aoColumns[e].bVisible;!function(t,e,i){var n,r,o,a,s=t.aoColumns,l=s[e],h=t.aoData;if(i===W)return l.bVisible;if(l.bVisible!==i){if(i){var c=B.inArray(!0,j(s,"bVisible"),e+1);for(r=0,o=h.length;r<o;r++)a=h[r].nTr,n=h[r].anCells,a&&a.insertBefore(n[e],n[c]||null)}else B(j(t.aoData,"anCells",e)).detach();l.bVisible=i,at(t,t.aoHeader),at(t,t.aoFooter),ne(t)}}(t,e,i)});return i!==W&&(this.iterator("column",function(t,e){ue(t,null,"column-visibility",[t,e,i,n])}),(n===W||n)&&this.columns.adjust()),t}),t("columns().indexes()","column().index()",function(i){return this.iterator("column",function(t,e){return"visible"===i?C(t,e):e},1)}),e("columns.adjust()",function(){return this.iterator("table",function(t){Y(t)},1)}),e("column.index()",function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return U(i,e);if("fromData"===t||"toVisible"===t)return C(i,e)}}),e("column()",function(t,e){return xe(this.columns(t,e))});e("cells()",function(m,t,v){if(B.isPlainObject(m)&&(m.row===W?(v=m,m=null):(v=t,t=null)),B.isPlainObject(t)&&(v=t,t=null),null===t||t===W)return this.iterator("table",function(t){return n=t,e=m,i=be(v),u=n.aoData,d=_e(n,i),p=_(x(u,d,"anCells")),f=B([].concat.apply([],p)),g=n.aoColumns.length,ye("cell",e,function(t){var e="function"==typeof t;if(null===t||t===W||e){for(o=[],a=0,s=d.length;a<s;a++)for(r=d[a],l=0;l<g;l++)h={row:r,column:l},e?(c=u[r],t(h,T(n,r,l),c.anCells?c.anCells[l]:null)&&o.push(h)):o.push(h);return o}if(B.isPlainObject(t))return[t];var i=f.filter(t).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray();return i.length||!t.nodeName?i:(c=B(t).closest("*[data-dt-row]")).length?[{row:c.data("dt-row"),column:c.data("dt-column")}]:[]},n,i);var n,e,i,r,o,a,s,l,h,c,u,d,p,f,g});var i,n,r,o,a,s=this.columns(t,v),l=this.rows(m,v),e=this.iterator("table",function(t,e){for(i=[],n=0,r=l[e].length;n<r;n++)for(o=0,a=s[e].length;o<a;o++)i.push({row:l[e][n],column:s[e][o]});return i},1);return B.extend(e.selector,{cols:t,rows:m,opts:v}),e}),t("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,i){var n=t.aoData[e];return n&&n.anCells?n.anCells[i]:W},1)}),e("cells().data()",function(){return this.iterator("cell",function(t,e,i){return T(t,e,i)},1)}),t("cells().cache()","cell().cache()",function(n){return n="search"===n?"_aFilterData":"_aSortData",this.iterator("cell",function(t,e,i){return t.aoData[e][n][i]},1)}),t("cells().render()","cell().render()",function(n){return this.iterator("cell",function(t,e,i){return T(t,e,i,n)},1)}),t("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,i){return{row:e,column:i,columnVisible:C(t,i)}},1)}),t("cells().invalidate()","cell().invalidate()",function(n){return this.iterator("cell",function(t,e,i){et(t,e,n,i)})}),e("cell()",function(t,e,i){return xe(this.cells(t,e,i))}),e("cell().data()",function(t){var e=this.context,i=this[0];return t===W?e.length&&i.length?T(e[0],i[0].row,i[0].column):W:(V(e[0],i[0].row,i[0].column,t),et(e[0],i[0].row,"data",i[0].column),this)}),e("order()",function(e,t){var i=this.context;return e===W?0!==i.length?i[0].aaSorting:W:("number"==typeof e?e=[[e,t]]:e.length&&!B.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),e("order.listener()",function(e,i,n){return this.iterator("table",function(t){te(t,e,i,n)})}),e("order.fixed()",function(e){if(!e){var t=this.context,i=t.length?t[0].aaSortingFixed:W;return B.isArray(i)?{pre:i}:i}return this.iterator("table",function(t){t.aaSortingFixed=B.extend(!0,{},e)})}),e(["columns().order()","column().order()"],function(n){var r=this;return this.iterator("table",function(t,e){var i=[];B.each(r[e],function(t,e){i.push([e,n])}),t.aaSorting=i})}),e("search()",function(e,i,n,r){var t=this.context;return e===W?0!==t.length?t[0].oPreviousSearch.sSearch:W:this.iterator("table",function(t){t.oFeatures.bFilter&&yt(t,B.extend({},t.oPreviousSearch,{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===n||n,bCaseInsensitive:null===r||r}),1)})}),t("columns().search()","column().search()",function(n,r,o,a){return this.iterator("column",function(t,e){var i=t.aoPreSearchCols;if(n===W)return i[e].sSearch;t.oFeatures.bFilter&&(B.extend(i[e],{sSearch:n+"",bRegex:null!==r&&r,bSmart:null===o||o,bCaseInsensitive:null===a||a}),yt(t,t.oPreviousSearch,1))})}),e("state()",function(){return this.context.length?this.context[0].oSavedState:null}),e("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),e("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),e("state.save()",function(){return this.iterator("table",function(t){ne(t)})}),D.versionCheck=D.fnVersionCheck=function(t){for(var e,i,n=D.version.split("."),r=t.split("."),o=0,a=r.length;o<a;o++)if((e=parseInt(n[o],10)||0)!==(i=parseInt(r[o],10)||0))return i<e;return!0},D.isDataTable=D.fnIsDataTable=function(t){var r=B(t).get(0),o=!1;return t instanceof D.Api||(B.each(D.settings,function(t,e){var i=e.nScrollHead?B("table",e.nScrollHead)[0]:null,n=e.nScrollFoot?B("table",e.nScrollFoot)[0]:null;e.nTable!==r&&i!==r&&n!==r||(o=!0)}),o)},D.tables=D.fnTables=function(e){var t=!1;B.isPlainObject(e)&&(t=e.api,e=e.visible);var i=B.map(D.settings,function(t){if(!e||e&&B(t.nTable).is(":visible"))return t.nTable});return t?new b(i):i},D.camelToHungarian=M,e("$()",function(t,e){var i=this.rows(e).nodes(),n=B(i);return B([].concat(n.filter(t).toArray(),n.find(t).toArray()))}),B.each(["on","one","off"],function(t,i){e(i+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=B.map(t[0].split(/\s/),function(t){return t.match(/\.dt\b/)?t:t+".dt"}).join(" ");var e=B(this.tables().nodes());return e[i].apply(e,t),this})}),e("clear()",function(){return this.iterator("table",function(t){J(t)})}),e("settings()",function(){return new b(this.context,this.context)}),e("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),e("data()",function(){return this.iterator("table",function(t){return j(t.aoData,"_aData")}).flatten()}),e("destroy()",function(f){return f=f||!1,this.iterator("table",function(e){var i,t=e.nTableWrapper.parentNode,n=e.oClasses,r=e.nTable,o=e.nTBody,a=e.nTHead,s=e.nTFoot,l=B(r),h=B(o),c=B(e.nTableWrapper),u=B.map(e.aoData,function(t){return t.nTr});e.bDestroying=!0,ue(e,"aoDestroyCallback","destroy",[e]),f||new b(e).columns().visible(!0),c.off(".DT").find(":not(tbody *)").off(".DT"),B(A).off(".DT-"+e.sInstance),r!=a.parentNode&&(l.children("thead").detach(),l.append(a)),s&&r!=s.parentNode&&(l.children("tfoot").detach(),l.append(s)),e.aaSorting=[],e.aaSortingFixed=[],ee(e),B(u).removeClass(e.asStripeClasses.join(" ")),B("th, td",a).removeClass(n.sSortable+" "+n.sSortableAsc+" "+n.sSortableDesc+" "+n.sSortableNone),h.children().detach(),h.append(u);var d=f?"remove":"detach";l[d](),c[d](),!f&&t&&(t.insertBefore(r,e.nTableReinsertBefore),l.css("width",e.sDestroyWidth).removeClass(n.sTable),(i=e.asDestroyStripes.length)&&h.children().each(function(t){B(this).addClass(e.asDestroyStripes[t%i])}));var p=B.inArray(e,D.settings);-1!==p&&D.settings.splice(p,1)})}),B.each(["column","row","cell"],function(t,l){e(l+"s().every()",function(o){var a=this.selector.opts,s=this;return this.iterator(l,function(t,e,i,n,r){o.call(s[l](e,"cell"===l?i:a,"cell"===l?a:W),e,i,n,r)})})}),e("i18n()",function(t,e,i){var n=this.context[0],r=K(t)(n.oLanguage);return r===W&&(r=e),i!==W&&B.isPlainObject(r)&&(r=r[i]!==W?r[i]:r._),r.replace("%d",i)}),D.version="1.10.16",D.settings=[],D.models={},D.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},D.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},D.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},D.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:B.extend({},D.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},v(D.defaults),D.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},v(D.defaults.column),D.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:W,oAjaxData:W,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==fe(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==fe(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,n=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===t?e+n:Math.min(e+t,this._iRecordsDisplay):!o||n<i||-1===t?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},D.ext=f={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:D.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:D.version},B.extend(f,{afnFiltering:f.search,aTypes:f.type.detect,ofnSearch:f.type.search,oSort:f.type.order,afnSortData:f.order,aoFeatures:f.feature,oApi:f.internal,oStdClasses:f.classes,oPagination:f.pager}),B.extend(D.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Me=D.ext.pager;function Ee(t,e){var i=[],n=Me.numbers_length,r=Math.floor(n/2);return e<=n?i=g(0,e):t<=r?((i=g(0,n-2)).push("ellipsis"),i.push(e-1)):(e-1-r<=t?(i=g(e-(n-2),e)).splice(0,0,"ellipsis"):((i=g(t-r+2,t+r-1)).push("ellipsis"),i.push(e-1),i.splice(0,0,"ellipsis")),i.splice(0,0,0)),i.DT_el="span",i}B.extend(Me,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[Ee(t,e)]},simple_numbers:function(t,e){return["previous",Ee(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Ee(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Ee(t,e),"last"]},_numbers:Ee,numbers_length:7}),B.extend(!0,D.ext.renderer,{pageButton:{_:function(s,t,l,e,h,c){var u,d,i,p=s.oClasses,f=s.oLanguage.oPaginate,g=s.oLanguage.oAria.paginate||{},m=0,v=function(t,e){var i,n,r,o=function(t){Nt(s,t.data.action,!0)};for(i=0,n=e.length;i<n;i++)if(r=e[i],B.isArray(r)){var a=B("<"+(r.DT_el||"div")+"/>").appendTo(t);v(a,r)}else{switch(u=null,d="",r){case"ellipsis":t.append('<span class="ellipsis">&#x2026;</span>');break;case"first":u=f.sFirst,d=r+(0<h?"":" "+p.sPageButtonDisabled);break;case"previous":u=f.sPrevious,d=r+(0<h?"":" "+p.sPageButtonDisabled);break;case"next":u=f.sNext,d=r+(h<c-1?"":" "+p.sPageButtonDisabled);break;case"last":u=f.sLast,d=r+(h<c-1?"":" "+p.sPageButtonDisabled);break;default:u=r+1,d=h===r?p.sPageButtonActive:""}null!==u&&(he(B("<a>",{class:p.sPageButton+" "+d,"aria-controls":s.sTableId,"aria-label":g[r],"data-dt-idx":m,tabindex:s.iTabIndex,id:0===l&&"string"==typeof r?s.sTableId+"_"+r:null}).html(u).appendTo(t),{action:r},o),m++)}};try{i=B(t).find(y.activeElement).data("dt-idx")}catch(t){}v(B(t).empty(),e),i!==W&&B(t).find("[data-dt-idx="+i+"]").focus()}}}),B.extend(D.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return c(t,i)?"num"+i:null},function(t,e){if(t&&!(t instanceof Date)&&!o.test(t))return null;var i=Date.parse(t);return null!==i&&!isNaN(i)||l(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return c(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return u(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return u(t,i,!0)?"html-num-fmt"+i:null},function(t,e){return l(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),B.extend(D.ext.type.search,{html:function(t){return l(t)?t:"string"==typeof t?t.replace(n," ").replace(r,""):""},string:function(t){return l(t)?t:"string"==typeof t?t.replace(n," "):t}});var Pe=function(t,e,i,n){return 0===t||t&&"-"!==t?(e&&(t=h(t,e)),t.replace&&(i&&(t=t.replace(i,"")),n&&(t=t.replace(n,""))),1*t):-1/0};function Le(i){B.each({num:function(t){return Pe(t,i)},"num-fmt":function(t){return Pe(t,i,s)},"html-num":function(t){return Pe(t,i,r)},"html-num-fmt":function(t){return Pe(t,i,r,s)}},function(t,e){f.type.order[t+i+"-pre"]=e,t.match(/^html\-/)&&(f.type.search[t+i]=f.type.search.html)})}B.extend(f.type.order,{"date-pre":function(t){return Date.parse(t)||-1/0},"html-pre":function(t){return l(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return l(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:e<t?1:0},"string-desc":function(t,e){return t<e?1:e<t?-1:0}}),Le(""),B.extend(!0,D.ext.renderer,{header:{_:function(o,a,s,l){B(o.nTable).on("order.dt.DT",function(t,e,i,n){if(o===e){var r=s.idx;a.removeClass(s.sSortingClass+" "+l.sSortAsc+" "+l.sSortDesc).addClass("asc"==n[r]?l.sSortAsc:"desc"==n[r]?l.sSortDesc:s.sSortingClass)}})},jqueryui:function(o,a,s,l){B("<div/>").addClass(l.sSortJUIWrapper).append(a.contents()).append(B("<span/>").addClass(l.sSortIcon+" "+s.sSortingClassJUI)).appendTo(a),B(o.nTable).on("order.dt.DT",function(t,e,i,n){if(o===e){var r=s.idx;a.removeClass(l.sSortAsc+" "+l.sSortDesc).addClass("asc"==n[r]?l.sSortAsc:"desc"==n[r]?l.sSortDesc:s.sSortingClass),a.find("span."+l.sSortIcon).removeClass(l.sSortJUIAsc+" "+l.sSortJUIDesc+" "+l.sSortJUI+" "+l.sSortJUIAscAllowed+" "+l.sSortJUIDescAllowed).addClass("asc"==n[r]?l.sSortJUIAsc:"desc"==n[r]?l.sSortJUIDesc:s.sSortingClassJUI)}})}}});var Ie=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};function Oe(e){return function(){var t=[oe(this[D.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return D.ext.internal[e].apply(this,t)}}return D.render={number:function(o,a,s,l,h){return{display:function(t){if("number"!=typeof t&&"string"!=typeof t)return t;var e=t<0?"-":"",i=parseFloat(t);if(isNaN(i))return Ie(t);i=i.toFixed(s),t=Math.abs(i);var n=parseInt(t,10),r=s?a+(t-n).toFixed(s).substring(2):"";return e+(l||"")+n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,o)+r+(h||"")}}},text:function(){return{display:Ie}}},B.extend(D.ext.internal,{_fnExternApiFunc:Oe,_fnBuildAjax:dt,_fnAjaxUpdate:pt,_fnAjaxParameters:ft,_fnAjaxUpdateDraw:gt,_fnAjaxDataSrc:mt,_fnAddColumn:O,_fnColumnOptions:R,_fnAdjustColumnSizing:Y,_fnVisibleToColumnIndex:U,_fnColumnIndexToVisible:C,_fnVisbleColumns:F,_fnGetColumns:N,_fnColumnTypes:k,_fnApplyColumnDefs:z,_fnHungarianMap:v,_fnCamelToHungarian:M,_fnLanguageCompat:E,_fnBrowserDetect:I,_fnAddData:$,_fnAddTr:H,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==W?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,e,i){return B.inArray(i,t.aoData[e].anCells)},_fnGetCellData:T,_fnSetCellData:V,_fnSplitObjNotation:X,_fnGetObjectDataFn:K,_fnSetObjectDataFn:Z,_fnGetDataMaster:Q,_fnClearTable:J,_fnDeleteIndex:tt,_fnInvalidate:et,_fnGetRowElements:it,_fnCreateTr:nt,_fnBuildHead:ot,_fnDrawHead:at,_fnDraw:st,_fnReDraw:lt,_fnAddOptionsHtml:ht,_fnDetectHeader:ct,_fnGetUniqueThs:ut,_fnFeatureHtmlFilter:vt,_fnFilterComplete:yt,_fnFilterCustom:bt,_fnFilterColumn:xt,_fnFilter:_t,_fnFilterCreateSearch:wt,_fnEscapeRegex:St,_fnFilterData:Tt,_fnFeatureHtmlInfo:Mt,_fnUpdateInfo:Et,_fnInfoMacros:Pt,_fnInitialise:Lt,_fnInitComplete:It,_fnLengthChange:Ot,_fnFeatureHtmlLength:Rt,_fnFeatureHtmlPaginate:Ft,_fnPageChange:Nt,_fnFeatureHtmlProcessing:zt,_fnProcessingDisplay:$t,_fnFeatureHtmlTable:Ht,_fnScrollDraw:Vt,_fnApplyToChildren:Bt,_fnCalculateColumnWidths:jt,_fnThrottle:Yt,_fnConvertToWidth:Ut,_fnGetWidestNode:Gt,_fnGetMaxLenString:qt,_fnStringToCss:Xt,_fnSortFlatten:Kt,_fnSort:Zt,_fnSortAria:Qt,_fnSortListener:Jt,_fnSortAttachListener:te,_fnSortingClasses:ee,_fnSortData:ie,_fnSaveState:ne,_fnLoadState:re,_fnSettingsFromNode:oe,_fnLog:ae,_fnMap:se,_fnBindAction:he,_fnCallbackReg:ce,_fnCallbackFire:ue,_fnLengthOverflow:de,_fnRenderer:pe,_fnDataSource:fe,_fnRowAttributes:rt,_fnCalculateEnd:function(){}}),((B.fn.dataTable=D).$=B).fn.dataTableSettings=D.settings,B.fn.dataTableExt=D.ext,B.fn.DataTable=function(t){return B(this).dataTable(t).api()},B.each(D,function(t,e){B.fn.DataTable[t]=e}),B.fn.dataTable}),function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t||(t=window),e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),i(e,t,t.document)}:i(jQuery,window,document)}(function(b,t,n,r){"use strict";var o=b.fn.dataTable;return b.extend(!0,o.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),b.extend(o.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),o.ext.renderer.pageButton.bootstrap=function(s,t,l,e,h,c){var u,d,i,p=new o.Api(s),f=s.oClasses,g=s.oLanguage.oPaginate,m=s.oLanguage.oAria.paginate||{},v=0,y=function(t,e){var i,n,r,o,a=function(t){t.preventDefault(),b(t.currentTarget).hasClass("disabled")||p.page()==t.data.action||p.page(t.data.action).draw("page")};for(i=0,n=e.length;i<n;i++)if(o=e[i],b.isArray(o))y(t,o);else{switch(d=u="",o){case"ellipsis":u="&#x2026;",d="disabled";break;case"first":u=g.sFirst,d=o+(0<h?"":" disabled");break;case"previous":u=g.sPrevious,d=o+(0<h?"":" disabled");break;case"next":u=g.sNext,d=o+(h<c-1?"":" disabled");break;case"last":u=g.sLast,d=o+(h<c-1?"":" disabled");break;default:u=o+1,d=h===o?"active":""}u&&(r=b("<li>",{class:f.sPageButton+" "+d,id:0===l&&"string"==typeof o?s.sTableId+"_"+o:null}).append(b("<a>",{href:"#","aria-controls":s.sTableId,"aria-label":m[o],"data-dt-idx":v,tabindex:s.iTabIndex}).html(u)).appendTo(t),s.oApi._fnBindAction(r,{action:o},a),v++)}};try{i=b(t).find(n.activeElement).data("dt-idx")}catch(t){}y(b(t).empty().html('<ul class="pagination"/>').children("ul"),e),i!==r&&b(t).find("[data-dt-idx="+i+"]").focus()},o}),function(t){"use strict";if(!t.fn.dataTable)throw new Error("jquery.dataTables.js required.");t.extend(!0,t.fn.dataTable.defaults,{dom:"<'table-header clearfix'<'table-caption'><'DT-lf-right'<'DT-per-page'l><'DT-search'f>>><'dataTables_table_wrapper't><r><'table-footer clearfix'<'DT-label'i><'DT-pagination'p>>",oLanguage:{sLengthMenu:"Per page: _MENU_",sSearch:""}}),t.extend(!0,t.fn.dataTable.ext.classes,{sProcessing:"dataTables_processing bg-primary darker"})}(jQuery);_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(function(){"use strict";var i,o,e,t,n;i=jQuery,(t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"transition",value:function(t){var e,i,n,r;for(r in e=t[0],i=this.transitions)if(n=i[r],null!=e.style[r])return n}}]),t}()).transitions={webkitTransition:"webkitTransitionEnd",mozTransition:"mozTransitionEnd",oTransition:"oTransitionEnd",transition:"transitionend"},o=t,(n=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.render=this.render.bind(this),this.bind=this.bind.bind(this),this.unbind=this.unbind.bind(this),this.mouseEnter=this.mouseEnter.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.click=this.click.bind(this),this.close=this.close.bind(this),this.cycle=this.cycle.bind(this),this.waitAndDismiss=this.waitAndDismiss.bind(this),this.present=this.present.bind(this),this.dismiss=this.dismiss.bind(this),this.remove=this.remove.bind(this),this.animate=this.animate.bind(this),this.$growls=this.$growls.bind(this),this.$growl=this.$growl.bind(this),this.html=this.html.bind(this),this.content=this.content.bind(this),this.container=this.container.bind(this),this.settings=i.extend({},e.settings,t),this.initialize(this.settings.location),this.render()}return _createClass(e,null,[{key:"growl",value:function(){return new e(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}}]),_createClass(e,[{key:"initialize",value:function(t){var e;return i("body:not(:has(#"+(e="growls-"+t)+"))").append('<div id="'+e+'" />')}},{key:"render",value:function(){var t;t=this.$growl(),this.$growls(this.settings.location).append(t),this.settings.fixed?this.present():this.cycle()}},{key:"bind",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$growl();return t.on("click",this.click),this.settings.delayOnHover&&(t.on("mouseenter",this.mouseEnter),t.on("mouseleave",this.mouseLeave)),t.on("contextmenu",this.close).find("."+this.settings.namespace+"-close").on("click",this.close)}},{key:"unbind",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$growl();return t.off("click",this.click),this.settings.delayOnHover&&(t.off("mouseenter",this.mouseEnter),t.off("mouseleave",this.mouseLeave)),t.off("contextmenu",this.close).find("."+this.settings.namespace+"-close").off("click",this.close)}},{key:"mouseEnter",value:function(t){return this.$growl().stop(!0,!0)}},{key:"mouseLeave",value:function(t){return this.waitAndDismiss()}},{key:"click",value:function(t){if(null!=this.settings.url)return t.preventDefault(),t.stopPropagation(),window.open(this.settings.url)}},{key:"close",value:function(t){return t.preventDefault(),t.stopPropagation(),this.$growl().stop().queue(this.dismiss).queue(this.remove)}},{key:"cycle",value:function(){return this.$growl().queue(this.present).queue(this.waitAndDismiss())}},{key:"waitAndDismiss",value:function(){return this.$growl().delay(this.settings.duration).queue(this.dismiss).queue(this.remove)}},{key:"present",value:function(t){var e;return e=this.$growl(),this.bind(e),this.animate(e,this.settings.namespace+"-incoming","out",t)}},{key:"dismiss",value:function(t){var e;return e=this.$growl(),this.unbind(e),this.animate(e,this.settings.namespace+"-outgoing","in",t)}},{key:"remove",value:function(t){return this.$growl().remove(),"function"==typeof t?t():void 0}},{key:"animate",value:function(t,e){var i,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"in",r=arguments[3];i=o.transition(t),t["in"===n?"removeClass":"addClass"](e),t.offset().position,t["in"===n?"addClass":"removeClass"](e),null!=r&&(null!=i?t.one(i,r):r())}},{key:"$growls",value:function(t){var e;return null==this.$_growls&&(this.$_growls=[]),null!=(e=this.$_growls)[t]?e[t]:e[t]=i("#growls-"+t)}},{key:"$growl",value:function(){return null!=this.$_growl?this.$_growl:this.$_growl=i(this.html())}},{key:"html",value:function(){return this.container(this.content())}},{key:"content",value:function(){return"<div class='"+this.settings.namespace+"-close'>"+this.settings.close+"</div>\n<div class='"+this.settings.namespace+"-title'>"+this.settings.title+"</div>\n<div class='"+this.settings.namespace+"-message'>"+this.settings.message+"</div>"}},{key:"container",value:function(t){return"<div class='"+this.settings.namespace+" "+this.settings.namespace+"-"+this.settings.style+" "+this.settings.namespace+"-"+this.settings.size+"'>\n  "+t+"\n</div>"}}]),e}()).settings={namespace:"growl",duration:3200,close:"&#215;",location:"default",style:"default",size:"medium",delayOnHover:!0},e=n,this.Growl=e,i.growl=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.growl(t)},i.growl.error=function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t={title:"Error!",style:"error"},i.growl(i.extend(t,e))},i.growl.notice=function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t={title:"Notice!",style:"notice"},i.growl(i.extend(t,e))},i.growl.warning=function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t={title:"Warning!",style:"warning"},i.growl(i.extend(t,e))}}).call(this),function(e){"use strict";if(!e.growl)throw new Error("jquery.growl.js required.");e.growl.success=function(t){return e.growl(e.extend({title:"Success!",style:"success"},t||{}))}}(jQuery),function(){var a,e,s,i,t,u,m,n,r,l=[].slice,o={}.hasOwnProperty;n=function(){},e=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,i,n,r;if(i=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},e=this._callbacks[i])for(n=0,r=e.length;n<r;n++)e[n].apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var i,n,r,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[t]))return this;if(1===arguments.length)return delete this._callbacks[t],this;for(n=r=0,o=i.length;r<o;n=++r)if(i[n]===e){i.splice(n,1);break}return this},t}(),(a=function(t){var H,V;function B(t,e){var i,n,r,o;if(this.element=t,this.version=B.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(B.instances.push(this),this.element.dropzone=this,i=null!=(r=B.optionsForElement(this.element))?r:{},this.options=H({},this.defaultOptions,i,null!=e?e:{}),this.options.forceFallback||!B.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),null!=this.options.renameFilename&&(this.options.renameFile=(o=this,function(t){return o.options.renameFilename.call(o,t.name,t)})),this.options.method=this.options.method.toUpperCase(),(n=this.getExistingFallback())&&n.parentNode&&n.parentNode.removeChild(n),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=B.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=B.getElements(this.options.clickable,"clickable")),this.init()}return function(t,e){for(var i in e)o.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(B,e),B.prototype.Emitter=e,B.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],B.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,params:{},headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){return n},accept:function(t,e){return e()},fallback:function(){var t,e,i,n,r,o;for(this.element.className=this.element.className+" dz-browser-not-supported",e=0,i=(r=this.element.getElementsByTagName("div")).length;e<i;e++)t=r[e],/(^| )dz-message($| )/.test(t.className)&&((n=t).className="dz-message");return n||(n=B.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(n)),(o=n.getElementsByTagName("span")[0])&&(null!=o.textContent?o.textContent=this.options.dictFallbackMessage:null!=o.innerText&&(o.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t,e,i,n){var r,o,a;if(r={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},o=t.width/t.height,null==e&&null==i?(e=r.srcWidth,i=r.srcHeight):null==e?e=i*o:null==i&&(i=e/o),a=(e=Math.min(e,r.srcWidth))/(i=Math.min(i,r.srcHeight)),r.srcWidth>e||r.srcHeight>i)if("crop"===n)a<o?(r.srcHeight=t.height,r.srcWidth=r.srcHeight*a):(r.srcWidth=t.width,r.srcHeight=r.srcWidth/a);else{if("contain"!==n)throw new Error("Unknown resizeMethod '"+n+"'");a<o?i=e/o:e=i*o}return r.srcX=(t.width-r.srcWidth)/2,r.srcY=(t.height-r.srcHeight)/2,r.trgWidth=e,r.trgHeight=i,r},transformFile:function(t,e){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(t)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:n,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:n,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,n,r,o,a,s,l,h,c,u,d,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=B.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),t=0,r=(s=e.previewElement.querySelectorAll("[data-dz-name]")).length;t<r;t++)s[t].textContent=e.name;for(i=0,o=(l=e.previewElement.querySelectorAll("[data-dz-size]")).length;i<o;i++)l[i].innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=B.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),p=this,c=function(t){return t.preventDefault(),t.stopPropagation(),e.status===B.UPLOADING?B.confirm(p.options.dictCancelUploadConfirmation,function(){return p.removeFile(e)}):p.options.dictRemoveFileConfirmation?B.confirm(p.options.dictRemoveFileConfirmation,function(){return p.removeFile(e)}):p.removeFile(e)},d=[],n=0,a=(h=e.previewElement.querySelectorAll("[data-dz-remove]")).length;n<a;n++)u=h[n],d.push(u.addEventListener("click",c));return d}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,r,o;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),i=0,n=(r=t.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;i<n;i++)(o=r[i]).alt=t.name,o.src=e;return setTimeout(function(){return t.previewElement.classList.add("dz-image-preview")},1)}},error:function(t,e){var i,n,r,o,a;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),a=[],i=0,n=(o=t.previewElement.querySelectorAll("[data-dz-errormessage]")).length;i<n;i++)r=o[i],a.push(r.textContent=e);return a}},errormultiple:n,processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:n,uploadprogress:function(t,e,i){var n,r,o,a,s;if(t.previewElement){for(s=[],n=0,r=(a=t.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;n<r;n++)"PROGRESS"===(o=a[n]).nodeName?s.push(o.value=e):s.push(o.style.width=e+"%");return s}},totaluploadprogress:n,sending:n,sendingmultiple:n,success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:n,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:n,complete:function(t){if(t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:n,maxfilesexceeded:n,maxfilesreached:n,queuecomplete:n,addedfiles:n},H=function(){var t,e,i,n,r,o,a;for(o=arguments[0],t=0,i=(r=2<=arguments.length?l.call(arguments,1):[]).length;t<i;t++)for(e in n=r[t])a=n[e],o[e]=a;return o},B.prototype.getAcceptedFiles=function(){var t,e,i,n,r;for(r=[],e=0,i=(n=this.files).length;e<i;e++)(t=n[e]).accepted&&r.push(t);return r},B.prototype.getRejectedFiles=function(){var t,e,i,n,r;for(r=[],e=0,i=(n=this.files).length;e<i;e++)(t=n[e]).accepted||r.push(t);return r},B.prototype.getFilesWithStatus=function(t){var e,i,n,r,o;for(o=[],i=0,n=(r=this.files).length;i<n;i++)(e=r[i]).status===t&&o.push(e);return o},B.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(B.QUEUED)},B.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(B.UPLOADING)},B.prototype.getAddedFiles=function(){return this.getFilesWithStatus(B.ADDED)},B.prototype.getActiveFiles=function(){var t,e,i,n,r;for(r=[],e=0,i=(n=this.files).length;e<i;e++)(t=n[e]).status!==B.UPLOADING&&t.status!==B.QUEUED||r.push(t);return r},B.prototype.init=function(){var t,e,i,n,r,o,a,s,l,h,c,u,d,p,f,g,m,v,y;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(B.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(s=this,(a=function(){return s.hiddenFileInput&&s.hiddenFileInput.parentNode.removeChild(s.hiddenFileInput),s.hiddenFileInput=document.createElement("input"),s.hiddenFileInput.setAttribute("type","file"),(null==s.options.maxFiles||1<s.options.maxFiles)&&s.hiddenFileInput.setAttribute("multiple","multiple"),s.hiddenFileInput.className="dz-hidden-input",null!=s.options.acceptedFiles&&s.hiddenFileInput.setAttribute("accept",s.options.acceptedFiles),null!=s.options.capture&&s.hiddenFileInput.setAttribute("capture",s.options.capture),s.hiddenFileInput.style.visibility="hidden",s.hiddenFileInput.style.position="absolute",s.hiddenFileInput.style.top="0",s.hiddenFileInput.style.left="0",s.hiddenFileInput.style.height="0",s.hiddenFileInput.style.width="0",document.querySelector(s.options.hiddenInputContainer).appendChild(s.hiddenFileInput),s.hiddenFileInput.addEventListener("change",function(){var t,e,i,n;if((e=s.hiddenFileInput.files).length)for(i=0,n=e.length;i<n;i++)t=e[i],s.addFile(t);return s.emit("addedfiles",e),a()})})()),this.URL=null!=(r=window.URL)?r:window.webkitURL,e=0,i=(o=this.events).length;e<i;e++)t=o[e],this.on(t,this.options[t]);return this.on("uploadprogress",(l=this,function(){return l.updateTotalUploadProgress()})),this.on("removedfile",(h=this,function(){return h.updateTotalUploadProgress()})),this.on("canceled",(c=this,function(t){return c.emit("complete",t)})),this.on("complete",(u=this,function(t){if(0===u.getAddedFiles().length&&0===u.getUploadingFiles().length&&0===u.getQueuedFiles().length)return setTimeout(function(){return u.emit("queuecomplete")},0)})),n=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:(v=this,function(t){return v.emit("dragstart",t)}),dragenter:(m=this,function(t){return n(t),m.emit("dragenter",t)}),dragover:(g=this,function(t){var e;try{e=t.dataTransfer.effectAllowed}catch(t){}return t.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy",n(t),g.emit("dragover",t)}),dragleave:(f=this,function(t){return f.emit("dragleave",t)}),drop:(p=this,function(t){return n(t),p.drop(t)}),dragend:(d=this,function(t){return d.emit("dragend",t)})}}],this.clickableElements.forEach((y=this,function(e){return y.listeners.push({element:e,events:{click:function(t){return(e!==y.element||t.target===y.element||B.elementInside(t.target,y.element.querySelector(".dz-message")))&&y.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)},B.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,B.instances.splice(B.instances.indexOf(this),1)},B.prototype.updateTotalUploadProgress=function(){var t,e,i,n,r,o,a;if(r=o=0,this.getActiveFiles().length){for(e=0,i=(n=this.getActiveFiles()).length;e<i;e++)o+=(t=n[e]).upload.bytesSent,r+=t.upload.total;a=100*o/r}else a=100;return this.emit("totaluploadprogress",a,r,o)},B.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},B.prototype._renameFile=function(t){return"function"!=typeof this.options.renameFile?t.name:this.options.renameFile(t)},B.prototype.getFallbackForm=function(){var t,e,i,n;return(t=this.getExistingFallback())?t:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=B.createElement(i),"FORM"!==this.element.tagName?(n=B.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(e):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:e)},B.prototype.getExistingFallback=function(){var t,e,i,n,r,o;for(e=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},i=0,n=(r=["div","form"]).length;i<n;i++)if(o=r[i],t=e(this.element.getElementsByTagName(o)))return t},B.prototype.setupEventListeners=function(){var i,n,t,e,r,o,a;for(a=[],t=0,e=(o=this.listeners).length;t<e;t++)i=o[t],a.push(function(){var t,e;for(n in e=[],t=i.events)r=t[n],e.push(i.element.addEventListener(n,r,!1));return e}());return a},B.prototype.removeEventListeners=function(){var i,n,t,e,r,o,a;for(a=[],t=0,e=(o=this.listeners).length;t<e;t++)i=o[t],a.push(function(){var t,e;for(n in e=[],t=i.events)r=t[n],e.push(i.element.removeEventListener(n,r,!1));return e}());return a},B.prototype.disable=function(){var t,e,i,n,r;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),r=[],e=0,i=(n=this.files).length;e<i;e++)t=n[e],r.push(this.cancelUpload(t));return r},B.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},B.prototype.filesize=function(t){var e,i,n,r,o,a,s;if(o="b",(r=0)<t){for(e=i=0,n=(s=["tb","gb","mb","kb","b"]).length;i<n;e=++i)if(a=s[e],Math.pow(this.options.filesizeBase,4-e)/10<=t){r=t/Math.pow(this.options.filesizeBase,4-e),o=a;break}r=Math.round(10*r)/10}return"<strong>"+r+"</strong> "+this.options.dictFileSizeUnits[o]},B.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},B.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,this.emit("addedfiles",e),e.length&&((i=t.dataTransfer.items)&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},B.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),(e=t.clipboardData.items).length?this._addFilesFromItems(e):void 0},B.prototype.handleFiles=function(t){var e,i,n,r;for(r=[],i=0,n=t.length;i<n;i++)e=t[i],r.push(this.addFile(e));return r},B.prototype._addFilesFromItems=function(t){var e,i,n,r,o;for(o=[],n=0,r=t.length;n<r;n++)null!=(i=t[n]).webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?o.push(this.addFile(i.getAsFile())):e.isDirectory?o.push(this._addFilesFromDirectory(e,e.name)):o.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?o.push(this.addFile(i.getAsFile())):o.push(void 0);return o},B.prototype._addFilesFromDirectory=function(t,r){var e,i,o,a;return e=t.createReader(),i=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0},a=this,(o=function(){return e.readEntries(function(t){var e,i,n;if(0<t.length){for(i=0,n=t.length;i<n;i++)(e=t[i]).isFile?e.file(function(t){if(!a.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath=r+"/"+t.name,a.addFile(t)}):e.isDirectory&&a._addFilesFromDirectory(e,r+"/"+e.name);o()}return null},i)})()},B.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):B.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},B.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=B.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(i=this,function(t){return t?(e.accepted=!1,i._errorProcessing([e],t)):(e.accepted=!0,i.options.autoQueue&&i.enqueueFile(e)),i._updateMaxFilesReachedClass()}));var i},B.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)e=t[i],this.enqueueFile(e);return null},B.prototype.enqueueFile=function(t){if(t.status!==B.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=B.QUEUED,this.options.autoProcessQueue)return setTimeout((e=this,function(){return e.processQueue()}),0);var e},B.prototype._thumbnailQueue=[],B.prototype._processingThumbnail=!1,B.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout((e=this,function(){return e._processThumbnailQueue()}),0);var e},B.prototype._processThumbnailQueue=function(){var e,i;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,e=this._thumbnailQueue.shift(),this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(i=this,function(t){return i.emit("thumbnail",e,t),i._processingThumbnail=!1,i._processThumbnailQueue()}))},B.prototype.removeFile=function(t){if(t.status===B.UPLOADING&&this.cancelUpload(t),this.files=r(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},B.prototype.removeAllFiles=function(t){var e,i,n,r;for(null==t&&(t=!1),i=0,n=(r=this.files.slice()).length;i<n;i++)((e=r[i]).status!==B.UPLOADING||t)&&this.removeFile(e);return null},B.prototype.resizeImage=function(r,t,e,i,o){return this.createThumbnail(r,t,e,i,!1,(a=this,function(t,e){var i,n;return null===e?o(r):(null==(i=a.options.resizeMimeType)&&(i=r.type),n=e.toDataURL(i,a.options.resizeQuality),"image/jpeg"!==i&&"image/jpg"!==i||(n=s.restore(r.dataURL,n)),o(B.dataURItoBlob(n)))}));var a},B.prototype.createThumbnail=function(t,e,i,n,r,o){var a,s;return(a=new FileReader).onload=(s=this,function(){if(t.dataURL=a.result,"image/svg+xml"!==t.type)return s.createThumbnailFromUrl(t,e,i,n,r,o);null!=o&&o(a.result)}),a.readAsDataURL(t)},B.prototype.createThumbnailFromUrl=function(h,c,u,d,e,p,t){var f,g;return f=document.createElement("img"),t&&(f.crossOrigin=t),f.onload=(g=this,function(){var t;return t=function(t){return t(1)},"undefined"!=typeof EXIF&&null!==EXIF&&e&&(t=function(t){return EXIF.getData(f,function(){return t(EXIF.getTag(this,"Orientation"))})}),t(function(t){var e,i,n,r,o,a,s,l;switch(h.width=f.width,h.height=f.height,s=g.options.resize.call(g,h,c,u,d),i=(e=document.createElement("canvas")).getContext("2d"),e.width=s.trgWidth,e.height=s.trgHeight,4<t&&(e.width=s.trgHeight,e.height=s.trgWidth),t){case 2:i.translate(e.width,0),i.scale(-1,1);break;case 3:i.translate(e.width,e.height),i.rotate(Math.PI);break;case 4:i.translate(0,e.height),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-e.height);break;case 7:i.rotate(.5*Math.PI),i.translate(e.width,-e.height),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-e.width,0)}if(m(i,f,null!=(n=s.srcX)?n:0,null!=(r=s.srcY)?r:0,s.srcWidth,s.srcHeight,null!=(o=s.trgX)?o:0,null!=(a=s.trgY)?a:0,s.trgWidth,s.trgHeight),l=e.toDataURL("image/png"),null!=p)return p(l,e)})}),null!=p&&(f.onerror=p),f.src=h.dataURL},B.prototype.processQueue=function(){var t,e,i,n;if(!((e=this.options.parallelUploads)<=(t=i=this.getUploadingFiles().length))&&0<(n=this.getQueuedFiles()).length){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-i));for(;t<e;){if(!n.length)return;this.processFile(n.shift()),t++}}},B.prototype.processFile=function(t){return this.processFiles([t])},B.prototype.processFiles=function(t){var e,i,n;for(i=0,n=t.length;i<n;i++)(e=t[i]).processing=!0,e.status=B.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},B.prototype._getFilesWithXhr=function(r){var o;return function(){var t,e,i,n;for(n=[],t=0,e=(i=this.files).length;t<e;t++)(o=i[t]).xhr===r&&n.push(o);return n}.call(this)},B.prototype.cancelUpload=function(t){var e,i,n,r,o,a,s;if(t.status===B.UPLOADING){for(n=0,o=(i=this._getFilesWithXhr(t.xhr)).length;n<o;n++)(e=i[n]).status=B.CANCELED;for(t.xhr.abort(),r=0,a=i.length;r<a;r++)e=i[r],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(s=t.status)!==B.ADDED&&s!==B.QUEUED||(t.status=B.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},V=function(){var t,e;return e=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},B.prototype.uploadFile=function(t){return this.uploadFiles([t])},B.prototype.uploadFiles=function(c){var r,t,u,o,i,e,n,a,s,l,h,d,p,f,g,m,v,y,b,x,_,w,S,C,k,T,D,A,M,E,P,L,I,O,R,F,N,z,$;for(F=new XMLHttpRequest,p=0,v=c.length;p<v;p++)(u=c[p]).xhr=F;for(e in w=V(this.options.method,c),O=V(this.options.url,c),F.open(w,O,!0),F.timeout=V(this.options.timeout,c),F.withCredentials=!!this.options.withCredentials,P=null,i=function(){var t,e,i;for(i=[],t=0,e=c.length;t<e;t++)u=c[t],i.push(N._errorProcessing(c,P||N.options.dictResponseError.replace("{{statusCode}}",F.status),F));return i},z=N=this,I=function(t){var e,i,n,r,o,a,s,l,h;if(null!=t)for(l=100*t.loaded/t.total,i=0,r=c.length;i<r;i++)(u=c[i]).upload.progress=l,u.upload.total=t.total,u.upload.bytesSent=t.loaded;else{for(e=!0,l=100,n=0,o=c.length;n<o;n++)100===(u=c[n]).upload.progress&&u.upload.bytesSent===u.upload.total||(e=!1),u.upload.progress=l,u.upload.bytesSent=u.upload.total;if(e)return}for(h=[],s=0,a=c.length;s<a;s++)u=c[s],h.push(z.emit("uploadprogress",u,l,u.upload.bytesSent));return h},F.onload=($=this,function(e){var t;if(c[0].status!==B.CANCELED&&4===F.readyState){if("arraybuffer"!==F.responseType&&"blob"!==F.responseType&&(P=F.responseText,F.getResponseHeader("content-type")&&~F.getResponseHeader("content-type").indexOf("application/json")))try{P=JSON.parse(P)}catch(t){e=t,P="Invalid JSON response from server."}return I(),200<=(t=F.status)&&t<300?$._finished(c,P,e):i()}}),F.onerror=function(){if(c[0].status!==B.CANCELED)return i()},(null!=(k=F.upload)?k:F).onprogress=I,a={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&H(a,this.options.headers),a)(n=a[e])&&F.setRequestHeader(e,n);if(o=new FormData,this.options.params)for(g in T=this.options.params)R=T[g],o.append(g,R);for(f=0,y=c.length;f<y;f++)u=c[f],this.emit("sending",u,F,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",c,F,o),"FORM"===this.element.tagName)for(m=0,b=(D=this.element.querySelectorAll("input, textarea, select, button")).length;m<b;m++)if(h=(l=D[m]).getAttribute("name"),d=l.getAttribute("type"),"SELECT"===l.tagName&&l.hasAttribute("multiple"))for(_=0,x=(A=l.options).length;_<x;_++)(C=A[_]).selected&&o.append(h,C.value);else(!d||"checkbox"!==(M=d.toLowerCase())&&"radio"!==M||l.checked)&&o.append(h,l.value);for(L=[],s=S=r=0,E=c.length-1;0<=E?S<=E:E<=S;s=0<=E?++S:--S)t=function(n){return function(t,e,i){return function(t){if(o.append(e,t,i),++r===c.length)return n.submitRequest(F,o,c)}}}(this),L.push(this.options.transformFile.call(this,c[s],t(c[s],this._getParamName(s),c[s].upload.filename)));return L},B.prototype.submitRequest=function(t,e,i){return t.send(e)},B.prototype._finished=function(t,e,i){var n,r,o;for(r=0,o=t.length;r<o;r++)(n=t[r]).status=B.SUCCESS,this.emit("success",n,e,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},B.prototype._errorProcessing=function(t,e,i){var n,r,o;for(r=0,o=t.length;r<o;r++)(n=t[r]).status=B.ERROR,this.emit("error",n,e,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},B}()).version="5.1.1",a.options={},a.optionsForElement=function(t){return t.getAttribute("id")?a.options[i(t.getAttribute("id"))]:void 0},a.instances=[],a.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},a.autoDiscover=!0,a.discover=function(){var t,e,o,i,n,r;for(document.querySelectorAll?o=document.querySelectorAll(".dropzone"):(o=[],(t=function(t){var e,i,n,r;for(r=[],i=0,n=t.length;i<n;i++)e=t[i],/(^| )dropzone($| )/.test(e.className)?r.push(o.push(e)):r.push(void 0);return r})(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),r=[],i=0,n=o.length;i<n;i++)e=o[i],!1!==a.optionsForElement(e)?r.push(new a(e)):r.push(void 0);return r},a.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],a.isBrowserSupported=function(){var t,e,i,n;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(e=0,i=(n=a.blacklistedBrowsers).length;e<i;e++)n[e].test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},a.dataURItoBlob=function(t){var e,i,n,r,o,a,s;for(i=atob(t.split(",")[1]),a=t.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(i.length),r=new Uint8Array(e),n=o=0,s=i.length;0<=s?o<=s:s<=o;n=0<=s?++o:--o)r[n]=i.charCodeAt(n);return new Blob([e],{type:a})},r=function(t,e){var i,n,r,o;for(o=[],n=0,r=t.length;n<r;n++)(i=t[n])!==e&&o.push(i);return o},i=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},a.createElement=function(t){var e;return(e=document.createElement("div")).innerHTML=t,e.childNodes[0]},a.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},a.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},a.getElements=function(t,e){var i,n,r,o,a,s,l;if(t instanceof Array){n=[];try{for(r=0,a=t.length;r<a;r++)i=t[r],n.push(this.getElement(i,e))}catch(t){t,n=null}}else if("string"==typeof t)for(n=[],o=0,s=(l=document.querySelectorAll(t)).length;o<s;o++)i=l[o],n.push(i);else null!=t.nodeType&&(n=[t]);if(null==n||!n.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},a.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},a.isValidFile=function(t,e){var i,n,r,o,a;if(!e)return!0;for(e=e.split(","),i=(o=t.type).replace(/\/.*$/,""),n=0,r=e.length;n<r;n++)if("."===(a=(a=e[n]).trim()).charAt(0)){if(-1!==t.name.toLowerCase().indexOf(a.toLowerCase(),t.name.length-a.length))return!0}else if(/\/\*$/.test(a)){if(i===a.replace(/\/.*$/,""))return!0}else if(o===a)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new a(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=a:window.Dropzone=a,a.ADDED="added",a.QUEUED="queued",a.ACCEPTED=a.QUEUED,a.UPLOADING="uploading",a.PROCESSING=a.UPLOADING,a.CANCELED="canceled",a.ERROR="error",a.SUCCESS="success",u=function(t){var e,i,n,r,o,a,s,l;for(t.naturalWidth,o=t.naturalHeight,(e=document.createElement("canvas")).width=1,e.height=o,(i=e.getContext("2d")).drawImage(t,0,0),n=i.getImageData(1,0,1,o).data,l=0,a=r=o;l<a;)0===n[4*(a-1)+3]?r=a:l=a,a=r+l>>1;return 0===(s=a/o)?1:s},m=function(t,e,i,n,r,o,a,s,l,h){var c;return c=u(e),t.drawImage(e,i,n,r,o,a,s,l,h/c)},s=function(){function t(){}return t.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t.encode64=function(t){var e,i,n,r,o,a,s,l,h;for(a=o=r=i=e=void 0,s=n=h="",l=0;r=(e=t[l++])>>2,o=(3&e)<<4|(i=t[l++])>>4,a=(15&i)<<2|(n=t[l++])>>6,s=63&n,isNaN(i)?a=s=64:isNaN(n)&&(s=64),h=h+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(s),e=i=n="",r=o=a=s="",l<t.length;);return h},t.restore=function(t,e){var i,n,r;return t.match("data:image/jpeg;base64,")?(n=this.decode64(t.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(n),i=this.exifManipulation(e,r),"data:image/jpeg;base64,"+this.encode64(i)):e},t.exifManipulation=function(t,e){var i,n;return i=this.getExifArray(e),n=this.insertExif(t,i),new Uint8Array(n)},t.getExifArray=function(t){var e,i;for(e=void 0,i=0;i<t.length;){if(255===(e=t[i])[0]&225===e[1])return e;i++}return[]},t.insertExif=function(t,e){var i,n,r,o,a;return r=t.replace("data:image/jpeg;base64,",""),a=(n=this.decode64(r)).indexOf(255,3),o=n.slice(0,a),i=n.slice(a),o.concat(e).concat(i)},t.slice2Segments=function(t){var e,i,n,r;for(i=0,r=[];!(255===t[i]&218===t[i+1]||(255===t[i]&216===t[i+1]?i+=2:(e=i+(256*t[i+2]+t[i+3])+2,n=t.slice(i,e),r.push(n),i=e),i>t.length)););return r},t.decode64=function(t){var e,i,n,r,o,a,s,l;for(a=o=n=i=void 0,s=r="",l=0,e=[],/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.warning("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");i=this.KEY_STR.indexOf(t.charAt(l++))<<2|(o=this.KEY_STR.indexOf(t.charAt(l++)))>>4,n=(15&o)<<4|(a=this.KEY_STR.indexOf(t.charAt(l++)))>>2,r=(3&a)<<6|(s=this.KEY_STR.indexOf(t.charAt(l++))),e.push(i),64!==a&&e.push(n),64!==s&&e.push(r),i=n=r="",o=a=s="",l<t.length;);return e},t}(),t=function(e,i){var t,n,r,o,a,s,l,h,c;if(c=!(r=!1),n=e.document,h=n.documentElement,t=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",s=n.addEventListener?"":"on",o=function(t){if("readystatechange"!==t.type||"complete"===n.readyState)return("load"===t.type?e:n)[l](s+t.type,o,!1),!r&&(r=!0)?i.call(e,t.type||t):void 0},a=function(){try{h.doScroll("left")}catch(t){return t,void setTimeout(a,50)}return o("poll")},"complete"!==n.readyState){if(n.createEventObject&&h.doScroll){try{c=!e.frameElement}catch(t){}c&&a()}return n[t](s+"DOMContentLoaded",o,!1),n[t](s+"readystatechange",o,!1),e[t](s+"load",o,!1)}},a._autoDiscoverFunction=function(){if(a.autoDiscover)return a.discover()},t(window,a._autoDiscoverFunction)}.call(this);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"use strict";if(!s)throw new Error("dropzone.js required.");var n=s.prototype.defaultOptions.error;s.prototype.defaultOptions=a.extend({},s.prototype.defaultOptions,{previewTemplate:'\n<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename" data-dz-name></div>\n    <div class="dz-size" data-dz-size></div>\n    <div class="dz-thumbnail">\n      <img data-dz-thumbnail>\n      <span class="dz-nopreview">No preview</span>\n      <div class="dz-success-mark"></div>\n      <div class="dz-error-mark"></div>\n      <div class="dz-error-message"><span data-dz-errormessage></span></div>\n    </div>\n  </div>\n  <div class="progress">\n    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" data-dz-uploadprogress></div>\n  </div>\n</div>',addRemoveLinks:!0,error:function(t,e){var i=n.call(this,t,e);return t.previewElement&&a(t.previewElement).find(".progress-bar-success").removeClass("progress-bar-success").addClass("progress-bar-danger"),i}}),a.fn.dropzone=function(n){for(var t=arguments.length,r=Array(1<t?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];var o=void 0,i=this.each(function(){var t=a(this).data("dropzone"),e="object"===(void 0===n?"undefined":_typeof(n))?n:null;if(t||(t=new s(this,e),a(this).data("dropzone",t)),"string"==typeof n){var i;if(!t[n])throw new Error('No method named "'+n+'".');o=(i=t)[n].apply(i,r)}});return void 0!==o?o:i}}(jQuery,window.Dropzone),function(t){"object"==typeof exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(c){"use strict";var i={},u=Math.max,d=Math.min;i.c={},i.c.d=c(document),i.c.t=function(t){return t.originalEvent.touches.length-1},i.o=function(){var n=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var t=function(t,e){var i;for(i in e)n.o[i]=e[i];n._carve().init(),n._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=c.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:(!0===this.$.data("cursor")?30:this.$.data("cursor"))||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(t){return t},parse:function(t){return parseFloat(t)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(e){var i=c(this);n.i[e]=i,n.v[e]=n.o.parse(i.val()),i.bind("change blur",function(){var t={};t[e]=i.val(),n.val(n._validate(t))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){n.val(n._validate(n.o.parse(n.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=c(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=c('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",t).parent().bind("configure",t),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var t=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),e=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(t,e)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var t=!0;n.g=n.c,n.clear(),n.dH&&(t=n.dH()),!1!==t&&n.draw()},this._touch=function(t){var e=function(t){var e=n.xy2val(t.originalEvent.touches[n.t].pageX,t.originalEvent.touches[n.t].pageY);e!=n.cv&&(n.cH&&!1===n.cH(e)||(n.change(n._validate(e)),n._draw()))};return this.t=i.c.t(t),e(t),i.c.d.bind("touchmove.k",e).bind("touchend.k",function(){i.c.d.unbind("touchmove.k touchend.k"),n.val(n.cv)}),this},this._mouse=function(t){var e=function(t){var e=n.xy2val(t.pageX,t.pageY);e!=n.cv&&(n.cH&&!1===n.cH(e)||(n.change(n._validate(e)),n._draw()))};return e(t),i.c.d.bind("mousemove.k",e).bind("keyup.k",function(t){if(27===t.keyCode){if(i.c.d.unbind("mouseup.k mousemove.k keyup.k"),n.eH&&!1===n.eH())return;n.cancel()}}).bind("mouseup.k",function(t){i.c.d.unbind("mousemove.k mouseup.k keyup.k"),n.val(n.cv)}),this},this._xy=function(){var t=this.$c.offset();return this.x=t.left,this.y=t.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(t){t.preventDefault(),n._xy()._mouse(t)}).bind("touchstart",function(t){t.preventDefault(),n._xy()._touch(t)}),this.listen()),this.relative&&c(window).resize(function(){n._carve().init(),n._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(t){var e=~~((t<0?-.5:.5)+t/this.o.step)*this.o.step;return Math.round(100*e)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(t){},this.val=function(t){},this.xy2val=function(t,e){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(t,e){var i;return t=t.substring(1,7),"rgba("+(i=[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)])[0]+","+i[1]+","+i[2]+","+e+")"},this.copy=function(t,e){for(var i in t)e[i]=t[i]}},i.Dial=function(){i.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=c.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(t,e){if(null==t)return this.v;t=this.o.parse(t),!1!==e&&t!=this.v&&this.rH&&!1===this.rH(t)||(this.cv=this.o.stopper?u(d(t,this.o.max),this.o.min):t,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(t,e){var i,n;return i=Math.atan2(t-(this.x+this.w2),-(e-this.y-this.w2))-this.angleOffset,this.o.flip&&(i=this.angleArc-i-this.PI2),this.angleArc!=this.PI2&&i<0&&-.5<i?i=0:i<0&&(i+=this.PI2),n=i*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(n=u(d(n,this.o.max),this.o.min)),n},this.listen=function(){var o,a,n,r,s=this,t=function(t){t.preventDefault();var e=t.originalEvent,i=e.detail||e.wheelDeltaX,n=e.detail||e.wheelDeltaY,r=s._validate(s.o.parse(s.$.val()))+(0<i||0<n?s.o.step:i<0||n<0?-s.o.step:0);r=u(d(r,s.o.max),s.o.min),s.val(r,!1),s.rH&&(clearTimeout(o),o=setTimeout(function(){s.rH(r),o=null},100),a||(a=setTimeout(function(){o&&s.rH(r),a=null},200)))},l=1,h={37:-s.o.step,38:s.o.step,39:s.o.step,40:-s.o.step};this.$.bind("keydown",function(t){var e=t.keyCode;if(96<=e&&e<=105&&(e=t.keyCode=e-48),n=parseInt(String.fromCharCode(e)),isNaN(n)&&(13!==e&&8!==e&&9!==e&&189!==e&&(190!==e||s.$.val().match(/\./))&&t.preventDefault(),-1<c.inArray(e,[37,38,39,40]))){t.preventDefault();var i=s.o.parse(s.$.val())+h[e]*l;s.o.stopper&&(i=u(d(i,s.o.max),s.o.min)),s.change(s._validate(i)),s._draw(),r=window.setTimeout(function(){l*=2},30)}}).bind("keyup",function(t){isNaN(n)?r&&(window.clearTimeout(r),r=null,l=1,s.val(s.$.val())):s.$.val()>s.o.max&&s.$.val(s.o.max)||s.$.val()<s.o.min&&s.$.val(s.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",t),this.$.bind("mousewheel DOMMouseScroll",t)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var t=u(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/t>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(t){this.cv=t,this.$.val(this.o.format(t))},this.angle=function(t){return(t-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(t){var e,i;return t=this.angle(t),i=this.o.flip?(e=this.endAngle+1e-5)-t-1e-5:(e=this.startAngle-1e-5)+t+1e-5,this.o.cursor&&(e=i-this.cursorExt)&&(i+=this.cursorExt),{s:e,e:i,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var t,e=this.g,i=this.arc(this.cv),n=1;e.lineWidth=this.lineWidth,e.lineCap=this.lineCap,"none"!==this.o.bgColor&&(e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke()),this.o.displayPrevious&&(t=this.arc(this.v),e.beginPath(),e.strokeStyle=this.pColor,e.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),e.stroke(),n=this.cv==this.v),e.beginPath(),e.strokeStyle=n?this.o.fgColor:this.fgColor,e.arc(this.xy,this.xy,this.radius,i.s,i.e,i.d),e.stroke()},this.cancel=function(){this.val(this.v)}},c.fn.dial=c.fn.knob=function(e){return this.each(function(){var t=new i.Dial;t.o=e,t.$=c(this),t.run()}).parent()}}),function(i){"use strict";if(!i.fn.knob)throw new Error("jquery.knob.js required.");var n=i.fn.knob;i.fn.knob=function(t){var e=n.call(this,t);return"rtl"===i("html").attr("dir")?e.each(function(){var t=i(this).find("input");t.css({"margin-left":0,"margin-right":t.css("margin-left")})}):e}}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(g){"use strict";g=g&&g.hasOwnProperty("default")?g.default:g;var r=function(){function t(t,e,i,n){this.markup=t,this.children=e,this.options=i,this.callback=n}return t.prototype.render=function(t){var i=g(this.markup);if(this.options&&this.options.contents&&i.html(this.options.contents),this.options&&this.options.className&&i.addClass(this.options.className),this.options&&this.options.data&&g.each(this.options.data,function(t,e){i.attr("data-"+t,e)}),this.options&&this.options.click&&i.on("click",this.options.click),this.children){var e=i.find(".note-children-container");this.children.forEach(function(t){t.render(e.length?e:i)})}return this.callback&&this.callback(i,this.options),this.options&&this.options.callback&&this.options.callback(i),t&&t.append(i),i},t}(),i=function(i,n){return function(){var t="object"==typeof arguments[1]?arguments[1]:arguments[0],e=g.isArray(arguments[0])?arguments[0]:[];return t&&t.children&&(e=t.children),new r(i,e,t,n)}},t=i('<div class="note-editor note-frame panel"/>'),e=i('<div class="note-toolbar-wrapper panel-default"><div class="note-toolbar panel-heading" role="toolbar"></div></div>'),n=i('<div class="note-editing-area"/>'),o=i('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),a=i('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),s=i(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),l=i('<div class="note-editor"/>'),h=i(['  <output class="note-status-output" aria-live="polite"/>','<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'].join("")),c=i('<div class="note-btn-group btn-group">'),u=i('<ul class="dropdown-menu" role="list">',function(t,r){var e=g.isArray(r.items)?r.items.map(function(t){var e="string"==typeof t?t:t.value||"",i=r.template?r.template(t):t,n="object"==typeof t?t.option:void 0;return'<li role="listitem" aria-label="'+t+'"><a href="#" '+('data-value="'+e+'"'+(void 0!==n?' data-option="'+n+'"':""))+">"+i+"</a></li>"}).join(""):r.items;t.html(e).attr({"aria-label":r.title})}),d=i('<ul class="dropdown-menu note-check" role="list">',function(t,n){var e=g.isArray(n.items)?n.items.map(function(t){var e="string"==typeof t?t:t.value||"",i=n.template?n.template(t):t;return'<li role="listitem" aria-label="'+t+'"><a href="#" data-value="'+e+'">'+y(n.checkClassName)+" "+i+"</a></li>"}).join(""):n.items;t.html(e).attr({"aria-label":n.title})}),p=i('<div class="note-color-palette"/>',function(t,e){for(var i=[],n=0,r=e.colors.length;n<r;n++){for(var o=e.eventName,a=e.colors[n],s=e.colorsName[n],l=[],h=0,c=a.length;h<c;h++){var u=a[h],d=s[h];l.push(['<button type="button" class="note-color-btn"','style="background-color:',u,'" ','data-event="',o,'" ','data-value="',u,'" ','title="',d,'" ','aria-label="',d,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}i.push('<div class="note-color-row">'+l.join("")+"</div>")}t.html(i.join("")),e.tooltip&&t.find(".note-color-btn").tooltip({container:e.container,trigger:"hover",placement:"bottom"})}),f=i('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(t,e){e.fade&&t.addClass("fade"),t.attr({"aria-label":e.title}),t.html(['<div class="modal-dialog">','  <div class="modal-content">',e.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">'+e.title+"</h4>    </div>":"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div>","</div>"].join(""))}),m=i(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(t,e){var i=void 0!==e.direction?e.direction:"bottom";t.addClass(i),e.hideArrow&&t.find(".arrow").hide()}),v=i('<div class="checkbox"></div>',function(t,e){t.html([" <label"+(e.id?' for="'+e.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(e.id?' id="'+e.id+'"':""),e.checked?" checked":"",' aria-checked="'+(e.checked?"true":"false")+'"/>',e.text?e.text:"","</label>"].join(""))}),y=function(t,e){return"<"+(e=e||"i")+' class="'+t+'"/>'},b={editor:t,toolbar:e,editingArea:n,codable:o,editable:a,statusbar:s,airEditor:l,airEditable:h,buttonGroup:c,dropdown:u,dropdownButtonContents:function(t,e){return t+" "+y(e.icons.caret,"span")},dropdownCheck:d,palette:p,dialog:f,popover:m,checkbox:v,icon:y,options:{},button:function(t,e){return i('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">',function(t,e){e&&e.tooltip&&t.attr({title:e.tooltip,"aria-label":e.tooltip}).tooltip({container:e.container,trigger:"hover",placement:"bottom"})})(t,e)},toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},onDialogShown:function(t,e){t.one("shown.bs.modal",e)},onDialogHidden:function(t,e){t.one("hidden.bs.modal",e)},showDialog:function(t){t.modal("show")},hideDialog:function(t){t.modal("hide")},createLayout:function(t,e){var i=(e.airMode?b.airEditor([b.editingArea([b.airEditable()])]):b.editor([b.toolbar(),b.editingArea([b.codable(),b.editable()]),b.statusbar()])).render();return i.insertAfter(t),{note:t,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.show()}};var x=0;var _={eq:function(e){return function(t){return e===t}},eq2:function(t,e){return t===e},peq2:function(i){return function(t,e){return t[i]===e[i]}},ok:function(){return!0},fail:function(){return!1},self:function(t){return t},not:function(t){return function(){return!t.apply(t,arguments)}},and:function(e,i){return function(t){return e(t)&&i(t)}},invoke:function(t,e){return function(){return t[e].apply(t,arguments)}},uniqueId:function(t){var e=++x+"";return t?t+e:e},rect2bnd:function(t){var e=$(document);return{top:t.top+e.scrollTop(),left:t.left+e.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e},namespaceToCamel:function(t,e){return(e=e||"")+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")},debounce:function(n,r,o){var a,s=this;return function(){var t=s,e=arguments,i=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||n.apply(t,e)},r),i&&n.apply(t,e)}}};function w(t){return t[0]}function S(t){return t[t.length-1]}function C(t){return t.slice(1)}function k(t,e){return g.inArray(e,t)}function T(t,e){return-1!==k(t,e)}var D={head:w,last:S,initial:function(t){return t.slice(0,t.length-1)},tail:C,prev:function(t,e){var i=k(t,e);return-1===i?null:t[i-1]},next:function(t,e){var i=k(t,e);return-1===i?null:t[i+1]},find:function(t,e){for(var i=0,n=t.length;i<n;i++){var r=t[i];if(e(r))return r}},contains:T,all:function(t,e){for(var i=0,n=t.length;i<n;i++)if(!e(t[i]))return!1;return!0},sum:function(t,i){return i=i||_.self,t.reduce(function(t,e){return t+i(e)},0)},from:function(t){for(var e=[],i=t.length,n=-1;++n<i;)e[n]=t[n];return e},isEmpty:function(t){return!t||!t.length},clusterBy:function(t,n){return t.length?C(t).reduce(function(t,e){var i=S(t);return n(S(i),e)?i[i.length]=e:t[t.length]=[e],t},[[w(t)]]):[]},compact:function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},unique:function(t){for(var e=[],i=0,n=t.length;i<n;i++)T(e,t[i])||e.push(t[i]);return e}},A="function"==typeof define&&define.amd;var M,E=navigator.userAgent,P=/MSIE|Trident/i.test(E);if(P){var L=/MSIE (\d+[.]\d+)/.exec(E);L&&(M=parseFloat(L[1])),(L=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(E))&&(M=parseFloat(L[1]))}var I=/Edge\/\d+/.test(E),O=!!window.CodeMirror;if(!O&&A)if("function"==typeof __webpack_require__)try{require.resolve("codemirror"),O=!0}catch(t){}else if("undefined"!=typeof require)if(void 0!==require.resolve)try{require.resolve("codemirror"),O=!0}catch(t){}else void 0!==require.specified&&(O=require.specified("codemirror"));var R="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,F=P||I?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",N={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:P,isEdge:I,isFF:!I&&/firefox/i.test(E),isPhantom:/PhantomJS/i.test(E),isWebkit:!I&&/webkit/i.test(E),isChrome:!I&&/chrome/i.test(E),isSafari:!I&&/safari/i.test(E),browserVersion:M,jqueryVersion:parseFloat(g.fn.jquery),isSupportAmd:A,isSupportTouch:R,hasCodeMirror:O,isFontInstalled:function(t){var e="Comic Sans MS"===t?"Courier New":"Comic Sans MS",i=g("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),n=i.css("fontFamily",e).width(),r=i.css("fontFamily",t+","+e).width();return i.remove(),n!==r},isW3CRangeSupport:!!document.createRange,inputEventName:F},z=String.fromCharCode(160);function H(t){return t&&g(t).hasClass("note-editable")}function V(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}}function B(t){return t&&3===t.nodeType}function W(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(t.nodeName.toUpperCase())}function j(t){return!H(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))}var Y=V("PRE"),U=V("LI");var G=V("TABLE"),q=V("DATA");function X(t){return!(tt(t)||K(t)||Z(t)||j(t)||G(t)||J(t)||q(t))}function K(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())}var Z=V("HR");function Q(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase())}var J=V("BLOCKQUOTE");function tt(t){return Q(t)||J(t)||H(t)}var et=V("A");var it=V("BODY");var nt=N.isMSIE&&N.browserVersion<11?"&nbsp;":"<br>";function rt(t){return B(t)?t.nodeValue.length:t?t.childNodes.length:0}function ot(t){var e=rt(t);return 0===e||(!B(t)&&1===e&&t.innerHTML===nt||!(!D.all(t.childNodes,B)||""!==t.innerHTML))}function at(t){W(t)||rt(t)||(t.innerHTML=nt)}function st(t,e){for(;t;){if(e(t))return t;if(H(t))break;t=t.parentNode}return null}function lt(t,e){e=e||_.fail;var i=[];return st(t,function(t){return H(t)||i.push(t),e(t)}),i}function ht(t,e){e=e||_.fail;for(var i=[];t&&!e(t);)i.push(t),t=t.nextSibling;return i}function ct(t,e){var i=e.nextSibling,n=e.parentNode;return i?n.insertBefore(t,i):n.appendChild(t),t}function ut(i,t){return g.each(t,function(t,e){i.appendChild(e)}),i}function dt(t){return 0===t.offset}function pt(t){return t.offset===rt(t.node)}function ft(t){return dt(t)||pt(t)}function gt(t,e){for(;t&&t!==e;){if(0!==vt(t))return!1;t=t.parentNode}return!0}function mt(t,e){if(!e)return!1;for(;t&&t!==e;){if(vt(t)!==rt(t.parentNode)-1)return!1;t=t.parentNode}return!0}function vt(t){for(var e=0;t=t.previousSibling;)e+=1;return e}function yt(t){return!!(t&&t.childNodes&&t.childNodes.length)}function bt(t,e){var i,n;if(0===t.offset){if(H(t.node))return null;i=t.node.parentNode,n=vt(t.node)}else yt(t.node)?n=rt(i=t.node.childNodes[t.offset-1]):(i=t.node,n=e?0:t.offset-1);return{node:i,offset:n}}function xt(t,e){var i,n;if(rt(t.node)===t.offset){if(H(t.node))return null;i=t.node.parentNode,n=vt(t.node)+1}else yt(t.node)?(i=t.node.childNodes[t.offset],n=0):(i=t.node,n=e?rt(t.node):t.offset+1);return{node:i,offset:n}}function _t(t,e){return t.node===e.node&&t.offset===e.offset}function wt(t,e){var i=e&&e.isSkipPaddingBlankHTML,n=e&&e.isNotSplitEdgePoint;if(ft(t)&&(B(t.node)||n)){if(dt(t))return t.node;if(pt(t))return t.node.nextSibling}if(B(t.node))return t.node.splitText(t.offset);var r=t.node.childNodes[t.offset],o=ct(t.node.cloneNode(!1),t.node);return ut(o,ht(r)),i||(at(t.node),at(o)),o}function St(t,i,n){var e=lt(i.node,_.eq(t));return e.length?1===e.length?wt(i,n):e.reduce(function(t,e){return t===i.node&&(t=wt(i,n)),wt({node:e,offset:t?vt(t):rt(e)},n)}):null}function Ct(t){return document.createElement(t)}function kt(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var i=t.parentNode;if(!e){for(var n=[],r=0,o=t.childNodes.length;r<o;r++)n.push(t.childNodes[r]);for(r=0,o=n.length;r<o;r++)i.insertBefore(n[r],t)}i.removeChild(t)}}var Tt=V("TEXTAREA");function Dt(t,e){var i=Tt(t[0])?t.val():t.html();return e?i.replace(/[\n\r]/g,""):i}var At={NBSP_CHAR:z,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:nt,emptyPara:"<p>"+nt+"</p>",makePredByNodeName:V,isEditable:H,isControlSizing:function(t){return t&&g(t).hasClass("note-control-sizing")},isText:B,isElement:function(t){return t&&1===t.nodeType},isVoid:W,isPara:j,isPurePara:function(t){return j(t)&&!U(t)},isHeading:function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},isInline:X,isBlock:_.not(X),isBodyInline:function(t){return X(t)&&!st(t,j)},isBody:it,isParaInline:function(t){return X(t)&&!!st(t,j)},isPre:Y,isList:K,isTable:G,isData:q,isCell:Q,isBlockquote:J,isBodyContainer:tt,isAnchor:et,isDiv:V("DIV"),isLi:U,isBR:V("BR"),isSpan:V("SPAN"),isB:V("B"),isU:V("U"),isS:V("S"),isI:V("I"),isImg:V("IMG"),isTextarea:Tt,isEmpty:ot,isEmptyAnchor:_.and(et,ot),isClosestSibling:function(t,e){return t.nextSibling===e||t.previousSibling===e},withClosestSiblings:function(t,e){e=e||_.ok;var i=[];return t.previousSibling&&e(t.previousSibling)&&i.push(t.previousSibling),i.push(t),t.nextSibling&&e(t.nextSibling)&&i.push(t.nextSibling),i},nodeLength:rt,isLeftEdgePoint:dt,isRightEdgePoint:pt,isEdgePoint:ft,isLeftEdgeOf:gt,isRightEdgeOf:mt,isLeftEdgePointOf:function(t,e){return dt(t)&&gt(t.node,e)},isRightEdgePointOf:function(t,e){return pt(t)&&mt(t.node,e)},prevPoint:bt,nextPoint:xt,isSamePoint:_t,isVisiblePoint:function(t){if(B(t.node)||!yt(t.node)||ot(t.node))return!0;var e=t.node.childNodes[t.offset-1],i=t.node.childNodes[t.offset];return!(e&&!W(e)||i&&!W(i))},prevPointUntil:function(t,e){for(;t;){if(e(t))return t;t=bt(t)}return null},nextPointUntil:function(t,e){for(;t;){if(e(t))return t;t=xt(t)}return null},isCharPoint:function(t){if(!B(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==z},walkPoint:function(t,e,i,n){for(var r=t;r&&(i(r),!_t(r,e));)r=xt(r,n&&t.node!==r.node&&e.node!==r.node)},ancestor:st,singleChildAncestor:function(t,e){for(t=t.parentNode;t&&1===rt(t);){if(e(t))return t;if(H(t))break;t=t.parentNode}return null},listAncestor:lt,lastAncestor:function(t,e){var i=lt(t);return D.last(i.filter(e))},listNext:ht,listPrev:function(t,e){e=e||_.fail;for(var i=[];t&&!e(t);)i.push(t),t=t.previousSibling;return i},listDescendant:function(r,o){var a=[];return o=o||_.ok,function t(e){r!==e&&o(e)&&a.push(e);for(var i=0,n=e.childNodes.length;i<n;i++)t(e.childNodes[i])}(r),a},commonAncestor:function(t,e){for(var i=lt(t),n=e;n;n=n.parentNode)if(-1<g.inArray(n,i))return n;return null},wrap:function(t,e){var i=t.parentNode,n=g("<"+e+">")[0];return i.insertBefore(n,t),n.appendChild(t),n},insertAfter:ct,appendChildNodes:ut,position:vt,hasChildren:yt,makeOffsetPath:function(t,e){return lt(e,_.eq(t)).map(vt).reverse()},fromOffsetPath:function(t,e){for(var i=t,n=0,r=e.length;n<r;n++)i=i.childNodes.length<=e[n]?i.childNodes[i.childNodes.length-1]:i.childNodes[e[n]];return i},splitTree:St,splitPoint:function(t,e){var i,n,r=e?j:tt,o=lt(t.node,r),a=D.last(o)||t.node;r(a)?(i=o[o.length-2],n=a):n=(i=a).parentNode;var s=i&&St(i,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return s||n!==t.node||(s=t.node.childNodes[t.offset]),{rightNode:s,container:n}},create:Ct,createText:function(t){return document.createTextNode(t)},remove:kt,removeWhile:function(t,e){for(;t&&!H(t)&&e(t);){var i=t.parentNode;kt(t),t=i}},replace:function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var i=Ct(e);return t.style.cssText&&(i.style.cssText=t.style.cssText),ut(i,D.from(t.childNodes)),ct(i,t),kt(t),i},html:function(t,e){var i=Dt(t);e&&(i=i.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(t,e,i){i=i.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!e,r=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return t+(n||r?"\n":"")}),i=g.trim(i));return i},value:Dt,posFromPlaceholder:function(t){var e=g(t),i=e.offset(),n=e.outerHeight(!0);return{left:i.left,top:i.top+n}},attachEvents:function(e,i){Object.keys(i).forEach(function(t){e.on(t,i[t])})},detachEvents:function(e,i){Object.keys(i).forEach(function(t){e.off(t,i[t])})},isCustomStyleTag:function(t){return t&&!B(t)&&D.contains(t.classList,"note-styletag")}};g.summernote=g.summernote||{lang:{}},g.extend(g.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var Mt={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Et={isEdit:function(t){return D.contains([Mt.BACKSPACE,Mt.TAB,Mt.ENTER,Mt.SPACE,Mt.DELETE],t)},isMove:function(t){return D.contains([Mt.LEFT,Mt.UP,Mt.RIGHT,Mt.DOWN],t)},nameFromCode:_.invertObject(Mt),code:Mt};function Pt(t,e){var i,n,r=t.parentElement(),o=document.body.createTextRange(),a=D.from(r.childNodes);for(i=0;i<a.length;i++)if(!At.isText(a[i])){if(o.moveToElementText(a[i]),0<=o.compareEndPoints("StartToStart",t))break;n=a[i]}if(0!==i&&At.isText(a[i-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(n||r),s.collapse(!n),l=n?n.nextSibling:r.firstChild;var h=t.duplicate();h.setEndPoint("StartToStart",s);for(var c=h.text.replace(/[\r\n]/g,"").length;c>l.nodeValue.length&&l.nextSibling;)c-=l.nodeValue.length,l=l.nextSibling;l.nodeValue;e&&l.nextSibling&&At.isText(l.nextSibling)&&c===l.nodeValue.length&&(c-=l.nodeValue.length,l=l.nextSibling),r=l,i=c}return{cont:r,offset:i}}function Lt(t){var a=function(t,e){var i,n;if(At.isText(t)){var r=At.listPrev(t,_.not(At.isText)),o=D.last(r).previousSibling;i=o||t.parentNode,e+=D.sum(D.tail(r),At.nodeLength),n=!o}else{if(i=t.childNodes[e]||t,At.isText(i))return a(i,0);e=0,n=!1}return{node:i,collapseToStart:n,offset:e}},e=document.body.createTextRange(),i=a(t.node,t.offset);return e.moveToElementText(i.node),e.collapse(i.collapseToStart),e.moveStart("character",i.offset),e}var It=function(){function o(t,e,i,n){this.sc=t,this.so=e,this.ec=i,this.eo=n,this.isOnEditable=this.makeIsOn(At.isEditable),this.isOnList=this.makeIsOn(At.isList),this.isOnAnchor=this.makeIsOn(At.isAnchor),this.isOnCell=this.makeIsOn(At.isCell),this.isOnData=this.makeIsOn(At.isData)}return o.prototype.nativeRange=function(){if(N.isW3CRangeSupport){var t=document.createRange();return t.setStart(this.sc,this.so),t.setEnd(this.ec,this.eo),t}var e=Lt({node:this.sc,offset:this.so});return e.setEndPoint("EndToEnd",Lt({node:this.ec,offset:this.eo})),e},o.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},o.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},o.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},o.prototype.select=function(){var t=this.nativeRange();if(N.isW3CRangeSupport){var e=document.getSelection();0<e.rangeCount&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},o.prototype.scrollIntoView=function(t){var e=g(t).height();return t.scrollTop+e<this.sc.offsetTop&&(t.scrollTop+=Math.abs(t.scrollTop+e-this.sc.offsetTop)),this},o.prototype.normalize=function(){var t=function(t,e){if(At.isVisiblePoint(t)&&!At.isEdgePoint(t)||At.isVisiblePoint(t)&&At.isRightEdgePoint(t)&&!e||At.isVisiblePoint(t)&&At.isLeftEdgePoint(t)&&e||At.isVisiblePoint(t)&&At.isBlock(t.node)&&At.isEmpty(t.node))return t;var i=At.ancestor(t.node,At.isBlock);if((At.isLeftEdgePointOf(t,i)||At.isVoid(At.prevPoint(t).node))&&!e||(At.isRightEdgePointOf(t,i)||At.isVoid(At.nextPoint(t).node))&&e){if(At.isVisiblePoint(t))return t;e=!e}return(e?At.nextPointUntil(At.nextPoint(t),At.isVisiblePoint):At.prevPointUntil(At.prevPoint(t),At.isVisiblePoint))||t},e=t(this.getEndPoint(),!1),i=this.isCollapsed()?e:t(this.getStartPoint(),!0);return new o(i.node,i.offset,e.node,e.offset)},o.prototype.nodes=function(i,t){i=i||_.ok;var n=t&&t.includeAncestor,r=t&&t.fullyContains,e=this.getStartPoint(),o=this.getEndPoint(),a=[],s=[];return At.walkPoint(e,o,function(t){var e;At.isEditable(t.node)||(r?(At.isLeftEdgePoint(t)&&s.push(t.node),At.isRightEdgePoint(t)&&D.contains(s,t.node)&&(e=t.node)):e=n?At.ancestor(t.node,i):t.node,e&&i(e)&&a.push(e))},!0),D.unique(a)},o.prototype.commonAncestor=function(){return At.commonAncestor(this.sc,this.ec)},o.prototype.expand=function(t){var e=At.ancestor(this.sc,t),i=At.ancestor(this.ec,t);if(!e&&!i)return new o(this.sc,this.so,this.ec,this.eo);var n=this.getPoints();return e&&(n.sc=e,n.so=0),i&&(n.ec=i,n.eo=At.nodeLength(i)),new o(n.sc,n.so,n.ec,n.eo)},o.prototype.collapse=function(t){return t?new o(this.sc,this.so,this.sc,this.so):new o(this.ec,this.eo,this.ec,this.eo)},o.prototype.splitText=function(){var t=this.sc===this.ec,e=this.getPoints();return At.isText(this.ec)&&!At.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),At.isText(this.sc)&&!At.isEdgePoint(this.getStartPoint())&&(e.sc=this.sc.splitText(this.so),e.so=0,t&&(e.ec=e.sc,e.eo=this.eo-this.so)),new o(e.sc,e.so,e.ec,e.eo)},o.prototype.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),e=t.nodes(null,{fullyContains:!0}),n=At.prevPointUntil(t.getStartPoint(),function(t){return!D.contains(e,t.node)}),r=[];return g.each(e,function(t,e){var i=e.parentNode;n.node!==i&&1===At.nodeLength(i)&&r.push(i),At.remove(e,!1)}),g.each(r,function(t,e){At.remove(e,!1)}),new o(n.node,n.offset,n.node,n.offset).normalize()},o.prototype.makeIsOn=function(e){return function(){var t=At.ancestor(this.sc,e);return!!t&&t===At.ancestor(this.ec,e)}},o.prototype.isLeftEdgeOf=function(t){if(!At.isLeftEdgePoint(this.getStartPoint()))return!1;var e=At.ancestor(this.sc,t);return e&&At.isLeftEdgeOf(this.sc,e)},o.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},o.prototype.wrapBodyInlineWithPara=function(){if(At.isBodyContainer(this.sc)&&At.isEmpty(this.sc))return this.sc.innerHTML=At.emptyPara,new o(this.sc.firstChild,0,this.sc.firstChild,0);var t,e=this.normalize();if(At.isParaInline(this.sc)||At.isPara(this.sc))return e;if(At.isInline(e.sc)){var i=At.listAncestor(e.sc,_.not(At.isInline));t=D.last(i),At.isInline(t)||(t=i[i.length-2]||e.sc.childNodes[e.so])}else t=e.sc.childNodes[0<e.so?e.so-1:0];var n=At.listPrev(t,At.isParaInline).reverse();if((n=n.concat(At.listNext(t.nextSibling,At.isParaInline))).length){var r=At.wrap(D.head(n),"p");At.appendChildNodes(r,D.tail(n))}return this.normalize()},o.prototype.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),i=At.splitPoint(e.getStartPoint(),At.isInline(t));return i.rightNode?i.rightNode.parentNode.insertBefore(t,i.rightNode):i.container.appendChild(t),t},o.prototype.pasteHTML=function(t){var e=g("<div></div>").html(t)[0],i=D.from(e.childNodes),n=this.wrapBodyInlineWithPara().deleteContents();return i.reverse().map(function(t){return n.insertNode(t)}).reverse()},o.prototype.toString=function(){var t=this.nativeRange();return N.isW3CRangeSupport?t.toString():t.text},o.prototype.getWordRange=function(t){var e=this.getEndPoint();if(!At.isCharPoint(e))return this;var i=At.prevPointUntil(e,function(t){return!At.isCharPoint(t)});return t&&(e=At.nextPointUntil(e,function(t){return!At.isCharPoint(t)})),new o(i.node,i.offset,e.node,e.offset)},o.prototype.bookmark=function(t){return{s:{path:At.makeOffsetPath(t,this.sc),offset:this.so},e:{path:At.makeOffsetPath(t,this.ec),offset:this.eo}}},o.prototype.paraBookmark=function(t){return{s:{path:D.tail(At.makeOffsetPath(D.head(t),this.sc)),offset:this.so},e:{path:D.tail(At.makeOffsetPath(D.last(t),this.ec)),offset:this.eo}}},o.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},o}(),Ot={create:function(t,e,i,n){if(4===arguments.length)return new It(t,e,i,n);if(2===arguments.length)return new It(i=t,n=e,i,n);var r=this.createFromSelection();return r||1!==arguments.length?r:(r=this.createFromNode(t)).collapse(At.emptyPara===t.innerHTML)},createFromSelection:function(){var t,e,i,n;if(N.isW3CRangeSupport){var r=document.getSelection();if(!r||0===r.rangeCount)return null;if(At.isBody(r.anchorNode))return null;var o=r.getRangeAt(0);t=o.startContainer,e=o.startOffset,i=o.endContainer,n=o.endOffset}else{var a=document.selection.createRange(),s=a.duplicate();s.collapse(!1);var l=a;l.collapse(!0);var h=Pt(l,!0),c=Pt(s,!1);At.isText(h.node)&&At.isLeftEdgePoint(h)&&At.isTextNode(c.node)&&At.isRightEdgePoint(c)&&c.node.nextSibling===h.node&&(h=c),t=h.cont,e=h.offset,i=c.cont,n=c.offset}return new It(t,e,i,n)},createFromNode:function(t){var e=t,i=0,n=t,r=At.nodeLength(n);return At.isVoid(e)&&(i=At.listPrev(e).length-1,e=e.parentNode),At.isBR(n)?(r=At.listPrev(n).length-1,n=n.parentNode):At.isVoid(n)&&(r=At.listPrev(n).length,n=n.parentNode),this.create(e,i,n,r)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var i=At.fromOffsetPath(t,e.s.path),n=e.s.offset,r=At.fromOffsetPath(t,e.e.path),o=e.e.offset;return new It(i,n,r,o)},createFromParaBookmark:function(t,e){var i=t.s.offset,n=t.e.offset,r=At.fromOffsetPath(D.head(e),t.s.path),o=At.fromOffsetPath(D.last(e),t.e.path);return new It(r,i,o,n)}};var Rt=function(){function t(t){this.stack=[],this.stackOffset=-1,this.$editable=t,this.editable=t[0]}return t.prototype.makeSnapshot=function(){var t=Ot.create(this.editable);return{contents:this.$editable.html(),bookmark:t?t.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},t.prototype.applySnapshot=function(t){null!==t.contents&&this.$editable.html(t.contents),null!==t.bookmark&&Ot.createFromBookmark(this.editable,t.bookmark).select()},t.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},t.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},t.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},t.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},t.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},t}(),Ft=function(){function t(){}return t.prototype.jQueryCSS=function(i,t){if(N.jqueryVersion<1.9){var n={};return g.each(t,function(t,e){n[e]=i.css(e)}),n}return i.css(t)},t.prototype.fromNode=function(t){var e=this.jQueryCSS(t,["font-family","font-size","text-align","list-style-type","line-height"])||{};return e["font-size"]=parseInt(e["font-size"],10),e},t.prototype.stylePara=function(t,i){g.each(t.nodes(At.isPara,{includeAncestor:!0}),function(t,e){g(e).css(i)})},t.prototype.styleNodes=function(t,e){t=t.splitText();var i=e&&e.nodeName||"SPAN",n=!(!e||!e.expandClosestSibling),r=!(!e||!e.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(At.create(i))];var o=At.makePredByNodeName(i),a=t.nodes(At.isText,{fullyContains:!0}).map(function(t){return At.singleChildAncestor(t,o)||At.wrap(t,i)});if(n){if(r){var s=t.nodes();o=_.and(o,function(t){return D.contains(s,t)})}return a.map(function(t){var e=At.withClosestSiblings(t,o),i=D.head(e),n=D.tail(e);return g.each(n,function(t,e){At.appendChildNodes(i,e.childNodes),At.remove(e)}),D.head(e)})}return a},t.prototype.current=function(t){var e=g(At.isElement(t.sc)?t.sc:t.sc.parentNode),i=this.fromNode(e);try{i=g.extend(i,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||i["font-family"]})}catch(t){}if(t.isOnList()){var n=-1<g.inArray(i["list-style-type"],["circle","disc","disc-leading-zero","square"]);i["list-style"]=n?"unordered":"ordered"}else i["list-style"]="none";var r=At.ancestor(t.sc,At.isPara);if(r&&r.style["line-height"])i["line-height"]=r.style.lineHeight;else{var o=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=o.toFixed(1)}return i.anchor=t.isOnAnchor()&&At.ancestor(t.sc,At.isAnchor),i.ancestors=At.listAncestor(t.sc,At.isEditable),i.range=t,i},t}(),Nt=function(){function t(){}return t.prototype.insertOrderedList=function(t){this.toggleList("OL",t)},t.prototype.insertUnorderedList=function(t){this.toggleList("UL",t)},t.prototype.indent=function(t){var n=this,e=Ot.create(t).wrapBodyInlineWithPara(),i=e.nodes(At.isPara,{includeAncestor:!0}),r=D.clusterBy(i,_.peq2("parentNode"));g.each(r,function(t,e){var i=D.head(e);At.isLi(i)?n.wrapList(e,i.parentNode.nodeName):g.each(e,function(t,e){g(e).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),e.select()},t.prototype.outdent=function(t){var n=this,e=Ot.create(t).wrapBodyInlineWithPara(),i=e.nodes(At.isPara,{includeAncestor:!0}),r=D.clusterBy(i,_.peq2("parentNode"));g.each(r,function(t,e){var i=D.head(e);At.isLi(i)?n.releaseList([e]):g.each(e,function(t,e){g(e).css("marginLeft",function(t,e){return 25<(e=parseInt(e,10)||0)?e-25:""})})}),e.select()},t.prototype.toggleList=function(i,t){var n=this,e=Ot.create(t).wrapBodyInlineWithPara(),r=e.nodes(At.isPara,{includeAncestor:!0}),o=e.paraBookmark(r),a=D.clusterBy(r,_.peq2("parentNode"));if(D.find(r,At.isPurePara)){var s=[];g.each(a,function(t,e){s=s.concat(n.wrapList(e,i))}),r=s}else{var l=e.nodes(At.isList,{includeAncestor:!0}).filter(function(t){return!g.nodeName(t,i)});l.length?g.each(l,function(t,e){At.replace(e,i)}):r=this.releaseList(a,!0)}Ot.createFromParaBookmark(o,r).select()},t.prototype.wrapList=function(t,e){var i=D.head(t),n=D.last(t),r=At.isList(i.previousSibling)&&i.previousSibling,o=At.isList(n.nextSibling)&&n.nextSibling,a=r||At.insertAfter(At.create(e||"UL"),n);return t=t.map(function(t){return At.isPurePara(t)?At.replace(t,"LI"):t}),At.appendChildNodes(a,t),o&&(At.appendChildNodes(a,D.from(o.childNodes)),At.remove(o)),t},t.prototype.releaseList=function(t,l){var h=[];return g.each(t,function(t,e){var i=D.head(e),n=D.last(e),r=l?At.lastAncestor(i,At.isList):i.parentNode,o=1<r.childNodes.length?At.splitTree(r,{node:n.parentNode,offset:At.position(n)+1},{isSkipPaddingBlankHTML:!0}):null,a=At.splitTree(r,{node:i.parentNode,offset:At.position(i)},{isSkipPaddingBlankHTML:!0});e=l?At.listDescendant(a,At.isLi):D.from(a.childNodes).filter(At.isLi),!l&&At.isList(r.parentNode)||(e=e.map(function(t){return At.replace(t,"P")})),g.each(D.from(e).reverse(),function(t,e){At.insertAfter(e,r)});var s=D.compact([r,a,o]);g.each(s,function(t,e){var i=[e].concat(At.listDescendant(e,At.isList));g.each(i.reverse(),function(t,e){At.nodeLength(e)||At.remove(e,!0)})}),h=h.concat(e)}),h},t}(),zt=function(){function t(){this.bullet=new Nt}return t.prototype.insertTab=function(t,e){var i=At.createText(new Array(e+1).join(At.NBSP_CHAR));(t=t.deleteContents()).insertNode(i,!0),(t=Ot.create(i,e)).select()},t.prototype.insertParagraph=function(t){var e=Ot.create(t);e=(e=e.deleteContents()).wrapBodyInlineWithPara();var i,n=At.ancestor(e.sc,At.isPara);if(n){if(At.isEmpty(n)&&At.isLi(n))return void this.bullet.toggleList(n.parentNode.nodeName);if(At.isEmpty(n)&&At.isPara(n)&&At.isBlockquote(n.parentNode))At.insertAfter(n,n.parentNode),i=n;else{i=At.splitTree(n,e.getStartPoint());var r=At.listDescendant(n,At.isEmptyAnchor);r=r.concat(At.listDescendant(i,At.isEmptyAnchor)),g.each(r,function(t,e){At.remove(e)}),(At.isHeading(i)||At.isPre(i)||At.isCustomStyleTag(i))&&At.isEmpty(i)&&(i=At.replace(i,"p"))}}else{var o=e.sc.childNodes[e.so];i=g(At.emptyPara)[0],o?e.sc.insertBefore(i,o):e.sc.appendChild(i)}Ot.create(i,0).normalize().select().scrollIntoView(t)},t}(),$t=function(t,d,p,r){var f={colPos:0,rowPos:0},g=[],m=[];function v(t,e,i,n,r,o,a){var s={baseRow:i,baseCell:n,isRowSpan:r,isColSpan:o,isVirtual:a};g[t]||(g[t]=[]),g[t][e]=s}function y(t,e){if(!g[t])return e;if(!g[t][e])return e;for(var i=e;g[t][i];)if(i++,!g[t][i])return i}function o(t,e){var i=y(t.rowIndex,e.cellIndex),n=1<e.colSpan,r=1<e.rowSpan,o=t.rowIndex===f.rowPos&&e.cellIndex===f.colPos;v(t.rowIndex,i,t,e,r,n,!1);var a=e.attributes.rowSpan?parseInt(e.attributes.rowSpan.value,10):0;if(1<a)for(var s=1;s<a;s++){var l=t.rowIndex+s;b(l,i,e,o),v(l,i,t,e,!0,n,!0)}var h=e.attributes.colSpan?parseInt(e.attributes.colSpan.value,10):0;if(1<h)for(var c=1;c<h;c++){var u=y(t.rowIndex,i+c);b(t.rowIndex,u,e,o),v(t.rowIndex,u,t,e,r,!0,!0)}}function b(t,e,i,n){t===f.rowPos&&f.colPos>=i.cellIndex&&i.cellIndex<=e&&!n&&f.colPos++}function x(t){switch(d){case $t.where.Column:if(t.isColSpan)return $t.resultAction.SubtractSpanCount;break;case $t.where.Row:if(!t.isVirtual&&t.isRowSpan)return $t.resultAction.AddCell;if(t.isRowSpan)return $t.resultAction.SubtractSpanCount}return $t.resultAction.RemoveCell}function _(t){switch(d){case $t.where.Column:if(t.isColSpan)return $t.resultAction.SumSpanCount;if(t.isRowSpan&&t.isVirtual)return $t.resultAction.Ignore;break;case $t.where.Row:if(t.isRowSpan)return $t.resultAction.SumSpanCount;if(t.isColSpan&&t.isVirtual)return $t.resultAction.Ignore}return $t.resultAction.AddCell}this.getActionList=function(){for(var t,e,i,n=d===$t.where.Row?f.rowPos:-1,r=d===$t.where.Column?f.colPos:-1,o=0,a=!0;a;){var s=0<=n?n:o,l=0<=r?r:o,h=g[s];if(!h)return a=!1,m;var c=h[l];if(!c)return a=!1,m;var u=$t.resultAction.Ignore;switch(p){case $t.requestAction.Add:u=_(c);break;case $t.requestAction.Delete:u=x(c)}m.push((t=u,e=s,i=l,{baseCell:c.baseCell,action:t,virtualTable:{rowIndex:e,cellIndex:i}})),o++}return m},t&&t.tagName&&("td"===t.tagName.toLowerCase()||"th"===t.tagName.toLowerCase())?(f.colPos=t.cellIndex,t.parentElement&&t.parentElement.tagName&&"tr"===t.parentElement.tagName.toLowerCase()?f.rowPos=t.parentElement.rowIndex:console.error("Impossible to identify start Row point.",t)):console.error("Impossible to identify start Cell point.",t),function(){for(var t=r.rows,e=0;e<t.length;e++)for(var i=t[e].cells,n=0;n<i.length;n++)o(t[e],i[n])}()};$t.where={Row:0,Column:1},$t.requestAction={Add:0,Delete:1},$t.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Ht,Vt=function(){function t(){}return t.prototype.tab=function(t,e){var i=At.ancestor(t.commonAncestor(),At.isCell),n=At.ancestor(i,At.isTable),r=At.listDescendant(n,At.isCell),o=D[e?"prev":"next"](r,i);o&&Ot.create(o,0).select()},t.prototype.addRow=function(t,e){for(var i=At.ancestor(t.commonAncestor(),At.isCell),n=g(i).closest("tr"),r=this.recoverAttributes(n),o=g("<tr"+r+"></tr>"),a=new $t(i,$t.where.Row,$t.requestAction.Add,g(n).closest("table")[0]).getActionList(),s=0;s<a.length;s++){var l=a[s],h=this.recoverAttributes(l.baseCell);switch(l.action){case $t.resultAction.AddCell:o.append("<td"+h+">"+At.blank+"</td>");break;case $t.resultAction.SumSpanCount:if("top"===e)if((l.baseCell.parent?l.baseCell.closest("tr").rowIndex:0)<=n[0].rowIndex){var c=g("<div></div>").append(g("<td"+h+">"+At.blank+"</td>").removeAttr("rowspan")).html();o.append(c);break}var u=parseInt(l.baseCell.rowSpan,10);u++,l.baseCell.setAttribute("rowSpan",u)}}if("top"===e)n.before(o);else{if(1<i.rowSpan){var d=n[0].rowIndex+(i.rowSpan-2);return void g(g(n).parent().find("tr")[d]).after(g(o))}n.after(o)}},t.prototype.addCol=function(t,e){var i=At.ancestor(t.commonAncestor(),At.isCell),n=g(i).closest("tr");g(n).siblings().push(n);for(var r=new $t(i,$t.where.Column,$t.requestAction.Add,g(n).closest("table")[0]).getActionList(),o=0;o<r.length;o++){var a=r[o],s=this.recoverAttributes(a.baseCell);switch(a.action){case $t.resultAction.AddCell:"right"===e?g(a.baseCell).after("<td"+s+">"+At.blank+"</td>"):g(a.baseCell).before("<td"+s+">"+At.blank+"</td>");break;case $t.resultAction.SumSpanCount:if("right"===e){var l=parseInt(a.baseCell.colSpan,10);l++,a.baseCell.setAttribute("colSpan",l)}else g(a.baseCell).before("<td"+s+">"+At.blank+"</td>")}}},t.prototype.recoverAttributes=function(t){var e="";if(!t)return e;for(var i=t.attributes||[],n=0;n<i.length;n++)"id"!==i[n].name.toLowerCase()&&i[n].specified&&(e+=" "+i[n].name+"='"+i[n].value+"'");return e},t.prototype.deleteRow=function(t){for(var e=At.ancestor(t.commonAncestor(),At.isCell),i=g(e).closest("tr"),n=i.children("td, th").index(g(e)),r=i[0].rowIndex,o=new $t(e,$t.where.Row,$t.requestAction.Delete,g(i).closest("table")[0]).getActionList(),a=0;a<o.length;a++)if(o[a]){var s=o[a].baseCell,l=o[a].virtualTable,h=s.rowSpan&&1<s.rowSpan,c=h?parseInt(s.rowSpan,10):0;switch(o[a].action){case $t.resultAction.Ignore:continue;case $t.resultAction.AddCell:var u=i.next("tr")[0];if(!u)continue;var d=i[0].cells[n];h&&(2<c?(c--,u.insertBefore(d,u.cells[n]),u.cells[n].setAttribute("rowSpan",c),u.cells[n].innerHTML=""):2===c&&(u.insertBefore(d,u.cells[n]),u.cells[n].removeAttribute("rowSpan"),u.cells[n].innerHTML=""));continue;case $t.resultAction.SubtractSpanCount:h&&(2<c?(c--,s.setAttribute("rowSpan",c),l.rowIndex!==r&&s.cellIndex===n&&(s.innerHTML="")):2===c&&(s.removeAttribute("rowSpan"),l.rowIndex!==r&&s.cellIndex===n&&(s.innerHTML="")));continue;case $t.resultAction.RemoveCell:continue}}i.remove()},t.prototype.deleteCol=function(t){for(var e=At.ancestor(t.commonAncestor(),At.isCell),i=g(e).closest("tr"),n=i.children("td, th").index(g(e)),r=new $t(e,$t.where.Column,$t.requestAction.Delete,g(i).closest("table")[0]).getActionList(),o=0;o<r.length;o++)if(r[o])switch(r[o].action){case $t.resultAction.Ignore:continue;case $t.resultAction.SubtractSpanCount:var a=r[o].baseCell;if(a.colSpan&&1<a.colSpan){var s=a.colSpan?parseInt(a.colSpan,10):0;2<s?(s--,a.setAttribute("colSpan",s),a.cellIndex===n&&(a.innerHTML="")):2===s&&(a.removeAttribute("colSpan"),a.cellIndex===n&&(a.innerHTML=""))}continue;case $t.resultAction.RemoveCell:At.remove(r[o].baseCell,!0);continue}},t.prototype.createTable=function(t,e,i){for(var n,r=[],o=0;o<t;o++)r.push("<td>"+At.blank+"</td>");n=r.join("");for(var a,s=[],l=0;l<e;l++)s.push("<tr>"+n+"</tr>");a=s.join("");var h=g("<table>"+a+"</table>");return i&&i.tableClassName&&h.addClass(i.tableClassName),h[0]},t.prototype.deleteTable=function(t){var e=At.ancestor(t.commonAncestor(),At.isCell);g(e).closest("table").remove()},t}(),Bt=function(){function t(t){var c=this;this.context=t,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Ft,this.table=new Vt,this.typing=new zt,this.bullet=new Nt,this.history=new Rt(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var e=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],i=0,n=e.length;i<n;i++)this[e[i]]=function(e){return function(t){c.beforeCommand(),document.execCommand(e,!1,t),c.afterCommand(!0)}}(e[i]),this.context.memo("help."+e[i],this.lang.help[e[i]]);this.fontName=this.wrapCommand(function(t){return c.fontStyling("font-family","'"+t+"'")}),this.fontSize=this.wrapCommand(function(t){return c.fontStyling("font-size",t+"px")});for(i=1;i<=6;i++)this["formatH"+i]=function(t){return function(){c.formatBlock("H"+t)}}(i),this.context.memo("help.formatH"+i,this.lang.help["formatH"+i]);this.insertParagraph=this.wrapCommand(function(){c.typing.insertParagraph(c.editable)}),this.insertOrderedList=this.wrapCommand(function(){c.bullet.insertOrderedList(c.editable)}),this.insertUnorderedList=this.wrapCommand(function(){c.bullet.insertUnorderedList(c.editable)}),this.indent=this.wrapCommand(function(){c.bullet.indent(c.editable)}),this.outdent=this.wrapCommand(function(){c.bullet.outdent(c.editable)}),this.insertNode=this.wrapCommand(function(t){c.isLimited(g(t).text().length)||(c.createRange().insertNode(t),Ot.createFromNodeAfter(t).select())}),this.insertText=this.wrapCommand(function(t){if(!c.isLimited(t.length)){var e=c.createRange().insertNode(At.createText(t));Ot.create(e,At.nodeLength(e)).select()}}),this.pasteHTML=this.wrapCommand(function(t){if(!c.isLimited(t.length)){var e=c.createRange().pasteHTML(t);Ot.createFromNodeAfter(D.last(e)).select()}}),this.formatBlock=this.wrapCommand(function(t,e){var i=c.options.callbacks.onApplyCustomStyle;i?i.call(c,e,c.context,c.onFormatBlock):c.onFormatBlock(t,e)}),this.insertHorizontalRule=this.wrapCommand(function(){var t=c.createRange().insertNode(At.create("HR"));t.nextSibling&&Ot.create(t.nextSibling,0).normalize().select()}),this.lineHeight=this.wrapCommand(function(t){c.style.stylePara(c.createRange(),{lineHeight:t})}),this.createLink=this.wrapCommand(function(t){var i=t.url,e=t.text,n=t.isNewWindow,r=t.range||c.createRange(),o=r.toString()!==e;"string"==typeof i&&(i=i.trim()),i=c.options.onCreateLink?c.options.onCreateLink(i):/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(i)?i:"http://"+i;var a=[];if(o){var s=(r=r.deleteContents()).insertNode(g("<A>"+e+"</A>")[0]);a.push(s)}else a=c.style.styleNodes(r,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});g.each(a,function(t,e){g(e).attr("href",i),n?g(e).attr("target","_blank"):g(e).removeAttr("target")});var l=Ot.createFromNodeBefore(D.head(a)).getStartPoint(),h=Ot.createFromNodeAfter(D.last(a)).getEndPoint();Ot.create(l.node,l.offset,h.node,h.offset).select()}),this.color=this.wrapCommand(function(t){var e=t.foreColor,i=t.backColor;e&&document.execCommand("foreColor",!1,e),i&&document.execCommand("backColor",!1,i)}),this.foreColor=this.wrapCommand(function(t){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,t)}),this.insertTable=this.wrapCommand(function(t){var e=t.split("x");c.createRange().deleteContents().insertNode(c.table.createTable(e[0],e[1],c.options))}),this.removeMedia=this.wrapCommand(function(){var t=g(c.restoreTarget()).parent();t.parent("figure").length?t.parent("figure").remove():t=g(c.restoreTarget()).detach(),c.context.triggerEvent("media.delete",t,c.$editable)}),this.floatMe=this.wrapCommand(function(t){var e=g(c.restoreTarget());e.toggleClass("note-float-left","left"===t),e.toggleClass("note-float-right","right"===t),e.css("float",t)}),this.resize=this.wrapCommand(function(t){g(c.restoreTarget()).css({width:100*t+"%",height:""})})}return t.prototype.initialize=function(){var e=this;this.$editable.on("keydown",function(t){if(t.keyCode===Et.code.ENTER&&e.context.triggerEvent("enter",t),e.context.triggerEvent("keydown",t),t.isDefaultPrevented()||(e.options.shortcuts?e.handleKeyMap(t):e.preventDefaultEditableShortCuts(t)),e.isLimited(1,t))return!1}).on("keyup",function(t){e.context.triggerEvent("keyup",t)}).on("focus",function(t){e.context.triggerEvent("focus",t)}).on("blur",function(t){e.context.triggerEvent("blur",t)}).on("mousedown",function(t){e.context.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.context.triggerEvent("mouseup",t)}).on("scroll",function(t){e.context.triggerEvent("scroll",t)}).on("paste",function(t){e.context.triggerEvent("paste",t)}),this.$editable.html(At.html(this.$note)||At.emptyPara),this.$editable.on(N.inputEventName,_.debounce(function(){e.context.triggerEvent("change",e.$editable.html())},100)),this.$editor.on("focusin",function(t){e.context.triggerEvent("focusin",t)}).on("focusout",function(t){e.context.triggerEvent("focusout",t)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo()},t.prototype.destroy=function(){this.$editable.off()},t.prototype.handleKeyMap=function(t){var e=this.options.keyMap[N.isMac?"mac":"pc"],i=[];t.metaKey&&i.push("CMD"),t.ctrlKey&&!t.altKey&&i.push("CTRL"),t.shiftKey&&i.push("SHIFT");var n=Et.nameFromCode[t.keyCode];n&&i.push(n);var r=e[i.join("+")];r?!1!==this.context.invoke(r)&&t.preventDefault():Et.isEdit(t.keyCode)&&this.afterCommand()},t.prototype.preventDefaultEditableShortCuts=function(t){(t.ctrlKey||t.metaKey)&&D.contains([66,73,85],t.keyCode)&&t.preventDefault()},t.prototype.isLimited=function(t,e){return t=t||0,(void 0===e||!(Et.isMove(e.keyCode)||e.ctrlKey||e.metaKey||D.contains([Et.code.BACKSPACE,Et.code.DELETE],e.keyCode)))&&(0<this.options.maxTextLength&&this.$editable.text().length+t>=this.options.maxTextLength)},t.prototype.createRange=function(){return this.focus(),Ot.create(this.editable)},t.prototype.saveRange=function(t){this.lastRange=this.createRange(),t&&this.lastRange.collapse().select()},t.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},t.prototype.saveTarget=function(t){this.$editable.data("target",t)},t.prototype.clearTarget=function(){this.$editable.removeData("target")},t.prototype.restoreTarget=function(){return this.$editable.data("target")},t.prototype.currentStyle=function(){var t=Ot.create();return t&&(t=t.normalize()),t?this.style.current(t):this.style.fromNode(this.$editable)},t.prototype.styleFromNode=function(t){return this.style.fromNode(t)},t.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html())},t.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html())},t.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},t.prototype.afterCommand=function(t){this.normalizeContent(),this.history.recordUndo(),t||this.context.triggerEvent("change",this.$editable.html())},t.prototype.tab=function(){var t=this.createRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(t,this.options.tabSize),this.afterCommand())}},t.prototype.untab=function(){var t=this.createRange();if(t.isCollapsed()&&t.isOnCell())this.table.tab(t,!0);else if(0===this.options.tabSize)return!1},t.prototype.wrapCommand=function(t){var e=this;return function(){e.beforeCommand(),t.apply(e,arguments),e.afterCommand()}},t.prototype.insertImage=function(t,e){var i,n=this;return(i=t,g.Deferred(function(t){var e=g("<img>");e.one("load",function(){e.off("error abort"),t.resolve(e)}).one("error abort",function(){e.off("load").detach(),t.reject(e)}).css({display:"none"}).appendTo(document.body).attr("src",i)}).promise()).then(function(t){n.beforeCommand(),"function"==typeof e?e(t):("string"==typeof e&&t.attr("data-filename",e),t.css("width",Math.min(n.$editable.width(),t.width()))),t.show(),Ot.create(n.editable).insertNode(t[0]),Ot.createFromNodeAfter(t[0]).select(),n.afterCommand()}).fail(function(t){n.context.triggerEvent("image.upload.error",t)})},t.prototype.insertImages=function(t){var r=this;g.each(t,function(t,e){var n,i=e.name;r.options.maximumImageFileSize&&r.options.maximumImageFileSize<e.size?r.context.triggerEvent("image.upload.error",r.lang.image.maximumFileSizeError):(n=e,g.Deferred(function(i){g.extend(new FileReader,{onload:function(t){var e=t.target.result;i.resolve(e)},onerror:function(t){i.reject(t)}}).readAsDataURL(n)}).promise()).then(function(t){return r.insertImage(t,i)}).fail(function(){r.context.triggerEvent("image.upload.error")})})},t.prototype.insertImagesOrCallback=function(t){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",t):this.insertImages(t)},t.prototype.getSelectedText=function(){var t=this.createRange();return t.isOnAnchor()&&(t=Ot.createFromNode(At.ancestor(t.sc,At.isAnchor))),t.toString()},t.prototype.onFormatBlock=function(t,e){if(t=N.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t),e&&e.length){var i=e[0].className||"";if(i){var n=this.createRange();g([n.sc,n.ec]).closest(t).addClass(i)}}},t.prototype.formatPara=function(){this.formatBlock("P")},t.prototype.fontStyling=function(t,e){var i=this.createRange();if(i){var n=this.style.styleNodes(i);if(g(n).css(t,e),i.isCollapsed()){var r=D.head(n);r&&!At.nodeLength(r)&&(r.innerHTML=At.ZERO_WIDTH_NBSP_CHAR,Ot.createFromNodeAfter(r.firstChild).select(),this.$editable.data("bogus",r))}}},t.prototype.unlink=function(){var t=this.createRange();if(t.isOnAnchor()){var e=At.ancestor(t.sc,At.isAnchor);(t=Ot.createFromNode(e)).select(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},t.prototype.getLinkInfo=function(){var t=this.createRange().expand(At.isAnchor),e=g(D.head(t.nodes(At.isAnchor))),i={range:t,text:t.toString(),url:e.length?e.attr("href"):""};return e.length&&(i.isNewWindow="_blank"===e.attr("target")),i},t.prototype.addRow=function(t){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addRow(e,t),this.afterCommand())},t.prototype.addCol=function(t){var e=this.createRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.addCol(e,t),this.afterCommand())},t.prototype.deleteRow=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(t),this.afterCommand())},t.prototype.deleteCol=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(t),this.afterCommand())},t.prototype.deleteTable=function(){var t=this.createRange(this.$editable);t.isCollapsed()&&t.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(t),this.afterCommand())},t.prototype.resizeTo=function(t,e,i){var n;if(i){var r=t.y/t.x,o=e.data("ratio");n={width:r<o?t.x:t.y/o,height:r<o?t.x*o:t.y}}else n={width:t.x,height:t.y};e.css(n)},t.prototype.hasFocus=function(){return this.$editable.is(":focus")},t.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},t.prototype.isEmpty=function(){return At.isEmpty(this.$editable[0])||At.emptyPara===this.$editable.html()},t.prototype.empty=function(){this.context.invoke("code",At.emptyPara)},t.prototype.normalizeContent=function(){this.$editable[0].normalize()},t}(),Wt=function(){function t(t){this.context=t,this.$editable=t.layoutInfo.editable}return t.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},t.prototype.pasteByEvent=function(t){var e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){var i=D.head(e.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[i.getAsFile()]),this.context.invoke("editor.afterCommand")}},t}(),jt=function(){function t(t){this.context=t,this.$eventListener=g(document),this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=g(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return t.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(t){t.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},t.prototype.attachDragAndDropEvent=function(){var r=this,n=g(),o=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(t){var e=r.context.invoke("codeview.isActivated"),i=0<r.$editor.width()&&0<r.$editor.height();e||n.length||!i||(r.$editor.addClass("dragover"),r.$dropzone.width(r.$editor.width()),r.$dropzone.height(r.$editor.height()),o.text(r.lang.image.dragImageHere)),n=n.add(t.target)},this.documentEventHandlers.onDragleave=function(t){(n=n.not(t.target)).length||r.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){n=g(),r.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){r.$dropzone.addClass("hover"),o.text(r.lang.image.dropImage)}).on("dragleave",function(){r.$dropzone.removeClass("hover"),o.text(r.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(t){var n=t.originalEvent.dataTransfer;t.preventDefault(),n&&n.files&&n.files.length?(r.$editable.focus(),r.context.invoke("editor.insertImagesOrCallback",n.files)):g.each(n.types,function(t,e){var i=n.getData(e);-1<e.toLowerCase().indexOf("text")?r.context.invoke("editor.pasteHTML",i):g(i).each(function(t,e){r.context.invoke("editor.insertNode",e)})})}).on("dragover",!1)},t.prototype.destroy=function(){var e=this;Object.keys(this.documentEventHandlers).forEach(function(t){e.$eventListener.off(t.substr(2).toLowerCase(),e.documentEventHandlers[t])}),this.documentEventHandlers={}},t}();N.hasCodeMirror&&(N.isSupportAmd?require(["codemirror"],function(t){Ht=t}):Ht=window.CodeMirror);var Yt=function(){function t(t){this.context=t,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options}return t.prototype.sync=function(){this.isActivated()&&N.hasCodeMirror&&this.$codable.data("cmEditor").save()},t.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},t.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},t.prototype.activate=function(){var e=this;if(this.$codable.val(At.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),N.hasCodeMirror){var i=Ht.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var n=new Ht.TernServer(this.options.codemirror.tern);i.ternServer=n,i.on("cursorActivity",function(t){n.updateArgHints(t)})}i.on("blur",function(t){e.context.triggerEvent("blur.codeview",i.getValue(),t)}),i.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",i)}else this.$codable.on("blur",function(t){e.context.triggerEvent("blur.codeview",e.$codable.val(),t)})},t.prototype.deactivate=function(){if(N.hasCodeMirror){var t=this.$codable.data("cmEditor");this.$codable.val(t.getValue()),t.toTextArea()}var e=At.value(this.$codable,this.options.prettifyHtml)||At.emptyPara,i=this.$editable.html()!==e;this.$editable.html(e),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),i&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},t.prototype.destroy=function(){this.isActivated()&&this.deactivate()},t}(),Ut=function(){function t(t){this.$document=g(document),this.$statusbar=t.layoutInfo.statusbar,this.$editable=t.layoutInfo.editable,this.options=t.options}return t.prototype.initialize=function(){var n=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(t){t.preventDefault(),t.stopPropagation();var i=n.$editable.offset().top-n.$document.scrollTop(),e=function(t){var e=t.clientY-(i+24);e=0<n.options.minheight?Math.max(e,n.options.minheight):e,e=0<n.options.maxHeight?Math.min(e,n.options.maxHeight):e,n.$editable.height(e)};n.$document.on("mousemove",e).one("mouseup",function(){n.$document.off("mousemove",e)})})},t.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},t}(),Gt=function(){function t(t){var e=this;this.context=t,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.$window=g(window),this.$scrollbar=g("html, body"),this.onResize=function(){e.resizeTo({h:e.$window.height()-e.$toolbar.outerHeight()})}}return t.prototype.resizeTo=function(t){this.$editable.css("height",t.h),this.$codable.css("height",t.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,t.h)},t.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},t.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},t}(),qt=function(){function t(t){var i=this;this.context=t,this.$document=g(document),this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(t,e){i.update(e.target)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){i.update()},"summernote.disable":function(){i.hide()},"summernote.codeview.toggled":function(){i.update()}}}return t.prototype.initialize=function(){var o=this;this.$handle=g(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(t){if(At.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var e=o.$handle.find(".note-control-selection").data("target"),i=e.offset(),n=o.$document.scrollTop(),r=function(t){o.context.invoke("editor.resizeTo",{x:t.clientX-i.left,y:t.clientY-(i.top-n)},e,!t.shiftKey),o.update(e[0])};o.$document.on("mousemove",r).one("mouseup",function(t){t.preventDefault(),o.$document.off("mousemove",r),o.context.invoke("editor.afterCommand")}),e.data("ratio")||e.data("ratio",e.height()/e.width())}}),this.$handle.on("wheel",function(t){t.preventDefault(),o.update()})},t.prototype.destroy=function(){this.$handle.remove()},t.prototype.update=function(t){if(this.context.isDisabled())return!1;var e=At.isImg(t),i=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",t),e){var n=g(t),r=n.position(),o={left:r.left+parseInt(n.css("marginLeft"),10),top:r.top+parseInt(n.css("marginTop"),10)},a={w:n.outerWidth(!1),h:n.outerHeight(!1)};i.css({display:"block",left:o.left,top:o.top,width:a.w,height:a.h}).data("target",n);var s=new Image;s.src=n.attr("src");var l=a.w+"x"+a.h+" ("+this.lang.image.original+": "+s.width+"x"+s.height+")";i.find(".note-control-selection-info").text(l),this.context.invoke("editor.saveTarget",t)}else this.hide();return e},t.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},t}(),Xt=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Kt=function(){function t(t){var i=this;this.context=t,this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||i.handleKeyup(e)},"summernote.keydown":function(t,e){i.handleKeydown(e)}}}return t.prototype.initialize=function(){this.lastWordRange=null},t.prototype.destroy=function(){this.lastWordRange=null},t.prototype.replace=function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),e=t.match(Xt);if(e&&(e[1]||e[2])){var i=e[1]?t:"http://"+t,n=g("<a />").html(t).attr("href",i)[0];this.lastWordRange.insertNode(n),this.lastWordRange=null,this.context.invoke("editor.focus")}}},t.prototype.handleKeydown=function(t){if(D.contains([Et.code.ENTER,Et.code.SPACE],t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=e}},t.prototype.handleKeyup=function(t){D.contains([Et.code.ENTER,Et.code.SPACE],t.keyCode)&&this.replace()},t}(),Zt=function(){function t(t){var e=this;this.$note=t.layoutInfo.note,this.events={"summernote.change":function(){e.$note.val(t.invoke("code"))}}}return t.prototype.shouldInitialize=function(){return At.isTextarea(this.$note[0])},t}(),Qt=function(){function t(t){var e=this;this.context=t,this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.events={"summernote.init summernote.change":function(){e.update()},"summernote.codeview.toggled":function(){e.update()}}}return t.prototype.shouldInitialize=function(){return!!this.options.placeholder},t.prototype.initialize=function(){var t=this;this.$placeholder=g('<div class="note-placeholder">'),this.$placeholder.on("click",function(){t.context.invoke("focus")}).text(this.options.placeholder).prependTo(this.$editingArea),this.update()},t.prototype.destroy=function(){this.$placeholder.remove()},t.prototype.update=function(){var t=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(t)},t}(),Jt=function(){function t(t){this.ui=g.summernote.ui,this.context=t,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.lang=this.options.langInfo,this.invertedKeyMap=_.invertObject(this.options.keyMap[N.isMac?"mac":"pc"])}return t.prototype.representShortcut=function(t){var e=this.invertedKeyMap[t];return this.options.shortcuts&&e?(N.isMac&&(e=e.replace("CMD","⌘").replace("SHIFT","⇧"))," ("+(e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},t.prototype.button=function(t){return!this.options.tooltip&&t.tooltip&&delete t.tooltip,t.container=this.options.container,this.ui.button(t)},t.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},t.prototype.destroy=function(){delete this.fontInstalledMap},t.prototype.isFontInstalled=function(t){return this.fontInstalledMap.hasOwnProperty(t)||(this.fontInstalledMap[t]=N.isFontInstalled(t)||D.contains(this.options.fontNamesIgnoreCheck,t)),this.fontInstalledMap[t]},t.prototype.isFontDeservedToAdd=function(t){return""!==(t=t.toLowerCase())&&this.isFontInstalled(t)&&-1===g.inArray(t,["sans-serif","serif","monospace","cursive","fantasy"])},t.prototype.addToolbarButtons=function(){var s=this;this.context.memo("button.style",function(){return s.ui.buttonGroup([s.button({className:"dropdown-toggle",contents:s.ui.dropdownButtonContents(s.ui.icon(s.options.icons.magic),s.options),tooltip:s.lang.style.style,data:{toggle:"dropdown"}}),s.ui.dropdown({className:"dropdown-style",items:s.options.styleTags,title:s.lang.style.style,template:function(t){"string"==typeof t&&(t={tag:t,title:s.lang.style.hasOwnProperty(t)?s.lang.style[t]:t});var e=t.tag,i=t.title;return"<"+e+(t.style?' style="'+t.style+'" ':"")+(t.className?' class="'+t.className+'"':"")+">"+i+"</"+e+">"},click:s.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var t=function(t,e){var i=n.options.styleTags[t];n.context.memo("button.style."+i,function(){return s.button({className:"note-btn-style-"+i,contents:'<div data-value="'+i+'">'+i.toUpperCase()+"</div>",tooltip:s.lang.style[i],click:s.context.createInvokeHandler("editor.formatBlock")}).render()})},n=this,e=0,i=this.options.styleTags.length;e<i;e++)t(e);this.context.memo("button.bold",function(){return s.button({className:"note-btn-bold",contents:s.ui.icon(s.options.icons.bold),tooltip:s.lang.font.bold+s.representShortcut("bold"),click:s.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return s.button({className:"note-btn-italic",contents:s.ui.icon(s.options.icons.italic),tooltip:s.lang.font.italic+s.representShortcut("italic"),click:s.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return s.button({className:"note-btn-underline",contents:s.ui.icon(s.options.icons.underline),tooltip:s.lang.font.underline+s.representShortcut("underline"),click:s.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return s.button({contents:s.ui.icon(s.options.icons.eraser),tooltip:s.lang.font.clear+s.representShortcut("removeFormat"),click:s.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return s.button({className:"note-btn-strikethrough",contents:s.ui.icon(s.options.icons.strikethrough),tooltip:s.lang.font.strikethrough+s.representShortcut("strikethrough"),click:s.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return s.button({className:"note-btn-superscript",contents:s.ui.icon(s.options.icons.superscript),tooltip:s.lang.font.superscript,click:s.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return s.button({className:"note-btn-subscript",contents:s.ui.icon(s.options.icons.subscript),tooltip:s.lang.font.subscript,click:s.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var t=s.context.invoke("editor.currentStyle");return g.each(t["font-family"].split(","),function(t,e){e=e.trim().replace(/['"]+/g,""),s.isFontDeservedToAdd(e)&&-1===g.inArray(e,s.options.fontNames)&&s.options.fontNames.push(e)}),s.ui.buttonGroup([s.button({className:"dropdown-toggle",contents:s.ui.dropdownButtonContents('<span class="note-current-fontname"/>',s.options),tooltip:s.lang.font.name,data:{toggle:"dropdown"}}),s.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:s.options.icons.menuCheck,items:s.options.fontNames.filter(s.isFontInstalled.bind(s)),title:s.lang.font.name,template:function(t){return"<span style=\"font-family: '"+t+"'\">"+t+"</span>"},click:s.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return s.ui.buttonGroup([s.button({className:"dropdown-toggle",contents:s.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',s.options),tooltip:s.lang.font.size,data:{toggle:"dropdown"}}),s.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:s.options.icons.menuCheck,items:s.options.fontSizes,title:s.lang.font.size,click:s.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return s.ui.buttonGroup({className:"note-color",children:[s.button({className:"note-current-color-button",contents:s.ui.icon(s.options.icons.font+" note-recent-color"),tooltip:s.lang.color.recent,click:function(t){var e=g(t.currentTarget);s.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")})},callback:function(t){t.find(".note-recent-color").css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00")}}),s.button({className:"dropdown-toggle",contents:s.ui.dropdownButtonContents("",s.options),tooltip:s.lang.color.more,data:{toggle:"dropdown"}}),s.ui.dropdown({items:['<div class="note-palette">','  <div class="note-palette-title">'+s.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',s.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="note-palette">','  <div class="note-palette-title">'+s.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',s.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>"].join(""),callback:function(t){t.find(".note-holder").each(function(t,e){var i=g(e);i.append(s.ui.palette({colors:s.options.colors,colorsName:s.options.colorsName,eventName:i.data("event"),container:s.options.container,tooltip:s.options.tooltip}).render())})},click:function(t){var e=g(t.target),i=e.data("event"),n=e.data("value");if(i&&n){var r="backColor"===i?"background-color":"color",o=e.closest(".note-color").find(".note-recent-color"),a=e.closest(".note-color").find(".note-current-color-button");o.css(r,n),a.attr("data-"+i,n),s.context.invoke("editor."+i,n)}}})]}).render()}),this.context.memo("button.ul",function(){return s.button({contents:s.ui.icon(s.options.icons.unorderedlist),tooltip:s.lang.lists.unordered+s.representShortcut("insertUnorderedList"),click:s.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return s.button({contents:s.ui.icon(s.options.icons.orderedlist),tooltip:s.lang.lists.ordered+s.representShortcut("insertOrderedList"),click:s.context.createInvokeHandler("editor.insertOrderedList")}).render()});var r=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),o=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),a=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),l=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),h=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),c=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",_.invoke(r,"render")),this.context.memo("button.justifyCenter",_.invoke(o,"render")),this.context.memo("button.justifyRight",_.invoke(a,"render")),this.context.memo("button.justifyFull",_.invoke(l,"render")),this.context.memo("button.outdent",_.invoke(h,"render")),this.context.memo("button.indent",_.invoke(c,"render")),this.context.memo("button.paragraph",function(){return s.ui.buttonGroup([s.button({className:"dropdown-toggle",contents:s.ui.dropdownButtonContents(s.ui.icon(s.options.icons.alignLeft),s.options),tooltip:s.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),s.ui.dropdown([s.ui.buttonGroup({className:"note-align",children:[r,o,a,l]}),s.ui.buttonGroup({className:"note-list",children:[h,c]})])]).render()}),this.context.memo("button.height",function(){return s.ui.buttonGroup([s.button({className:"dropdown-toggle",contents:s.ui.dropdownButtonContents(s.ui.icon(s.options.icons.textHeight),s.options),tooltip:s.lang.font.height,data:{toggle:"dropdown"}}),s.ui.dropdownCheck({items:s.options.lineHeights,checkClassName:s.options.icons.menuCheck,className:"dropdown-line-height",title:s.lang.font.height,click:s.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return s.ui.buttonGroup([s.button({className:"dropdown-toggle",contents:s.ui.dropdownButtonContents(s.ui.icon(s.options.icons.table),s.options),tooltip:s.lang.table.table,data:{toggle:"dropdown"}}),s.ui.dropdown({title:s.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){t.find(".note-dimension-picker-mousecatcher").css({width:s.options.insertTableMaxSize.col+"em",height:s.options.insertTableMaxSize.row+"em"}).mousedown(s.context.createInvokeHandler("editor.insertTable")).on("mousemove",s.tableMoveHandler.bind(s))}}).render()}),this.context.memo("button.link",function(){return s.button({contents:s.ui.icon(s.options.icons.link),tooltip:s.lang.link.link+s.representShortcut("linkDialog.show"),click:s.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return s.button({contents:s.ui.icon(s.options.icons.picture),tooltip:s.lang.image.image,click:s.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return s.button({contents:s.ui.icon(s.options.icons.video),tooltip:s.lang.video.video,click:s.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return s.button({contents:s.ui.icon(s.options.icons.minus),tooltip:s.lang.hr.insert+s.representShortcut("insertHorizontalRule"),click:s.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return s.button({className:"btn-fullscreen",contents:s.ui.icon(s.options.icons.arrowsAlt),tooltip:s.lang.options.fullscreen,click:s.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return s.button({className:"btn-codeview",contents:s.ui.icon(s.options.icons.code),tooltip:s.lang.options.codeview,click:s.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return s.button({contents:s.ui.icon(s.options.icons.redo),tooltip:s.lang.history.redo+s.representShortcut("redo"),click:s.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return s.button({contents:s.ui.icon(s.options.icons.undo),tooltip:s.lang.history.undo+s.representShortcut("undo"),click:s.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return s.button({contents:s.ui.icon(s.options.icons.question),tooltip:s.lang.options.help,click:s.context.createInvokeHandler("helpDialog.show")}).render()})},t.prototype.addImagePopoverButtons=function(){var t=this;this.context.memo("button.imageSize100",function(){return t.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:t.lang.image.resizeFull,click:t.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.imageSize50",function(){return t.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:t.lang.image.resizeHalf,click:t.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.imageSize25",function(){return t.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:t.lang.image.resizeQuarter,click:t.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.floatLeft",function(){return t.button({contents:t.ui.icon(t.options.icons.alignLeft),tooltip:t.lang.image.floatLeft,click:t.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return t.button({contents:t.ui.icon(t.options.icons.alignRight),tooltip:t.lang.image.floatRight,click:t.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return t.button({contents:t.ui.icon(t.options.icons.alignJustify),tooltip:t.lang.image.floatNone,click:t.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return t.button({contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.image.remove,click:t.context.createInvokeHandler("editor.removeMedia")}).render()})},t.prototype.addLinkPopoverButtons=function(){var t=this;this.context.memo("button.linkDialogShow",function(){return t.button({contents:t.ui.icon(t.options.icons.link),tooltip:t.lang.link.edit,click:t.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return t.button({contents:t.ui.icon(t.options.icons.unlink),tooltip:t.lang.link.unlink,click:t.context.createInvokeHandler("editor.unlink")}).render()})},t.prototype.addTablePopoverButtons=function(){var t=this;this.context.memo("button.addRowUp",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowAbove),tooltip:t.lang.table.addRowAbove,click:t.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowBelow),tooltip:t.lang.table.addRowBelow,click:t.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colBefore),tooltip:t.lang.table.addColLeft,click:t.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colAfter),tooltip:t.lang.table.addColRight,click:t.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.rowRemove),tooltip:t.lang.table.delRow,click:t.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.colRemove),tooltip:t.lang.table.delCol,click:t.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return t.button({className:"btn-md",contents:t.ui.icon(t.options.icons.trash),tooltip:t.lang.table.delTable,click:t.context.createInvokeHandler("editor.deleteTable")}).render()})},t.prototype.build=function(t,e){for(var i=0,n=e.length;i<n;i++){for(var r=e[i],o=g.isArray(r)?r[0]:r,a=g.isArray(r)?1===r.length?[r[0]]:r[1]:[r],s=this.ui.buttonGroup({className:"note-"+o}).render(),l=0,h=a.length;l<h;l++){var c=this.context.memo("button."+a[l]);c&&s.append("function"==typeof c?c(this.context):c)}s.appendTo(t)}},t.prototype.updateCurrentStyle=function(t){var n=this,e=t||this.$toolbar,i=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(e,{".note-btn-bold":function(){return"bold"===i["font-bold"]},".note-btn-italic":function(){return"italic"===i["font-italic"]},".note-btn-underline":function(){return"underline"===i["font-underline"]},".note-btn-subscript":function(){return"subscript"===i["font-subscript"]},".note-btn-superscript":function(){return"superscript"===i["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===i["font-strikethrough"]}}),i["font-family"]){var r=i["font-family"].split(",").map(function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),o=D.find(r,this.isFontInstalled.bind(this));e.find(".dropdown-fontname a").each(function(t,e){var i=g(e),n=i.data("value")+""==o+"";i.toggleClass("checked",n)}),e.find(".note-current-fontname").text(o).css("font-family",o)}if(i["font-size"]){var a=i["font-size"];e.find(".dropdown-fontsize a").each(function(t,e){var i=g(e),n=i.data("value")+""==a+"";i.toggleClass("checked",n)}),e.find(".note-current-fontsize").text(a)}if(i["line-height"]){var s=i["line-height"];e.find(".dropdown-line-height li a").each(function(t,e){var i=g(e).data("value")+""==s+"";n.className=i?"checked":""})}},t.prototype.updateBtnStates=function(i,t){var n=this;g.each(t,function(t,e){n.ui.toggleBtnActive(i.find(t),e())})},t.prototype.tableMoveHandler=function(t){var e,i=g(t.target.parentNode),n=i.next(),r=i.find(".note-dimension-picker-mousecatcher"),o=i.find(".note-dimension-picker-highlighted"),a=i.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var s=g(t.target).offset();e={x:t.pageX-s.left,y:t.pageY-s.top}}else e={x:t.offsetX,y:t.offsetY};var l=Math.ceil(e.x/18)||1,h=Math.ceil(e.y/18)||1;o.css({width:l+"em",height:h+"em"}),r.data("value",l+"x"+h),3<l&&l<this.options.insertTableMaxSize.col&&a.css({width:l+1+"em"}),3<h&&h<this.options.insertTableMaxSize.row&&a.css({height:h+1+"em"}),n.html(l+" x "+h)},t}(),te=function(){function t(t){this.context=t,this.$window=g(window),this.$document=g(document),this.ui=g.summernote.ui,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.followScroll=this.followScroll.bind(this)}return t.prototype.shouldInitialize=function(){return!this.options.airMode},t.prototype.initialize=function(){var t=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){t.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},t.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},t.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var t=this.$toolbar.parent(".note-toolbar-wrapper"),e=this.$editor.outerHeight(),i=this.$editor.width(),n=this.$toolbar.height();t.css({height:n});var r=0;this.options.otherStaticBar&&(r=g(this.options.otherStaticBar).outerHeight());var o=this.$document.scrollTop(),a=this.$editor.offset().top;a-r<o&&o<a+e-r-n?this.$toolbar.css({position:"fixed",top:r,width:i}):this.$toolbar.css({position:"relative",top:0,width:"100%"})},t.prototype.changeContainer=function(t){t?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer)},t.prototype.updateFullscreen=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),t),this.changeContainer(t)},t.prototype.updateCodeview=function(t){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),t),t?this.deactivate():this.activate()},t.prototype.activate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!0)},t.prototype.deactivate=function(t){var e=this.$toolbar.find("button");t||(e=e.not(".btn-codeview")),this.ui.toggleBtn(e,!1)},t}(),ee=function(){function t(t){this.context=t,this.ui=g.summernote.ui,this.$body=g(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo,t.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return t.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control  note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":g("<div/>").append(this.ui.checkbox({id:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),i='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" disabled>'+this.lang.link.insert+"</button>";this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:e,footer:i}).render().appendTo(t)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Et.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},t.prototype.toggleLinkBtn=function(t,e,i){this.ui.toggleBtn(t,e.val()&&i.val())},t.prototype.showLinkDialog=function(l){var h=this;return g.Deferred(function(n){var r=h.$dialog.find(".note-link-text"),o=h.$dialog.find(".note-link-url"),a=h.$dialog.find(".note-link-btn"),s=h.$dialog.find("input[type=checkbox]");h.ui.onDialogShown(h.$dialog,function(){h.context.triggerEvent("dialog.shown"),l.url||(l.url=l.text),r.val(l.text);var t=function(){h.toggleLinkBtn(a,r,o),l.text=r.val()};r.on("input",t).on("paste",function(){setTimeout(t,0)});var e=function(){h.toggleLinkBtn(a,r,o),l.text||r.val(o.val())};o.on("input",e).on("paste",function(){setTimeout(e,0)}).val(l.url),N.isSupportTouch||o.trigger("focus"),h.toggleLinkBtn(a,r,o),h.bindEnterKey(o,a),h.bindEnterKey(r,a);var i=void 0!==l.isNewWindow?l.isNewWindow:h.context.options.linkTargetBlank;s.prop("checked",i),a.one("click",function(t){t.preventDefault(),n.resolve({range:l.range,url:o.val(),text:r.val(),isNewWindow:s.is(":checked")}),h.ui.hideDialog(h.$dialog)})}),h.ui.onDialogHidden(h.$dialog,function(){r.off("input paste keypress"),o.off("input paste keypress"),a.off("click"),"pending"===n.state()&&n.reject()}),h.ui.showDialog(h.$dialog)}).promise()},t.prototype.show=function(){var e=this,t=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},t}(),ie=function(){function t(t){var e=this;this.context=t,this.ui=g.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){e.update()},"summernote.disable summernote.dialog.shown":function(){e.hide()}}}return t.prototype.shouldInitialize=function(){return!D.isEmpty(this.options.popover.link)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(t){t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.link)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var t=this.context.invoke("editor.createRange");if(t.isCollapsed()&&t.isOnAnchor()){var e=At.ancestor(t.sc,At.isAnchor),i=g(e).attr("href");this.$popover.find("a").attr("href",i).html(i);var n=At.posFromPlaceholder(e);this.$popover.css({display:"block",left:n.left,top:n.top})}else this.hide()}else this.hide()},t.prototype.hide=function(){this.$popover.hide()},t}(),ne=function(){function t(t){this.context=t,this.ui=g.summernote.ui,this.$body=g(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return t.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e="";if(this.options.maximumImageFileSize){var i=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),n=1*(this.options.maximumImageFileSize/Math.pow(1024,i)).toFixed(2)+" "+" KMGTP"[i]+"B";e="<small>"+this.lang.image.maximumFileSize+" : "+n+"</small>"}var r=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',e,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),o='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" disabled>'+this.lang.image.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:r,footer:o}).render().appendTo(t)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Et.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},t.prototype.show=function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(t){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),"string"==typeof t?e.context.invoke("editor.insertImage",t):e.context.invoke("editor.insertImagesOrCallback",t)}).fail(function(){e.context.invoke("editor.restoreRange")})},t.prototype.showImageDialog=function(){var r=this;return g.Deferred(function(e){var t=r.$dialog.find(".note-image-input"),i=r.$dialog.find(".note-image-url"),n=r.$dialog.find(".note-image-btn");r.ui.onDialogShown(r.$dialog,function(){r.context.triggerEvent("dialog.shown"),t.replaceWith(t.clone().on("change",function(t){e.resolve(t.target.files||t.target.value)}).val("")),n.click(function(t){t.preventDefault(),e.resolve(i.val())}),i.on("keyup paste",function(){var t=i.val();r.ui.toggleBtn(n,t)}).val(""),N.isSupportTouch||i.trigger("focus"),r.bindEnterKey(i,n)}),r.ui.onDialogHidden(r.$dialog,function(){t.off("change"),i.off("keyup paste keypress"),n.off("click"),"pending"===e.state()&&e.reject()}),r.ui.showDialog(r.$dialog)})},t}(),re=function(){function t(t){var e=this;this.context=t,this.ui=g.summernote.ui,this.editable=t.layoutInfo.editable[0],this.options=t.options,this.events={"summernote.disable":function(){e.hide()}}}return t.prototype.shouldInitialize=function(){return!D.isEmpty(this.options.popover.image)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.image)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(t){if(At.isImg(t)){var e=At.posFromPlaceholder(t),i=At.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?event.pageX-20:e.left,top:this.options.popatmouse?event.pageY:Math.min(e.top,i.top)})}else this.hide()},t.prototype.hide=function(){this.$popover.hide()},t}(),oe=function(){function t(t){var i=this;this.context=t,this.ui=g.summernote.ui,this.options=t.options,this.events={"summernote.mousedown":function(t,e){i.update(e.target)},"summernote.keyup summernote.scroll summernote.change":function(){i.update()},"summernote.disable":function(){i.hide()}}}return t.prototype.shouldInitialize=function(){return!D.isEmpty(this.options.popover.table)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",t,this.options.popover.table),N.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(t){if(this.context.isDisabled())return!1;var e=At.isCell(t);if(e){var i=At.posFromPlaceholder(t);this.$popover.css({display:"block",left:i.left,top:i.top})}else this.hide();return e},t.prototype.hide=function(){this.$popover.hide()},t}(),ae=function(){function t(t){this.context=t,this.ui=g.summernote.ui,this.$body=g(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return t.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),i='<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" disabled>'+this.lang.video.insert+"</button>";this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:e,footer:i}).render().appendTo(t)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===Et.code.ENTER&&(t.preventDefault(),e.trigger("click"))})},t.prototype.createVideoNode=function(t){var e,i=t.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/),n=t.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),r=t.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),o=t.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),a=t.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),s=t.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),l=t.match(/\/\/v\.qq\.com.*?vid=(.+)/),h=t.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),c=t.match(/^.+.(mp4|m4v)$/),u=t.match(/^.+.(ogg|ogv)$/),d=t.match(/^.+.(webm)$/);if(i&&11===i[1].length){var p=i[1];e=g("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+p).attr("width","640").attr("height","360")}else if(n&&n[0].length)e=g("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+n[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(r&&r[0].length)e=g("<iframe>").attr("frameborder",0).attr("src",r[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(o&&o[3].length)e=g("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+o[3]).attr("width","640").attr("height","360");else if(a&&a[2].length)e=g("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+a[2]).attr("width","640").attr("height","360");else if(s&&s[1].length)e=g("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+s[1]);else if(l&&l[1].length||h&&h[2].length){var f=l&&l[1].length?l[1]:h[2];e=g("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+f+"&amp;auto=0")}else{if(!(c||u||d))return!1;e=g("<video controls>").attr("src",t).attr("width","640").attr("height","360")}return e.addClass("note-video-clip"),e[0]},t.prototype.show=function(){var i=this,t=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){i.ui.hideDialog(i.$dialog),i.context.invoke("editor.restoreRange");var e=i.createVideoNode(t);e&&i.context.invoke("editor.insertNode",e)}).fail(function(){i.context.invoke("editor.restoreRange")})},t.prototype.showVideoDialog=function(n){var r=this;return g.Deferred(function(e){var i=r.$dialog.find(".note-video-url"),t=r.$dialog.find(".note-video-btn");r.ui.onDialogShown(r.$dialog,function(){r.context.triggerEvent("dialog.shown"),i.val(n).on("input",function(){r.ui.toggleBtn(t,i.val())}),N.isSupportTouch||i.trigger("focus"),t.click(function(t){t.preventDefault(),e.resolve(i.val())}),r.bindEnterKey(i,t)}),r.ui.onDialogHidden(r.$dialog,function(){i.off("input"),t.off("click"),"pending"===e.state()&&e.reject()}),r.ui.showDialog(r.$dialog)})},t}(),se=function(){function t(t){this.context=t,this.ui=g.summernote.ui,this.$body=g(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return t.prototype.initialize=function(){var t=this.options.dialogsInBody?this.$body:this.$editor,e=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.10</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:e,callback:function(t){t.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(t)},t.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},t.prototype.createShortcutList=function(){var n=this,r=this.options.keyMap[N.isMac?"mac":"pc"];return Object.keys(r).map(function(t){var e=r[t],i=g('<div><div class="help-list-item"/></div>');return i.append(g("<label><kbd>"+t+"</kdb></label>").css({width:180,"margin-right":10})).append(g("<span/>").html(n.context.memo("help."+e)||e)),i.html()}).join("")},t.prototype.showHelpDialog=function(){var e=this;return g.Deferred(function(t){e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),t.resolve()}),e.ui.showDialog(e.$dialog)}).promise()},t.prototype.show=function(){var t=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){t.context.invoke("editor.restoreRange")})},t}(),le=function(){function t(t){var i=this;this.context=t,this.ui=g.summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){i.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){i.hide()},"summernote.focusout":function(t,e){N.isFF||e.relatedTarget&&At.ancestor(e.relatedTarget,_.eq(i.$popover[0]))||i.hide()}}}return t.prototype.shouldInitialize=function(){return this.options.airMode&&!D.isEmpty(this.options.popover.air)},t.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air)},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.update=function(){var t=this.context.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var e=D.last(t.range.getClientRects());if(e){var i=_.rect2bnd(e);this.$popover.css({display:"block",left:Math.max(i.left+i.width/2,0)-20,top:i.top+i.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},t.prototype.hide=function(){this.$popover.hide()},t}(),he=function(){function t(t){var i=this;this.context=t,this.ui=g.summernote.ui,this.$editable=t.layoutInfo.editable,this.options=t.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=g.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||i.handleKeyup(e)},"summernote.keydown":function(t,e){i.handleKeydown(e)},"summernote.disable summernote.dialog.shown":function(){i.hide()}}}return t.prototype.shouldInitialize=function(){return 0<this.hints.length},t.prototype.initialize=function(){var t=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(){t.$content.find(".active").removeClass("active"),g(t).addClass("active"),t.replace()})},t.prototype.destroy=function(){this.$popover.remove()},t.prototype.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},t.prototype.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var i=t.parent().next();i.length||(i=this.$content.find(".note-hint-group").first()),this.selectItem(i.find(".note-hint-item").first())}},t.prototype.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var i=t.parent().prev();i.length||(i=this.$content.find(".note-hint-group").last()),this.selectItem(i.find(".note-hint-item").last())}},t.prototype.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var e=this.nodeFromItem(t);this.lastWordRange.insertNode(e),Ot.createFromNode(e).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},t.prototype.nodeFromItem=function(t){var e=this.hints[t.data("index")],i=t.data("item"),n=e.content?e.content(i):i;return"string"==typeof n&&(n=At.createText(n)),n},t.prototype.createItemTemplates=function(n,t){var r=this.hints[n];return t.map(function(t,e){var i=g('<div class="note-hint-item"/>');return i.append(r.template?r.template(t):t+""),i.data({index:n,item:t}),i})},t.prototype.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===Et.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===Et.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===Et.code.DOWN&&(t.preventDefault(),this.moveDown()))},t.prototype.searchKeyword=function(t,e,i){var n=this.hints[t];if(n&&n.match.test(e)&&n.search){var r=n.match.exec(e);n.search(r[1],i)}else i()},t.prototype.createGroup=function(e,t){var i=this,n=g('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,t,function(t){(t=t||[]).length&&(n.html(i.createItemTemplates(e,t)),i.show())}),n},t.prototype.handleKeyup=function(t){var i=this;if(!D.contains([Et.code.ENTER,Et.code.UP,Et.code.DOWN],t.keyCode)){var e=this.context.invoke("editor.createRange").getWordRange(),n=e.toString();if(this.hints.length&&n){this.$content.empty();var r=_.rect2bnd(D.last(e.getClientRects()));r&&(this.$popover.hide(),this.lastWordRange=e,this.hints.forEach(function(t,e){t.match.test(n)&&i.createGroup(e,n).appendTo(i.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:r.left,top:r.top-this.$popover.outerHeight()-5}):this.$popover.css({left:r.left,top:r.top+r.height+5}))}else this.hide()}},t.prototype.show=function(){this.$popover.show()},t.prototype.hide=function(){this.$popover.hide()},t}(),ce=function(){function t(t,e){this.ui=g.summernote.ui,this.$note=t,this.memos={},this.modules={},this.layoutInfo={},this.options=e,this.initialize()}return t.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},t.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},t.prototype.reset=function(){var t=this.isDisabled();this.code(At.emptyPara),this._destroy(),this._initialize(),t&&this.disable()},t.prototype._initialize=function(){var e=this,i=g.extend({},this.options.buttons);Object.keys(i).forEach(function(t){e.memo("button."+t,i[t])});var n=g.extend({},this.options.modules,g.summernote.plugins||{});Object.keys(n).forEach(function(t){e.module(t,n[t],!0)}),Object.keys(this.modules).forEach(function(t){e.initializeModule(t)})},t.prototype._destroy=function(){var e=this;Object.keys(this.modules).reverse().forEach(function(t){e.removeModule(t)}),Object.keys(this.memos).forEach(function(t){e.removeMemo(t)}),this.triggerEvent("destroy",this)},t.prototype.code=function(t){var e=this.invoke("codeview.isActivated");if(void 0===t)return this.invoke("codeview.sync"),e?this.layoutInfo.codable.val():this.layoutInfo.editable.html();e?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),this.$note.val(t),this.triggerEvent("change",t)},t.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},t.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},t.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},t.prototype.triggerEvent=function(){var t=D.head(arguments),e=D.tail(D.from(arguments)),i=this.options.callbacks[_.namespaceToCamel(t,"on")];i&&i.apply(this.$note[0],e),this.$note.trigger("summernote."+t,e)},t.prototype.initializeModule=function(t){var e=this.modules[t];e.shouldInitialize=e.shouldInitialize||_.ok,e.shouldInitialize()&&(e.initialize&&e.initialize(),e.events&&At.attachEvents(this.$note,e.events))},t.prototype.module=function(t,e,i){if(1===arguments.length)return this.modules[t];this.modules[t]=new e(this),i||this.initializeModule(t)},t.prototype.removeModule=function(t){var e=this.modules[t];e.shouldInitialize()&&(e.events&&At.detachEvents(this.$note,e.events),e.destroy&&e.destroy()),delete this.modules[t]},t.prototype.memo=function(t,e){if(1===arguments.length)return this.memos[t];this.memos[t]=e},t.prototype.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},t.prototype.createInvokeHandlerAndUpdateState=function(e,i){var n=this;return function(t){n.createInvokeHandler(e,i)(t),n.invoke("buttons.updateCurrentStyle")}},t.prototype.createInvokeHandler=function(i,n){var r=this;return function(t){t.preventDefault();var e=g(t.target);r.invoke(i,n||e.closest("[data-value]").data("value"),e)}},t.prototype.invoke=function(){var t=D.head(arguments),e=D.tail(D.from(arguments)),i=t.split("."),n=1<i.length,r=n&&D.head(i),o=n?D.last(i):D.head(i),a=this.modules[r||"editor"];return!r&&this[o]?this[o].apply(this,e):a&&a[o]&&a.shouldInitialize()?a[o].apply(a,e):void 0},t}();g.fn.extend({summernote:function(){var t=g.type(D.head(arguments)),e="string"===t,i="object"===t,r=g.extend({},g.summernote.options,i?D.head(arguments):{});r.langInfo=g.extend(!0,{},g.summernote.lang["en-US"],g.summernote.lang[r.lang]),r.icons=g.extend(!0,{},g.summernote.options.icons,r.icons),r.tooltip="auto"===r.tooltip?!N.isSupportTouch:r.tooltip,this.each(function(t,e){var i=g(e);if(!i.data("summernote")){var n=new ce(i,r);i.data("summernote",n),i.data("summernote").triggerEvent("init",n.layoutInfo)}});var n=this.first();if(n.length){var o=n.data("summernote");if(e)return o.invoke.apply(o,D.from(arguments));r.focus&&o.invoke("editor.focus")}return this}}),g.summernote=g.extend(g.summernote,{version:"0.8.10",ui:b,dom:At,plugins:{},options:{modules:{editor:Bt,clipboard:Wt,dropzone:jt,codeview:Yt,statusbar:Ut,fullscreen:Gt,handle:qt,hintPopover:he,autoLink:Kt,autoSync:Zt,placeholder:Qt,buttons:Jt,toolbar:te,linkDialog:ee,linkPopover:ie,imageDialog:ne,imagePopover:re,tablePopover:oe,videoDialog:ae,helpDialog:se,airPopover:le},buttons:{},lang:"en-US",followingToolbar:!0,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onBlurCodeview:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})}),function(t){"use strict";if(!t.summernote)throw new Error("summernote.js required.");var e=t.summernote.options.icons;t.summernote.options=t.extend(t.summernote.options,{defaultIcons:e,icons:{align:"fa fa-align-left",alignCenter:"fa fa-align-center",alignJustify:"fa fa-align-justify",alignLeft:"fa fa-align-left",alignRight:"fa fa-align-right",indent:"fa fa-indent",outdent:"fa fa-outdent",arrowsAlt:"fa fa-arrows-alt",bold:"fa fa-bold",caret:"fa fa-caret-down",circle:"fa fa-circle-o",close:"fa fa-close",code:"fa fa-code",eraser:"fa fa-eraser",font:"fa fa-font",frame:"fa fa-",italic:"fa fa-italic",link:"fa fa-link",unlink:"fa fa-unlink",magic:"fa fa-magic",menuCheck:"fa fa-check",minus:"fa fa-minus",orderedlist:"fa fa-list-ol",pencil:"fa fa-pencil",picture:"fa fa-picture-o",question:"fa fa-question",redo:"fa fa-repeat",square:"fa fa-square-o",strikethrough:"fa fa-strikethrough",subscript:"fa fa-subscript",superscript:"fa fa-superscript",table:"fa fa-table",textHeight:"fa fa-text-height",trash:"fa fa-trash",underline:"fa fa-underline",undo:"fa fa-undo",unorderedlist:"fa fa-list-ul",video:"fa fa-video-camera"}}),t.summernote.options.modules=t.extend(t.summernote.options.modules,{fullscreen:function(e){var i=e.layoutInfo.editor,n=e.layoutInfo.toolbar,r=e.layoutInfo.editable,o=e.layoutInfo.codable,a=t(window),s=t("html, body");this.toggle=function(){function t(t){r.css("height",t.h),o.css("height",t.h),o.data("cmeditor")&&o.data("cmeditor").setsize(null,t.h)}i.toggleClass("fullscreen"),this.isFullscreen()?(r.data("orgHeight",r.css("height")),a.on("resize.px.summernote",function(){t({h:a.height()-n.outerHeight()})}).trigger("resize"),s.addClass("summernote-fullscreen")):(a.off("resize.px.summernote"),t({h:r.data("orgHeight")}),s.removeClass("summernote-fullscreen")),e.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return i.hasClass("fullscreen")}}})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(_){"use strict";var r=function(i,n){_.each(["autofocus","savable","hideable","width","height","resize","iconlibrary","language","footer","fullscreen","hiddenButtons","disabledButtons"],function(t,e){void 0!==_(i).data(e)&&((n="object"==typeof n?n:{})[e]=_(i).data(e))}),this.$ns="bootstrap-markdown",this.$element=_(i),this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null},this.$options=_.extend(!0,{},_.fn.markdown.defaults,n,this.$element.data("options")),this.$oldContent=null,this.$isPreview=!1,this.$isFullscreen=!1,this.$editor=null,this.$textarea=null,this.$handler=[],this.$callback=[],this.$nextTab=[],this.showEditor()};r.prototype={constructor:r,__alterButtons:function(i,n){var t=this.$handler,r="all"==i,o=this;_.each(t,function(t,e){!1===(!r&&e.indexOf(i)<0)&&n(o.$editor.find('button[data-handler="'+e+'"]'))})},__buildButtons:function(t,e){var i,n=this.$ns,r=this.$handler,o=this.$callback;for(i=0;i<t.length;i++){var a,s=t[i];for(a=0;a<s.length;a++){var l,h=s[a].data,c=_("<div/>",{class:"btn-group"});for(l=0;l<h.length;l++){var u,d,p=h[l],f=n+"-"+p.name,g=this.__getIcon(p.icon),m=p.btnText?p.btnText:"",v=p.btnClass?p.btnClass:"btn",y=p.tabIndex?p.tabIndex:"-1",b=void 0!==p.hotkey?p.hotkey:"",x=void 0!==jQuery.hotkeys&&""!==b?" ("+b+")":"";(u=_("<button></button>")).text(" "+this.__localize(m)).addClass("btn-default btn-sm").addClass(v),v.match(/btn\-(primary|success|info|warning|danger|link)/)&&u.removeClass("btn-default"),u.attr({type:"button",title:this.__localize(p.title)+x,tabindex:y,"data-provider":n,"data-handler":f,"data-hotkey":b}),!0===p.toggle&&u.attr("data-toggle","button"),(d=_("<span/>")).addClass(g),d.prependTo(u),c.append(u),r.push(f),o.push(p.callback)}e.append(c)}}return e},__setListener:function(){var t=void 0!==this.$textarea.attr("rows"),e=5<this.$textarea.val().split("\n").length?this.$textarea.val().split("\n").length:"5",i=t?this.$textarea.attr("rows"):e;this.$textarea.attr("rows",i),this.$options.resize&&this.$textarea.css("resize",this.$options.resize),this.$textarea.on({focus:_.proxy(this.focus,this),keyup:_.proxy(this.keyup,this),change:_.proxy(this.change,this),select:_.proxy(this.select,this)}),this.eventSupported("keydown")&&this.$textarea.on("keydown",_.proxy(this.keydown,this)),this.eventSupported("keypress")&&this.$textarea.on("keypress",_.proxy(this.keypress,this)),this.$textarea.data("markdown",this)},__handle:function(t){var e=_(t.currentTarget),i=this.$handler,n=this.$callback,r=e.attr("data-handler"),o=n[i.indexOf(r)];_(t.currentTarget).focus(),o(this),this.change(this),r.indexOf("cmdSave")<0&&this.$textarea.focus(),t.preventDefault()},__localize:function(t){var e=_.fn.markdown.messages,i=this.$options.language;return void 0!==e&&void 0!==e[i]&&void 0!==e[i][t]?e[i][t]:t},__getIcon:function(t){return"object"==typeof t?t[this.$options.iconlibrary]:t},setFullscreen:function(t){var e=this.$editor,i=this.$textarea;!0===t?(e.addClass("md-fullscreen-mode"),_("body").addClass("md-nooverflow"),this.$options.onFullscreen(this)):(e.removeClass("md-fullscreen-mode"),_("body").removeClass("md-nooverflow"),1==this.$isPreview&&this.hidePreview().showPreview()),this.$isFullscreen=t,i.focus()},showEditor:function(){var i,e=this,t=this.$ns,n=this.$element,r=(n.css("height"),n.css("width"),this.$editable),o=this.$handler,a=this.$callback,s=this.$options,l=_("<div/>",{class:"md-editor",click:function(){e.focus()}});if(null===this.$editor){var h=_("<div/>",{class:"md-header btn-toolbar"}),c=[];if(0<s.buttons.length&&(c=c.concat(s.buttons[0])),0<s.additionalButtons.length&&_.each(s.additionalButtons[0],function(t,i){var e=_.grep(c,function(t,e){return t.name===i.name});0<e.length?e[0].data=e[0].data.concat(i.data):c.push(s.additionalButtons[0][t])}),0<s.reorderButtonGroups.length&&(c=c.filter(function(t){return-1<s.reorderButtonGroups.indexOf(t.name)}).sort(function(t,e){return s.reorderButtonGroups.indexOf(t.name)<s.reorderButtonGroups.indexOf(e.name)?-1:s.reorderButtonGroups.indexOf(t.name)>s.reorderButtonGroups.indexOf(e.name)?1:0})),0<c.length&&(h=this.__buildButtons([c],h)),s.fullscreen.enable&&h.append('<div class="md-controls"><a class="md-control md-control-fullscreen" href="#"><span class="'+this.__getIcon(s.fullscreen.icons.fullscreenOn)+'"></span></a></div>').on("click",".md-control-fullscreen",function(t){t.preventDefault(),e.setFullscreen(!0)}),l.append(h),n.is("textarea"))n.before(l),(i=n).addClass("md-input"),l.append(i);else{var u="function"==typeof toMarkdown?toMarkdown(n.html()):n.html(),d=_.trim(u);i=_("<textarea/>",{class:"md-input",val:d}),l.append(i),r.el=n,r.type=n.prop("tagName").toLowerCase(),r.content=n.html(),_(n[0].attributes).each(function(){r.attrKeys.push(this.nodeName),r.attrValues.push(this.nodeValue)}),n.replaceWith(l)}var p,f=_("<div/>",{class:"md-footer"}),g=!1;if(s.savable){g=!0;o.push("cmdSave"),a.push(s.onSave),f.append('<button class="btn btn-success" data-provider="'+t+'" data-handler="cmdSave"><i class="icon icon-white icon-ok"></i> '+this.__localize("Save")+"</button>")}if(p="function"==typeof s.footer?s.footer(this):s.footer,""!==_.trim(p)&&(g=!0,f.append(p)),g&&l.append(f),s.width&&"inherit"!==s.width&&(jQuery.isNumeric(s.width)?(l.css("display","table"),i.css("width",s.width+"px")):l.addClass(s.width)),s.height&&"inherit"!==s.height)if(jQuery.isNumeric(s.height)){var m=s.height;h&&(m=Math.max(0,m-h.outerHeight())),f&&(m=Math.max(0,m-f.outerHeight())),i.css("height",m+"px")}else l.addClass(s.height);this.$editor=l,this.$textarea=i,this.$editable=r,this.$oldContent=this.getContent(),this.__setListener(),this.$editor.attr("id",(new Date).getTime()),this.$editor.on("click",'[data-provider="bootstrap-markdown"]',_.proxy(this.__handle,this)),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this.eventSupported("keydown")&&"object"==typeof jQuery.hotkeys&&h.find('[data-provider="bootstrap-markdown"]').each(function(){var t=_(this),e=t.attr("data-hotkey");""!==e.toLowerCase()&&i.bind("keydown",e,function(){return t.trigger("click"),!1})}),"preview"===s.initialstate?this.showPreview():"fullscreen"===s.initialstate&&s.fullscreen.enable&&this.setFullscreen(!0)}else this.$editor.show();return s.autofocus&&(this.$textarea.focus(),this.$editor.addClass("active")),s.fullscreen.enable&&!1!==s.fullscreen&&(this.$editor.append('<div class="md-fullscreen-controls"><a href="#" class="exit-fullscreen" title="Exit fullscreen"><span class="'+this.__getIcon(s.fullscreen.icons.fullscreenOff)+'"></span></a></div>'),this.$editor.on("click",".exit-fullscreen",function(t){t.preventDefault(),e.setFullscreen(!1)})),this.hideButtons(s.hiddenButtons),this.disableButtons(s.disabledButtons),s.onShow(this),this},parseContent:function(t){t=t||this.$textarea.val();return this.$options.parser?this.$options.parser(t):"object"==typeof markdown?markdown.toHTML(t):"function"==typeof marked?marked(t):t},showPreview:function(){var t,e,i=this.$options,n=this.$textarea,r=n.next(),o=_("<div/>",{class:"md-preview","data-provider":"markdown-preview"});return 1==this.$isPreview||(this.$isPreview=!0,this.disableButtons("all").enableButtons("cmdPreview"),t="string"==typeof(e=i.onPreview(this))?e:this.parseContent(),o.html(t),r&&"md-footer"==r.attr("class")?o.insertBefore(r):n.parent().append(o),o.css({width:n.outerWidth()+"px",height:n.outerHeight()+"px"}),this.$options.resize&&o.css("resize",this.$options.resize),n.hide(),o.data("markdown",this),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all"))),this},hidePreview:function(){return this.$isPreview=!1,this.$editor.find('div[data-provider="markdown-preview"]').remove(),this.enableButtons("all"),this.disableButtons(this.$options.disabledButtons),this.$textarea.show(),this.__setListener(),this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(t){return this.$textarea.val(t),this},findSelection:function(t){var e;if(0<=(e=this.getContent().indexOf(t))&&0<t.length){var i,n=this.getSelection();return this.setSelection(e,e+t.length),i=this.getSelection(),this.setSelection(n.start,n.end),i}return null},getSelection:function(){var e=this.$textarea[0];return("selectionStart"in e&&function(){var t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value.substr(e.selectionStart,t)}}||function(){return null})()},setSelection:function(t,e){var i=this.$textarea[0];return("selectionStart"in i&&function(){i.selectionStart=t,i.selectionEnd=e}||function(){return null})()},replaceSelection:function(t){var e=this.$textarea[0];return("selectionStart"in e&&function(){return e.value=e.value.substr(0,e.selectionStart)+t+e.value.substr(e.selectionEnd,e.value.length),e.selectionStart=e.value.length,this}||function(){return e.value+=t,jQuery(e)})()},getNextTab:function(){if(0===this.$nextTab.length)return null;var t,e=this.$nextTab.shift();return"function"==typeof e?t=e():"object"==typeof e&&0<e.length&&(t=e),t},setNextTab:function(t,e){if("string"==typeof t){var i=this;this.$nextTab.push(function(){return i.findSelection(t)})}else if("number"==typeof t&&"number"==typeof e){var n=this.getSelection();this.setSelection(t,e),this.$nextTab.push(this.getSelection()),this.setSelection(n.start,n.end)}},__parseButtonNameParam:function(t){return"string"==typeof t?t.split(" "):t},enableButtons:function(t){var i=this.__parseButtonNameParam(t),n=this;return _.each(i,function(t,e){n.__alterButtons(i[t],function(t){t.removeAttr("disabled")})}),this},disableButtons:function(t){var i=this.__parseButtonNameParam(t),n=this;return _.each(i,function(t,e){n.__alterButtons(i[t],function(t){t.attr("disabled","disabled")})}),this},hideButtons:function(t){var i=this.__parseButtonNameParam(t),n=this;return _.each(i,function(t,e){n.__alterButtons(i[t],function(t){t.addClass("hidden")})}),this},showButtons:function(t){var i=this.__parseButtonNameParam(t),n=this;return _.each(i,function(t,e){n.__alterButtons(i[t],function(t){t.removeClass("hidden")})}),this},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},keyup:function(t){var e=!1;switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var i;if(null!==(i=this.getNextTab())){var n=this;setTimeout(function(){n.setSelection(i.start,i.end)},500),e=!0}else{var r=this.getSelection();r.start==r.end&&r.end==this.getContent().length?e=!1:(this.setSelection(this.getContent().length,this.getContent().length),e=!0)}break;case 13:e=!1;break;case 27:this.$isFullscreen&&this.setFullscreen(!1),e=!1;break;default:e=!1}e&&(t.stopPropagation(),t.preventDefault()),this.$options.onChange(this)},change:function(t){return this.$options.onChange(this),this},select:function(t){return this.$options.onSelect(this),this},focus:function(t){var e=this.$options,i=(e.hideable,this.$editor);return i.addClass("active"),_(document).find(".md-editor").each(function(){var t;_(this).attr("id")!==i.attr("id")&&(null===(t=_(this).find("textarea").data("markdown"))&&(t=_(this).find('div[data-provider="markdown-preview"]').data("markdown")),t&&t.blur())}),e.onFocus(this),this},blur:function(t){var e=this.$options,i=e.hideable,n=this.$editor,r=this.$editable;if(n.hasClass("active")||0===this.$element.parent().length){if(n.removeClass("active"),i)if(null!==r.el){var o=_("<"+r.type+"/>"),a=this.getContent(),s=this.parseContent(a);_(r.attrKeys).each(function(t,e){o.attr(r.attrKeys[t],r.attrValues[t])}),o.html(s),n.replaceWith(o)}else n.hide();e.onBlur(this)}return this}};var t=_.fn.markdown;_.fn.markdown=function(n){return this.each(function(){var t=_(this),e=t.data("markdown"),i="object"==typeof n&&n;e||t.data("markdown",e=new r(this,i))})},_.fn.markdown.messages={},_.fn.markdown.defaults={autofocus:!1,hideable:!1,savable:!1,width:"inherit",height:"inherit",resize:"none",iconlibrary:"glyph",language:"en",initialstate:"editor",parser:null,buttons:[[{name:"groupFont",data:[{name:"cmdBold",hotkey:"Ctrl+B",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold","fa-3":"icon-bold"},callback:function(t){var e,i,n=t.getSelection(),r=t.getContent();e=0===n.length?t.__localize("strong text"):n.text,"**"===r.substr(n.start-2,2)&&"**"===r.substr(n.end,2)?(t.setSelection(n.start-2,n.end+2),t.replaceSelection(e),i=n.start-2):(t.replaceSelection("**"+e+"**"),i=n.start+2),t.setSelection(i,i+e.length)}},{name:"cmdItalic",title:"Italic",hotkey:"Ctrl+I",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic","fa-3":"icon-italic"},callback:function(t){var e,i,n=t.getSelection(),r=t.getContent();e=0===n.length?t.__localize("emphasized text"):n.text,"_"===r.substr(n.start-1,1)&&"_"===r.substr(n.end,1)?(t.setSelection(n.start-1,n.end+1),t.replaceSelection(e),i=n.start-1):(t.replaceSelection("_"+e+"_"),i=n.start+1),t.setSelection(i,i+e.length)}},{name:"cmdHeading",title:"Heading",hotkey:"Ctrl+H",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-header","fa-3":"icon-font"},callback:function(t){var e,i,n,r,o=t.getSelection(),a=t.getContent();e=0===o.length?t.__localize("heading text"):o.text+"\n",n=4,"### "===a.substr(o.start-n,n)||(n=3,"###"===a.substr(o.start-n,n))?(t.setSelection(o.start-n,o.end),t.replaceSelection(e),i=o.start-n):0<o.start&&((r=a.substr(o.start-1,1))&&"\n"!=r)?(t.replaceSelection("\n\n### "+e),i=o.start+6):(t.replaceSelection("### "+e),i=o.start+4),t.setSelection(i,i+e.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",hotkey:"Ctrl+L",icon:{glyph:"glyphicon glyphicon-link",fa:"fa fa-link","fa-3":"icon-link"},callback:function(t){var e,i,n,r=t.getSelection();t.getContent();e=0===r.length?t.__localize("enter link description here"):r.text,n=prompt(t.__localize("Insert Hyperlink"),"http://");var o=new RegExp("^((http|https)://|(mailto:)|(//))[a-z0-9]","i");if(null!==n&&""!==n&&"http://"!==n&&o.test(n)){var a=_("<div>"+n+"</div>").text();t.replaceSelection("["+e+"]("+a+")"),i=r.start+1,t.setSelection(i,i+e.length)}}},{name:"cmdImage",title:"Image",hotkey:"Ctrl+G",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o","fa-3":"icon-picture"},callback:function(t){var e,i,n,r=t.getSelection();t.getContent();e=0===r.length?t.__localize("enter image description here"):r.text,n=prompt(t.__localize("Insert Image Hyperlink"),"http://");var o=new RegExp("^((http|https)://|(//))[a-z0-9]","i");if(null!==n&&""!==n&&"http://"!==n&&o.test(n)){var a=_("<div>"+n+"</div>").text();t.replaceSelection("!["+e+"]("+a+' "'+t.__localize("enter image title here")+'")'),i=r.start+2,t.setNextTab(t.__localize("enter image title here")),t.setSelection(i,i+e.length)}}}]},{name:"groupMisc",data:[{name:"cmdList",hotkey:"Ctrl+U",title:"Unordered List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list","fa-3":"icon-list-ul"},callback:function(t){var e,i,n=t.getSelection();t.getContent();if(0===n.length)e=t.__localize("list text here"),t.replaceSelection("- "+e),i=n.start+2;else if(n.text.indexOf("\n")<0)e=n.text,t.replaceSelection("- "+e),i=n.start+2;else{var r=[];e=(r=n.text.split("\n"))[0],_.each(r,function(t,e){r[t]="- "+e}),t.replaceSelection("\n\n"+r.join("\n")),i=n.start+4}t.setSelection(i,i+e.length)}},{name:"cmdListO",hotkey:"Ctrl+O",title:"Ordered List",icon:{glyph:"glyphicon glyphicon-th-list",fa:"fa fa-list-ol","fa-3":"icon-list-ol"},callback:function(t){var e,i,n=t.getSelection();t.getContent();if(0===n.length)e=t.__localize("list text here"),t.replaceSelection("1. "+e),i=n.start+3;else if(n.text.indexOf("\n")<0)e=n.text,t.replaceSelection("1. "+e),i=n.start+3;else{var r=[];e=(r=n.text.split("\n"))[0],_.each(r,function(t,e){r[t]="1. "+e}),t.replaceSelection("\n\n"+r.join("\n")),i=n.start+5}t.setSelection(i,i+e.length)}},{name:"cmdCode",hotkey:"Ctrl+K",title:"Code",icon:{glyph:"glyphicon glyphicon-asterisk",fa:"fa fa-code","fa-3":"icon-code"},callback:function(t){var e,i,n=t.getSelection(),r=t.getContent();e=0===n.length?t.__localize("code text here"):n.text,"```\n"===r.substr(n.start-4,4)&&"\n```"===r.substr(n.end,4)?(t.setSelection(n.start-4,n.end+4),t.replaceSelection(e),i=n.start-4):"`"===r.substr(n.start-1,1)&&"`"===r.substr(n.end,1)?(t.setSelection(n.start-1,n.end+1),t.replaceSelection(e),i=n.start-1):-1<r.indexOf("\n")?(t.replaceSelection("```\n"+e+"\n```"),i=n.start+4):(t.replaceSelection("`"+e+"`"),i=n.start+1),t.setSelection(i,i+e.length)}},{name:"cmdQuote",hotkey:"Ctrl+Q",title:"Quote",icon:{glyph:"glyphicon glyphicon-comment",fa:"fa fa-quote-left","fa-3":"icon-quote-left"},callback:function(t){var e,i,n=t.getSelection();t.getContent();if(0===n.length)e=t.__localize("quote here"),t.replaceSelection("> "+e),i=n.start+2;else if(n.text.indexOf("\n")<0)e=n.text,t.replaceSelection("> "+e),i=n.start+2;else{var r=[];e=(r=n.text.split("\n"))[0],_.each(r,function(t,e){r[t]="> "+e}),t.replaceSelection("\n\n"+r.join("\n")),i=n.start+4}t.setSelection(i,i+e.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:!0,hotkey:"Ctrl+P",title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search","fa-3":"icon-search"},callback:function(t){!1===t.$isPreview?t.showPreview():t.hidePreview()}}]}]],additionalButtons:[],reorderButtonGroups:[],hiddenButtons:[],disabledButtons:[],footer:"",fullscreen:{enable:!0,icons:{fullscreenOn:{fa:"fa fa-expand",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-full"},fullscreenOff:{fa:"fa fa-compress",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-small"}}},onShow:function(t){},onPreview:function(t){},onSave:function(t){},onBlur:function(t){},onFocus:function(t){},onChange:function(t){},onFullscreen:function(t){},onSelect:function(t){}},_.fn.markdown.Constructor=r,_.fn.markdown.noConflict=function(){return _.fn.markdown=t,this};var e=function(t){var e=t;e.data("markdown")?e.data("markdown").showEditor():e.markdown()};_(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(t){e(_(this)),t.preventDefault()}).on("click focusin",function(t){var n;n=_(document.activeElement),_(document).find(".md-editor").each(function(){var t=_(this),e=n.closest(".md-editor")[0]===this,i=t.find("textarea").data("markdown")||t.find('div[data-provider="markdown-preview"]').data("markdown");i&&!e&&i.blur()})}).ready(function(){_('textarea[data-provide="markdown"]').each(function(){e(_(this))})})}),function(i){"use strict";if(!i.fn.markdown)throw new Error("bootstrap-markdown.js required.");function n(t){var e=t.outerHeight(),i=this.$editor.find(".md-preview");this.$textarea[0].style.top=e+"px",i.length&&(i[0].style.top=e+"px")}var r=i.fn.markdown.Constructor.prototype.__buildButtons,o=i.fn.markdown.Constructor.prototype.setFullscreen,e=i.fn.markdown.Constructor.prototype.showPreview;i.fn.markdown.Constructor.prototype.__buildButtons=function(t,e){var i=r.call(this,t,e);return i.find(".btn-default").removeClass("btn-default").addClass("btn-secondary"),i},i.fn.markdown.Constructor.prototype.setFullscreen=function(t){if(o.call(this,t),t){var e=this.$editor.find(".md-header");n.call(this,e),i(window).on("resize.md-editor",i.proxy(n,this,e))}else this.$textarea[0].style.top="auto",this.$editor.find(".md-preview").css("top","auto"),i(window).off("resize.md-editor")},i.fn.markdown.Constructor.prototype.showPreview=function(){if(e.call(this),this.$editor.hasClass("md-fullscreen-mode")){var t=this.$editor.find(".md-header");n.call(this,t)}}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,document,window,navigator)}):"object"==typeof exports?e(require("jquery"),document,window,navigator):e(jQuery,document,window,navigator)}(function(l,h,c,t,u){"use strict";var e,i,n=0,r=(e=t.userAgent,i=/msie\s\d+/i,0<e.search(i)&&i.exec(e).toString().split(" ")[1]<9&&(l("html").addClass("lt-ie9"),!0));Function.prototype.bind||(Function.prototype.bind=function(n){var r=this,o=[].slice;if("function"!=typeof r)throw new TypeError;var a=o.call(arguments,1),s=function(){if(this instanceof s){var t=function(){};t.prototype=r.prototype;var e=new t,i=r.apply(e,a.concat(o.call(arguments)));return Object(i)===i?i:e}return r.apply(n,a.concat(o.call(arguments)))};return s}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return-1;var o=+e||0;if(Math.abs(o)===1/0&&(o=0),r<=o)return-1;for(i=Math.max(0<=o?o:r-Math.abs(o),0);i<r;){if(i in n&&n[i]===t)return i;i++}return-1});var o=function(t,e,i){this.VERSION="2.2.0",this.input=t,this.plugin_count=i,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,e=e||{},this.$cache={win:l(c),body:l(h.body),input:l(t),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var n,r,o,a=this.$cache.input,s=a.prop("value");for(o in n={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" — ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==a[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",a[0]),(r={type:a.data("type"),min:a.data("min"),max:a.data("max"),from:a.data("from"),to:a.data("to"),step:a.data("step"),min_interval:a.data("minInterval"),max_interval:a.data("maxInterval"),drag_interval:a.data("dragInterval"),values:a.data("values"),from_fixed:a.data("fromFixed"),from_min:a.data("fromMin"),from_max:a.data("fromMax"),from_shadow:a.data("fromShadow"),to_fixed:a.data("toFixed"),to_min:a.data("toMin"),to_max:a.data("toMax"),to_shadow:a.data("toShadow"),prettify_enabled:a.data("prettifyEnabled"),prettify_separator:a.data("prettifySeparator"),force_edges:a.data("forceEdges"),keyboard:a.data("keyboard"),grid:a.data("grid"),grid_margin:a.data("gridMargin"),grid_num:a.data("gridNum"),grid_snap:a.data("gridSnap"),hide_min_max:a.data("hideMinMax"),hide_from_to:a.data("hideFromTo"),prefix:a.data("prefix"),postfix:a.data("postfix"),max_postfix:a.data("maxPostfix"),decorate_both:a.data("decorateBoth"),values_separator:a.data("valuesSeparator"),input_values_separator:a.data("inputValuesSeparator"),disable:a.data("disable"),block:a.data("block"),extra_classes:a.data("extraClasses")}).values=r.values&&r.values.split(","),r)r.hasOwnProperty(o)&&(r[o]!==u&&""!==r[o]||delete r[o]);s!==u&&""!==s&&((s=s.split(r.input_values_separator||e.input_values_separator||";"))[0]&&s[0]==+s[0]&&(s[0]=+s[0]),s[1]&&s[1]==+s[1]&&(s[1]=+s[1]),e&&e.values&&e.values.length?(n.from=s[0]&&e.values.indexOf(s[0]),n.to=s[1]&&e.values.indexOf(s[1])):(n.from=s[0]&&+s[0],n.to=s[1]&&+s[1])),l.extend(n,e),l.extend(n,r),this.options=n,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};o.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var t='<span class="irs js-irs-'+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(t),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span><span class="irs-bar"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar-edge"></span><span class="irs-shadow shadow-single"></span><span class="irs-slider single"></span>'),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.min,e=this.options.max,i=this.options.from,n=this.options.to;t<i&&n===e?this.$cache.s_from.addClass("type_last"):n<e&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),r&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),r&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(t){var e,i;this.target||(e=(i="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,e+=i.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:e}))},pointerMove:function(t){if(this.dragging){var e=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;this.coords.x_pointer=e-this.coords.x_gap,this.calc()}},pointerUp:function(t){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,r&&l("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(l.contains(this.$cache.cont[0],t.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&("both"===t&&this.setTempMinInterval(),t||(t=this.target||"from"),this.current_plugin=this.plugin_count,this.target=t,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=i-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(t),r&&l("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,e){if(!(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:e.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var e=this.coords.p_pointer,i=(this.options.max-this.options.min)/100;i=this.options.step/i,t?e+=i:e-=i,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*e),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");if(this.options.values.length)this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));else{var t=this._prettify(this.options.min),e=this._prettify(this.options.max);this.result.min_pretty=t,this.result.max_pretty=e,this.$cache.min.html(this.decorate(t,this.options.min)),this.$cache.max.html(this.decorate(e,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,(10===this.calc_count||t)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var e=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,e=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,e=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(e)),this.target){case"base":var i=(this.options.max-this.options.min)/100,n=(this.result.from-this.options.min)/i,r=(this.result.to-this.options.min)/i;this.coords.p_single_real=this.toFixed(n),this.coords.p_from_real=this.toFixed(n),this.coords.p_to_real=this.toFixed(r),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(e),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(e),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(e),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;e=this.toFixed(e+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(e)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(e)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var o=this.convertToRealPercent(e),a=this.result.from_percent,s=this.result.to_percent-a,l=s/2,h=o-l,c=o+l;h<0&&(c=(h=0)+s),100<c&&(h=(c=100)-s),this.coords.p_from_real=this.calcWithStep(h),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(c),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(t){return t/(100-this.coords.p_handle)*100},convertToFakePercent:function(t){return t/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,e=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return e<0?e=0:t<e&&(e=t),e},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){return"single"===this.options.type?"single":this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2<=t?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%":(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%")),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var t,e,i,n,r,o=this.options.values.length,a=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)o?t=this.decorate(a[this.result.from]):(n=this._prettify(this.result.from),t=this.decorate(n,this.result.from)),this.$cache.single.html(t),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible";else{o?(this.options.decorate_both?(t=this.decorate(a[this.result.from]),t+=this.options.values_separator,t+=this.decorate(a[this.result.to])):t=this.decorate(a[this.result.from]+this.options.values_separator+a[this.result.to]),e=this.decorate(a[this.result.from]),i=this.decorate(a[this.result.to])):(n=this._prettify(this.result.from),r=this._prettify(this.result.to),this.options.decorate_both?(t=this.decorate(n,this.result.from),t+=this.options.values_separator,t+=this.decorate(r,this.result.to)):t=this.decorate(n+this.options.values_separator+r,this.result.to),e=this.decorate(n,this.result.from),i=this.decorate(r,this.result.to)),this.$cache.single.html(t),this.$cache.from.html(e),this.$cache.to.html(i),this.calcLabels();var s=Math.min(this.labels.p_single_left,this.labels.p_from_left),l=this.labels.p_single_left+this.labels.p_single_fake,h=this.labels.p_to_left+this.labels.p_to_fake,c=Math.max(l,h);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",c=h):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",c=Math.max(l,h))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),s<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",c>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var t,e,i,n,r=this.options,o=this.$cache,a="number"==typeof r.from_min&&!isNaN(r.from_min),s="number"==typeof r.from_max&&!isNaN(r.from_max),l="number"==typeof r.to_min&&!isNaN(r.to_min),h="number"==typeof r.to_max&&!isNaN(r.to_max);"single"===r.type?r.from_shadow&&(a||s)?(t=this.convertToPercent(a?r.from_min:r.min),e=this.convertToPercent(s?r.from_max:r.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,o.shad_single[0].style.display="block",o.shad_single[0].style.left=t+"%",o.shad_single[0].style.width=e+"%"):o.shad_single[0].style.display="none":(r.from_shadow&&(a||s)?(t=this.convertToPercent(a?r.from_min:r.min),e=this.convertToPercent(s?r.from_max:r.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,o.shad_from[0].style.display="block",o.shad_from[0].style.left=t+"%",o.shad_from[0].style.width=e+"%"):o.shad_from[0].style.display="none",r.to_shadow&&(l||h)?(i=this.convertToPercent(l?r.to_min:r.min),n=this.convertToPercent(h?r.to_max:r.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),n=this.toFixed(n-this.coords.p_handle/100*n),i+=this.coords.p_handle/2,o.shad_to[0].style.display="block",o.shad_to[0].style.left=i+"%",o.shad_to[0].style.width=n+"%"):o.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(t,e){var i,n=this.options.max-this.options.min,r=n/100;return n?(i=(e?t:t-this.options.min)/r,this.toFixed(i)):(this.no_diapason=!0,0)},convertToValue:function(t){var e,i,n=this.options.min,r=this.options.max,o=n.toString().split(".")[1],a=r.toString().split(".")[1],s=0,l=0;if(0===t)return this.options.min;if(100===t)return this.options.max;o&&(s=e=o.length),a&&(s=i=a.length),e&&i&&(s=i<=e?e:i),n<0&&(n=+(n+(l=Math.abs(n))).toFixed(s),r=+(r+l).toFixed(s));var h,c=(r-n)/100*t+n,u=this.options.step.toString().split(".")[1];return u?c=+c.toFixed(u.length):(c/=this.options.step,c=+(c*=this.options.step).toFixed(0)),l&&(c-=l),(h=u?+c.toFixed(u.length):this.toFixed(c))<this.options.min?h=this.options.min:h>this.options.max&&(h=this.options.max),h},calcWithStep:function(t){var e=Math.round(t/this.coords.p_step)*this.coords.p_step;return 100<e&&(e=100),100===t&&(e=100),this.toFixed(e)},checkMinInterval:function(t,e,i){var n,r,o=this.options;return o.min_interval?(n=this.convertToValue(t),r=this.convertToValue(e),"from"===i?r-n<o.min_interval&&(n=r-o.min_interval):n-r<o.min_interval&&(n=r+o.min_interval),this.convertToPercent(n)):t},checkMaxInterval:function(t,e,i){var n,r,o=this.options;return o.max_interval?(n=this.convertToValue(t),r=this.convertToValue(e),"from"===i?r-n>o.max_interval&&(n=r-o.max_interval):n-r>o.max_interval&&(n=r+o.max_interval),this.convertToPercent(n)):t},checkDiapason:function(t,e,i){var n=this.convertToValue(t),r=this.options;return"number"!=typeof e&&(e=r.min),"number"!=typeof i&&(i=r.max),n<e&&(n=e),i<n&&(n=i),this.convertToPercent(n)},toFixed:function(t){return+(t=t.toFixed(20))},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,e){return this.options.force_edges&&(t<0?t=0:100-e<t&&(t=100-e)),this.toFixed(t)},validate:function(){var t,e,i=this.options,n=this.result,r=i.values,o=r.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),o)for(i.p_values=[],i.min=0,i.max=o-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,e=0;e<o;e++)t=+r[e],isNaN(t)?t=r[e]:(r[e]=t,t=this._prettify(t)),i.p_values.push(t);("number"!=typeof i.from||isNaN(i.from))&&(i.from=i.min),("number"!=typeof i.to||isNaN(i.to))&&(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max),i.to<i.min&&(i.to=i.min),i.to>i.max&&(i.to=i.max),this.update_check.from&&(this.update_check.from!==i.from&&i.from>i.to&&(i.from=i.to),this.update_check.to!==i.to&&i.to<i.from&&(i.to=i.from)),i.from>i.to&&(i.from=i.to),i.to<i.from&&(i.to=i.from)),("number"!=typeof i.step||isNaN(i.step)||!i.step||i.step<0)&&(i.step=1),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),n&&(n.min!==i.min&&(n.min=i.min),n.max!==i.max&&(n.max=i.max),(n.from<n.min||n.from>n.max)&&(n.from=i.from),(n.to<n.min||n.to>n.max)&&(n.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||i.min_interval<0)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||i.max_interval<0)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(t,e){var i="",n=this.options;return n.prefix&&(i+=n.prefix),i+=t,n.max_postfix&&(n.values.length&&t===n.p_values[n.max]?(i+=n.max_postfix,n.postfix&&(i+=" ")):e===n.max&&(i+=n.max_postfix,n.postfix&&(i+=" "))),n.postfix&&(i+=n.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,e,i,n,r,o=this.options,a=o.max-o.min,s=o.grid_num,l=0,h=0,c=4,u="";for(this.calcGridMargin(),o.grid_snap?50<a?(s=50/o.step,l=this.toFixed(o.step/.5)):(s=a/o.step,l=this.toFixed(o.step/(a/100))):l=this.toFixed(100/s),4<s&&(c=3),7<s&&(c=2),14<s&&(c=1),28<s&&(c=0),t=0;t<s+1;t++){for(i=c,100<(h=this.toFixed(l*t))&&(h=100),n=((this.coords.big[t]=h)-l*(t-1))/(i+1),e=1;e<=i&&0!==h;e++)u+='<span class="irs-grid-pol small" style="left: '+this.toFixed(h-n*e)+'%"></span>';u+='<span class="irs-grid-pol" style="left: '+h+'%"></span>',r=this.convertToValue(h),u+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+h+'%">'+(r=o.values.length?o.p_values[r]:this._prettify(r))+"</span>"}this.coords.big_num=Math.ceil(s+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(u),this.cacheGridLabels()}},cacheGridLabels:function(){var t,e,i=this.coords.big_num;for(e=0;e<i;e++)t=this.$cache.grid.find(".js-grid-text-"+e),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,e,i=[],n=[],r=this.coords.big_num;for(t=0;t<r;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),i[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),n[t]=this.toFixed(i[t]+this.coords.big_p[t]);for(this.options.force_edges&&(i[0]<-this.coords.grid_gap&&(i[0]=-this.coords.grid_gap,n[0]=this.toFixed(i[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),n[r-1]>100+this.coords.grid_gap&&(n[r-1]=100+this.coords.grid_gap,i[r-1]=this.toFixed(n[r-1]-this.coords.big_p[r-1]),this.coords.big_x[r-1]=this.toFixed(this.coords.big_p[r-1]-this.coords.grid_gap))),this.calcGridCollision(2,i,n),this.calcGridCollision(4,i,n),t=0;t<r;t++)e=this.$cache.grid_labels[t][0],this.coords.big_x[t]!==Number.POSITIVE_INFINITY&&(e.style.marginLeft=-this.coords.big_x[t]+"%")},calcGridCollision:function(t,e,i){var n,r,o,a=this.coords.big_num;for(n=0;n<a&&!(a<=(r=n+t/2));n+=t)o=this.$cache.grid_labels[r][0],i[n]<=e[r]?o.style.visibility="visible":o.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(t){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=l.extend(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),l.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},l.fn.ionRangeSlider=function(t){return this.each(function(){l.data(this,"ionRangeSlider")||l.data(this,"ionRangeSlider",new o(this,t,n++))})},function(){for(var o=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!c.requestAnimationFrame;++e)c.requestAnimationFrame=c[t[e]+"RequestAnimationFrame"],c.cancelAnimationFrame=c[t[e]+"CancelAnimationFrame"]||c[t[e]+"CancelRequestAnimationFrame"];c.requestAnimationFrame||(c.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),n=Math.max(0,16-(i-o)),r=c.setTimeout(function(){t(i+n)},n);return o=i+n,r}),c.cancelAnimationFrame||(c.cancelAnimationFrame=function(t){clearTimeout(t)})}()}),function(u,t,r,s){var n={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},o={afterMove:function(t,e,i){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(t,e){return!0},onCancel:function(t,e,i,n){},onDrag:function(t,e,i,n){t.css(e)},onDragStart:function(t,e,i,n){t.css({height:t.outerHeight(),width:t.outerWidth()}),t.addClass(e.group.options.draggedClass),u("body").addClass(e.group.options.bodyClass)},onDrop:function(t,e,i,n){t.removeClass(e.group.options.draggedClass).removeAttr("style"),u("body").removeClass(e.group.options.bodyClass)},onMousedown:function(t,e,i){if(!i.target.nodeName.match(/^(input|select|textarea)$/i))return i.preventDefault(),!0},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:!0,serialize:function(t,e,i){var n=u.extend({},t.data());return i?[e]:(e[0]&&(n.children=e),delete n.subContainers,delete n.sortable,n)},tolerance:0},e={},a=0,d={left:0,top:0,bottom:0,right:0},l={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},h="subContainers";function c(t,e){return Math.max(0,t[0]-e[0],e[0]-t[1])+Math.max(0,t[2]-e[1],e[1]-t[3])}function i(t,e,i,n){var r=t.length,o=n?"offset":"position";for(i=i||0;r--;){var a=t[r].el?t[r].el:u(t[r]),s=a[o]();s.left+=parseInt(a.css("margin-left"),10),s.top+=parseInt(a.css("margin-top"),10),e[r]=[s.left-i,s.left+a.outerWidth()+i,s.top-i,s.top+a.outerHeight()+i]}}function p(t,e){var i=e.offset();return{left:t.left-i.left,top:t.top-i.top}}function f(t,e,i){e=[e.left,e.top],i=i&&[i.left,i.top];for(var n,r=t.length,o=[];r--;)n=t[r],o[r]=[r,c(n,e),i&&c(n,i)];return o=o.sort(function(t,e){return e[1]-t[1]||e[2]-t[2]||e[0]-t[0]})}function g(t){this.options=u.extend({},o,t),this.containers=[],this.options.rootGroup||(this.scrollProxy=u.proxy(this.scroll,this),this.dragProxy=u.proxy(this.drag,this),this.dropProxy=u.proxy(this.drop,this),this.placeholder=u(this.options.placeholder),t.isValidTarget||(this.options.isValidTarget=s))}function m(t,e){this.el=t,this.options=u.extend({},n,e),this.group=g.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var i=this.rootGroup.options.itemPath;this.target=i?this.el.find(i):this.el,this.target.on(l.start,this.handle,u.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}g.get=function(t){return e[t.group]||(t.group===s&&(t.group=a++),e[t.group]=new g(t)),e[t.group]},g.prototype={dragInit:function(t,e){this.$document=u(e.el[0].ownerDocument);var i=u(t.target).closest(this.options.itemSelector);if(i.length){if(this.item=i,this.itemContainer=e,this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,o.onMousedown,t))return;this.setPointer(t),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0}},drag:function(t){if(!this.dragging){if(!this.distanceMet(t)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,o.onDragStart,t),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(t),this.options.onDrag(this.item,p(this.pointer,this.item.offsetParent()),o.onDrag,t);var e=this.getPointer(t),i=this.sameResultBox,n=this.options.tolerance;(!i||i.top-n>e.top||i.bottom+n<e.top||i.left-n>e.left||i.right+n<e.left)&&(this.searchValidTarget()||(this.placeholder.detach(),this.lastAppendedItem=s))},drop:function(t){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,o.onCancel,t),this.options.onDrop(this.item,this.getContainer(this.item),o.onDrop,t),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=s,this.dragging=!1)},searchValidTarget:function(t,e){t||(t=this.relativePointer||this.pointer,e=this.lastRelativePointer||this.lastPointer);for(var i=f(this.getContainerDimensions(),t,e),n=i.length;n--;){var r=i[n][0];if(!i[n][1]||this.options.pullPlaceholder){var o=this.containers[r];if(!o.disabled){if(!this.$getOffsetParent()){var a=o.getItemOffsetParent();t=p(t,a),e=p(e,a)}if(o.searchValidTarget(t,e))return!0}}}this.sameResultBox&&(this.sameResultBox=s)},movePlaceholder:function(t,e,i,n){var r=this.lastAppendedItem;!n&&r&&r[0]===e[0]||(e[i](this.placeholder),this.lastAppendedItem=e,this.sameResultBox=n,this.options.afterMove(this.placeholder,t,e))},getContainerDimensions:function(){return this.containerDimensions||i(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(t){return t.closest(this.options.containerSelector).data(r)},$getOffsetParent:function(){if(this.offsetParent===s){var t=this.containers.length-1,e=this.containers[t].getItemOffsetParent();if(!this.options.rootGroup)for(;t--;)if(e[0]!=this.containers[t].getItemOffsetParent()[0]){e=!1;break}this.offsetParent=e}return this.offsetParent},setPointer:function(t){var e=this.getPointer(t);if(this.$getOffsetParent()){var i=p(e,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=i}this.lastPointer=this.pointer,this.pointer=e},distanceMet:function(t){var e=this.getPointer(t);return Math.max(Math.abs(this.pointer.left-e.left),Math.abs(this.pointer.top-e.top))>=this.options.distance},getPointer:function(t){var e=t.originalEvent||t.originalEvent.touches&&t.originalEvent.touches[0];return{left:t.pageX||e.pageX,top:t.pageY||e.pageY}},setupDelayTimer:function(){var t=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){t.delayMet=!0},this.options.delay))},scroll:function(t){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(i){var n=this;u.each(["drag","drop","scroll"],function(t,e){n.$document[i](l[e],n[e+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=s},clearDimensions:function(){this.traverse(function(t){t._clearDimensions()})},traverse:function(t){t(this);for(var e=this.containers.length;e--;)this.containers[e].traverse(t)},_clearDimensions:function(){this.containerDimensions=s},_destroy:function(){e[this.options.group]=s}},m.prototype={dragInit:function(t){var e=this.rootGroup;!this.disabled&&!e.dragInitDone&&this.options.drag&&this.isValidDrag(t)&&e.dragInit(t,this)},isValidDrag:function(t){return 1==t.which||"touchstart"==t.type&&1==t.originalEvent.touches.length},searchValidTarget:function(t,e){var i=f(this.getItemDimensions(),t,e),n=i.length,r=this.rootGroup,o=!r.options.isValidTarget||r.options.isValidTarget(r.item,this);if(!n&&o)return r.movePlaceholder(this,this.target,"append"),!0;for(;n--;){var a=i[n][0];if(!i[n][1]&&this.hasChildGroup(a)){if(this.getContainerGroup(a).searchValidTarget(t,e))return!0}else if(o)return this.movePlaceholder(a,t),!0}},movePlaceholder:function(t,e){var i=u(this.items[t]),n=this.itemDimensions[t],r="after",o=i.outerWidth(),a=i.outerHeight(),s=i.offset(),l={left:s.left,right:s.left+o,top:s.top,bottom:s.top+a};if(this.options.vertical){var h=(n[2]+n[3])/2;e.top<=h?(r="before",l.bottom-=a/2):l.top+=a/2}else{var c=(n[0]+n[1])/2;e.left<=c?(r="before",l.right-=o/2):l.left+=o/2}this.hasChildGroup(t)&&(l=d),this.rootGroup.movePlaceholder(this,i,r,l)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get(),i(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var t=this.el;return"relative"===t.css("position")||"absolute"===t.css("position")||"fixed"===t.css("position")?t:t.offsetParent()},hasChildGroup:function(t){return this.options.nested&&this.getContainerGroup(t)},getContainerGroup:function(t){var e=u.data(this.items[t],h);if(e===s){var i=this.$getChildren(this.items[t],"container");if(e=!1,i[0]){var n=u.extend({},this.options,{rootGroup:this.rootGroup,group:a++});e=i[r](n).data(r).group}u.data(this.items[t],h,e)}return e},$getChildren:function(t,e){var i=this.rootGroup.options,n=i[e+"Path"],r=i[e+"Selector"];return t=u(t),n&&(t=t.find(n)),t.children(r)},_serialize:function(t,e){var i=this,n=e?"item":"container",r=this.$getChildren(t,n).not(this.options.exclude).map(function(){return i._serialize(u(this),!e)}).get();return this.rootGroup.options.serialize(t,r,e)},traverse:function(i){u.each(this.items||[],function(t){var e=u.data(this,h);e&&e.traverse(i)}),i(this)},_clearDimensions:function(){this.itemDimensions=s},_destroy:function(){var e=this;this.target.off(l.start,this.handle),this.el.removeData(r),this.options.drop&&(this.group.containers=u.grep(this.group.containers,function(t){return t!=e})),u.each(this.items||[],function(){u.removeData(this,h)})}};var v={enable:function(){this.traverse(function(t){t.disabled=!1})},disable:function(){this.traverse(function(t){t.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(t){t._clearDimensions()})},destroy:function(){this.traverse(function(t){t._destroy()})}};u.extend(m.prototype,v),u.fn[r]=function(i){var n=Array.prototype.slice.call(arguments,1);return this.map(function(){var t=u(this),e=t.data(r);return e&&v[i]?v[i].apply(e,n)||this:(e||i!==s&&"object"!=typeof i||t.data(r,new m(t,i)),this)})}}(jQuery,window,"sortable"),function(w){"use strict";var S=0;function C(t,e){return w.map(t,function(t){return t+".touchspin_"+e})}w.fn.TouchSpin=function(b){if("destroy"!==b){var x={min:0,max:100,initval:"",replacementval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},_={min:"min",max:"max",initval:"init-val",replacementval:"replacement-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){var s,l,r,i,t,e,n,o,h=w(this),a=h.data(),c=0,u=!1;function d(){var t,e,i;""!==(t=h.val())?0<s.decimals&&"."===t||(e=parseFloat(t),isNaN(e)&&(e=""!==s.replacementval?s.replacementval:0),(i=e).toString()!==t&&(i=e),e<s.min&&(i=s.min),e>s.max&&(i=s.max),i=function(t){switch(s.forcestepdivisibility){case"round":return(Math.round(t/s.step)*s.step).toFixed(s.decimals);case"floor":return(Math.floor(t/s.step)*s.step).toFixed(s.decimals);case"ceil":return(Math.ceil(t/s.step)*s.step).toFixed(s.decimals);default:return t}}(i),Number(t).toString()!==i.toString()&&(h.val(i),h.trigger("change"))):""!==s.replacementval&&(h.val(s.replacementval),h.trigger("change"))}function p(){if(s.booster){var t=Math.pow(2,Math.floor(c/s.boostat))*s.step;return s.maxboostedstep&&t>s.maxboostedstep&&(t=s.maxboostedstep,i=Math.round(i/t)*t),Math.max(s.step,t)}return s.step}function f(){d(),i=parseFloat(r.input.val()),isNaN(i)&&(i=0);var t=i,e=p();(i+=e)>s.max&&(i=s.max,h.trigger("touchspin.on.max"),y()),r.input.val(Number(i).toFixed(s.decimals)),t!==i&&h.trigger("change")}function g(){d(),i=parseFloat(r.input.val()),isNaN(i)&&(i=0);var t=i,e=p();(i-=e)<s.min&&(i=s.min,h.trigger("touchspin.on.min"),y()),r.input.val(i.toFixed(s.decimals)),t!==i&&h.trigger("change")}function m(){y(),c=0,u="down",h.trigger("touchspin.on.startspin"),h.trigger("touchspin.on.startdownspin"),n=setTimeout(function(){t=setInterval(function(){c++,g()},s.stepinterval)},s.stepintervaldelay)}function v(){y(),c=0,u="up",h.trigger("touchspin.on.startspin"),h.trigger("touchspin.on.startupspin"),o=setTimeout(function(){e=setInterval(function(){c++,f()},s.stepinterval)},s.stepintervaldelay)}function y(){switch(clearTimeout(n),clearTimeout(o),clearInterval(t),clearInterval(e),u){case"up":h.trigger("touchspin.on.stopupspin"),h.trigger("touchspin.on.stopspin");break;case"down":h.trigger("touchspin.on.stopdownspin"),h.trigger("touchspin.on.stopspin")}c=0,u=!1}!function(){if(h.data("alreadyinitialized"))return;if(h.data("alreadyinitialized",!0),S+=1,h.data("spinnerid",S),!h.is("input"))return console.log("Must be an input.");s=w.extend({},x,a,(n={},w.each(_,function(t,e){var i="bts-"+e;h.is("[data-"+i+"]")&&(n[t]=h.data(i))}),n),b),""!==s.initval&&""===h.val()&&h.val(s.initval),d(),function(){var t=h.val(),e=h.parent();""!==t&&(t=Number(t).toFixed(s.decimals));h.data("initvalue",t).val(t),h.addClass("form-control"),e.hasClass("input-group")?function(t){t.addClass("bootstrap-touchspin");var e,i,n=h.prev(),r=h.next(),o='<span class="input-group-addon bootstrap-touchspin-prefix">'+s.prefix+"</span>",a='<span class="input-group-addon bootstrap-touchspin-postfix">'+s.postfix+"</span>";n.hasClass("input-group-btn")?(e='<button class="'+s.buttondown_class+' bootstrap-touchspin-down" type="button">'+s.buttondown_txt+"</button>",n.append(e)):(e='<span class="input-group-btn"><button class="'+s.buttondown_class+' bootstrap-touchspin-down" type="button">'+s.buttondown_txt+"</button></span>",w(e).insertBefore(h));r.hasClass("input-group-btn")?(i='<button class="'+s.buttonup_class+' bootstrap-touchspin-up" type="button">'+s.buttonup_txt+"</button>",r.prepend(i)):(i='<span class="input-group-btn"><button class="'+s.buttonup_class+' bootstrap-touchspin-up" type="button">'+s.buttonup_txt+"</button></span>",w(i).insertAfter(h));w(o).insertBefore(h),w(a).insertAfter(h),l=t}(e):function(){var t;t=s.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+s.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+s.postfix+'</span><span class="input-group-btn-vertical"><button class="'+s.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+s.verticalupclass+'"></i></button><button class="'+s.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+s.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+s.buttondown_class+' bootstrap-touchspin-down" type="button">'+s.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+s.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+s.postfix+'</span><span class="input-group-btn"><button class="'+s.buttonup_class+' bootstrap-touchspin-up" type="button">'+s.buttonup_txt+"</button></span></div>";l=w(t).insertBefore(h),w(".bootstrap-touchspin-prefix",l).after(h),h.hasClass("input-sm")?l.addClass("input-group-sm"):h.hasClass("input-lg")&&l.addClass("input-group-lg")}()}(),r={down:w(".bootstrap-touchspin-down",l),up:w(".bootstrap-touchspin-up",l),input:w("input",l),prefix:w(".bootstrap-touchspin-prefix",l).addClass(s.prefix_extraclass),postfix:w(".bootstrap-touchspin-postfix",l).addClass(s.postfix_extraclass)},function(){""===s.prefix&&r.prefix.hide();""===s.postfix&&r.postfix.hide()}(),h.on("keydown",function(t){var e=t.keyCode||t.which;38===e?("up"!==u&&(f(),v()),t.preventDefault()):40===e&&("down"!==u&&(g(),m()),t.preventDefault())}),h.on("keyup",function(t){var e=t.keyCode||t.which;38===e?y():40===e&&y()}),h.on("blur",function(){d()}),r.down.on("keydown",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("down"!==u&&(g(),m()),t.preventDefault())}),r.down.on("keyup",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||y()}),r.up.on("keydown",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("up"!==u&&(f(),v()),t.preventDefault())}),r.up.on("keyup",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||y()}),r.down.on("mousedown.touchspin",function(t){r.down.off("touchstart.touchspin"),h.is(":disabled")||(g(),m(),t.preventDefault(),t.stopPropagation())}),r.down.on("touchstart.touchspin",function(t){r.down.off("mousedown.touchspin"),h.is(":disabled")||(g(),m(),t.preventDefault(),t.stopPropagation())}),r.up.on("mousedown.touchspin",function(t){r.up.off("touchstart.touchspin"),h.is(":disabled")||(f(),v(),t.preventDefault(),t.stopPropagation())}),r.up.on("touchstart.touchspin",function(t){r.up.off("mousedown.touchspin"),h.is(":disabled")||(f(),v(),t.preventDefault(),t.stopPropagation())}),r.up.on("mouseout touchleave touchend touchcancel",function(t){u&&(t.stopPropagation(),y())}),r.down.on("mouseout touchleave touchend touchcancel",function(t){u&&(t.stopPropagation(),y())}),r.down.on("mousemove touchmove",function(t){u&&(t.stopPropagation(),t.preventDefault())}),r.up.on("mousemove touchmove",function(t){u&&(t.stopPropagation(),t.preventDefault())}),w(document).on(C(["mouseup","touchend","touchcancel"],S).join(" "),function(t){u&&(t.preventDefault(),y())}),w(document).on(C(["mousemove","touchmove","scroll","scrollstart"],S).join(" "),function(t){u&&(t.preventDefault(),y())}),h.on("mousewheel DOMMouseScroll",function(t){if(s.mousewheel&&h.is(":focus")){var e=t.originalEvent.wheelDelta||-t.originalEvent.deltaY||-t.originalEvent.detail;t.stopPropagation(),t.preventDefault(),e<0?g():f()}}),h.on("touchspin.uponce",function(){y(),f()}),h.on("touchspin.downonce",function(){y(),g()}),h.on("touchspin.startupspin",function(){v()}),h.on("touchspin.startdownspin",function(){m()}),h.on("touchspin.stopspin",function(){y()}),h.on("touchspin.updatesettings",function(t,e){!function(t){var e;e=t,s=w.extend({},s,e),e.postfix&&h.parent().find(".bootstrap-touchspin-postfix").text(e.postfix),e.prefix&&h.parent().find(".bootstrap-touchspin-prefix").text(e.prefix),d();var i=r.input.val();""!==i&&(i=Number(r.input.val()),r.input.val(i.toFixed(s.decimals)))}(e)}),r.input.css("display","block");var n}()})}this.each(function(){var t=w(this).data();w(document).off(C(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],t.spinnerid).join(" "))})}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(f,t,e,i){"use strict";var n="quickselect",r={activeButtonClass:"active",breakOutAll:!1,breakOutValues:[],buttonClass:"",buttonDefaultClass:"",buttonRequiredClass:"",namespace:n,selectDefaultText:"More&hellip;",wrapperClass:"",buttonTag:"button"};function o(t,e){this.element=t,this.settings=f.extend({},r,e),this._defaults=r,this._name=n,this.init()}f.extend(o.prototype,{init:function(){var r=this.element,i=this.settings.activeButtonClass,n=this.settings.breakOutAll,o=this.settings.breakOutValues,t=this.settings.buttonClass,e=this.settings.buttonDefaultClass,a=this.settings.buttonRequiredClass,s=this.settings.namespace,l=this.settings.selectDefaultText,h=this.settings.wrapperClass,c=this.settings.buttonTag,u=f('<div class="'+s+"__wrapper "+h+'"></div>');f(r).addClass(s+"__select").before(u),o=n?f("option",r).map(function(){return this.value}).get():o;var d=f(r).is(":disabled")?" disabled ":"",p=t+" "+(f(r).is(":required")?a:e);f.each(o,function(t,e){var i=f('option[value="'+e+'"]',r).attr("value"),n=f('option[value="'+e+'"]',r).text();i&&f(u).append("<"+c+' aria-pressed="false" data-'+s+'-value="'+i+'" class="'+s+"__btn "+p+'"'+d+">"+n+"</"+c+">")}),n?f(r).addClass(s+"__hidden"):f(r).wrap('<div class="'+s+"__btn "+s+"__more "+p+'"'+d+"></div>").before('<span class="'+s+'__more--label">'+l+"</span>").parent().detach().appendTo(u),f(r).change(function(){var t=f(this).val();f("."+s+"__btn",f(u)).removeClass(i);var e=l;-1!==f.inArray(t,o)||!0===n?f("."+s+"__btn[data-"+s+'-value="'+t+'"]',f(u)).addClass(i):t&&(e=f(r).find("option:selected").text(),f("."+s+"__more",f(u)).addClass(i)),f("."+s+"__more--label",f(u)).html(e)}),f("."+s+"__btn[data-"+s+"-value]",f(u)).click(function(){f(this).hasClass(i)?f(r).val(f("option:first",r).val()).change():f(r).val(f(this).attr("data-"+s+"-value")).change()}),f(r).val(f(r).val()).change(),f(r).focus(function(){f(this).css("opacity","1")}).blur(function(){f(this).css("opacity","0")})}}),f.fn[n]=function(t){return this.each(function(){f.data(this,"plugin_"+n)||f.data(this,"plugin_"+n,new o(this,t))})}}),$.fn.editableTableWidget=function(l){"use strict";return $(this).each(function(){var n,t,e=$.extend(((t=$.extend({},$.fn.editableTableWidget.defaultOptions)).editor=t.editor.clone(),t),l),i=$(this),r=e.editor.css("position","absolute").hide().appendTo(i.parent()),o=function(t){(n=i.find("td:focus")).length&&(r.val(n.text()).removeClass("error").show().offset(n.offset()).css(n.css(e.cloneProperties)).width(n.width()).height(n.height()).focus(),t&&r.select())},a=function(){var t,e=r.val(),i=$.Event("change");if(n.text()===e||r.hasClass("error"))return!0;t=n.html(),n.text(e).trigger(i,e),!1===i.result&&n.html(t)},s=function(t,e){return 39===e?t.next("td"):37===e?t.prev("td"):38===e?t.parent().prev().children().eq(t.index()):40===e?t.parent().next().children().eq(t.index()):[]};r.blur(function(){a(),r.hide()}).keydown(function(t){if(13===t.which)a(),r.hide(),n.focus(),t.preventDefault(),t.stopPropagation();else if(27===t.which)r.val(n.text()),t.preventDefault(),t.stopPropagation(),r.hide(),n.focus();else if(9===t.which)n.focus();else if(this.selectionEnd-this.selectionStart===this.value.length){var e=s(n,t.which);0<e.length&&(e.focus(),t.preventDefault(),t.stopPropagation())}}).on("input paste",function(){var t=$.Event("validate");n.trigger(t,r.val()),!1===t.result?r.addClass("error"):r.removeClass("error")}),i.on("click keypress dblclick",o).css("cursor","pointer").keydown(function(t){var e=!0,i=s($(t.target),t.which);0<i.length?i.focus():13===t.which?o(!1):((17===t.which||91===t.which||93===t.which)&&o(!0),e=!1),e&&(t.stopPropagation(),t.preventDefault())}),i.find("td").prop("tabindex",1),$(window).on("resize",function(){r.is(":visible")&&r.offset(n.offset()).width(n.width()).height(n.height())})})},$.fn.editableTableWidget.defaultOptions={cloneProperties:["padding","padding-top","padding-bottom","padding-left","padding-right","text-align","font","font-size","font-family","font-weight","border","border-top","border-bottom","border-left","border-right"],editor:$("<input>")},("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)})(["jquery"],function(S){return function(){var m,e,v,y=0,n={error:"error",info:"info",success:"success",warning:"warning"},t={clear:function(t,e){var i=_();m||b(i),r(t,i,e)||function(t){for(var e=m.children(),i=e.length-1;0<=i;i--)r(S(e[i]),t)}(i)},remove:function(t){var e=_();m||b(e),t&&0===S(":focus",t).length?w(t):m.children().length&&m.remove()},error:function(t,e,i){return o({type:n.error,iconClass:_().iconClasses.error,message:t,optionsOverride:i,title:e})},getContainer:b,info:function(t,e,i){return o({type:n.info,iconClass:_().iconClasses.info,message:t,optionsOverride:i,title:e})},options:{},subscribe:function(t){e=t},success:function(t,e,i){return o({type:n.success,iconClass:_().iconClasses.success,message:t,optionsOverride:i,title:e})},version:"2.1.3",warning:function(t,e,i){return o({type:n.warning,iconClass:_().iconClasses.warning,message:t,optionsOverride:i,title:e})}};return t;function b(t,e){return t||(t=_()),(m=S("#"+t.containerId)).length||e&&(i=t,(m=S("<div/>").attr("id",i.containerId).addClass(i.positionClass)).appendTo(S(i.target)),m=m),m;var i}function r(t,e,i){var n=!(!i||!i.force)&&i.force;return!(!t||!n&&0!==S(":focus",t).length||(t[e.hideMethod]({duration:e.hideDuration,easing:e.hideEasing,complete:function(){w(t)}}),0))}function x(t){e&&e(t)}function o(e){var r=_(),t=e.iconClass||r.iconClass;if(void 0!==e.optionsOverride&&(r=S.extend(r,e.optionsOverride),t=e.optionsOverride.iconClass||t),!function(t,e){if(t.preventDuplicates){if(e.message===v)return!0;v=e.message}return!1}(r,e)){y++,m=b(r,!0);var o=null,a=S("<div/>"),i=S("<div/>"),n=S("<div/>"),s=S("<div/>"),l=S(r.closeHtml),h={intervalId:null,hideEta:null,maxHideTime:null},c={toastId:y,state:"visible",startTime:new Date,options:r,map:e};return e.iconClass&&a.addClass(r.toastClass).addClass(t),function(){if(e.title){var t=e.title;r.escapeHtml&&(t=u(e.title)),i.append(t).addClass(r.titleClass),a.append(i)}}(),function(){if(e.message){var t=e.message;r.escapeHtml&&(t=u(e.message)),n.append(t).addClass(r.messageClass),a.append(n)}}(),r.closeButton&&(l.addClass(r.closeClass).attr("role","button"),a.prepend(l)),r.progressBar&&(s.addClass(r.progressClass),a.prepend(s)),r.rtl&&a.addClass("rtl"),r.newestOnTop?m.prepend(a):m.append(a),function(){var t="";switch(e.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}a.attr("aria-live",t)}(),a.hide(),a[r.showMethod]({duration:r.showDuration,easing:r.showEasing,complete:r.onShown}),0<r.timeOut&&(o=setTimeout(d,r.timeOut),h.maxHideTime=parseFloat(r.timeOut),h.hideEta=(new Date).getTime()+h.maxHideTime,r.progressBar&&(h.intervalId=setInterval(g,10))),r.closeOnHover&&a.hover(f,p),!r.onclick&&r.tapToDismiss&&a.click(d),r.closeButton&&l&&l.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),r.onCloseClick&&r.onCloseClick(t),d(!0)}),r.onclick&&a.click(function(t){r.onclick(t),d()}),x(c),r.debug&&console&&console.log(c),a}function u(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(t){var e=t&&!1!==r.closeMethod?r.closeMethod:r.hideMethod,i=t&&!1!==r.closeDuration?r.closeDuration:r.hideDuration,n=t&&!1!==r.closeEasing?r.closeEasing:r.hideEasing;if(!S(":focus",a).length||t)return clearTimeout(h.intervalId),a[e]({duration:i,easing:n,complete:function(){w(a),clearTimeout(o),r.onHidden&&"hidden"!==c.state&&r.onHidden(),c.state="hidden",c.endTime=new Date,x(c)}})}function p(){(0<r.timeOut||0<r.extendedTimeOut)&&(o=setTimeout(d,r.extendedTimeOut),h.maxHideTime=parseFloat(r.extendedTimeOut),h.hideEta=(new Date).getTime()+h.maxHideTime)}function f(){clearTimeout(o),h.hideEta=0,a.stop(!0,!0)[r.showMethod]({duration:r.showDuration,easing:r.showEasing})}function g(){var t=(h.hideEta-(new Date).getTime())/h.maxHideTime*100;s.width(t+"%")}}function _(){return S.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},t.options)}function w(t){m||(m=b()),t.is(":visible")||(t.remove(),t=null,0===m.children().length&&(m.remove(),v=void 0))}}()}),function(t,i){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(t,e){return e.fn||(e.fn={}),i(t,e)});else if("object"==typeof module&&module.exports){var e="undefined"!=typeof window?window.jQuery:void 0;e||(e=require("jquery")).fn||(e.fn={});var n="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment");module.exports=i(n,e)}else t.daterangepicker=i(t.moment,t.jQuery)}(this,function($,H){var n=function(t,e,i){if(this.parentEl="body",this.element=H(t),this.startDate=$().startOf("day"),this.endDate=$().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:$.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:$.weekdaysMin(),monthNames:$.monthsShort(),firstDay:$.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof e&&null!==e||(e={}),"string"==typeof(e=H.extend(this.element.data(),e)).template||e.template instanceof H||(e.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=e.parentEl&&H(e.parentEl).length?H(e.parentEl):H(this.parentEl),this.container=H(e.template).appendTo(this.parentEl),"object"==typeof e.locale&&("string"==typeof e.locale.direction&&(this.locale.direction=e.locale.direction),"string"==typeof e.locale.format&&(this.locale.format=e.locale.format),"string"==typeof e.locale.separator&&(this.locale.separator=e.locale.separator),"object"==typeof e.locale.daysOfWeek&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"==typeof e.locale.monthNames&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel)){(u=document.createElement("textarea")).innerHTML=e.locale.customRangeLabel;var n=u.value;this.locale.customRangeLabel=n}if(this.container.addClass(this.locale.direction),"string"==typeof e.startDate&&(this.startDate=$(e.startDate,this.locale.format)),"string"==typeof e.endDate&&(this.endDate=$(e.endDate,this.locale.format)),"string"==typeof e.minDate&&(this.minDate=$(e.minDate,this.locale.format)),"string"==typeof e.maxDate&&(this.maxDate=$(e.maxDate,this.locale.format)),"object"==typeof e.startDate&&(this.startDate=$(e.startDate)),"object"==typeof e.endDate&&(this.endDate=$(e.endDate)),"object"==typeof e.minDate&&(this.minDate=$(e.minDate)),"object"==typeof e.maxDate&&(this.maxDate=$(e.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof e.applyClass&&(this.applyClass=e.applyClass),"string"==typeof e.cancelClass&&(this.cancelClass=e.cancelClass),"object"==typeof e.dateLimit&&(this.dateLimit=e.dateLimit),"string"==typeof e.opens&&(this.opens=e.opens),"string"==typeof e.drops&&(this.drops=e.drops),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"boolean"==typeof e.showISOWeekNumbers&&(this.showISOWeekNumbers=e.showISOWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"object"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses.join(" ")),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"boolean"==typeof e.showCustomRangeLabel&&(this.showCustomRangeLabel=e.showCustomRangeLabel),"boolean"==typeof e.singleDatePicker&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof e.timePicker&&(this.timePicker=e.timePicker),"boolean"==typeof e.timePickerSeconds&&(this.timePickerSeconds=e.timePickerSeconds),"number"==typeof e.timePickerIncrement&&(this.timePickerIncrement=e.timePickerIncrement),"boolean"==typeof e.timePicker24Hour&&(this.timePicker24Hour=e.timePicker24Hour),"boolean"==typeof e.autoApply&&(this.autoApply=e.autoApply),"boolean"==typeof e.autoUpdateInput&&(this.autoUpdateInput=e.autoUpdateInput),"boolean"==typeof e.linkedCalendars&&(this.linkedCalendars=e.linkedCalendars),"function"==typeof e.isInvalidDate&&(this.isInvalidDate=e.isInvalidDate),"function"==typeof e.isCustomDate&&(this.isCustomDate=e.isCustomDate),"boolean"==typeof e.alwaysShowCalendars&&(this.alwaysShowCalendars=e.alwaysShowCalendars),0!=this.locale.firstDay)for(var r=this.locale.firstDay;0<r;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;var o,a,s;if(void 0===e.startDate&&void 0===e.endDate&&H(this.element).is("input[type=text]")){var l=H(this.element).val(),h=l.split(this.locale.separator);o=a=null,2==h.length?(o=$(h[0],this.locale.format),a=$(h[1],this.locale.format)):this.singleDatePicker&&""!==l&&(o=$(l,this.locale.format),a=$(l,this.locale.format)),null!==o&&null!==a&&(this.setStartDate(o),this.setEndDate(a))}if("object"==typeof e.ranges){for(s in e.ranges){o="string"==typeof e.ranges[s][0]?$(e.ranges[s][0],this.locale.format):$(e.ranges[s][0]),a="string"==typeof e.ranges[s][1]?$(e.ranges[s][1],this.locale.format):$(e.ranges[s][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var c=this.maxDate;if(this.dateLimit&&c&&o.clone().add(this.dateLimit).isAfter(c)&&(c=o.clone().add(this.dateLimit)),c&&a.isAfter(c)&&(a=c.clone()),!(this.minDate&&a.isBefore(this.minDate,this.timepicker?"minute":"day")||c&&o.isAfter(c,this.timepicker?"minute":"day"))){var u;(u=document.createElement("textarea")).innerHTML=s;n=u.value;this.ranges[n]=[o,a]}}var d="<ul>";for(s in this.ranges)d+='<li data-range-key="'+s+'">'+s+"</li>";this.showCustomRangeLabel&&(d+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),d+="</ul>",this.container.find(".ranges").prepend(d)}"function"==typeof i&&(this.callback=i),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof e.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),(void 0===e.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),void 0!==e.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",H.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",H.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",H.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",H.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",H.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",H.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",H.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",H.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",H.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",H.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",H.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",H.proxy(this.formInputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_input input",H.proxy(this.formInputsKeydown,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",H.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",H.proxy(this.clickCancel,this)).on("click.daterangepicker","li",H.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",H.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",H.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":H.proxy(this.show,this),"focus.daterangepicker":H.proxy(this.show,this),"keyup.daterangepicker":H.proxy(this.elementChanged,this),"keydown.daterangepicker":H.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",H.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",H.proxy(this.toggle,this))),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return n.prototype={constructor:n,setStartDate:function(t){"string"==typeof t&&(this.startDate=$(t,this.locale.format)),"object"==typeof t&&(this.startDate=$(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=$(t,this.locale.format)),"object"==typeof t&&(this.endDate=$(t)),this.timePicker||(this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var t,e,i,n;if(this.endDate){if(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),i=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(n=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===n&&12===t&&(t=0)}else if(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),i=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(n=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===n&&12===t&&(t=0);this.leftCalendar.month.hour(t).minute(e).second(i),this.rightCalendar.month.hour(t).minute(e).second(i)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(t){var e,i=(e="left"==t?this.leftCalendar:this.rightCalendar).month.month(),n=e.month.year(),r=e.month.hour(),o=e.month.minute(),a=e.month.second(),s=$([n,i]).daysInMonth(),l=$([n,i,1]),h=$([n,i,s]),c=$(l).subtract(1,"month").month(),u=$(l).subtract(1,"month").year(),d=$([u,c]).daysInMonth(),p=l.day();(e=[]).firstDay=l,e.lastDay=h;for(var f=0;f<6;f++)e[f]=[];var g=d-p+this.locale.firstDay+1;d<g&&(g-=7),p==this.locale.firstDay&&(g=d-6);for(var m=$([u,c,g,12,o,a]),v=(f=0,0),y=0;f<42;f++,v++,m=$(m).add(24,"hour"))0<f&&v%7==0&&(v=0,y++),e[y][v]=m.clone().hour(r).minute(o).second(a),m.hour(12),this.minDate&&e[y][v].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&e[y][v].isBefore(this.minDate)&&"left"==t&&(e[y][v]=this.minDate.clone()),this.maxDate&&e[y][v].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&e[y][v].isAfter(this.maxDate)&&"right"==t&&(e[y][v]=this.maxDate.clone());"left"==t?this.leftCalendar.calendar=e:this.rightCalendar.calendar=e;var b="left"==t?this.minDate:this.startDate,x=this.maxDate,_=("left"==t?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),w='<table class="table-condensed">';w+="<thead>",w+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(w+="<th></th>"),b&&!b.isBefore(e.firstDay)||this.linkedCalendars&&"left"!=t?w+="<th></th>":w+='<th class="prev available"><i class="fa fa-'+_.left+" glyphicon glyphicon-"+_.left+'"></i></th>';var S=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");if(this.showDropdowns){for(var C=e[1][1].month(),k=e[1][1].year(),T=x&&x.year()||k+5,D=b&&b.year()||k-50,A=k==D,M=k==T,E='<select class="monthselect">',P=0;P<12;P++)(!A||P>=b.month())&&(!M||P<=x.month())?E+="<option value='"+P+"'"+(P===C?" selected='selected'":"")+">"+this.locale.monthNames[P]+"</option>":E+="<option value='"+P+"'"+(P===C?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[P]+"</option>";E+="</select>";for(var L='<select class="yearselect">',I=D;I<=T;I++)L+='<option value="'+I+'"'+(I===k?' selected="selected"':"")+">"+I+"</option>";S=E+(L+="</select>")}if(w+='<th colspan="5" class="month">'+S+"</th>",x&&!x.isAfter(e.lastDay)||this.linkedCalendars&&"right"!=t&&!this.singleDatePicker?w+="<th></th>":w+='<th class="next available"><i class="fa fa-'+_.right+" glyphicon glyphicon-"+_.right+'"></i></th>',w+="</tr>",w+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(w+='<th class="week">'+this.locale.weekLabel+"</th>"),H.each(this.locale.daysOfWeek,function(t,e){w+="<th>"+e+"</th>"}),w+="</tr>",w+="</thead>",w+="<tbody>",null==this.endDate&&this.dateLimit){var O=this.startDate.clone().add(this.dateLimit).endOf("day");x&&!O.isBefore(x)||(x=O)}for(y=0;y<6;y++){w+="<tr>",this.showWeekNumbers?w+='<td class="week">'+e[y][0].week()+"</td>":this.showISOWeekNumbers&&(w+='<td class="week">'+e[y][0].isoWeek()+"</td>");for(v=0;v<7;v++){var R=[];e[y][v].isSame(new Date,"day")&&R.push("today"),5<e[y][v].isoWeekday()&&R.push("weekend"),e[y][v].month()!=e[1][1].month()&&R.push("off"),this.minDate&&e[y][v].isBefore(this.minDate,"day")&&R.push("off","disabled"),x&&e[y][v].isAfter(x,"day")&&R.push("off","disabled"),this.isInvalidDate(e[y][v])&&R.push("off","disabled"),e[y][v].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&R.push("active","start-date"),null!=this.endDate&&e[y][v].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&R.push("active","end-date"),null!=this.endDate&&e[y][v]>this.startDate&&e[y][v]<this.endDate&&R.push("in-range");var F=this.isCustomDate(e[y][v]);!1!==F&&("string"==typeof F?R.push(F):Array.prototype.push.apply(R,F));var N="",z=!1;for(f=0;f<R.length;f++)N+=R[f]+" ","disabled"==R[f]&&(z=!0);z||(N+="available"),w+='<td class="'+N.replace(/^\s+|\s+$/g,"")+'" data-title="r'+y+"c"+v+'">'+e[y][v].date()+"</td>"}w+="</tr>"}w+="</tbody>",w+="</table>",this.container.find(".calendar."+t+" .calendar-table").html(w)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,i,n,r=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(r=this.startDate.clone().add(this.dateLimit)),"left"==t)i=this.startDate.clone(),n=this.minDate;else if("right"==t){i=this.endDate.clone(),n=this.startDate;var o=this.container.find(".calendar.right .calendar-time div");if(""!=o.html()&&(i.hour(o.find(".hourselect option:selected").val()||i.hour()),i.minute(o.find(".minuteselect option:selected").val()||i.minute()),i.second(o.find(".secondselect option:selected").val()||i.second()),!this.timePicker24Hour)){var a=o.find(".ampmselect option:selected").val();"PM"===a&&i.hour()<12&&i.hour(i.hour()+12),"AM"===a&&12===i.hour()&&i.hour(0)}i.isBefore(this.startDate)&&(i=this.startDate.clone()),r&&i.isAfter(r)&&(i=r.clone())}e='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,h=s;h<=l;h++){var c=h;this.timePicker24Hour||(c=12<=i.hour()?12==h?12:h+12:12==h?0:h);var u=i.clone().hour(c),d=!1;n&&u.minute(59).isBefore(n)&&(d=!0),r&&u.minute(0).isAfter(r)&&(d=!0),c!=i.hour()||d?e+=d?'<option value="'+h+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+h+'">'+h+"</option>":e+='<option value="'+h+'" selected="selected">'+h+"</option>"}e+="</select> ",e+=': <select class="minuteselect">';for(h=0;h<60;h+=this.timePickerIncrement){var p=h<10?"0"+h:h;u=i.clone().minute(h),d=!1;n&&u.second(59).isBefore(n)&&(d=!0),r&&u.second(0).isAfter(r)&&(d=!0),i.minute()!=h||d?e+=d?'<option value="'+h+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+h+'">'+p+"</option>":e+='<option value="'+h+'" selected="selected">'+p+"</option>"}if(e+="</select> ",this.timePickerSeconds){e+=': <select class="secondselect">';for(h=0;h<60;h++){p=h<10?"0"+h:h,u=i.clone().second(h),d=!1;n&&u.isBefore(n)&&(d=!0),r&&u.isAfter(r)&&(d=!0),i.second()!=h||d?e+=d?'<option value="'+h+'" disabled="disabled" class="disabled">'+p+"</option>":'<option value="'+h+'">'+p+"</option>":e+='<option value="'+h+'" selected="selected">'+p+"</option>"}e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var f="",g="";n&&i.clone().hour(12).minute(0).second(0).isBefore(n)&&(f=' disabled="disabled" class="disabled"'),r&&i.clone().hour(0).minute(0).second(0).isAfter(r)&&(g=' disabled="disabled" class="disabled"'),12<=i.hour()?e+='<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":e+='<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+g+">PM</option>",e+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(e)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var t,e={top:0,left:0},i=H(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>H(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.isShowing||(this._outsideClickProxy=H.proxy(function(t){this.outsideClick(t)},this),H(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),H(window).on("resize.daterangepicker",H.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),H(document).off(".daterangepicker"),H(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var e=H(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var e=t.target.getAttribute("data-range-key");if(e==this.locale.customRangeLabel)this.updateView();else{var i=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(i[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(i[1].format(this.locale.format))}}},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if((this.chosenLabel=e)==this.locale.customRangeLabel)this.showCalendars();else{var i=this.ranges[e];this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){H(t.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){H(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(H(t.target).hasClass("available")){var e=H(t.target).attr("data-title"),i=e.substr(1,1),n=e.substr(3,1),a=H(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[i][n]:this.rightCalendar.calendar[i][n];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(a.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(a.format(this.locale.format));var s=this.leftCalendar,l=this.rightCalendar,h=this.startDate;this.endDate||this.container.find(".calendar tbody td").each(function(t,e){if(!H(e).hasClass("week")){var i=H(e).attr("data-title"),n=i.substr(1,1),r=i.substr(3,1),o=H(e).parents(".calendar").hasClass("left")?s.calendar[n][r]:l.calendar[n][r];o.isAfter(h)&&o.isBefore(a)||o.isSame(a,"day")?H(e).addClass("in-range"):H(e).removeClass("in-range")}})}},clickDate:function(t){if(H(t.target).hasClass("available")){var e=H(t.target).attr("data-title"),i=e.substr(1,1),n=e.substr(3,1),r=H(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[i][n]:this.rightCalendar.calendar[i][n];if(this.endDate||r.isBefore(this.startDate,"day")){if(this.timePicker){var o=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(l=this.container.find(".left .ampmselect").val())&&o<12&&(o+=12),"AM"===l&&12===o&&(o=0);var a=parseInt(this.container.find(".left .minuteselect").val(),10),s=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;r=r.clone().hour(o).minute(a).second(s)}this.endDate=null,this.setStartDate(r.clone())}else if(!this.endDate&&r.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var l;o=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(l=this.container.find(".right .ampmselect").val())&&o<12&&(o+=12),"AM"===l&&12===o&&(o=0);a=parseInt(this.container.find(".right .minuteselect").val(),10),s=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;r=r.clone().hour(o).minute(a).second(s)}this.setEndDate(r.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var i in this.ranges){if(this.timePicker){var n=this.timePickerSeconds?"YYYY-MM-DD hh:mm:ss":"YYYY-MM-DD hh:mm";if(this.startDate.format(n)==this.ranges[i][0].format(n)&&this.endDate.format(n)==this.ranges[i][1].format(n)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[i][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[i][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html():this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var e=H(t.target).closest(".calendar").hasClass("left"),i=e?"left":"right",n=this.container.find(".calendar."+i),r=parseInt(n.find(".monthselect").val(),10),o=n.find(".yearselect").val();e||(o<this.startDate.year()||o==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),o=this.startDate.year()),this.minDate&&(o<this.minDate.year()||o==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),o=this.minDate.year()),this.maxDate&&(o>this.maxDate.year()||o==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),o=this.maxDate.year()),e?(this.leftCalendar.month.month(r).year(o),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(o),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var e=H(t.target).closest(".calendar"),i=e.hasClass("left"),n=parseInt(e.find(".hourselect").val(),10),r=parseInt(e.find(".minuteselect").val(),10),o=this.timePickerSeconds?parseInt(e.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var a=e.find(".ampmselect").val();"PM"===a&&n<12&&(n+=12),"AM"===a&&12===n&&(n=0)}if(i){var s=this.startDate.clone();s.hour(n),s.minute(r),s.second(o),this.setStartDate(s),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==s.format("YYYY-MM-DD")&&this.endDate.isBefore(s)&&this.setEndDate(s.clone())}else if(this.endDate){var l=this.endDate.clone();l.hour(n),l.minute(r),l.second(o),this.setEndDate(l)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(t){var e=H(t.target).closest(".calendar").hasClass("right"),i=$(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),n=$(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);i.isValid()&&n.isValid()&&(e&&n.isBefore(i)&&(i=n.clone()),this.setStartDate(i),this.setEndDate(n),e?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(t){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),H(t.target).addClass("active"),H(t.target).closest(".calendar").hasClass("right")&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(t){if(!this.endDate){var e=this.container.find('input[name="daterangepicker_end"]').val(),i=$(e,this.locale.format);i.isValid()&&(this.setEndDate(i),this.updateView())}},formInputsKeydown:function(t){13===t.keyCode&&(t.preventDefault(),this.formInputsChanged(t))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.locale.separator),e=null,i=null;2===t.length&&(e=$(t[0],this.locale.format),i=$(t[1],this.locale.format)),(this.singleDatePicker||null===e||null===i)&&(i=e=$(this.element.val(),this.locale.format)),e.isValid()&&i.isValid()&&(this.setStartDate(e),this.setEndDate(i),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},H.fn.daterangepicker=function(t,e){var i=H.extend(!0,{},H.fn.daterangepicker.defaultOptions,t);return this.each(function(){var t=H(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new n(t,i,e))}),this},n}),function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):e(t.jQuery)}(this,function(h){"use strict";var o=function(t,e){this.$element=h(t),this.options=h.extend({},h.fn.typeahead.defaults,e),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect="boolean"!=typeof this.options.autoSelect||this.options.autoSelect,this.highlighter=this.options.highlighter||this.highlighter,this.render=this.options.render||this.render,this.updater=this.options.updater||this.updater,this.displayText=this.options.displayText||this.displayText,this.source=this.options.source,this.delay=this.options.delay,this.$menu=h(this.options.menu),this.$appendTo=this.options.appendTo?h(this.options.appendTo):null,this.fitToElement="boolean"==typeof this.options.fitToElement&&this.options.fitToElement,this.shown=!1,this.listen(),this.showHintOnFocus=("boolean"==typeof this.options.showHintOnFocus||"all"===this.options.showHintOnFocus)&&this.options.showHintOnFocus,this.afterSelect=this.options.afterSelect,this.addItem=!1,this.value=this.$element.val()||this.$element.text()};o.prototype={constructor:o,select:function(){var t=this.$menu.find(".active").data("value");if(this.$element.data("active",t),this.autoSelect||t){var e=this.updater(t);e||(e=""),this.$element.val(this.displayText(e)||e).text(this.displayText(e)||e).change(),this.afterSelect(e)}return this.hide()},updater:function(t){return t},setSource:function(t){this.source=t},show:function(){var t,e=h.extend({},this.$element.position(),{height:this.$element[0].offsetHeight}),i="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight;if(this.shown?t=this.$menu:this.$appendTo?(t=this.$menu.appendTo(this.$appendTo),this.hasSameParent=this.$appendTo.is(this.$element.parent())):(t=this.$menu.insertAfter(this.$element),this.hasSameParent=!0),!this.hasSameParent){t.css("position","fixed");var n=this.$element.offset();e.top=n.top,e.left=n.left}var r=h(t).parent().hasClass("dropup")?"auto":e.top+e.height+i,o=h(t).hasClass("dropdown-menu-right")?"auto":e.left;return t.css({top:r,left:o}).show(),!0===this.options.fitToElement&&t.css("width",this.$element.outerWidth()+"px"),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){if(this.query=null!=t?t:this.$element.val()||this.$element.text()||"",this.query.length<this.options.minLength&&!this.options.showHintOnFocus)return this.shown?this.hide():this;var e=h.proxy(function(){h.isFunction(this.source)?this.source(this.query,h.proxy(this.process,this)):this.source&&this.process(this.source)},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(e,this.delay)},process:function(t){var e=this;return t=h.grep(t,function(t){return e.matcher(t)}),(t=this.sorter(t)).length||this.options.addItem?(0<t.length?this.$element.data("active",t[0]):this.$element.data("active",null),this.options.addItem&&t.push(this.options.addItem),"all"==this.options.items?this.render(t).show():this.render(t.slice(0,this.options.items)).show()):this.shown?this.hide():this},matcher:function(t){return~this.displayText(t).toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],n=[],r=[];e=t.shift();){var o=this.displayText(e);o.toLowerCase().indexOf(this.query.toLowerCase())?~o.indexOf(this.query)?n.push(e):r.push(e):i.push(e)}return i.concat(n,r)},highlighter:function(t){var e,i,n,r,o=h("<div></div>"),a=this.query,s=t.toLowerCase().indexOf(a.toLowerCase()),l=a.length;if(0===l)return o.text(t).html();for(;-1<s;)e=t.substr(0,s),i=t.substr(s,l),n=t.substr(s+l),r=h("<strong></strong>").text(i),o.append(document.createTextNode(e)).append(r),s=(t=n).toLowerCase().indexOf(a.toLowerCase());return o.append(document.createTextNode(t)).html()},render:function(i){var n=this,r=this,o=!1,a=[],s=n.options.separator;return h.each(i,function(t,e){0<t&&e[s]!==i[t-1][s]&&a.push({__type:"divider"}),!e[s]||0!==t&&e[s]===i[t-1][s]||a.push({__type:"category",name:e[s]}),a.push(e)}),i=h(a).map(function(t,e){if("category"==(e.__type||!1))return h(n.options.headerHtml).text(e.name)[0];if("divider"==(e.__type||!1))return h(n.options.headerDivider)[0];var i=r.displayText(e);return(t=h(n.options.item).data("value",e)).find("a").html(n.highlighter(i,e)),i==r.$element.val()&&(t.addClass("active"),r.$element.data("active",e),o=!0),t[0]}),this.autoSelect&&!o&&(i.filter(":not(.dropdown-header)").first().addClass("active"),this.$element.data("active",i.first().data("value"))),this.$menu.html(i),this},displayText:function(t){return void 0!==t&&void 0!==t.name&&t.name||t},next:function(t){var e=this.$menu.find(".active").removeClass("active").next();e.length||(e=h(this.$menu.find("li")[0])),e.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active").prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",h.proxy(this.focus,this)).on("blur",h.proxy(this.blur,this)).on("keypress",h.proxy(this.keypress,this)).on("input",h.proxy(this.input,this)).on("keyup",h.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",h.proxy(this.keydown,this)),this.$menu.on("click",h.proxy(this.click,this)).on("mouseenter","li",h.proxy(this.mouseenter,this)).on("mouseleave","li",h.proxy(this.mouseleave,this)).on("mousedown",h.proxy(this.mousedown,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.data("active",null),this.$element.off("focus").off("blur").off("keypress").off("input").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove(),this.destroyed=!0},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown)switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:if(t.shiftKey)return;t.preventDefault(),this.prev();break;case 40:if(t.shiftKey)return;t.preventDefault(),this.next()}},keydown:function(t){this.suppressKeyPressRepeat=~h.inArray(t.keyCode,[40,38,9,13,27]),this.shown||40!=t.keyCode?this.move(t):this.lookup()},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},input:function(t){var e=this.$element.val()||this.$element.text();this.value!==e&&(this.value=e,this.lookup())},keyup:function(t){if(!this.destroyed)switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide()}},focus:function(t){this.focused||(this.focused=!0,this.options.showHintOnFocus&&!0!==this.skipShowHintOnFocus&&("all"===this.options.showHintOnFocus?this.lookup(""):this.lookup())),this.skipShowHintOnFocus&&(this.skipShowHintOnFocus=!1)},blur:function(t){this.mousedover||this.mouseddown||!this.shown?this.mouseddown&&(this.skipShowHintOnFocus=!0,this.$element.focus(),this.mouseddown=!1):(this.hide(),this.focused=!1)},click:function(t){t.preventDefault(),this.skipShowHintOnFocus=!0,this.select(),this.$element.focus(),this.hide()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),h(t.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()},mousedown:function(t){this.mouseddown=!0,this.$menu.one("mouseup",function(t){this.mouseddown=!1}.bind(this))}};var t=h.fn.typeahead;h.fn.typeahead=function(n){var r=arguments;return"string"==typeof n&&"getActive"==n?this.data("active"):this.each(function(){var t=h(this),e=t.data("typeahead"),i="object"==typeof n&&n;e||t.data("typeahead",e=new o(this,i)),"string"==typeof n&&e[n]&&(1<r.length?e[n].apply(e,Array.prototype.slice.call(r,1)):e[n]())})},h.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu" role="listbox"></ul>',item:'<li><a class="dropdown-item" href="#" role="option"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:h.noop,addItem:!1,delay:0,separator:"category",headerHtml:'<li class="dropdown-header"></li>',headerDivider:'<li class="divider" role="separator"></li>'},h.fn.typeahead.Constructor=o,h.fn.typeahead.noConflict=function(){return h.fn.typeahead=t,this},h(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var e=h(this);e.data("typeahead")||e.typeahead(e.data())})}),function(v){"use strict";var o={tagClass:function(t){return"label label-info"},focusClass:"focus",itemValue:function(t){return t?t.toString():t},itemText:function(t){return this.itemValue(t)},itemTitle:function(t){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(t,e){e.hide().fadeIn()},trimValue:!1,allowDuplicates:!1,triggerChange:!0};function a(t,e){this.isInit=!0,this.itemsArray=[],this.$element=v(t),this.$element.hide(),this.isSelect="SELECT"===t.tagName,this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=e&&e.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=v('<div class="bootstrap-tagsinput"></div>'),this.$input=v('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(e),this.isInit=!1}function s(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(t){return t[i]}}}function h(t,e){if("function"!=typeof t[e]){var i=t[e];t[e]=function(){return i}}}a.prototype={constructor:a,add:function(t,e,i){var n=this;if(!(n.options.maxTags&&n.itemsArray.length>=n.options.maxTags)&&(!1===t||t)){if("string"==typeof t&&n.options.trimValue&&(t=v.trim(t)),"object"==typeof t&&!n.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(n.isSelect&&!n.multiple&&0<n.itemsArray.length&&n.remove(n.itemsArray[0]),"string"==typeof t&&"INPUT"===this.$element[0].tagName){var r=n.options.delimiterRegex?n.options.delimiterRegex:n.options.delimiter,o=t.split(r);if(1<o.length){for(var a=0;a<o.length;a++)this.add(o[a],!0);return void(e||n.pushVal(n.options.triggerChange))}}var s=n.options.itemValue(t),l=n.options.itemText(t),h=n.options.tagClass(t),c=n.options.itemTitle(t),u=v.grep(n.itemsArray,function(t){return n.options.itemValue(t)===s})[0];if(!u||n.options.allowDuplicates){if(!(n.items().toString().length+t.length+1>n.options.maxInputLength)){var d=v.Event("beforeItemAdd",{item:t,cancel:!1,options:i});if(n.$element.trigger(d),!d.cancel){n.itemsArray.push(t);var p=v('<span class="tag '+y(h)+(null!==c?'" title="'+c:"")+'">'+y(l)+'<span data-role="remove"></span></span>');p.data("item",t),n.findInputWrapper().before(p),p.after(" ");var f=v('option[value="'+encodeURIComponent(s)+'"]',n.$element).length||v('option[value="'+y(s)+'"]',n.$element).length;if(n.isSelect&&!f){var g=v("<option selected>"+y(l)+"</option>");g.data("item",t),g.attr("value",s),n.$element.append(g)}e||n.pushVal(n.options.triggerChange),n.options.maxTags!==n.itemsArray.length&&n.items().toString().length!==n.options.maxInputLength||n.$container.addClass("bootstrap-tagsinput-max"),v(".typeahead, .twitter-typeahead",n.$container).length&&n.$input.typeahead("val",""),this.isInit?n.$element.trigger(v.Event("itemAddedOnInit",{item:t,options:i})):n.$element.trigger(v.Event("itemAdded",{item:t,options:i}))}}}else if(n.options.onTagExists){var m=v(".tag",n.$container).filter(function(){return v(this).data("item")===u});n.options.onTagExists(t,m)}}}},remove:function(e,t,i){var n=this;if(n.objectItems&&(e=(e="object"==typeof e?v.grep(n.itemsArray,function(t){return n.options.itemValue(t)==n.options.itemValue(e)}):v.grep(n.itemsArray,function(t){return n.options.itemValue(t)==e}))[e.length-1]),e){var r=v.Event("beforeItemRemove",{item:e,cancel:!1,options:i});if(n.$element.trigger(r),r.cancel)return;v(".tag",n.$container).filter(function(){return v(this).data("item")===e}).remove(),v("option",n.$element).filter(function(){return v(this).data("item")===e}).remove(),-1!==v.inArray(e,n.itemsArray)&&n.itemsArray.splice(v.inArray(e,n.itemsArray),1)}t||n.pushVal(n.options.triggerChange),n.options.maxTags>n.itemsArray.length&&n.$container.removeClass("bootstrap-tagsinput-max"),n.$element.trigger(v.Event("itemRemoved",{item:e,options:i}))},removeAll:function(){for(v(".tag",this.$container).remove(),v("option",this.$element).remove();0<this.itemsArray.length;)this.itemsArray.pop();this.pushVal(this.options.triggerChange)},refresh:function(){var o=this;v(".tag",o.$container).each(function(){var t=v(this),e=t.data("item"),i=o.options.itemValue(e),n=o.options.itemText(e),r=o.options.tagClass(e);(t.attr("class",null),t.addClass("tag "+y(r)),t.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=y(n),o.isSelect)&&v("option",o.$element).filter(function(){return v(this).data("item")===e}).attr("value",i)})},items:function(){return this.itemsArray},pushVal:function(){var e=this,t=v.map(e.items(),function(t){return e.options.itemValue(t).toString()});e.$element.val(t,!0),e.options.triggerChange&&e.$element.trigger("change")},build:function(t){var l=this;if(l.options=v.extend({},o,t),l.objectItems&&(l.options.freeInput=!1),s(l.options,"itemValue"),s(l.options,"itemText"),h(l.options,"tagClass"),l.options.typeahead){var n=l.options.typeahead||{};h(n,"source"),l.$input.typeahead(v.extend({},n,{source:function(t,r){function e(t){for(var e=[],i=0;i<t.length;i++){var n=l.options.itemText(t[i]);o[n]=t[i],e.push(n)}r(e)}this.map={};var o=this.map,i=n.source(t);v.isFunction(i.success)?i.success(e):v.isFunction(i.then)?i.then(e):v.when(i).then(e)},updater:function(t){return l.add(this.map[t]),this.map[t]},matcher:function(t){return-1!==t.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(t){return t.sort()},highlighter:function(t){var e=new RegExp("("+this.query+")","gi");return t.replace(e,"<strong>$1</strong>")}}))}if(l.options.typeaheadjs){var e=null,i={},r=l.options.typeaheadjs;v.isArray(r)?(e=r[0],i=r[1]):i=r,l.$input.typeahead(e,i).on("typeahead:selected",v.proxy(function(t,e){i.valueKey?l.add(e[i.valueKey]):l.add(e),l.$input.typeahead("val","")},l))}l.$container.on("click",v.proxy(function(t){l.$element.attr("disabled")||l.$input.removeAttr("disabled"),l.$input.focus()},l)),l.options.addOnBlur&&l.options.freeInput&&l.$input.on("focusout",v.proxy(function(t){0===v(".typeahead, .twitter-typeahead",l.$container).length&&(l.add(l.$input.val()),l.$input.val(""))},l)),l.$container.on({focusin:function(){l.$container.addClass(l.options.focusClass)},focusout:function(){l.$container.removeClass(l.options.focusClass)}}),l.$container.on("keydown","input",v.proxy(function(t){var e=v(t.target),i=l.findInputWrapper();if(l.$element.attr("disabled"))l.$input.attr("disabled","disabled");else{switch(t.which){case 8:if(0===c(e[0])){var n=i.prev();n.length&&l.remove(n.data("item"))}break;case 46:if(0===c(e[0])){var r=i.next();r.length&&l.remove(r.data("item"))}break;case 37:var o=i.prev();0===e.val().length&&o[0]&&(o.before(i),e.focus());break;case 39:var a=i.next();0===e.val().length&&a[0]&&(a.after(i),e.focus())}var s=e.val().length;Math.ceil(s/5);e.attr("size",Math.max(this.inputSize,e.val().length))}},l)),l.$container.on("keypress","input",v.proxy(function(t){var e=v(t.target);if(l.$element.attr("disabled"))l.$input.attr("disabled","disabled");else{var o,i,a,n=e.val(),r=l.options.maxChars&&n.length>=l.options.maxChars;l.options.freeInput&&(o=t,i=l.options.confirmKeys,a=!1,v.each(i,function(t,e){if("number"==typeof e&&o.which===e)return!(a=!0);if(o.which===e.which){var i=!e.hasOwnProperty("altKey")||o.altKey===e.altKey,n=!e.hasOwnProperty("shiftKey")||o.shiftKey===e.shiftKey,r=!e.hasOwnProperty("ctrlKey")||o.ctrlKey===e.ctrlKey;if(i&&n&&r)return!(a=!0)}}),a||r)&&(0!==n.length&&(l.add(r?n.substr(0,l.options.maxChars):n),e.val("")),!1===l.options.cancelConfirmKeysOnEmpty&&t.preventDefault());var s=e.val().length;Math.ceil(s/5);e.attr("size",Math.max(this.inputSize,e.val().length))}},l)),l.$container.on("click","[data-role=remove]",v.proxy(function(t){l.$element.attr("disabled")||l.remove(v(t.target).closest(".tag").data("item"))},l)),l.options.itemValue===o.itemValue&&("INPUT"===l.$element[0].tagName?l.add(l.$element.val()):v("option",l.$element).each(function(){l.add(v(this).attr("value"),!0)}))},destroy:function(){this.$container.off("keypress","input"),this.$container.off("click","[role=remove]"),this.$container.remove(),this.$element.removeData("tagsinput"),this.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],e=this.$container[0];t&&t.parentNode!==e;)t=t.parentNode;return v(t)}},v.fn.tagsinput=function(i,n,r){var o=[];return this.each(function(){var t=v(this).data("tagsinput");if(t)if(i||n){if(void 0!==t[i]){if(3===t[i].length&&void 0!==r)var e=t[i](n,null,r);else e=t[i](n);void 0!==e&&o.push(e)}}else o.push(t);else t=new a(this,i),v(this).data("tagsinput",t),o.push(t),"SELECT"===this.tagName&&v("option",v(this)).attr("selected","selected"),v(this).val(v(this).val())}),"string"==typeof i?1<o.length?o:o[0]:o},v.fn.tagsinput.Constructor=a;var e=v("<div />");function y(t){return t?e.text(t).html():""}function c(t){var e=0;if(document.selection){t.focus();var i=document.selection.createRange();i.moveStart("character",-t.value.length),e=i.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e}v(function(){v("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),function(o){"use strict";if(!o.fn.tagsinput)throw new Error("bootstrap-tagsinput.js required.");var a=o.fn.tagsinput.Constructor.prototype.build,t=o.fn.tagsinput.Constructor.prototype.destroy;o.fn.tagsinput.Constructor.prototype.build=function(t){var e=this,i=a.call(this,t),n=/<|>/g;function r(t){return Math.ceil(e.$inpWidth.html((t||"").replace(n,"#")).outerWidth()+12)+"px"}return this.$inpWidth=o('<div class="bootstrap-tagsinput-input" style="position:absolute;z-index:-101;top:-9999px;opacity:0;white-space:nowrap;"></div>'),o('<div style="position:absolute;width:0;height:0;z-index:-100;opacity:0;overflow:hidden;"></div>').append(this.$inpWidth).prependTo(this.$container),this.$input[0].style.width=r(),this.$input.on("keydown keyup focusout",function(){this.style.width=r(this.value)}),this.$input.on("paste",function(){setTimeout(o.proxy(function(){this.style.width=r(this.value)},this),100)}),i},o.fn.tagsinput.Constructor.prototype.destroy=function(){return this.$input.off("keydown keyup focusout paste"),t.call(this)},o(function(){o("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput("destroy"),o("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&void 0!==module.exports?module.exports=t():window.Sortable=t()}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var k,T,D,A,M,E,u,m,v,y,P,L,I,h,n,O,R,c,l,F,t,b={},r=/\s+/g,N=/left|right|inline/,z="Sortable"+(new Date).getTime(),x=window,d=x.document,o=x.parseInt,e=x.jQuery||x.Zepto,i=x.Polymer,a=!1,s=!!("draggable"in d.createElement("div")),p=!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&((t=d.createElement("x")).style.cssText="pointer-events:auto","auto"===t.style.pointerEvents),$=!1,_=Math.abs,f=Math.min,g=[],w=[],H=et(function(t,e,i){if(i&&e.scroll){var n,r,o,a,s,l,h=i[z],c=e.scrollSensitivity,u=e.scrollSpeed,d=t.clientX,p=t.clientY,f=window.innerWidth,g=window.innerHeight;if(v!==i&&(m=e.scroll,v=i,y=e.scrollFn,!0===m)){m=i;do{if(m.offsetWidth<m.scrollWidth||m.offsetHeight<m.scrollHeight)break}while(m=m.parentNode)}m&&(r=(n=m).getBoundingClientRect(),o=(_(r.right-d)<=c)-(_(r.left-d)<=c),a=(_(r.bottom-p)<=c)-(_(r.top-p)<=c)),o||a||(a=(g-p<=c)-(p<=c),((o=(f-d<=c)-(d<=c))||a)&&(n=x)),b.vx===o&&b.vy===a&&b.el===n||(b.el=n,b.vx=o,b.vy=a,clearInterval(b.pid),n&&(b.pid=setInterval(function(){if(l=a?a*u:0,s=o?o*u:0,"function"==typeof y)return y.call(h,s,l,t);n===x?x.scrollTo(x.pageXOffset+s,x.pageYOffset+l):(n.scrollTop+=l,n.scrollLeft+=s)},24)))}},30),S=function(t){function e(n,r){return void 0!==n&&!0!==n||(n=i.name),"function"==typeof n?n:function(t,e){var i=e.options.group.name;return r?n:n&&(n.join?-1<n.indexOf(i):i==n)}}var i={},n=t.group;n&&"object"==typeof n||(n={name:n}),i.name=n.name,i.checkPull=e(n.pull,!0),i.checkPut=e(n.put),i.revertClone=n.revertClone,t.group=i};function V(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=it({},e),t[z]=this;var i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var n in i)!(n in e)&&(e[n]=i[n]);for(var r in S(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&s,C(t,"mousedown",this._onTapStart),C(t,"touchstart",this._onTapStart),C(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(C(t,"dragover",this),C(t,"dragenter",this)),w.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function B(t,e){"clone"!==t.lastPullMode&&(e=!0),A&&A.state!==e&&(U(A,"display",e?"none":""),e||A.state&&(t.options.group.revertClone?(M.insertBefore(A,E),t._animate(k,A)):M.insertBefore(A,k)),A.state=e)}function W(t,e,i){if(t){i=i||d;do{if(">*"===e&&t.parentNode===i||tt(t,e))return t}while(void 0,t=(r=(n=t).host)&&r.nodeType?r:n.parentNode)}var n,r;return null}function C(t,e,i){t.addEventListener(e,i,a)}function j(t,e,i){t.removeEventListener(e,i,a)}function Y(t,e,i){if(t)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(r," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(r," ")}}function U(t,e,i){var n=t&&t.style;if(n){if(void 0===i)return d.defaultView&&d.defaultView.getComputedStyle?i=d.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in n||(e="-webkit-"+e),n[e]=i+("string"==typeof i?"":"px")}}function G(t,e,i){if(t){var n=t.getElementsByTagName(e),r=0,o=n.length;if(i)for(;r<o;r++)i(n[r],r);return n}return[]}function q(t,e,i,n,r,o,a){t=t||e[z];var s=d.createEvent("Event"),l=t.options,h="on"+i.charAt(0).toUpperCase()+i.substr(1);s.initEvent(i,!0,!0),s.to=e,s.from=r||e,s.item=n||e,s.clone=A,s.oldIndex=o,s.newIndex=a,e.dispatchEvent(s),l[h]&&l[h].call(t,s)}function X(t,e,i,n,r,o,a,s){var l,h,c=t[z],u=c.options.onMove;return(l=d.createEvent("Event")).initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=i,l.draggedRect=n,l.related=r||e,l.relatedRect=o||e.getBoundingClientRect(),l.willInsertAfter=s,t.dispatchEvent(l),u&&(h=u.call(c,l,a)),h}function K(t){t.draggable=!1}function Z(){$=!1}function Q(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function J(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!tt(t,e)||i++;return i}function tt(t,e){if(t){var i=(e=e.split(".")).shift().toUpperCase(),n=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==i&&t.nodeName.toUpperCase()!=i||e.length&&((" "+t.className+" ").match(n)||[]).length!=e.length)}return!1}function et(t,e){var i,n;return function(){void 0===i&&(i=arguments,n=this,setTimeout(function(){1===i.length?t.call(n,i[0]):t.apply(n,i),i=void 0},e))}}function it(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function nt(t){return e?e(t).clone(!0)[0]:i&&i.dom?i.dom(t).cloneNode(!0):t.cloneNode(!0)}V.prototype={constructor:V,_onTapStart:function(t){var e,i=this,n=this.el,r=this.options,o=r.preventOnFilter,a=t.type,s=t.touches&&t.touches[0],l=(s||t).target,h=t.target.shadowRoot&&t.path[0]||l,c=r.filter;if(function(t){var e=t.getElementsByTagName("input"),i=e.length;for(;i--;){var n=e[i];n.checked&&g.push(n)}}(n),!k&&!("mousedown"===a&&0!==t.button||r.disabled)&&(l=W(l,r.draggable,n))&&u!==l){if(e=J(l,r.draggable),"function"==typeof c){if(c.call(this,t,l,this))return q(i,h,"filter",l,n,e),void(o&&t.preventDefault())}else if(c&&(c=c.split(",").some(function(t){if(t=W(h,t.trim(),n))return q(i,t,"filter",l,n,e),!0})))return void(o&&t.preventDefault());r.handle&&!W(h,r.handle,n)||this._prepareDragStart(t,s,l,e)}},_prepareDragStart:function(t,e,i,n){var r,o=this,a=o.el,s=o.options,l=a.ownerDocument;i&&!k&&i.parentNode===a&&(c=t,M=a,T=(k=i).parentNode,E=k.nextSibling,u=i,O=s.group,h=n,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,k.style["will-change"]="transform",r=function(){o._disableDelayedDrag(),k.draggable=o.nativeDraggable,Y(k,s.chosenClass,!0),o._triggerDragStart(t,e),q(o,M,"choose",k,M,h)},s.ignore.split(",").forEach(function(t){G(k,t.trim(),K)}),C(l,"mouseup",o._onDrop),C(l,"touchend",o._onDrop),C(l,"touchcancel",o._onDrop),C(l,"pointercancel",o._onDrop),C(l,"selectstart",o),s.delay?(C(l,"mouseup",o._disableDelayedDrag),C(l,"touchend",o._disableDelayedDrag),C(l,"touchcancel",o._disableDelayedDrag),C(l,"mousemove",o._disableDelayedDrag),C(l,"touchmove",o._disableDelayedDrag),C(l,"pointermove",o._disableDelayedDrag),o._dragStartTimer=setTimeout(r,s.delay)):r())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),j(t,"mouseup",this._disableDelayedDrag),j(t,"touchend",this._disableDelayedDrag),j(t,"touchcancel",this._disableDelayedDrag),j(t,"mousemove",this._disableDelayedDrag),j(t,"touchmove",this._disableDelayedDrag),j(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,e){(e=e||("touch"==t.pointerType?t:null))?(c={target:k,clientX:e.clientX,clientY:e.clientY},this._onDragStart(c,"touch")):this.nativeDraggable?(C(k,"dragend",this),C(M,"dragstart",this._onDragStart)):this._onDragStart(c,!0);try{d.selection?setTimeout(function(){d.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){if(M&&k){var t=this.options;Y(k,t.ghostClass,!0),Y(k,t.dragClass,!1),q(V.active=this,M,"start",k,M,h)}else this._nulling()},_emulateDragOver:function(){if(l){if(this._lastX===l.clientX&&this._lastY===l.clientY)return;this._lastX=l.clientX,this._lastY=l.clientY,p||U(D,"display","none");var t=d.elementFromPoint(l.clientX,l.clientY),e=t,i=w.length;if(e)do{if(e[z]){for(;i--;)w[i]({clientX:l.clientX,clientY:l.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);p||U(D,"display","")}},_onTouchMove:function(t){if(c){var e=this.options,i=e.fallbackTolerance,n=e.fallbackOffset,r=t.touches?t.touches[0]:t,o=r.clientX-c.clientX+n.x,a=r.clientY-c.clientY+n.y,s=t.touches?"translate3d("+o+"px,"+a+"px,0)":"translate("+o+"px,"+a+"px)";if(!V.active){if(i&&f(_(r.clientX-this._lastX),_(r.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),F=!0,l=r,U(D,"webkitTransform",s),U(D,"mozTransform",s),U(D,"msTransform",s),U(D,"transform",s),t.preventDefault()}},_appendGhost:function(){if(!D){var t,e=k.getBoundingClientRect(),i=U(k),n=this.options;Y(D=k.cloneNode(!0),n.ghostClass,!1),Y(D,n.fallbackClass,!0),Y(D,n.dragClass,!0),U(D,"top",e.top-o(i.marginTop,10)),U(D,"left",e.left-o(i.marginLeft,10)),U(D,"width",e.width),U(D,"height",e.height),U(D,"opacity","0.8"),U(D,"position","fixed"),U(D,"zIndex","100000"),U(D,"pointerEvents","none"),n.fallbackOnBody&&d.body.appendChild(D)||M.appendChild(D),t=D.getBoundingClientRect(),U(D,"width",2*e.width-t.width),U(D,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var i=t.dataTransfer,n=this.options;this._offUpEvents(),O.checkPull(this,this,k,t)&&((A=nt(k)).draggable=!1,A.style["will-change"]="",U(A,"display","none"),Y(A,this.options.chosenClass,!1),M.insertBefore(A,k),q(this,M,"clone",k)),Y(k,n.dragClass,!0),e?("touch"===e?(C(d,"touchmove",this._onTouchMove),C(d,"touchend",this._onDrop),C(d,"touchcancel",this._onDrop),C(d,"pointermove",this._onTouchMove),C(d,"pointerup",this._onDrop)):(C(d,"mousemove",this._onTouchMove),C(d,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(i&&(i.effectAllowed="move",n.setData&&n.setData.call(this,i,k)),C(d,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(t){var e,i,n,r,o,a,s=this.el,l=this.options,h=l.group,c=V.active,u=O===h,d=!1,p=l.sort;if((void 0!==t.preventDefault&&(t.preventDefault(),!l.dragoverBubble&&t.stopPropagation()),!k.animated)&&(F=!0,c&&!l.disabled&&(u?p||(r=!M.contains(k)):R===this||(c.lastPullMode=O.checkPull(this,c,k,t))&&h.checkPut(this,c,k,t))&&(void 0===t.rootEl||t.rootEl===this.el))){if(H(t,l,this.el),$)return;if(e=W(t.target,l.draggable,s),i=k.getBoundingClientRect(),R!==this&&(R=this,d=!0),r)return B(c,!0),T=M,void(A||E?M.insertBefore(k,A||E):p||M.appendChild(k));if(0===s.children.length||s.children[0]===D||s===t.target&&(o=t,a=s.lastElementChild.getBoundingClientRect(),5<o.clientY-(a.top+a.height)||5<o.clientX-(a.left+a.width))){if(0!==s.children.length&&s.children[0]!==D&&s===t.target&&(e=s.lastElementChild),e){if(e.animated)return;n=e.getBoundingClientRect()}B(c,u),!1!==X(M,s,k,i,e,n,t)&&(k.contains(s)||(s.appendChild(k),T=s),this._animate(i,k),e&&this._animate(n,e))}else if(e&&!e.animated&&e!==k&&void 0!==e.parentNode[z]){P!==e&&(L=U(P=e),I=U(e.parentNode));var f=(n=e.getBoundingClientRect()).right-n.left,g=n.bottom-n.top,m=N.test(L.cssFloat+L.display)||"flex"==I.display&&0===I["flex-direction"].indexOf("row"),v=e.offsetWidth>k.offsetWidth,y=e.offsetHeight>k.offsetHeight,b=.5<(m?(t.clientX-n.left)/f:(t.clientY-n.top)/g),x=e.nextElementSibling,_=!1;if(m){var w=k.offsetTop,S=e.offsetTop;_=w===S?e.previousElementSibling===k&&!v||b&&v:e.previousElementSibling===k||k.previousElementSibling===e?.5<(t.clientY-n.top)/g:w<S}else d||(_=x!==k&&!y||b&&y);var C=X(M,s,k,i,e,n,t,_);!1!==C&&(1!==C&&-1!==C||(_=1===C),$=!0,setTimeout(Z,30),B(c,u),k.contains(s)||(_&&!x?s.appendChild(k):e.parentNode.insertBefore(k,_?x:e)),T=k.parentNode,this._animate(i,k),this._animate(n,e))}}},_animate:function(t,e){var i=this.options.animation;if(i){var n=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),U(e,"transition","none"),U(e,"transform","translate3d("+(t.left-n.left)+"px,"+(t.top-n.top)+"px,0)"),e.offsetWidth,U(e,"transition","all "+i+"ms"),U(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){U(e,"transition",""),U(e,"transform",""),e.animated=!1},i)}},_offUpEvents:function(){var t=this.el.ownerDocument;j(d,"touchmove",this._onTouchMove),j(d,"pointermove",this._onTouchMove),j(t,"mouseup",this._onDrop),j(t,"touchend",this._onDrop),j(t,"pointerup",this._onDrop),j(t,"touchcancel",this._onDrop),j(t,"pointercancel",this._onDrop),j(t,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;clearInterval(this._loopId),clearInterval(b.pid),clearTimeout(this._dragStartTimer),j(d,"mousemove",this._onTouchMove),this.nativeDraggable&&(j(d,"drop",this),j(e,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(F&&(t.preventDefault(),!i.dropBubble&&t.stopPropagation()),D&&D.parentNode&&D.parentNode.removeChild(D),M!==T&&"clone"===V.active.lastPullMode||A&&A.parentNode&&A.parentNode.removeChild(A),k&&(this.nativeDraggable&&j(k,"dragend",this),K(k),k.style["will-change"]="",Y(k,this.options.ghostClass,!1),Y(k,this.options.chosenClass,!1),q(this,M,"unchoose",k,M,h),M!==T?0<=(n=J(k,i.draggable))&&(q(null,T,"add",k,M,h,n),q(this,M,"remove",k,M,h,n),q(null,T,"sort",k,M,h,n),q(this,M,"sort",k,M,h,n)):k.nextSibling!==E&&0<=(n=J(k,i.draggable))&&(q(this,M,"update",k,M,h,n),q(this,M,"sort",k,M,h,n)),V.active&&(null!=n&&-1!==n||(n=h),q(this,M,"end",k,M,h,n),this.save()))),this._nulling()},_nulling:function(){M=k=T=D=E=A=u=m=v=c=l=F=n=P=L=R=O=V.active=null,g.forEach(function(t){t.checked=!0}),g.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":k&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],i=this.el.children,n=0,r=i.length,o=this.options;n<r;n++)W(t=i[n],o.draggable,this.el)&&e.push(t.getAttribute(o.dataIdAttr)||Q(t));return e},sort:function(t){var n={},r=this.el;this.toArray().forEach(function(t,e){var i=r.children[e];W(i,this.options.draggable,r)&&(n[t]=i)},this),t.forEach(function(t){n[t]&&(r.removeChild(n[t]),r.appendChild(n[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return W(t,e||this.options.draggable,this.el)},option:function(t,e){var i=this.options;if(void 0===e)return i[t];i[t]=e,"group"===t&&S(i)},destroy:function(){var t=this.el;t[z]=null,j(t,"mousedown",this._onTapStart),j(t,"touchstart",this._onTapStart),j(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(j(t,"dragover",this),j(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),w.splice(w.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},C(d,"touchmove",function(t){V.active&&t.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){a={capture:!1,passive:!1}}}))}catch(t){}return V.utils={on:C,off:j,css:U,find:G,is:function(t,e){return!!W(t,e,t)},extend:it,throttle:et,closest:W,toggleClass:Y,clone:nt,index:J},V.create=function(t,e){return new V(t,e)},V.version="1.6.0",V});_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var e;try{e=require("jquery")}catch(t){e=null}module.exports=t(e)}else window&&(window.Slider=t(window.jQuery))}(function(t){var e,r="bootstrapSlider";return windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){}),function(t){"use strict";var d=Array.prototype.slice;function e(){}!function(c){if(c){var u="undefined"==typeof console?e:function(t){console.error(t)};c.bridget=function(t,e){var i,l,h;(i=e).prototype.option||(i.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))}),l=t,h=e,c.fn[l]=function(e){if("string"==typeof e){for(var t=d.call(arguments,1),i=0,n=this.length;i<n;i++){var r=this[i],o=c.data(r,l);if(o)if(c.isFunction(o[e])&&"_"!==e.charAt(0)){var a=o[e].apply(o,t);if(void 0!==a&&a!==o)return a}else u("no such method '"+e+"' for "+l+" instance");else u("cannot call methods on "+l+" prior to initialization; attempted to call '"+e+"'")}return this}var s=this.map(function(){var t=c.data(this,l);return t?(t.option(e),t._init()):(t=new h(this,e),c.data(this,l,t)),c(this)});return!s||1<s.length?s:s[0]}},c.bridget}}(t)}(t),function(z){var n=function(t){return"Invalid input value '"+t+"' passed in"},$={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min),i=!0;if(0<this.options.ticks_positions.length){for(var n,r,o,a=0,s=1;s<this.options.ticks_positions.length;s++)if(t<=this.options.ticks_positions[s]){n=this.options.ticks[s-1],o=this.options.ticks_positions[s-1],r=this.options.ticks[s],a=this.options.ticks_positions[s];break}e=n+(t-o)/(a-o)*(r-n),i=!1}var l=(i?this.options.min:0)+Math.round(e/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(0<this.options.ticks_positions.length){for(var e,i,n,r=0,o=0;o<this.options.ticks.length;o++)if(t<=this.options.ticks[o]){e=0<o?this.options.ticks[o-1]:0,n=0<o?this.options.ticks_positions[o-1]:0,i=this.options.ticks[o],r=this.options.ticks_positions[o];break}if(0<o)return n+(t-e)/(i-e)*(r-n)}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),i=Math.log(this.options.max),n=Math.exp(e+(i-e)*t/100);return Math.round(n)===this.options.max?this.options.max:(n=this.options.min+Math.round((n-this.options.min)/this.options.step)*this.options.step)<this.options.min?this.options.min:n>this.options.max?this.options.max:n},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),i=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-i)/(e-i)}}};function i(t,e){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),e=e||{};for(var i=Object.keys(this.defaultOptions),n=0;n<i.length;n++){var r=i[n],o=e[r];o=null!==(o=void 0!==o?o:a(this.element,r))?o:this.defaultOptions[r],this.options||(this.options={}),this.options[r]=o}function a(t,e){var i="data-slider-"+e.replace(/_/g,"-"),n=t.getAttribute(i);try{return JSON.parse(n)}catch(t){return n}}"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var s,l,h,c,u,d=this.element.style.width,p=!1,f=this.element.parentNode;if(this.sliderElem)p=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var g=document.createElement("div");g.className="slider-track",(l=document.createElement("div")).className="slider-track-low",(s=document.createElement("div")).className="slider-selection",(h=document.createElement("div")).className="slider-track-high",(c=document.createElement("div")).className="slider-handle min-slider-handle",c.setAttribute("role","slider"),c.setAttribute("aria-valuemin",this.options.min),c.setAttribute("aria-valuemax",this.options.max),(u=document.createElement("div")).className="slider-handle max-slider-handle",u.setAttribute("role","slider"),u.setAttribute("aria-valuemin",this.options.min),u.setAttribute("aria-valuemax",this.options.max),g.appendChild(l),g.appendChild(s),g.appendChild(h),this.rangeHighlightElements=[];var m=this.options.rangeHighlights;if(Array.isArray(m)&&0<m.length)for(var v=0;v<m.length;v++){var y=document.createElement("div"),b=m[v].class||"";y.className="slider-rangeHighlight slider-selection "+b,this.rangeHighlightElements.push(y),g.appendChild(y)}var x=Array.isArray(this.options.labelledby);if(x&&this.options.labelledby[0]&&c.setAttribute("aria-labelledby",this.options.labelledby[0]),x&&this.options.labelledby[1]&&u.setAttribute("aria-labelledby",this.options.labelledby[1]),!x&&this.options.labelledby&&(c.setAttribute("aria-labelledby",this.options.labelledby),u.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&0<this.options.ticks.length){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",n=0;n<this.options.ticks.length;n++){var _=document.createElement("div");if(_.className="slider-tick",this.options.ticks_tooltip){var w=this._addTickListener(),S=w.addMouseEnter(this,_,n),C=w.addMouseLeave(this,_);this.ticksCallbackMap[n]={mouseEnter:S,mouseLeave:C}}this.ticks.push(_),this.ticksContainer.appendChild(_)}s.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&0<this.options.ticks_labels.length)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",n=0;n<this.options.ticks_labels.length;n++){var k=document.createElement("div"),T=0===this.options.ticks_positions.length,D=this.options.reversed&&T?this.options.ticks_labels.length-(n+1):n;k.className="slider-tick-label",k.innerHTML=this.options.ticks_labels[D],this.tickLabels.push(k),this.tickLabelContainer.appendChild(k)}var A=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner",t.appendChild(e),t.appendChild(i)},M=document.createElement("div");M.className="tooltip tooltip-main",M.setAttribute("role","presentation"),A(M);var E=document.createElement("div");E.className="tooltip tooltip-min",E.setAttribute("role","presentation"),A(E);var P=document.createElement("div");P.className="tooltip tooltip-max",P.setAttribute("role","presentation"),A(P),this.sliderElem.appendChild(g),this.sliderElem.appendChild(M),this.sliderElem.appendChild(E),this.sliderElem.appendChild(P),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(c),this.sliderElem.appendChild(u),f.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(z&&(this.$element=z(this.element),this.$sliderElem=z(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),$[this.options.scale]&&(this.options.scale=$[this.options.scale]),!0===p&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-right"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"left"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=d,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&0<this.options.ticks.length&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=l||this.trackLow,this.trackSelection=s||this.trackSelection,this.trackHigh=h||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=c||this.handle1,this.handle2=u||this.handle2,!0===p)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),n=0;n<this.ticks.length;n++)this._removeClass(this.ticks[n],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),n=0;n<this.ticks.length;n++)this._addClass(this.ticks[n],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var L=!1;try{var I=Object.defineProperty({},"passive",{get:function(){L=!0}});window.addEventListener("test",null,I)}catch(t){}var O=!!L&&{passive:!0};this.sliderElem.addEventListener("touchstart",this.touchstart,O),this.sliderElem.addEventListener("touchmove",this.touchmove,O)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var R=this._addTickListener(),F=R.addMouseEnter(this,this.handle1),N=R.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:F,mouseLeave:N},F=R.addMouseEnter(this,this.handle2),N=R.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:F,mouseLeave:N}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}if((e=function(t,e){return i.call(this,t,e),this}).prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,i){t||(t=0);var n=this.getValue();this._state.value=this._validateInputValue(t);var r=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=r(this._state.value[0]),this._state.value[1]=r(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=r(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var o=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(o),!0===e&&this._trigger("slide",o),n!==o&&!0===i&&this._trigger("change",{oldValue:n,newValue:o}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),z&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(t,e){z?(this.$element.off(t,e),this.$sliderElem.off(t,e)):this._unbindNonQueryEventHandler(t,e)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),i.call(this,this.element,this.options),z&&z.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var i=this.eventToCallbackMap[t];if(void 0!==i)for(var n=0;n<i.length;n++)if(i[n]===e){i.splice(n,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var i=t[e];delete this.eventToCallbackMap[i]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(t){var e=this.options.formatter(t?t.value[0]:this._state.value[0]),i=n(t||this._state,this.options.reversed);function n(t,e){return e?[100-t.percentage[0],this.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=i[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px")},_addTickListener:function(){return{addMouseEnter:function(n,t,r){var e=function(){var t=n._state,e=0<=r?r:this.attributes["aria-valuenow"].value,i=parseInt(e,10);t.value[0]=i,t.percentage[0]=n.options.ticks_positions[i],n._setToolTipOnMouseOver(t),n._showTooltip()};return t.addEventListener("mouseenter",e,!1),e},addMouseLeave:function(t,e){var i=function(){t._hideTooltip()};return e.addEventListener("mouseleave",i,!1),i}}},_layout:function(){var t,e;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),0<this.rangeHighlightElements.length&&Array.isArray(this.options.rangeHighlights)&&0<this.options.rangeHighlights.length)for(var i=0;i<this.options.rangeHighlights.length;i++){var n=this._toPercentage(this.options.rangeHighlights[i].start),r=this._toPercentage(this.options.rangeHighlights[i].end);if(this.options.reversed){var o=100-r;r=100-n,n=o}var a=this._createHighlightRange(n,r);a?"vertical"===this.options.orientation?(this.rangeHighlightElements[i].style.top=a.start+"%",this.rangeHighlightElements[i].style.height=a.size+"%"):(this.options.rtl?this.rangeHighlightElements[i].style.right=a.start+"%":this.rangeHighlightElements[i].style.left=a.start+"%",this.rangeHighlightElements[i].style.width=a.size+"%"):this.rangeHighlightElements[i].style.display="none"}if(Array.isArray(this.options.ticks)&&0<this.options.ticks.length){var s,l="vertical"===this.options.orientation?"height":"width";s="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var h=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var c=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[s]=-h/2+"px"),c=this.tickLabelContainer.offsetHeight;else for(u=0;u<this.tickLabelContainer.childNodes.length;u++)this.tickLabelContainer.childNodes[u].offsetHeight>c&&(c=this.tickLabelContainer.childNodes[u].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=c+"px")}for(var u=0;u<this.options.ticks.length;u++){var d=this.options.ticks_positions[u]||this._toPercentage(this.options.ticks[u]);this.options.reversed&&(d=100-d),this.ticks[u].style[this.stylePos]=d+"%",this._removeClass(this.ticks[u],"in-selection"),this.options.range?d>=t[0]&&d<=t[1]&&this._addClass(this.ticks[u],"in-selection"):"after"===this.options.selection&&d>=t[0]?this._addClass(this.ticks[u],"in-selection"):"before"===this.options.selection&&d<=t[0]&&this._addClass(this.ticks[u],"in-selection"),this.tickLabels[u]&&(this.tickLabels[u].style[l]=h+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[u]?(this.tickLabels[u].style.position="absolute",this.tickLabels[u].style[this.stylePos]=d+"%",this.tickLabels[u].style[s]=-h/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[u].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[u].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[s]=this.sliderElem.offsetWidth/2*-1+"px"))}}if(this.options.range){e=this.options.formatter(this._state.value),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");var p=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,p);var f=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,f),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetWidth/2+"px")}else e=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var g=this.tooltip_min.getBoundingClientRect(),m=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?g.right>m.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):g.right>m.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?e<t?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function(t){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var i=Math.abs(this._state.percentage[0]-e),n=Math.abs(this._state.percentage[1]-e);this._state.dragged=i<n?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var r=this._calculateValue();return this._trigger("slideStart",r),this._setDataVal(r),this.setValue(r,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){if(void 0!==t.changedTouches){var e=t.changedTouches[0];this.touchX=e.pageX,this.touchY=e.pageY}else this._mousedown(t)},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var i;switch(e.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}if(i){if(this.options.natural_arrow_keys){var n="vertical"===this.options.orientation&&!this.options.reversed,r="horizontal"===this.options.orientation&&this.options.reversed;(n||r)&&(i=-i)}var o=this._state.value[t]+i*this.options.step,a=o/this.options.max*100;if(this._state.keyCtrl=t,this.options.range)this._adjustPercentageForRangeSliders(a),o=[this._state.keyCtrl?this._state.value[0]:o,this._state.keyCtrl?o:this._state.value[1]];return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!0,!0),this._setDataVal(o),this._trigger("slideStop",o),this._layout(),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var i=this._calculateValue(!0);return this.setValue(i,!0,!0),!1},_touchmove:function(t){if(void 0!==t.changedTouches){var e=t.changedTouches[0],i=e.pageX-this.touchX,n=e.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&i<=5&&-5<=i&&(15<=n||n<=-15)?this._mousedown(t):n<=5&&-5<=n&&(15<=i||i<=-15)&&this._mousedown(t))}},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var i=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>i?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),(this._state.inDrag=!1)===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var i=[e,1/0],n=0;n<this.options.ticks.length;n++){var r=Math.abs(this.options.ticks[n]-e);r<=i[1]&&(i=[this.options.ticks[n],r])}if(i[1]<=this.options.ticks_snap_bounds)return i[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var i=t.toFixed(e);return parseFloat(i)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos]-this._state.offset[this.stylePos];"right"===this.stylePos&&(e=-e);var i=e/this._state.size*100;return i=Math.round(i/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(i=100-i),Math.max(0,Math.min(100,i))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(n(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("number"!=typeof i)throw new Error(n(i))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(t,e){e=e||0===e?e:void 0;var i=this.eventToCallbackMap[t];if(i&&i.length)for(var n=0;n<i.length;n++){(0,i[n])(e)}z&&this._triggerJQueryEvent(t,e)},_triggerJQueryEvent:function(t,e){var i={type:t,value:e};this.$element.trigger(i),this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){void 0!==t.textContent?t.textContent=e:void 0!==t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var i=e.split(" "),n=t.className,r=0;r<i.length;r++){var o=i[r],a=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)");n=n.replace(a," ")}t.className=n.trim()},_addClass:function(t,e){for(var i=e.split(" "),n=t.className,r=0;r<i.length;r++){var o=i[r];new RegExp("(?:\\s|^)"+o+"(?:\\s|$)").test(n)||(n+=" "+o)}t.className=n.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetRight:function(t){return t.getBoundingClientRect().right},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function(t,e,i){if(z)z.style(t,e,i);else{var n=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});t.style[n]=i}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e,i="left"===(e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right")?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[i]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},z&&z.fn){var t=void 0;z.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),t=r):(z.bridget("slider",e),t="slider"),z.bridget(r,e),z(function(){z("input[data-provide=slider]")[t]()})}}(t),e}),function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.noUiSlider=t()}(function(){"use strict";var X="10.1.0";function K(t){t.preventDefault()}function r(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function Z(t,e,i){0<i&&(J(t,e),setTimeout(function(){tt(t,e)},i))}function Q(t){return Array.isArray(t)?t:[t]}function e(t){var e=(t=String(t)).split(".");return 1<e.length?e[1].length:0}function J(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function tt(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function et(t){var e=void 0!==window.pageXOffset,i="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:i?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:i?t.documentElement.scrollTop:t.body.scrollTop}}function c(t,e){return 100/(e-t)}function u(t,e){return 100*e/(t[1]-t[0])}function d(t,e){for(var i=1;t>=e[i];)i+=1;return i}function i(t,e,i){if(i>=t.slice(-1)[0])return 100;var n,r,o,a,s,l,h=d(i,t);return n=t[h-1],r=t[h],o=e[h-1],a=e[h],o+(l=i,u(s=[n,r],s[0]<0?l+Math.abs(s[0]):l-s[0])/c(o,a))}function n(t,e,i,n){if(100===n)return n;var r,o,a,s,l=d(n,t);return i?(r=t[l-1],((o=t[l])-r)/2<n-r?o:r):e[l-1]?t[l-1]+(a=n-t[l-1],s=e[l-1],Math.round(a/s)*s):n}function o(t,e,i){var n;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("noUiSlider ("+X+"): 'range' contains invalid value.");if(!r(n="min"===t?0:"max"===t?100:parseFloat(t))||!r(e[0]))throw new Error("noUiSlider ("+X+"): 'range' value isn't numeric.");i.xPct.push(n),i.xVal.push(e[0]),n?i.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(i.xSteps[0]=e[1]),i.xHighestCompleteStep.push(0)}function a(t,e,i){if(!e)return!0;i.xSteps[t]=u([i.xVal[t],i.xVal[t+1]],e)/c(i.xPct[t],i.xPct[t+1]);var n=(i.xVal[t+1]-i.xVal[t])/i.xNumSteps[t],r=Math.ceil(Number(n.toFixed(3))-1),o=i.xVal[t]+i.xNumSteps[t]*r;i.xHighestCompleteStep[t]=o}function s(t,e,i){this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var n,r=[];for(n in t)t.hasOwnProperty(n)&&r.push([t[n],n]);for(r.length&&"object"==typeof r[0][0]?r.sort(function(t,e){return t[0][0]-e[0][0]}):r.sort(function(t,e){return t[0]-e[0]}),n=0;n<r.length;n++)o(r[n][1],r[n][0],this);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)a(n,this.xNumSteps[n],this)}s.prototype.getMargin=function(t){var e=this.xNumSteps[0];if(e&&t/e%1!=0)throw new Error("noUiSlider ("+X+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&u(this.xVal,t)},s.prototype.toStepping=function(t){return t=i(this.xVal,this.xPct,t)},s.prototype.fromStepping=function(t){return function(t,e,i){if(100<=i)return t.slice(-1)[0];var n,r,o,a,s,l=d(i,e);return n=t[l-1],r=t[l],o=e[l-1],a=e[l],s=[n,r],(i-o)*c(o,a)*(s[1]-s[0])/100+s[0]}(this.xVal,this.xPct,t)},s.prototype.getStep=function(t){return t=n(this.xPct,this.xSteps,this.snap,t)},s.prototype.getNearbySteps=function(t){var e=d(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e-0],step:this.xNumSteps[e-0],highestStep:this.xHighestCompleteStep[e-0]}}},s.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(e);return Math.max.apply(null,t)},s.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var l={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};function h(t){if("object"==typeof(e=t)&&"function"==typeof e.to&&"function"==typeof e.from)return!0;var e;throw new Error("noUiSlider ("+X+"): 'format' requires 'to' and 'from' methods.")}function p(t,e){if(!r(e))throw new Error("noUiSlider ("+X+"): 'step' is not numeric.");t.singleStep=e}function f(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider ("+X+"): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider ("+X+"): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider ("+X+"): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new s(e,t.snap,t.singleStep)}function g(t,e){if(e=Q(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider ("+X+"): 'start' option is incorrect.");t.handles=e.length,t.start=e}function m(t,e){if("boolean"!=typeof(t.snap=e))throw new Error("noUiSlider ("+X+"): 'snap' option must be a boolean.")}function v(t,e){if("boolean"!=typeof(t.animate=e))throw new Error("noUiSlider ("+X+"): 'animate' option must be a boolean.")}function y(t,e){if("number"!=typeof(t.animationDuration=e))throw new Error("noUiSlider ("+X+"): 'animationDuration' option must be a number.")}function b(t,e){var i,n=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(i=1;i<t.handles;i++)n.push(e);n.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider ("+X+"): 'connect' option doesn't match handle count.");n=e}t.connect=n}function x(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider ("+X+"): 'orientation' option is invalid.")}}function _(t,e){if(!r(e))throw new Error("noUiSlider ("+X+"): 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider ("+X+"): 'margin' option is only supported on linear sliders.")}function w(t,e){if(!r(e))throw new Error("noUiSlider ("+X+"): 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit||t.handles<2)throw new Error("noUiSlider ("+X+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function S(t,e){if(!r(e))throw new Error("noUiSlider ("+X+"): 'padding' option must be numeric.");if(0!==e){if(t.padding=t.spectrum.getMargin(e),!t.padding)throw new Error("noUiSlider ("+X+"): 'padding' option is only supported on linear sliders.");if(t.padding<0)throw new Error("noUiSlider ("+X+"): 'padding' option must be a positive number.");if(50<=t.padding)throw new Error("noUiSlider ("+X+"): 'padding' option must be less than half the range.")}}function C(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider ("+X+"): 'direction' option was not recognized.")}}function k(t,e){if("string"!=typeof e)throw new Error("noUiSlider ("+X+"): 'behaviour' must be a string containing options.");var i=0<=e.indexOf("tap"),n=0<=e.indexOf("drag"),r=0<=e.indexOf("fixed"),o=0<=e.indexOf("snap"),a=0<=e.indexOf("hover");if(r){if(2!==t.handles)throw new Error("noUiSlider ("+X+"): 'fixed' behaviour must be used with 2 handles");_(t,t.start[1]-t.start[0])}t.events={tap:i||o,drag:n,fixed:r,snap:o,hover:a}}function T(t,e){if("boolean"!=typeof(t.multitouch=e))throw new Error("noUiSlider ("+X+"): 'multitouch' option must be a boolean.")}function D(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(!0)}else{if(t.tooltips=Q(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider ("+X+"): must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider ("+X+"): 'tooltips' must be passed a formatter or 'false'.")})}}function A(t,e){h(t.ariaFormat=e)}function M(t,e){h(t.format=e)}function E(t,e){if(void 0!==e&&"string"!=typeof e&&!1!==e)throw new Error("noUiSlider ("+X+"): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function P(t,e){if(void 0!==e&&"object"!=typeof e)throw new Error("noUiSlider ("+X+"): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var i in t.cssClasses={},e)e.hasOwnProperty(i)&&(t.cssClasses[i]=t.cssPrefix+e[i]);else t.cssClasses=e}function L(t,e){if(!0!==e&&!1!==e)throw new Error("noUiSlider ("+X+"): 'useRequestAnimationFrame' option should be true (default) or false.");t.useRequestAnimationFrame=e}function it(e){var i={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:l,format:l},n={step:{r:!1,t:p},start:{r:!0,t:g},connect:{r:!0,t:b},direction:{r:!0,t:C},snap:{r:!1,t:m},animate:{r:!1,t:v},animationDuration:{r:!1,t:y},range:{r:!0,t:f},orientation:{r:!1,t:x},margin:{r:!1,t:_},limit:{r:!1,t:w},padding:{r:!1,t:S},behaviour:{r:!0,t:k},multitouch:{r:!0,t:T},ariaFormat:{r:!1,t:A},format:{r:!1,t:M},tooltips:{r:!1,t:D},cssPrefix:{r:!1,t:E},cssClasses:{r:!1,t:P},useRequestAnimationFrame:{r:!1,t:L}},r={connect:!1,direction:"ltr",behaviour:"tap",multitouch:!1,orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach(function(t){if(void 0===e[t]&&void 0===r[t]){if(n[t].r)throw new Error("noUiSlider ("+X+"): '"+t+"' is required.");return!0}n[t].t(i,void 0===e[t]?r[t]:e[t])}),i.pips=e.pips;var t=[["left","top"],["right","bottom"]];return i.style=t[i.dir][i.ort],i.styleOposite=t[i.dir?0:1][i.ort],i}function I(t,u,o){var l,h,a,s,c,e,d,r,p=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},f=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),x=t,g=[],m=[],v=0,_=u.spectrum,y=[],b={},w=t.ownerDocument,S=w.documentElement,C=w.body;function k(t,e){var i=w.createElement("div");return e&&J(i,e),t.appendChild(i),i}function T(t,e){return!!e&&k(t,u.cssClasses.connect)}function i(t,e){return!!u.tooltips[e]&&k(t.firstChild,u.cssClasses.tooltip)}function D(e,n,r){var o=w.createElement("div"),a=[u.cssClasses.valueNormal,u.cssClasses.valueLarge,u.cssClasses.valueSub],s=[u.cssClasses.markerNormal,u.cssClasses.markerLarge,u.cssClasses.markerSub],l=[u.cssClasses.valueHorizontal,u.cssClasses.valueVertical],h=[u.cssClasses.markerHorizontal,u.cssClasses.markerVertical];function c(t,e){var i=e===u.cssClasses.value,n=i?a:s;return e+" "+(i?l:h)[u.ort]+" "+n[t]}return J(o,u.cssClasses.pips),J(o,0===u.ort?u.cssClasses.pipsHorizontal:u.cssClasses.pipsVertical),Object.keys(e).forEach(function(t){!function(t,e){e[1]=e[1]&&n?n(e[0],e[1]):e[1];var i=k(o,!1);i.className=c(e[1],u.cssClasses.marker),i.style[u.style]=t+"%",e[1]&&((i=k(o,!1)).className=c(e[1],u.cssClasses.value),i.style[u.style]=t+"%",i.innerText=r.to(e[0]))}(t,e[t])}),o}function A(){var t;c&&((t=c).parentElement.removeChild(t),c=null)}function M(t){A();var p,f,g,m,e,i,v,y,b,n=t.mode,r=t.density||1,o=t.filter||!1,a=function(t,e,i){if("range"===t||"steps"===t)return _.xVal;if("count"===t){if(!e)throw new Error("noUiSlider ("+X+"): 'values' required for mode 'count'.");var n,r=100/(e-1),o=0;for(e=[];(n=o++*r)<=100;)e.push(n);t="positions"}return"positions"===t?e.map(function(t){return _.fromStepping(i?_.getStep(t):t)}):"values"===t?i?e.map(function(t){return _.fromStepping(_.getStep(_.toStepping(t)))}):e:void 0}(n,t.values||!1,t.stepped||!1),s=(p=r,f=n,g=a,m={},e=_.xVal[0],i=_.xVal[_.xVal.length-1],y=v=!1,b=0,(g=g.slice().sort(function(t,e){return t-e}).filter(function(t){return!this[t]&&(this[t]=!0)},{}))[0]!==e&&(g.unshift(e),v=!0),g[g.length-1]!==i&&(g.push(i),y=!0),g.forEach(function(t,e){var i,n,r,o,a,s,l,h,c,u=t,d=g[e+1];if("steps"===f&&(i=_.xNumSteps[e]),i||(i=d-u),!1!==u&&void 0!==d)for(i=Math.max(i,1e-7),n=u;n<=d;n=(n+i).toFixed(7)/1){for(l=(a=(o=_.toStepping(n))-b)/p,c=a/(h=Math.round(l)),r=1;r<=h;r+=1)m[(b+r*c).toFixed(5)]=["x",0];s=-1<g.indexOf(n)?1:"steps"===f?2:0,!e&&v&&(s=0),n===d&&y||(m[o.toFixed(5)]=[n,s]),b=o}}),m),l=t.format||{to:Math.round};return c=x.appendChild(D(s,o,l))}function E(){var t=l.getBoundingClientRect(),e="offset"+["Width","Height"][u.ort];return 0===u.ort?t.width||l[e]:t.height||l[e]}function P(n,r,o,a){var e=function(t){return!x.hasAttribute("disabled")&&(e=x,i=u.cssClasses.tap,(e.classList?!e.classList.contains(i):!new RegExp("\\b"+i+"\\b").test(e.className))&&(!!(t=function(t,e,i){var n,r,o=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer");0===t.type.indexOf("MSPointer")&&(s=!0);if(o&&u.multitouch){var l=function(t){return t.target===i||i.contains(t.target)};if("touchstart"===t.type){var h=Array.prototype.filter.call(t.touches,l);if(1<h.length)return!1;n=h[0].pageX,r=h[0].pageY}else{var c=Array.prototype.find.call(t.changedTouches,l);if(!c)return!1;n=c.pageX,r=c.pageY}}else if(o){if(1<t.touches.length)return!1;n=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY}e=e||et(w),(a||s)&&(n=t.clientX+e.x,r=t.clientY+e.y);return t.pageOffset=e,t.points=[n,r],t.cursor=a||s,t}(t,a.pageOffset,a.target||r))&&(!(n===p.start&&void 0!==t.buttons&&1<t.buttons)&&((!a.hover||!t.buttons)&&(f||t.preventDefault(),t.calcPoint=t.points[u.ort],void o(t,a))))));var e,i},i=[];return n.split(" ").forEach(function(t){r.addEventListener(t,e,!!f&&{passive:!0}),i.push([t,e])}),i}function L(t){var e,i,n,r,o,a,s=100*(t-(e=l,i=u.ort,n=e.getBoundingClientRect(),r=e.ownerDocument,o=r.documentElement,a=et(r),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(a.x=0),i?n.top+a.y-o.clientTop:n.left+a.x-o.clientLeft))/E();return u.dir?100-s:s}function n(t,n,i,e){var r=i.slice(),o=[!t,t],a=[t,!t];e=e.slice(),t&&e.reverse(),1<e.length?e.forEach(function(t,e){var i=H(r,t,r[t]+n,o[e],a[e],!1);!1===i?n=0:(n=i-r[t],r[t]=i)}):o=a=[!0];var s=!1;e.forEach(function(t,e){s=W(t,i[t]+n,o[e],a[e])||s}),s&&e.forEach(function(t){I("update",t),I("slide",t)})}function I(i,n,r){Object.keys(b).forEach(function(t){var e=t.split(".")[0];i===e&&b[t].forEach(function(t){t.call(s,y.map(u.format.to),n,y.slice(),r||!1,g.slice())})})}function O(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&F(t,e)}function R(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return F(t,e);var i=(u.dir?-1:1)*(t.calcPoint-e.startCalcPoint);n(0<i,100*i/e.baseSize,e.locations,e.handleNumbers)}function F(t,e){e.handle&&(tt(e.handle,u.cssClasses.active),v-=1),e.listeners.forEach(function(t){S.removeEventListener(t[0],t[1])}),0===v&&(tt(x,u.cssClasses.drag),B(),t.cursor&&(C.style.cursor="",C.removeEventListener("selectstart",K))),e.handleNumbers.forEach(function(t){I("change",t),I("set",t),I("end",t)})}function N(t,e){var i;if(1===e.handleNumbers.length){var n=h[e.handleNumbers[0]];if(n.hasAttribute("disabled"))return!1;i=n.children[0],v+=1,J(i,u.cssClasses.active)}t.stopPropagation();var r=[],o=P(p.move,S,R,{target:t.target,handle:i,listeners:r,startCalcPoint:t.calcPoint,baseSize:E(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:g.slice()}),a=P(p.end,S,F,{target:t.target,handle:i,listeners:r,handleNumbers:e.handleNumbers}),s=P("mouseout",S,O,{target:t.target,handle:i,listeners:r,handleNumbers:e.handleNumbers});r.push.apply(r,o.concat(a,s)),t.cursor&&(C.style.cursor=getComputedStyle(t.target).cursor,1<h.length&&J(x,u.cssClasses.drag),C.addEventListener("selectstart",K,!1)),e.handleNumbers.forEach(function(t){I("start",t)})}function z(t){t.stopPropagation();var n,r,o,e=L(t.calcPoint),i=(n=e,o=!(r=100),h.forEach(function(t,e){if(!t.hasAttribute("disabled")){var i=Math.abs(g[e]-n);i<r&&(o=e,r=i)}}),o);if(!1===i)return!1;u.events.snap||Z(x,u.cssClasses.tap,u.animationDuration),W(i,e,!0,!0),B(),I("slide",i,!0),I("update",i,!0),I("change",i,!0),I("set",i,!0),u.events.snap&&N(t,{handleNumbers:[i]})}function $(t){var e=L(t.calcPoint),i=_.getStep(e),n=_.fromStepping(i);Object.keys(b).forEach(function(t){"hover"===t.split(".")[0]&&b[t].forEach(function(t){t.call(s,n)})})}function H(t,e,i,n,r,o){var a;return 1<h.length&&(n&&0<e&&(i=Math.max(i,t[e-1]+u.margin)),r&&e<h.length-1&&(i=Math.min(i,t[e+1]-u.margin))),1<h.length&&u.limit&&(n&&0<e&&(i=Math.min(i,t[e-1]+u.limit)),r&&e<h.length-1&&(i=Math.max(i,t[e+1]-u.limit))),u.padding&&(0===e&&(i=Math.max(i,u.padding)),e===h.length-1&&(i=Math.min(i,100-u.padding))),i=_.getStep(i),a=i,!((i=Math.max(Math.min(a,100),0))===t[e]&&!o)&&i}function V(t){return t+"%"}function B(){m.forEach(function(t){var e=50<g[t]?-1:1,i=3+(h.length+e*t);h[t].childNodes[0].style.zIndex=i})}function W(t,e,i,n){return!1!==(e=H(g,t,e,i,n,!1))&&(function(t,e){g[t]=e,y[t]=_.fromStepping(e);var i=function(){h[t].style[u.style]=V(e),j(t),j(t+1)};window.requestAnimationFrame&&u.useRequestAnimationFrame?window.requestAnimationFrame(i):i()}(t,e),!0)}function j(t){if(a[t]){var e=0,i=100;0!==t&&(e=g[t-1]),t!==a.length-1&&(i=g[t]),a[t].style[u.style]=V(e),a[t].style[u.styleOposite]=V(100-i)}}function Y(t,e){null!==t&&!1!==t&&("number"==typeof t&&(t=String(t)),!1===(t=u.format.from(t))||isNaN(t)||W(e,_.toStepping(t),!1,!1))}function U(t,e){var i=Q(t),n=void 0===g[0];e=void 0===e||!!e,i.forEach(Y),u.animate&&!n&&Z(x,u.cssClasses.tap,u.animationDuration),m.forEach(function(t){W(t,g[t],!0,!1)}),B(),m.forEach(function(t){I("update",t),null!==i[t]&&e&&I("set",t)})}function G(){var t=y.map(u.format.to);return 1===t.length?t[0]:t}function q(t,e){b[t]=b[t]||[],b[t].push(e),"update"===t.split(".")[0]&&h.forEach(function(t,e){I("update",e)})}if(x.noUiSlider)throw new Error("noUiSlider ("+X+"): Slider was already initialized.");return J(e=x,u.cssClasses.target),0===u.dir?J(e,u.cssClasses.ltr):J(e,u.cssClasses.rtl),0===u.ort?J(e,u.cssClasses.horizontal):J(e,u.cssClasses.vertical),l=k(e,u.cssClasses.base),function(t,e){h=[],(a=[]).push(T(e,t[0]));for(var i=0;i<u.handles;i++)h.push((n=i,o=void 0,r=k(e,u.cssClasses.origin),(o=k(r,u.cssClasses.handle)).setAttribute("data-handle",n),o.setAttribute("tabindex","0"),o.setAttribute("role","slider"),o.setAttribute("aria-orientation",u.ort?"vertical":"horizontal"),0===n?J(o,u.cssClasses.handleLower):n===u.handles-1&&J(o,u.cssClasses.handleUpper),r)),m[i]=i,a.push(T(e,t[i+1]));var n,r,o}(u.connect,l),s={destroy:function(){for(var t in u.cssClasses)u.cssClasses.hasOwnProperty(t)&&tt(x,u.cssClasses[t]);for(;x.firstChild;)x.removeChild(x.firstChild);delete x.noUiSlider},steps:function(){return g.map(function(t,e){var i=_.getNearbySteps(t),n=y[e],r=i.thisStep.step,o=null;!1!==r&&n+r>i.stepAfter.startValue&&(r=i.stepAfter.startValue-n),o=n>i.thisStep.startValue?i.thisStep.step:!1!==i.stepBefore.step&&n-i.stepBefore.highestStep,100===t?r=null:0===t&&(o=null);var a=_.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(a))),null!==o&&!1!==o&&(o=Number(o.toFixed(a))),[o,r]})},on:q,off:function(t){var n=t&&t.split(".")[0],r=n&&t.substring(n.length);Object.keys(b).forEach(function(t){var e=t.split(".")[0],i=t.substring(e.length);n&&n!==e||r&&r!==i||delete b[t]})},get:G,set:U,reset:function(t){U(u.start,t)},__moveHandles:function(t,e,i){n(t,e,g,i)},options:o,updateOptions:function(e,t){var i=G(),n=["margin","limit","padding","range","animate","snap","step","format"];n.forEach(function(t){void 0!==e[t]&&(o[t]=e[t])});var r=it(o);n.forEach(function(t){void 0!==e[t]&&(u[t]=r[t])}),_=r.spectrum,u.margin=r.margin,u.limit=r.limit,u.padding=r.padding,u.pips&&M(u.pips),g=[],U(e.start||i,t)},target:x,removePips:A,pips:M},(d=u.events).fixed||h.forEach(function(t,e){P(p.start,t.children[0],N,{handleNumbers:[e]})}),d.tap&&P(p.start,l,z,{}),d.hover&&P(p.move,l,$,{hover:!0}),d.drag&&a.forEach(function(t,e){if(!1!==t&&0!==e&&e!==a.length-1){var i=h[e-1],n=h[e],r=[t];J(t,u.cssClasses.draggable),d.fixed&&(r.push(i.children[0]),r.push(n.children[0])),r.forEach(function(t){P(p.start,t,N,{handles:[i,n],handleNumbers:[e-1,e]})})}}),U(u.start),u.pips&&M(u.pips),u.tooltips&&(r=h.map(i),q("update",function(t,e,i){if(r[e]){var n=t[e];!0!==u.tooltips[e]&&(n=u.tooltips[e].to(i[e])),r[e].innerHTML=n}})),q("update",function(t,e,a,i,s){m.forEach(function(t){var e=h[t],i=H(g,t,0,!0,!0,!0),n=H(g,t,100,!0,!0,!0),r=s[t],o=u.ariaFormat.to(a[t]);e.children[0].setAttribute("aria-valuemin",i.toFixed(1)),e.children[0].setAttribute("aria-valuemax",n.toFixed(1)),e.children[0].setAttribute("aria-valuenow",r.toFixed(1)),e.children[0].setAttribute("aria-valuetext",o)})}),s}return{version:X,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider ("+X+"): create requires a single element, got: "+t);var i=I(t,it(e),e);return t.noUiSlider=i}}}),function(l,i,r,o){function h(t,e){this.settings=null,this.options=l.extend({},h.Defaults,e),this.$element=l(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},l.each(["onResize","onThrottledResize"],l.proxy(function(t,e){this._handlers[e]=l.proxy(this[e],this)},this)),l.each(h.Plugins,l.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),l.each(h.Workers,l.proxy(function(t,e){this._pipe.push({filter:e.filter,run:l.proxy(e.run,this)})},this)),this.setup(),this.initialize()}h.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:i,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},h.Width={Default:"default",Inner:"inner",Outer:"outer"},h.Type={Event:"event",State:"state"},h.Plugins={},h.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,n=this.settings.rtl,r={width:"auto","margin-left":n?e:"","margin-right":n?"":e};!i&&this.$stage.children().css(r),t.css=r}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,n=this._items.length,r=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:e};n--;)i=this._mergers[n],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=1<i||t.items.merge,o[n]=r?e*i:this._items[n].width();this._widths=o}},{filter:["items","settings"],run:function(){var t=[],e=this._items,i=this.settings,n=Math.max(2*i.items,4),r=2*Math.ceil(e.length/2),o=i.loop&&e.length?i.rewind?n:Math.max(n,r):0,a="",s="";for(o/=2;o--;)t.push(this.normalize(t.length/2,!0)),a+=e[t[t.length-1]][0].outerHTML,t.push(this.normalize(e.length-1-(t.length-1)/2,!0)),s=e[t[t.length-1]][0].outerHTML+s;this._clones=t,l(a).addClass("cloned").appendTo(this.$stage),l(s).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,n=0,r=0,o=[];++i<e;)n=o[i-1]||0,r=this._widths[this.relative(i)]+this.settings.margin,o.push(n+r*t);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,n=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],n.eq(e).css(t.css);else i&&(t.css.width=t.items.width,n.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,n,r=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,a=this.coordinates(this.current())+o,s=a+this.width()*r,l=[];for(i=0,n=this._coordinates.length;i<n;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+o*r,(this.op(t,"<=",a)&&this.op(t,">",s)||this.op(e,"<",a)&&this.op(e,">",s))&&l.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],h.prototype.initialize=function(){var t,e,i;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:o,i=this.$element.children(e).width(),t.length&&i<=0&&this.preloadAutoWidthImages(t));this.$element.addClass(this.options.loadingClass),this.$stage=l("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},h.prototype.setup=function(){var e=this.viewport(),t=this.options.responsive,i=-1,n=null;t?(l.each(t,function(t){t<=e&&i<t&&(i=Number(t))}),"function"==typeof(n=l.extend({},this.options,t[i])).stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):n=l.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=i,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},h.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},h.prototype.prepare=function(t){var e=this.trigger("prepare",{content:t});return e.data||(e.data=l("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:e.data}),e.data},h.prototype.update=function(){for(var t=0,e=this._pipe.length,i=l.proxy(function(t){return this[t]},this._invalidated),n={};t<e;)(this._invalidated.all||0<l.grep(this._pipe[t].filter,i).length)&&this._pipe[t].run(n),t++;this._invalidated={},!this.is("valid")&&this.enter("valid")},h.prototype.width=function(t){switch(t=t||h.Width.Default){case h.Width.Inner:case h.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},h.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},h.prototype.onThrottledResize=function(){i.clearTimeout(this.resizeTimer),this.resizeTimer=i.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},h.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},h.prototype.registerEventHandlers=function(){l.support.transition&&this.$stage.on(l.support.transition.end+".owl.core",l.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(i,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",l.proxy(this.onDragEnd,this)))},h.prototype.onDragStart=function(t){var e=null;3!==t.which&&(l.support.transform?e={x:(e=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===e.length?12:4],y:e[16===e.length?13:5]}:(e=this.$stage.position(),e={x:this.settings.rtl?e.left+this.$stage.width()-this.width()+this.settings.margin:e.left,y:e.top}),this.is("animating")&&(l.support.transform?this.animate(e.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=l(t.target),this._drag.stage.start=e,this._drag.stage.current=e,this._drag.pointer=this.pointer(t),l(r).on("mouseup.owl.core touchend.owl.core",l.proxy(this.onDragEnd,this)),l(r).one("mousemove.owl.core touchmove.owl.core",l.proxy(function(t){var e=this.difference(this._drag.pointer,this.pointer(t));l(r).on("mousemove.owl.core touchmove.owl.core",l.proxy(this.onDragMove,this)),Math.abs(e.x)<Math.abs(e.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},h.prototype.onDragMove=function(t){var e=null,i=null,n=null,r=this.difference(this._drag.pointer,this.pointer(t)),o=this.difference(this._drag.stage.start,r);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,o.x=((o.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),n=this.settings.pullDrag?-1*r.x/5:0,o.x=Math.max(Math.min(o.x,e+n),i+n)),this._drag.stage.current=o,this.animate(o.x))},h.prototype.onDragEnd=function(t){var e=this.difference(this._drag.pointer,this.pointer(t)),i=this._drag.stage.current,n=0<e.x^this.settings.rtl?"left":"right";l(r).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==e.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(i.x,0!==e.x?n:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=n,(3<Math.abs(e.x)||300<(new Date).getTime()-this._drag.time)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},h.prototype.closest=function(i,n){var r=-1,o=this.width(),a=this.coordinates();return this.settings.freeDrag||l.each(a,l.proxy(function(t,e){return"left"===n&&e-30<i&&i<e+30?r=t:"right"===n&&e-o-30<i&&i<e-o+30?r=t+1:this.op(i,"<",e)&&this.op(i,">",a[t+1]||e-o)&&(r="left"===n?t+1:t),-1===r},this)),this.settings.loop||(this.op(i,">",a[this.minimum()])?r=i=this.minimum():this.op(i,"<",a[this.maximum()])&&(r=i=this.maximum())),r},h.prototype.animate=function(t){var e=0<this.speed();this.is("animating")&&this.onTransitionEnd(),e&&(this.enter("animating"),this.trigger("translate")),l.support.transform3d&&l.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"}):e?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,l.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},h.prototype.is=function(t){return this._states.current[t]&&0<this._states.current[t]},h.prototype.current=function(t){if(t===o)return this._current;if(0===this._items.length)return o;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==o&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},h.prototype.invalidate=function(t){return"string"===l.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),l.map(this._invalidated,function(t,e){return e})},h.prototype.reset=function(t){(t=this.normalize(t))!==o&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},h.prototype.normalize=function(t,e){var i=this._items.length,n=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=o:(t<0||i+n<=t)&&(t=((t-n/2)%i+i)%i+n/2),t},h.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},h.prototype.maximum=function(t){var e,i,n,r=this.settings,o=this._coordinates.length;if(r.loop)o=this._clones.length/2+this._items.length-1;else if(r.autoWidth||r.merge){for(e=this._items.length,i=this._items[--e].width(),n=this.$element.width();e--&&!(n<(i+=this._items[e].width()+this.settings.margin)););o=e+1}else o=r.center?this._items.length-1:this._items.length-r.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},h.prototype.minimum=function(t){return t?0:this._clones.length/2},h.prototype.items=function(t){return t===o?this._items.slice():(t=this.normalize(t,!0),this._items[t])},h.prototype.mergers=function(t){return t===o?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},h.prototype.clones=function(i){var e=this._clones.length/2,n=e+this._items.length,r=function(t){return t%2==0?n+t/2:e-(t+1)/2};return i===o?l.map(this._clones,function(t,e){return r(e)}):l.map(this._clones,function(t,e){return t===i?r(e):null})},h.prototype.speed=function(t){return t!==o&&(this._speed=t),this._speed},h.prototype.coordinates=function(t){var e,i=1,n=t-1;return t===o?l.map(this._coordinates,l.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(i=-1,n=t+1),e=this._coordinates[t],e+=(this.width()-e+(this._coordinates[n]||0))/2*i):e=this._coordinates[n]||0,e=Math.ceil(e))},h.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},h.prototype.to=function(t,e){var i=this.current(),n=null,r=t-this.relative(i),o=(0<r)-(r<0),a=this._items.length,s=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(r)>a/2&&(r+=-1*o*a),(n=(((t=i+r)-s)%a+a)%a+s)!==t&&n-r<=l&&0<n-r&&(i=n-r,t=n,this.reset(i))):t=this.settings.rewind?(t%(l+=1)+l)%l:Math.max(s,Math.min(l,t)),this.speed(this.duration(i,t,e)),this.current(t),this.$element.is(":visible")&&this.update()},h.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},h.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},h.prototype.onTransitionEnd=function(t){if(t!==o&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},h.prototype.viewport=function(){var t;return this.options.responsiveBaseElement!==i?t=l(this.options.responsiveBaseElement).width():i.innerWidth?t=i.innerWidth:r.documentElement&&r.documentElement.clientWidth?t=r.documentElement.clientWidth:console.warn("Can not detect viewport width."),t},h.prototype.replace=function(t){this.$stage.empty(),this._items=[],t&&(t=t instanceof jQuery?t:l(t)),this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector)),t.filter(function(){return 1===this.nodeType}).each(l.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},h.prototype.add=function(t,e){var i=this.relative(this._current);e=e===o?this._items.length:this.normalize(e,!0),t=t instanceof jQuery?t:l(t),this.trigger("add",{content:t,position:e}),t=this.prepare(t),0===this._items.length||e===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[e-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[e].before(t),this._items.splice(e,0,t),this._mergers.splice(e,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[i]&&this.reset(this._items[i].index()),this.invalidate("items"),this.trigger("added",{content:t,position:e})},h.prototype.remove=function(t){(t=this.normalize(t,!0))!==o&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},h.prototype.preloadAutoWidthImages=function(t){t.each(l.proxy(function(t,e){this.enter("pre-loading"),e=l(e),l(new Image).one("load",l.proxy(function(t){e.attr("src",t.target.src),e.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",e.attr("src")||e.attr("data-src")||e.attr("data-src-retina"))},this))},h.prototype.destroy=function(){for(var t in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),l(r).off(".owl.core"),!1!==this.settings.responsive&&(i.clearTimeout(this.resizeTimer),this.off(i,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[t].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},h.prototype.op=function(t,e,i){var n=this.settings.rtl;switch(e){case"<":return n?i<t:t<i;case">":return n?t<i:i<t;case">=":return n?t<=i:i<=t;case"<=":return n?i<=t:t<=i}},h.prototype.on=function(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n):t.attachEvent&&t.attachEvent("on"+e,i)},h.prototype.off=function(t,e,i,n){t.removeEventListener?t.removeEventListener(e,i,n):t.detachEvent&&t.detachEvent("on"+e,i)},h.prototype.trigger=function(t,e,i,n,r){var o={item:{count:this._items.length,index:this.current()}},a=l.camelCase(l.grep(["on",t,i],function(t){return t}).join("-").toLowerCase()),s=l.Event([t,"owl",i||"carousel"].join(".").toLowerCase(),l.extend({relatedTarget:this},o,e));return this._supress[t]||(l.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(s)}),this.register({type:h.Type.Event,name:t}),this.$element.trigger(s),this.settings&&"function"==typeof this.settings[a]&&this.settings[a].call(this,s)),s},h.prototype.enter=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]===o&&(this._states.current[e]=0),this._states.current[e]++},this))},h.prototype.leave=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]--},this))},h.prototype.register=function(i){if(i.type===h.Type.Event){if(l.event.special[i.name]||(l.event.special[i.name]={}),!l.event.special[i.name].owl){var e=l.event.special[i.name]._default;l.event.special[i.name]._default=function(t){return!e||!e.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&-1<t.namespace.indexOf("owl"):e.apply(this,arguments)},l.event.special[i.name].owl=!0}}else i.type===h.Type.State&&(this._states.tags[i.name]?this._states.tags[i.name]=this._states.tags[i.name].concat(i.tags):this._states.tags[i.name]=i.tags,this._states.tags[i.name]=l.grep(this._states.tags[i.name],l.proxy(function(t,e){return l.inArray(t,this._states.tags[i.name])===e},this)))},h.prototype.suppress=function(t){l.each(t,l.proxy(function(t,e){this._supress[e]=!0},this))},h.prototype.release=function(t){l.each(t,l.proxy(function(t,e){delete this._supress[e]},this))},h.prototype.pointer=function(t){var e={x:null,y:null};return(t=(t=t.originalEvent||t||i.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),e},h.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},h.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},l.fn.owlCarousel=function(e){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=l(this),i=t.data("owl.carousel");i||(i=new h(this,"object"==typeof e&&e),t.data("owl.carousel",i),l.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,e){i.register({type:h.Type.Event,name:e}),i.$element.on(e+".owl.carousel.core",l.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([e]),i[e].apply(this,[].slice.call(arguments,1)),this.release([e]))},i))})),"string"==typeof e&&"_"!==e.charAt(0)&&i[e].apply(i,n)})},l.fn.owlCarousel.Constructor=h}(window.Zepto||window.jQuery,window,document),function(e,i,t,n){var r=function(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},r.Defaults,this._core.options),this._core.$element.on(this._handlers)};r.Defaults={autoRefresh:!0,autoRefreshInterval:500},r.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=i.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},r.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},r.prototype.destroy=function(){var t,e;for(t in i.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=r}(window.Zepto||window.jQuery,window,document),function(s,o,t,e){var i=function(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":s.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type))for(var e=this._core.settings,i=e.center&&Math.ceil(e.items/2)||e.items,n=e.center&&-1*i||0,r=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+n,o=this._core.clones().length,a=s.proxy(function(t,e){this.load(e)},this);n++<i;)this.load(o/2+this._core.relative(r)),o&&s.each(this._core.clones(this._core.relative(r)),a),r++},this)},this._core.options=s.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={lazyLoad:!1},i.prototype.load=function(t){var e=this._core.$stage.children().eq(t),i=e&&e.find(".owl-lazy");!i||-1<s.inArray(e.get(0),this._loaded)||(i.each(s.proxy(function(t,e){var i,n=s(e),r=1<o.devicePixelRatio&&n.attr("data-src-retina")||n.attr("data-src");this._core.trigger("load",{element:n,url:r},"lazy"),n.is("img")?n.one("load.owl.lazy",s.proxy(function(){n.css("opacity",1),this._core.trigger("loaded",{element:n,url:r},"lazy")},this)).attr("src",r):((i=new Image).onload=s.proxy(function(){n.css({"background-image":'url("'+r+'")',opacity:"1"}),this._core.trigger("loaded",{element:n,url:r},"lazy")},this),i.src=r)},this)),this._loaded.push(e.get(0)))},i.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},s.fn.owlCarousel.Constructor.Plugins.Lazy=i}(window.Zepto||window.jQuery,window,document),function(o,t,e,i){var n=function(t){this._core=t,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":o.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":o.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"loaded.owl.lazy":o.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=o.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},n.prototype.update=function(){var t,e=this._core._current,i=e+this._core.settings.items,n=this._core.$stage.children().toArray().slice(e,i),r=[];o.each(n,function(t,e){r.push(o(e).height())}),t=Math.max.apply(null,r),this._core.$stage.parent().height(t).addClass(this._core.settings.autoHeightClass)},n.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},o.fn.owlCarousel.Constructor.Plugins.AutoHeight=n}(window.Zepto||window.jQuery,window,document),function(c,t,e,i){var n=function(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":c.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":c.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":c.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":c.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":c.proxy(function(t){if(t.namespace){var e=c(t.content).find(".owl-video");e.length&&(e.css("display","none"),this.fetch(e,c(t.content)))}},this)},this._core.options=c.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",c.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",n=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),r=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,a=t.attr("href");if(!a)throw new Error("Missing video URL.");if(-1<(n=a.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu"))i="youtube";else if(-1<n[3].indexOf("vimeo"))i="vimeo";else{if(!(-1<n[3].indexOf("vzaar")))throw new Error("Video URL not supported.");i="vzaar"}n=n[6],this._videos[a]={type:i,id:n,width:r,height:o},e.attr("data-video",a),this.thumbnail(t,this._videos[a])},n.prototype.thumbnail=function(e,t){var i,n,r=t.width&&t.height?'style="width:'+t.width+"px;height:"+t.height+'px;"':"",o=e.find("img"),a="src",s="",l=this._core.settings,h=function(t){'<div class="owl-video-play-icon"></div>',i=l.lazyLoad?'<div class="owl-video-tn '+s+'" '+a+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(i),e.after('<div class="owl-video-play-icon"></div>')};if(e.wrap('<div class="owl-video-wrapper"'+r+"></div>"),this._core.settings.lazyLoad&&(a="data-src",s="owl-lazy"),o.length)return h(o.attr(a)),o.remove(),!1;"youtube"===t.type?(n="//img.youtube.com/vi/"+t.id+"/hqdefault.jpg",h(n)):"vimeo"===t.type?c.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){n=t[0].thumbnail_large,h(n)}}):"vzaar"===t.type&&c.ajax({type:"GET",url:"//vzaar.com/api/videos/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){n=t.framegrab_url,h(n)}})},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(t){var e,i=c(t.target).closest("."+this._core.settings.itemClass),n=this._videos[i.attr("data-video")],r=n.width||"100%",o=n.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),i=this._core.items(this._core.relative(i.index())),this._core.reset(i.index()),"youtube"===n.type?e='<iframe width="'+r+'" height="'+o+'" src="//www.youtube.com/embed/'+n.id+"?autoplay=1&rel=0&v="+n.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===n.type?e='<iframe src="//player.vimeo.com/video/'+n.id+'?autoplay=1" width="'+r+'" height="'+o+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===n.type&&(e='<iframe frameborder="0"height="'+o+'"width="'+r+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+n.id+'/player?autoplay=true"></iframe>'),c('<div class="owl-video-frame">'+e+"</div>").insertAfter(i.find(".owl-video")),this._playing=i.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var t=e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement;return t&&c(t).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},c.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(a,t,e,i){var n=function(t){this.core=t,this.core.options=a.extend({},n.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":a.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":a.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};n.Defaults={animateOut:!1,animateIn:!1},n.prototype.swap=function(){if(1===this.core.settings.items&&a.support.animation&&a.support.transition){this.core.speed(0);var t,e=a.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,o=this.core.settings.animateOut;this.core.current()!==this.previous&&(o&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.one(a.support.animation.end,e).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(o)),r&&n.one(a.support.animation.end,e).addClass("animated owl-animated-in").addClass(r))}},n.prototype.clear=function(t){a(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=n}(window.Zepto||window.jQuery,window,document),function(i,n,r,t){var e=function(t){this._core=t,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":i.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":i.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":i.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":i.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":i.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":i.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=i.extend({},e.Defaults,this._core.options)};e.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},e.prototype.play=function(t,e){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},e.prototype._getNextTimeout=function(t,e){return this._timeout&&n.clearTimeout(this._timeout),n.setTimeout(i.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||r.hidden||this._core.next(e||this._core.settings.autoplaySpeed)},this),t||this._core.settings.autoplayTimeout)},e.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},e.prototype.stop=function(){this._core.is("rotating")&&(n.clearTimeout(this._timeout),this._core.leave("rotating"))},e.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},e.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},i.fn.owlCarousel.Constructor.Plugins.autoplay=e}(window.Zepto||window.jQuery,window,document),function(o,t,e,i){"use strict";var n=function(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":o.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+o(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":o.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":o.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":o.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":o.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":o.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=o.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers)};n.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},n.prototype.initialize=function(){var t,i=this._core.settings;for(t in this._controls.$relative=(i.navContainer?o(i.navContainer):o("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=o("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",o.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=o("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",o.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[o("<div>").addClass(i.dotClass).append(o("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?o(i.dotsContainer):o("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",o.proxy(function(t){var e=o(t.target).parent().is(this._controls.$absolute)?o(t.target).index():o(t.target).parent().index();t.preventDefault(),this.to(e,i.dotsSpeed)},this)),this._overrides)this._core[t]=o.proxy(this[t],this)},n.prototype.destroy=function(){var t,e,i,n;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)this._controls[e].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},n.prototype.update=function(){var t,e,i=this._core.clones().length/2,n=i+this._core.items().length,r=this._core.maximum(!0),o=this._core.settings,a=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],t=i,e=0;t<n;t++){if(a<=e||0===e){if(this._pages.push({start:Math.min(r,t-i),end:t-i+a-1}),Math.min(r,t-i)===r)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},n.prototype.draw=function(){var t,e=this._core.settings,i=this._core.items().length<=e.items,n=this._core.relative(this._core.current()),r=e.loop||e.rewind;this._controls.$relative.toggleClass("disabled",!e.nav||i),e.nav&&(this._controls.$previous.toggleClass("disabled",!r&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!r&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!e.dots||i),e.dots&&(t=this._pages.length-this._controls.$absolute.children().length,e.dotsData&&0!==t?this._controls.$absolute.html(this._templates.join("")):0<t?this._controls.$absolute.append(new Array(t+1).join(this._templates[0])):t<0&&this._controls.$absolute.children().slice(t).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(o.inArray(this.current(),this._pages)).addClass("active"))},n.prototype.onTrigger=function(t){var e=this._core.settings;t.page={index:o.inArray(this.current(),this._pages),count:this._pages.length,size:e&&(e.center||e.autoWidth||e.dotsData?1:e.dotsEach||e.items)}},n.prototype.current=function(){var i=this._core.relative(this._core.current());return o.grep(this._pages,o.proxy(function(t,e){return t.start<=i&&t.end>=i},this)).pop()},n.prototype.getPosition=function(t){var e,i,n=this._core.settings;return"page"==n.slideBy?(e=o.inArray(this.current(),this._pages),i=this._pages.length,t?++e:--e,e=this._pages[(e%i+i)%i].start):(e=this._core.relative(this._core.current()),i=this._core.items().length,t?e+=n.slideBy:e-=n.slideBy),e},n.prototype.next=function(t){o.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},n.prototype.prev=function(t){o.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},n.prototype.to=function(t,e,i){var n;!i&&this._pages.length?(n=this._pages.length,o.proxy(this._overrides.to,this._core)(this._pages[(t%n+n)%n].start,e)):o.proxy(this._overrides.to,this._core)(t,e)},o.fn.owlCarousel.Constructor.Plugins.Navigation=n}(window.Zepto||window.jQuery,window,document),function(n,r,t,e){"use strict";var i=function(t){this._core=t,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":n.proxy(function(t){t.namespace&&"URLHash"===this._core.settings.startPosition&&n(r).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":n.proxy(function(t){if(t.namespace){var e=n(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!e)return;this._hashes[e]=t.content}},this),"changed.owl.carousel":n.proxy(function(t){if(t.namespace&&"position"===t.property.name){var i=this._core.items(this._core.relative(this._core.current())),e=n.map(this._hashes,function(t,e){return t===i?e:null}).join();if(!e||r.location.hash.slice(1)===e)return;r.location.hash=e}},this)},this._core.options=n.extend({},i.Defaults,this._core.options),this.$element.on(this._handlers),n(r).on("hashchange.owl.navigation",n.proxy(function(t){var e=r.location.hash.substring(1),i=this._core.$stage.children(),n=this._hashes[e]&&i.index(this._hashes[e]);void 0!==n&&n!==this._core.current()&&this._core.to(this._core.relative(n),!1,!0)},this))};i.Defaults={URLhashListener:!1},i.prototype.destroy=function(){var t,e;for(t in n(r).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},n.fn.owlCarousel.Constructor.Plugins.Hash=i}(window.Zepto||window.jQuery,window,document),function(r,t,e,o){var a=r("<support>").get(0).style,s="Webkit Moz O ms".split(" "),i={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},n=function(){return!!c("transform")},l=function(){return!!c("perspective")},h=function(){return!!c("animation")};function c(t,i){var n=!1,e=t.charAt(0).toUpperCase()+t.slice(1);return r.each((t+" "+s.join(e+" ")+e).split(" "),function(t,e){if(a[e]!==o)return n=!i||e,!1}),n}function u(t){return c(t,!0)}(function(){return!!c("transition")})()&&(r.support.transition=new String(u("transition")),r.support.transition.end=i.transition.end[r.support.transition]),h()&&(r.support.animation=new String(u("animation")),r.support.animation.end=i.animation.end[r.support.animation]),n()&&(r.support.transform=new String(u("transform")),r.support.transform3d=l())}(window.Zepto||window.jQuery,window,document),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Raphael=e():t.Raphael=e()}(this,function(){return function(i){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={exports:{},id:t,loaded:!1};return i[t].call(e.exports,e,e.exports,r),e.loaded=!0,e.exports}return r.m=i,r.c=n,r.p="",r(0)}([function(t,e,i){var n,r;n=[i(1),i(3),i(4)],void 0===(r=function(t){return t}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r;n=[i(2)],void 0===(r=function(O){function R(t){if(R.is(t,"function"))return n?t():O.on("raphael.DOMload",t);if(R.is(t,y))return R._engine.create[x](R,t.splice(0,3+R.is(t[0],$))).add(t);var e=Array.prototype.slice.call(arguments,0);if(R.is(e[e.length-1],"function")){var i=e.pop();return n?i.call(R._engine.create[x](R,e)):O.on("raphael.DOMload",function(){i.call(R._engine.create[x](R,e))})}return R._engine.create[x](R,arguments)}R.version="2.2.0",R.eve=O;var n,t,F=/[, ]+/,o={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},r=/\{(\d+)\}/g,N="hasOwnProperty",f={doc:document,win:window},e={was:Object.prototype[N].call(f.win,"Raphael"),is:f.win.Raphael},i=function(){this.ca=this.customAttributes={}},x="apply",W="concat",g="ontouchstart"in f.win||f.win.DocumentTouch&&f.doc instanceof DocumentTouch,w=" ",z=String,j="split",a="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[j](w),l={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},v=z.prototype.toLowerCase,Y=Math,k=Y.max,T=Y.min,U=Y.abs,D=Y.pow,G=Y.PI,$="number",c="string",y="array",s=Object.prototype.toString,h=(R._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),u={NaN:1,Infinity:1,"-Infinity":1},H=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,S=Y.round,V=parseFloat,d=parseInt,b=z.prototype.toUpperCase,B=R._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},q=R._availableAnimAttrs={blur:$,"clip-rect":"csv",cx:$,cy:$,fill:"colour","fill-opacity":$,"font-size":$,height:$,opacity:$,path:"path",r:$,rx:$,ry:$,stroke:"colour","stroke-opacity":$,"stroke-width":$,transform:"transform",width:$,x:$,y:$},p=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,m={hs:1,rg:1},_=/,?([achlmqrstvxz]),?/gi,C=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,A=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,M=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,E=(R._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),P=function(t,e){return V(t)-V(e)},X=function(t){return t},L=R._rectPath=function(t,e,i,n,r){return r?[["M",t+r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},I=function(t,e,i,n){return null==n&&(n=i),[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},K=R._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return I(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return I(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return L(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return L(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return L(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return L(e.x,e.y,e.width,e.height)}},Z=R.mapPath=function(t,e){if(!e)return t;var i,n,r,o,a,s,l;for(r=0,a=(t=Dt(t)).length;r<a;r++)for(o=1,s=(l=t[r]).length;o<s;o+=2)i=e.x(l[o],l[o+1]),n=e.y(l[o],l[o+1]),l[o]=i,l[o+1]=n;return t};if(R._g=f,"VML"==(R.type=f.win.SVGAngle||f.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML")){var Q,J=f.doc.createElement("div");if(J.innerHTML='<v:shape adj="1"/>',(Q=J.firstChild).style.behavior="url(#default#VML)",!Q||"object"!=typeof Q.adj)return R.type="";J=null}function tt(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[N](i)&&(e[i]=tt(t[i]));return e}R.svg=!(R.vml="VML"==R.type),R._Paper=i,R.fn=t=i.prototype=R.prototype,R._id=0,R.is=function(t,e){return"finite"==(e=v.call(e))?!u[N](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||s.call(t).slice(8,-1).toLowerCase()==e},R.angle=function(t,e,i,n,r,o){if(null==r){var a=t-i,s=e-n;return a||s?(180+180*Y.atan2(-s,-a)/G+360)%360:0}return R.angle(t,e,r,o)-R.angle(i,n,r,o)},R.rad=function(t){return t%360*G/180},R.deg=function(t){return Math.round(180*t/G%360*1e3)/1e3},R.snapTo=function(t,e,i){if(i=R.is(i,"finite")?i:10,R.is(t,y)){for(var n=t.length;n--;)if(U(t[n]-e)<=i)return t[n]}else{var r=e%(t=+t);if(r<i)return e-r;if(t-i<r)return e-r+t}return e};var et,it;R.createUUID=(et=/[xy]/g,it=function(t){var e=16*Y.random()|0;return("x"==t?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(et,it).toUpperCase()});R.setWindow=function(t){O("raphael.setWindow",R,f.win,t),f.win=t,f.doc=f.win.document,R._engine.initWin&&R._engine.initWin(f.win)};var nt=function(t){if(R.vml){var i,n=/^\s+|\s+$/g;try{var e=new ActiveXObject("htmlfile");e.write("<body>"),e.close(),i=e.body}catch(t){i=createPopup().document.body}var r=i.createTextRange();nt=ht(function(t){try{i.style.color=z(t).replace(n,"");var e=r.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(t){return"none"}})}else{var o=f.doc.createElement("i");o.title="Raphaël Colour Picker",o.style.display="none",f.doc.body.appendChild(o),nt=ht(function(t){return o.style.color=t,f.doc.defaultView.getComputedStyle(o,"").getPropertyValue("color")})}return nt(t)},rt=function(){return"hsb("+[this.h,this.s,this.b]+")"},ot=function(){return"hsl("+[this.h,this.s,this.l]+")"},at=function(){return this.hex},st=function(t,e,i){if(null==e&&R.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,e=t.g,t=t.r),null==e&&R.is(t,c)){var n=R.getRGB(t);t=n.r,e=n.g,i=n.b}return(1<t||1<e||1<i)&&(t/=255,e/=255,i/=255),[t,e,i]},lt=function(t,e,i,n){var r={r:t*=255,g:e*=255,b:i*=255,hex:R.rgb(t,e,i),toString:at};return R.is(n,"finite")&&(r.opacity=n),r};function ht(o,a,s){return function t(){var e=Array.prototype.slice.call(arguments,0),i=e.join("␀"),n=t.cache=t.cache||{},r=t.count=t.count||[];return n[N](i)?function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}(r,i):(1e3<=r.length&&delete n[r.shift()],r.push(i),n[i]=o[x](a,e)),s?s(n[i]):n[i]}}R.color=function(t){var e;return R.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=R.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):R.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=R.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(R.is(t,"string")&&(t=R.getRGB(t)),R.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=R.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=R.rgb2hsb(t),t.v=e.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=at,t},R.hsb2rgb=function(t,e,i,n){var r,o,a,s,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,n=t.o,t=t.h),s=(l=i*e)*(1-U((t=(t*=360)%360/60)%2-1)),r=o=a=i-l,lt(r+=[l,s,0,0,s,l][t=~~t],o+=[s,l,l,s,0,0][t],a+=[0,0,s,l,l,s][t],n)},R.hsl2rgb=function(t,e,i,n){var r,o,a,s,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(1<t||1<e||1<i)&&(t/=360,e/=100,i/=100),s=(l=2*e*(i<.5?i:1-i))*(1-U((t=(t*=360)%360/60)%2-1)),r=o=a=i-l/2,lt(r+=[l,s,0,0,s,l][t=~~t],o+=[s,l,l,s,0,0][t],a+=[0,0,s,l,l,s][t],n)},R.rgb2hsb=function(t,e,i){var n,r;return t=(i=st(t,e,i))[0],e=i[1],i=i[2],{h:((0==(r=(n=k(t,e,i))-T(t,e,i))?null:n==t?(e-i)/r:n==e?(i-t)/r+2:(t-e)/r+4)+360)%6*60/360,s:0==r?0:r/n,b:n,toString:rt}},R.rgb2hsl=function(t,e,i){var n,r,o,a;return t=(i=st(t,e,i))[0],e=i[1],i=i[2],n=((r=k(t,e,i))+(o=T(t,e,i)))/2,{h:((0==(a=r-o)?null:r==t?(e-i)/a:r==e?(i-t)/a+2:(t-e)/a+4)+360)%6*60/360,s:0==a?0:n<.5?a/(2*n):a/(2-2*n),l:n,toString:ot}},R._path2string=function(){return this.join(",").replace(_,"$1")};R._preload=function(t,e){var i=f.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,f.doc.body.removeChild(this)},i.onerror=function(){f.doc.body.removeChild(this)},f.doc.body.appendChild(i),i.src=t};function ct(){return this.hex}function ut(t,e){for(var i=[],n=0,r=t.length;n<r-2*!e;n+=2){var o=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?o[3]={x:+t[0],y:+t[1]}:r-2==n&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?o[3]=o[2]:n||(o[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}R.getRGB=ht(function(t){if(!t||(t=z(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ct};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:ct};!m[N](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=nt(t));var e,i,n,r,o,a,s=t.match(h);return s?(s[2]&&(n=d(s[2].substring(5),16),i=d(s[2].substring(3,5),16),e=d(s[2].substring(1,3),16)),s[3]&&(n=d((o=s[3].charAt(3))+o,16),i=d((o=s[3].charAt(2))+o,16),e=d((o=s[3].charAt(1))+o,16)),s[4]&&(a=s[4][j](p),e=V(a[0]),"%"==a[0].slice(-1)&&(e*=2.55),i=V(a[1]),"%"==a[1].slice(-1)&&(i*=2.55),n=V(a[2]),"%"==a[2].slice(-1)&&(n*=2.55),"rgba"==s[1].toLowerCase().slice(0,4)&&(r=V(a[3])),a[3]&&"%"==a[3].slice(-1)&&(r/=100)),s[5]?(a=s[5][j](p),e=V(a[0]),"%"==a[0].slice(-1)&&(e*=2.55),i=V(a[1]),"%"==a[1].slice(-1)&&(i*=2.55),n=V(a[2]),"%"==a[2].slice(-1)&&(n*=2.55),("deg"==a[0].slice(-3)||"°"==a[0].slice(-1))&&(e/=360),"hsba"==s[1].toLowerCase().slice(0,4)&&(r=V(a[3])),a[3]&&"%"==a[3].slice(-1)&&(r/=100),R.hsb2rgb(e,i,n,r)):s[6]?(a=s[6][j](p),e=V(a[0]),"%"==a[0].slice(-1)&&(e*=2.55),i=V(a[1]),"%"==a[1].slice(-1)&&(i*=2.55),n=V(a[2]),"%"==a[2].slice(-1)&&(n*=2.55),("deg"==a[0].slice(-3)||"°"==a[0].slice(-1))&&(e/=360),"hsla"==s[1].toLowerCase().slice(0,4)&&(r=V(a[3])),a[3]&&"%"==a[3].slice(-1)&&(r/=100),R.hsl2rgb(e,i,n,r)):((s={r:e,g:i,b:n,toString:ct}).hex="#"+(16777216|n|i<<8|e<<16).toString(16).slice(1),R.is(r,"finite")&&(s.opacity=r),s)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ct}},R),R.hsb=ht(function(t,e,i){return R.hsb2rgb(t,e,i).hex}),R.hsl=ht(function(t,e,i){return R.hsl2rgb(t,e,i).hex}),R.rgb=ht(function(t,e,i){function n(t){return t+.5|0}return"#"+(16777216|n(i)|n(e)<<8|n(t)<<16).toString(16).slice(1)}),(R.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,1<e.h&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex}).reset=function(){delete this.start},R.parsePathString=function(t){if(!t)return null;var e=dt(t);if(e.arr)return bt(e.arr);var o={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},a=[];return R.is(t,y)&&R.is(t[0],y)&&(a=bt(t)),a.length||z(t).replace(C,function(t,e,i){var n=[],r=e.toLowerCase();if(i.replace(M,function(t,e){e&&n.push(+e)}),"m"==r&&2<n.length&&(a.push([e][W](n.splice(0,2))),r="l",e="m"==e?"l":"L"),"r"==r)a.push([e][W](n));else for(;n.length>=o[r]&&(a.push([e][W](n.splice(0,o[r]))),o[r]););}),a.toString=R._path2string,e.arr=bt(a),a},R.parseTransformString=ht(function(t){if(!t)return null;var r=[];return R.is(t,y)&&R.is(t[0],y)&&(r=bt(t)),r.length||z(t).replace(A,function(t,e,i){var n=[];v.call(e);i.replace(M,function(t,e){e&&n.push(+e)}),r.push([e][W](n))}),r.toString=R._path2string,r});var dt=function(e){var i=dt.ps=dt.ps||{};return i[e]?i[e].sleep=100:i[e]={sleep:100},setTimeout(function(){for(var t in i)i[N](t)&&t!=e&&(i[t].sleep--,!i[t].sleep&&delete i[t])}),i[e]};function pt(t,e,i,n,r){return t*(t*(-3*e+9*i-9*n+3*r)+6*e-12*i+6*n)-3*e+3*i}function ft(t,e,i,n,r,o,a,s,l){null==l&&(l=1);for(var h=(l=1<l?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],u=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<12;p++){var f=h*c[p]+h,g=pt(f,t,i,r,a),m=pt(f,e,n,o,s),v=g*g+m*m;d+=u[p]*Y.sqrt(v)}return h*d}function gt(t,e,i,n,r,o,a,s){if(!(k(t,i)<T(r,a)||T(t,i)>k(r,a)||k(e,n)<T(o,s)||T(e,n)>k(o,s))){var l=(t-i)*(o-s)-(e-n)*(r-a);if(l){var h=((t*n-e*i)*(r-a)-(t-i)*(r*s-o*a))/l,c=((t*n-e*i)*(o-s)-(e-n)*(r*s-o*a))/l,u=+h.toFixed(2),d=+c.toFixed(2);if(!(u<+T(t,i).toFixed(2)||u>+k(t,i).toFixed(2)||u<+T(r,a).toFixed(2)||u>+k(r,a).toFixed(2)||d<+T(e,n).toFixed(2)||d>+k(e,n).toFixed(2)||d<+T(o,s).toFixed(2)||d>+k(o,s).toFixed(2)))return{x:h,y:c}}}}function mt(t,e,i){var n=R.bezierBBox(t),r=R.bezierBBox(e);if(!R.isBBoxIntersect(n,r))return i?0:[];for(var o=ft.apply(0,t),a=ft.apply(0,e),s=k(~~(o/5),1),l=k(~~(a/5),1),h=[],c=[],u={},d=i?0:[],p=0;p<s+1;p++){var f=R.findDotsAtSegment.apply(R,t.concat(p/s));h.push({x:f.x,y:f.y,t:p/s})}for(p=0;p<l+1;p++)f=R.findDotsAtSegment.apply(R,e.concat(p/l)),c.push({x:f.x,y:f.y,t:p/l});for(p=0;p<s;p++)for(var g=0;g<l;g++){var m=h[p],v=h[p+1],y=c[g],b=c[g+1],x=U(v.x-m.x)<.001?"y":"x",_=U(b.x-y.x)<.001?"y":"x",w=gt(m.x,m.y,v.x,v.y,y.x,y.y,b.x,b.y);if(w){if(u[w.x.toFixed(4)]==w.y.toFixed(4))continue;u[w.x.toFixed(4)]=w.y.toFixed(4);var S=m.t+U((w[x]-m[x])/(v[x]-m[x]))*(v.t-m.t),C=y.t+U((w[_]-y[_])/(b[_]-y[_]))*(b.t-y.t);0<=S&&S<=1.001&&0<=C&&C<=1.001&&(i?d++:d.push({x:w.x,y:w.y,t1:T(S,1),t2:T(C,1)}))}}return d}function vt(t,e,i){t=R._path2curve(t),e=R._path2curve(e);for(var n,r,o,a,s,l,h,c,u,d,p=i?0:[],f=0,g=t.length;f<g;f++){var m=t[f];if("M"==m[0])n=s=m[1],r=l=m[2];else{"C"==m[0]?(n=(u=[n,r].concat(m.slice(1)))[6],r=u[7]):(u=[n,r,n,r,s,l,s,l],n=s,r=l);for(var v=0,y=e.length;v<y;v++){var b=e[v];if("M"==b[0])o=h=b[1],a=c=b[2];else{"C"==b[0]?(o=(d=[o,a].concat(b.slice(1)))[6],a=d[7]):(d=[o,a,o,a,h,c,h,c],o=h,a=c);var x=mt(u,d,i);if(i)p+=x;else{for(var _=0,w=x.length;_<w;_++)x[_].segment1=f,x[_].segment2=v,x[_].bez1=u,x[_].bez2=d;p=p.concat(x)}}}}}return p}R.findDotsAtSegment=function(t,e,i,n,r,o,a,s,l){var h=1-l,c=D(h,3),u=D(h,2),d=l*l,p=d*l,f=c*t+3*u*l*i+3*h*l*l*r+p*a,g=c*e+3*u*l*n+3*h*l*l*o+p*s,m=t+2*l*(i-t)+d*(r-2*i+t),v=e+2*l*(n-e)+d*(o-2*n+e),y=i+2*l*(r-i)+d*(a-2*r+i),b=n+2*l*(o-n)+d*(s-2*o+n),x=h*t+l*i,_=h*e+l*n,w=h*r+l*a,S=h*o+l*s,C=90-180*Y.atan2(m-y,v-b)/G;return(y<m||v<b)&&(C+=180),{x:f,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:x,y:_},end:{x:w,y:S},alpha:C}},R.bezierBBox=function(t,e,i,n,r,o,a,s){R.is(t,"array")||(t=[t,e,i,n,r,o,a,s]);var l=Tt.apply(null,t);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},R.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},R.isBBoxIntersect=function(t,e){var i=R.isPointInsideBBox;return i(e,t.x,t.y)||i(e,t.x2,t.y)||i(e,t.x,t.y2)||i(e,t.x2,t.y2)||i(t,e.x,e.y)||i(t,e.x2,e.y)||i(t,e.x,e.y2)||i(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},R.pathIntersection=function(t,e){return vt(t,e)},R.pathIntersectionNumber=function(t,e){return vt(t,e,1)},R.isPointInsidePath=function(t,e,i){var n=R.pathBBox(t);return R.isPointInsideBBox(n,e,i)&&vt(t,[["M",e,i],["H",n.x2+10]],1)%2==1},R._removedFactory=function(t){return function(){O("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};var yt=R.pathBBox=function(t){var e=dt(t);if(e.bbox)return tt(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var i,n=0,r=0,o=[],a=[],s=0,l=(t=Dt(t)).length;s<l;s++)if("M"==(i=t[s])[0])n=i[1],r=i[2],o.push(n),a.push(r);else{var h=Tt(n,r,i[1],i[2],i[3],i[4],i[5],i[6]);o=o[W](h.min.x,h.max.x),a=a[W](h.min.y,h.max.y),n=i[5],r=i[6]}var c=T[x](0,o),u=T[x](0,a),d=k[x](0,o),p=k[x](0,a),f=d-c,g=p-u,m={x:c,y:u,x2:d,y2:p,width:f,height:g,cx:c+f/2,cy:u+g/2};return e.bbox=tt(m),m},bt=function(t){var e=tt(t);return e.toString=R._path2string,e},xt=R._pathToRelative=function(t){var e=dt(t);if(e.rel)return bt(e.rel);R.is(t,y)&&R.is(t&&t[0],y)||(t=R.parsePathString(t));var i=[],n=0,r=0,o=0,a=0,s=0;"M"==t[0][0]&&(o=n=t[0][1],a=r=t[0][2],s++,i.push(["M",n,r]));for(var l=s,h=t.length;l<h;l++){var c=i[l]=[],u=t[l];if(u[0]!=v.call(u[0]))switch(c[0]=v.call(u[0]),c[0]){case"a":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+(u[6]-n).toFixed(3),c[7]=+(u[7]-r).toFixed(3);break;case"v":c[1]=+(u[1]-r).toFixed(3);break;case"m":o=u[1],a=u[2];default:for(var d=1,p=u.length;d<p;d++)c[d]=+(u[d]-(d%2?n:r)).toFixed(3)}else{c=i[l]=[],"m"==u[0]&&(o=u[1]+n,a=u[2]+r);for(var f=0,g=u.length;f<g;f++)i[l][f]=u[f]}var m=i[l].length;switch(i[l][0]){case"z":n=o,r=a;break;case"h":n+=+i[l][m-1];break;case"v":r+=+i[l][m-1];break;default:n+=+i[l][m-2],r+=+i[l][m-1]}}return i.toString=R._path2string,e.rel=bt(i),i},_t=R._pathToAbsolute=function(t){var e=dt(t);if(e.abs)return bt(e.abs);if(R.is(t,y)&&R.is(t&&t[0],y)||(t=R.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],n=0,r=0,o=0,a=0,s=0;"M"==t[0][0]&&(o=n=+t[0][1],a=r=+t[0][2],s++,i[0]=["M",n,r]);for(var l,h,c=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),u=s,d=t.length;u<d;u++){if(i.push(l=[]),(h=t[u])[0]!=b.call(h[0]))switch(l[0]=b.call(h[0]),l[0]){case"A":l[1]=h[1],l[2]=h[2],l[3]=h[3],l[4]=h[4],l[5]=h[5],l[6]=+(h[6]+n),l[7]=+(h[7]+r);break;case"V":l[1]=+h[1]+r;break;case"H":l[1]=+h[1]+n;break;case"R":for(var p=[n,r][W](h.slice(1)),f=2,g=p.length;f<g;f++)p[f]=+p[f]+n,p[++f]=+p[f]+r;i.pop(),i=i[W](ut(p,c));break;case"M":o=+h[1]+n,a=+h[2]+r;default:for(f=1,g=h.length;f<g;f++)l[f]=+h[f]+(f%2?n:r)}else if("R"==h[0])p=[n,r][W](h.slice(1)),i.pop(),i=i[W](ut(p,c)),l=["R"][W](h.slice(-2));else for(var m=0,v=h.length;m<v;m++)l[m]=h[m];switch(l[0]){case"Z":n=o,r=a;break;case"H":n=l[1];break;case"V":r=l[1];break;case"M":o=l[l.length-2],a=l[l.length-1];default:n=l[l.length-2],r=l[l.length-1]}}return i.toString=R._path2string,e.abs=bt(i),i},wt=function(t,e,i,n){return[t,e,i,n,i,n]},St=function(t,e,i,n,r,o){return[1/3*t+2/3*i,1/3*e+2/3*n,1/3*r+2/3*i,1/3*o+2/3*n,r,o]},Ct=function(t,e,i,n,r,o,a,s,l,h){var c,u=120*G/180,d=G/180*(+r||0),p=[],f=ht(function(t,e,i){return{x:t*Y.cos(i)-e*Y.sin(i),y:t*Y.sin(i)+e*Y.cos(i)}});if(h)S=h[0],C=h[1],_=h[2],w=h[3];else{t=(c=f(t,e,-d)).x,e=c.y,s=(c=f(s,l,-d)).x,l=c.y;Y.cos(G/180*r),Y.sin(G/180*r);var g=(t-s)/2,m=(e-l)/2,v=g*g/(i*i)+m*m/(n*n);1<v&&(i*=v=Y.sqrt(v),n*=v);var y=i*i,b=n*n,x=(o==a?-1:1)*Y.sqrt(U((y*b-y*m*m-b*g*g)/(y*m*m+b*g*g))),_=x*i*m/n+(t+s)/2,w=x*-n*g/i+(e+l)/2,S=Y.asin(((e-w)/n).toFixed(9)),C=Y.asin(((l-w)/n).toFixed(9));(S=t<_?G-S:S)<0&&(S=2*G+S),(C=s<_?G-C:C)<0&&(C=2*G+C),a&&C<S&&(S-=2*G),!a&&S<C&&(C-=2*G)}var k=C-S;if(U(k)>u){var T=C,D=s,A=l;C=S+u*(a&&S<C?1:-1),s=_+i*Y.cos(C),l=w+n*Y.sin(C),p=Ct(s,l,i,n,r,0,a,D,A,[C,T,_,w])}k=C-S;var M=Y.cos(S),E=Y.sin(S),P=Y.cos(C),L=Y.sin(C),I=Y.tan(k/4),O=4/3*i*I,R=4/3*n*I,F=[t,e],N=[t+O*E,e-R*M],z=[s+O*L,l-R*P],$=[s,l];if(N[0]=2*F[0]-N[0],N[1]=2*F[1]-N[1],h)return[N,z,$][W](p);for(var H=[],V=0,B=(p=[N,z,$][W](p).join()[j](",")).length;V<B;V++)H[V]=V%2?f(p[V-1],p[V],d).y:f(p[V],p[V+1],d).x;return H},kt=function(t,e,i,n,r,o,a,s,l){var h=1-l;return{x:D(h,3)*t+3*D(h,2)*l*i+3*h*l*l*r+D(l,3)*a,y:D(h,3)*e+3*D(h,2)*l*n+3*h*l*l*o+D(l,3)*s}},Tt=ht(function(t,e,i,n,r,o,a,s){var l,h=r-2*i+t-(a-2*r+i),c=2*(i-t)-2*(r-i),u=t-i,d=(-c+Y.sqrt(c*c-4*h*u))/2/h,p=(-c-Y.sqrt(c*c-4*h*u))/2/h,f=[e,s],g=[t,a];return"1e12"<U(d)&&(d=.5),"1e12"<U(p)&&(p=.5),0<d&&d<1&&(l=kt(t,e,i,n,r,o,a,s,d),g.push(l.x),f.push(l.y)),0<p&&p<1&&(l=kt(t,e,i,n,r,o,a,s,p),g.push(l.x),f.push(l.y)),h=o-2*n+e-(s-2*o+n),u=e-n,d=(-(c=2*(n-e)-2*(o-n))+Y.sqrt(c*c-4*h*u))/2/h,p=(-c-Y.sqrt(c*c-4*h*u))/2/h,"1e12"<U(d)&&(d=.5),"1e12"<U(p)&&(p=.5),0<d&&d<1&&(l=kt(t,e,i,n,r,o,a,s,d),g.push(l.x),f.push(l.y)),0<p&&p<1&&(l=kt(t,e,i,n,r,o,a,s,p),g.push(l.x),f.push(l.y)),{min:{x:T[x](0,g),y:T[x](0,f)},max:{x:k[x](0,g),y:k[x](0,f)}}}),Dt=R._path2curve=ht(function(t,e){var i=!e&&dt(t);if(!e&&i.curve)return bt(i.curve);for(var o=_t(t),a=e&&_t(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(t,e,i){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][W](Ct[x](0,[e.x,e.y][W](t.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*e.x-e.bx,r=2*e.y-e.by):(n=e.x,r=e.y),t=["C",n,r][W](t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][W](St(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][W](St(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][W](wt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][W](wt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][W](wt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][W](wt(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(7<t[e].length){t[e].shift();for(var i=t[e];i.length;)c[e]="A",a&&(u[e]="A"),t.splice(e++,0,["C"][W](i.splice(0,6)));t.splice(e,1),g=k(o.length,a&&a.length||0)}},h=function(t,e,i,n,r){t&&e&&"M"==t[r][0]&&"M"!=e[r][0]&&(e.splice(r,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],g=k(o.length,a&&a.length||0))},c=[],u=[],d="",p="",f=0,g=k(o.length,a&&a.length||0);f<g;f++){o[f]&&(d=o[f][0]),"C"!=d&&(c[f]=d,f&&(p=c[f-1])),o[f]=s(o[f],n,p),"A"!=c[f]&&"C"==d&&(c[f]="C"),l(o,f),a&&(a[f]&&(d=a[f][0]),"C"!=d&&(u[f]=d,f&&(p=u[f-1])),a[f]=s(a[f],r,p),"A"!=u[f]&&"C"==d&&(u[f]="C"),l(a,f)),h(o,a,n,r,f),h(a,o,r,n,f);var m=o[f],v=a&&a[f],y=m.length,b=a&&v.length;n.x=m[y-2],n.y=m[y-1],n.bx=V(m[y-4])||n.x,n.by=V(m[y-3])||n.y,r.bx=a&&(V(v[b-4])||r.x),r.by=a&&(V(v[b-3])||r.y),r.x=a&&v[b-2],r.y=a&&v[b-1]}return a||(i.curve=bt(o)),a?[o,a]:o},null,bt),At=(R._parseDots=ht(function(t){for(var e=[],i=0,n=t.length;i<n;i++){var r={},o=t[i].match(/^([^:]*):?([\d\.]*)/);if(r.color=R.getRGB(o[1]),r.color.error)return null;r.opacity=r.color.opacity,r.color=r.color.hex,o[2]&&(r.offset=o[2]+"%"),e.push(r)}for(i=1,n=e.length-1;i<n;i++)if(!e[i].offset){for(var a=V(e[i-1].offset||0),s=0,l=i+1;l<n;l++)if(e[l].offset){s=e[l].offset;break}s||(s=100,l=n);for(var h=((s=V(s))-a)/(l-i+1);i<l;i++)a+=h,e[i].offset=a+"%"}return e}),R._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Mt=(R._tofront=function(t,e){e.top!==t&&(At(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},R._toback=function(t,e){e.bottom!==t&&(At(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},R._insertafter=function(t,e,i){At(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,(t.prev=e).next=t},R._insertbefore=function(t,e,i){At(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,(e.prev=t).next=e},R.toMatrix=function(t,e){var i=yt(t),n={_:{transform:""},getBBox:function(){return i}};return Et(n,e),n.matrix}),Et=(R.transformPath=function(t,e){return Z(t,Mt(t,e))},R._extractTransform=function(t,e){if(null==e)return t._.transform;e=z(e).replace(/\.{3}|\u2026/g,t._.transform||"");var i,n,r=R.parseTransformString(e),o=0,a=1,s=1,l=t._,h=new It;if(l.transform=r||[],r)for(var c=0,u=r.length;c<u;c++){var d,p,f,g,m,v=r[c],y=v.length,b=z(v[0]).toLowerCase(),x=v[0]!=b,_=x?h.invert():0;"t"==b&&3==y?x?(d=_.x(0,0),p=_.y(0,0),f=_.x(v[1],v[2]),g=_.y(v[1],v[2]),h.translate(f-d,g-p)):h.translate(v[1],v[2]):"r"==b?2==y?(m=m||t.getBBox(1),h.rotate(v[1],m.x+m.width/2,m.y+m.height/2),o+=v[1]):4==y&&(x?(f=_.x(v[2],v[3]),g=_.y(v[2],v[3]),h.rotate(v[1],f,g)):h.rotate(v[1],v[2],v[3]),o+=v[1]):"s"==b?2==y||3==y?(m=m||t.getBBox(1),h.scale(v[1],v[y-1],m.x+m.width/2,m.y+m.height/2),a*=v[1],s*=v[y-1]):5==y&&(x?(f=_.x(v[3],v[4]),g=_.y(v[3],v[4]),h.scale(v[1],v[2],f,g)):h.scale(v[1],v[2],v[3],v[4]),a*=v[1],s*=v[2]):"m"==b&&7==y&&h.add(v[1],v[2],v[3],v[4],v[5],v[6]),l.dirtyT=1,t.matrix=h}t.matrix=h,l.sx=a,l.sy=s,l.deg=o,l.dx=i=h.e,l.dy=n=h.f,1==a&&1==s&&!o&&l.bbox?(l.bbox.x+=+i,l.bbox.y+=+n):l.dirtyT=1}),Pt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Lt=R._equaliseTransform=function(t,e){e=z(e).replace(/\.{3}|\u2026/g,t),t=R.parseTransformString(t)||[],e=R.parseTransformString(e)||[];for(var i,n,r,o,a=k(t.length,e.length),s=[],l=[],h=0;h<a;h++){if(r=t[h]||Pt(e[h]),o=e[h]||Pt(r),r[0]!=o[0]||"r"==r[0].toLowerCase()&&(r[2]!=o[2]||r[3]!=o[3])||"s"==r[0].toLowerCase()&&(r[3]!=o[3]||r[4]!=o[4]))return;for(s[h]=[],l[h]=[],i=0,n=k(r.length,o.length);i<n;i++)i in r&&(s[h][i]=r[i]),i in o&&(l[h][i]=o[i])}return{from:s,to:l}};function It(t,e,i,n,r,o){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}R._getContainer=function(t,e,i,n){var r;if(null!=(r=null!=n||R.is(t,"object")?t:f.doc.getElementById(t)))return r.tagName?null==e?{container:r,width:r.style.pixelWidth||r.offsetWidth,height:r.style.pixelHeight||r.offsetHeight}:{container:r,width:e,height:i}:{container:1,x:t,y:e,width:i,height:n}},R.pathToRelative=xt,R._engine={},R.path2curve=Dt,R.matrix=function(t,e,i,n,r,o){return new It(t,e,i,n,r,o)},function(t){function r(t){return t[0]*t[0]+t[1]*t[1]}function o(t){var e=Y.sqrt(r(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,i,n,r,o){var a,s,l,h,c=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,i,r],[e,n,o],[0,0,1]];for(t&&t instanceof It&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;a<3;a++)for(s=0;s<3;s++){for(l=h=0;l<3;l++)h+=u[a][l]*d[l][s];c[a][s]=h}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new It(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new It(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,n){null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},t.rotate=function(t,e,i){t=R.rad(t),e=e||0,i=i||0;var n=+Y.cos(t).toFixed(9),r=+Y.sin(t).toFixed(9);this.add(n,r,-r,n,e,i),this.add(1,0,0,1,-e,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[z.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return R.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];t.scalex=Y.sqrt(r(e[0])),o(e[0]),t.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*t.shear,e[1][1]-e[0][1]*t.shear],t.scaley=Y.sqrt(r(e[1])),o(e[1]),t.shear/=t.scaley;var i=-e[0][1],n=e[1][1];return n<0?(t.rotate=R.deg(Y.acos(n)),i<0&&(t.rotate=360-t.rotate)):t.rotate=R.deg(Y.asin(i)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[j]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:"")+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:"")+(e.rotate?"r"+[e.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(It.prototype);for(var Ot=function(){this.returnValue=!1},Rt=function(){return this.originalEvent.preventDefault()},Ft=function(){this.cancelBubble=!0},Nt=function(){return this.originalEvent.stopPropagation()},zt=function(t){var e=f.doc.documentElement.scrollTop||f.doc.body.scrollTop,i=f.doc.documentElement.scrollLeft||f.doc.body.scrollLeft;return{x:t.clientX+i,y:t.clientY+e}},$t=f.doc.addEventListener?function(o,t,a,s){var e=function(t){var e=zt(t);return a.call(s,t,e.x,e.y)};if(o.addEventListener(t,e,!1),g&&l[t]){var i=function(t){for(var e=zt(t),i=t,n=0,r=t.targetTouches&&t.targetTouches.length;n<r;n++)if(t.targetTouches[n].target==o){(t=t.targetTouches[n]).originalEvent=i,t.preventDefault=Rt,t.stopPropagation=Nt;break}return a.call(s,t,e.x,e.y)};o.addEventListener(l[t],i,!1)}return function(){return o.removeEventListener(t,e,!1),g&&l[t]&&o.removeEventListener(l[t],i,!1),!0}}:f.doc.attachEvent?function(t,e,o,a){var i=function(t){t=t||f.win.event;var e=f.doc.documentElement.scrollTop||f.doc.body.scrollTop,i=f.doc.documentElement.scrollLeft||f.doc.body.scrollLeft,n=t.clientX+i,r=t.clientY+e;return t.preventDefault=t.preventDefault||Ot,t.stopPropagation=t.stopPropagation||Ft,o.call(a,t,n,r)};return t.attachEvent("on"+e,i),function(){return t.detachEvent("on"+e,i),!0}}:void 0,Ht=[],Vt=function(t){for(var e,i=t.clientX,n=t.clientY,r=f.doc.documentElement.scrollTop||f.doc.body.scrollTop,o=f.doc.documentElement.scrollLeft||f.doc.body.scrollLeft,a=Ht.length;a--;){if(e=Ht[a],g&&t.touches){for(var s,l=t.touches.length;l--;)if((s=t.touches[l]).identifier==e.el._drag.id){i=s.clientX,n=s.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var h,c=e.el.node,u=c.nextSibling,d=c.parentNode,p=c.style.display;f.win.opera&&d.removeChild(c),c.style.display="none",h=e.el.paper.getElementByPoint(i,n),c.style.display=p,f.win.opera&&(u?d.insertBefore(c,u):d.appendChild(c)),h&&O("raphael.drag.over."+e.el.id,e.el,h),i+=o,n+=r,O("raphael.drag.move."+e.el.id,e.move_scope||e.el,i-e.el._drag.x,n-e.el._drag.y,i,n,t)}},Bt=function(t){R.unmousemove(Vt).unmouseup(Bt);for(var e,i=Ht.length;i--;)(e=Ht[i]).el._drag={},O("raphael.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,t);Ht=[]},Wt=R.el={},jt=a.length;jt--;)!function(n){R[n]=Wt[n]=function(t,e){return R.is(t,"function")&&(this.events=this.events||[],this.events.push({name:n,f:t,unbind:$t(this.shape||this.node||f.doc,n,t,e||this)})),this},R["un"+n]=Wt["un"+n]=function(t){for(var e=this.events||[],i=e.length;i--;)e[i].name!=n||!R.is(t,"undefined")&&e[i].f!=t||(e[i].unbind(),e.splice(i,1),!e.length&&delete this.events);return this}}(a[jt]);Wt.data=function(t,e){var i=E[this.id]=E[this.id]||{};if(0==arguments.length)return i;if(1==arguments.length){if(R.is(t,"object")){for(var n in t)t[N](n)&&this.data(n,t[n]);return this}return O("raphael.data.get."+this.id,this,i[t],t),i[t]}return i[t]=e,O("raphael.data.set."+this.id,this,e,t),this},Wt.removeData=function(t){return null==t?E[this.id]={}:E[this.id]&&delete E[this.id][t],this},Wt.getData=function(){return tt(E[this.id]||{})},Wt.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},Wt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Yt=[];Wt.drag=function(s,l,h,c,u,d){function t(t){(t.originalEvent||t).preventDefault();var e=t.clientX,i=t.clientY,n=f.doc.documentElement.scrollTop||f.doc.body.scrollTop,r=f.doc.documentElement.scrollLeft||f.doc.body.scrollLeft;if(this._drag.id=t.identifier,g&&t.touches)for(var o,a=t.touches.length;a--;)if(o=t.touches[a],this._drag.id=o.identifier,o.identifier==this._drag.id){e=o.clientX,i=o.clientY;break}this._drag.x=e+r,this._drag.y=i+n,!Ht.length&&R.mousemove(Vt).mouseup(Bt),Ht.push({el:this,move_scope:c,start_scope:u,end_scope:d}),l&&O.on("raphael.drag.start."+this.id,l),s&&O.on("raphael.drag.move."+this.id,s),h&&O.on("raphael.drag.end."+this.id,h),O("raphael.drag.start."+this.id,u||c||this,t.clientX+r,t.clientY+n,t)}return this._drag={},Yt.push({el:this,start:t}),this.mousedown(t),this},Wt.onDragOver=function(t){t?O.on("raphael.drag.over."+this.id,t):O.unbind("raphael.drag.over."+this.id)},Wt.undrag=function(){for(var t=Yt.length;t--;)Yt[t].el==this&&(this.unmousedown(Yt[t].start),Yt.splice(t,1),O.unbind("raphael.drag.*."+this.id));!Yt.length&&R.unmousemove(Vt).unmouseup(Bt),Ht=[]},t.circle=function(t,e,i){var n=R._engine.circle(this,t||0,e||0,i||0);return this.__set__&&this.__set__.push(n),n},t.rect=function(t,e,i,n,r){var o=R._engine.rect(this,t||0,e||0,i||0,n||0,r||0);return this.__set__&&this.__set__.push(o),o},t.ellipse=function(t,e,i,n){var r=R._engine.ellipse(this,t||0,e||0,i||0,n||0);return this.__set__&&this.__set__.push(r),r},t.path=function(t){t&&!R.is(t,c)&&!R.is(t[0],y)&&(t+="");var e=R._engine.path(R.format[x](R,arguments),this);return this.__set__&&this.__set__.push(e),e},t.image=function(t,e,i,n,r){var o=R._engine.image(this,t||"about:blank",e||0,i||0,n||0,r||0);return this.__set__&&this.__set__.push(o),o},t.text=function(t,e,i){var n=R._engine.text(this,t||0,e||0,z(i));return this.__set__&&this.__set__.push(n),n},t.set=function(t){!R.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new de(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},t.setStart=function(t){this.__set__=t||this.set()},t.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},t.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},t.setSize=function(t,e){return R._engine.setSize.call(this,t,e)},t.setViewBox=function(t,e,i,n,r){return R._engine.setViewBox.call(this,t,e,i,n,r)},t.top=t.bottom=null,t.raphael=R;function Ut(){return this.x+w+this.y+w+this.width+" × "+this.height}t.getElementByPoint=function(t,e){var i,n,r,o,a,s,l,h=this.canvas,c=f.doc.elementFromPoint(t,e);if(f.win.opera&&"svg"==c.tagName){var u=(n=(i=h).getBoundingClientRect(),r=i.ownerDocument,o=r.body,a=r.documentElement,s=a.clientTop||o.clientTop||0,l=a.clientLeft||o.clientLeft||0,{y:n.top+(f.win.pageYOffset||a.scrollTop||o.scrollTop)-s,x:n.left+(f.win.pageXOffset||a.scrollLeft||o.scrollLeft)-l}),d=h.createSVGRect();d.x=t-u.x,d.y=e-u.y,d.width=d.height=1;var p=h.getIntersectionList(d,null);p.length&&(c=p[p.length-1])}if(!c)return null;for(;c.parentNode&&c!=h.parentNode&&!c.raphael;)c=c.parentNode;return c==this.canvas.parentNode&&(c=h),c=c&&c.raphael?this.getById(c.raphaelid):null},t.getElementsByBBox=function(e){var i=this.set();return this.forEach(function(t){R.isBBoxIntersect(t.getBBox(),e)&&i.push(t)}),i},t.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},t.forEach=function(t,e){for(var i=this.bottom;i;){if(!1===t.call(e,i))return this;i=i.next}return this},t.getElementsByPoint=function(e,i){var n=this.set();return this.forEach(function(t){t.isPointInside(e,i)&&n.push(t)}),n},Wt.isPointInside=function(t,e){var i=this.realPath=K[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=R.transformPath(i,this.attr("transform"))),R.isPointInsidePath(i,t,e)},Wt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=K[this.type](this),e.bboxwt=yt(this.realPath),e.bboxwt.toString=Ut,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=K[this.type](this)),e.bbox=yt(Z(this.realPath,this.matrix)),e.bbox.toString=Ut,e.dirty=e.dirtyT=0),e.bbox)},Wt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Wt.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,r=n.set(),o=this.realPath||K[this.type](this);o=this.matrix?Z(o,this.matrix):o;for(var a=1;a<i+1;a++)r.push(n.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*a).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var Gt=function(t,e,i,n,r,o,a,s,l){return null==l?ft(t,e,i,n,r,o,a,s):R.findDotsAtSegment(t,e,i,n,r,o,a,s,function(t,e,i,n,r,o,a,s,l){if(!(l<0||ft(t,e,i,n,r,o,a,s)<l)){var h,c=.5,u=1-c;for(h=ft(t,e,i,n,r,o,a,s,u);.01<U(h-l);)h=ft(t,e,i,n,r,o,a,s,u+=(h<l?1:-1)*(c/=2));return u}}(t,e,i,n,r,o,a,s,l))},qt=function(p,f){return function(t,e,i){for(var n,r,o,a,s,l="",h={},c=0,u=0,d=(t=Dt(t)).length;u<d;u++){if("M"==(o=t[u])[0])n=+o[1],r=+o[2];else{if(e<c+(a=Gt(n,r,o[1],o[2],o[3],o[4],o[5],o[6]))){if(f&&!h.start){if(l+=["C"+(s=Gt(n,r,o[1],o[2],o[3],o[4],o[5],o[6],e-c)).start.x,s.start.y,s.m.x,s.m.y,s.x,s.y],i)return l;h.start=l,l=["M"+s.x,s.y+"C"+s.n.x,s.n.y,s.end.x,s.end.y,o[5],o[6]].join(),c+=a,n=+o[5],r=+o[6];continue}if(!p&&!f)return{x:(s=Gt(n,r,o[1],o[2],o[3],o[4],o[5],o[6],e-c)).x,y:s.y,alpha:s.alpha}}c+=a,n=+o[5],r=+o[6]}l+=o.shift()+o}return h.end=l,(s=p?c:f?h:R.findDotsAtSegment(n,r,o[0],o[1],o[2],o[3],o[4],o[5],1)).alpha&&(s={x:s.x,y:s.y,alpha:s.alpha}),s}},Xt=qt(1),Kt=qt(),Zt=qt(0,1);R.getTotalLength=Xt,R.getPointAtLength=Kt,R.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return Zt(t,e).end;var n=Zt(t,i,1);return e?Zt(n,e).end:n},Wt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Xt(t)},Wt.getPointAtLength=function(t){var e=this.getPath();if(e)return Kt(e,t)},Wt.getPath=function(){var t,e=R._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return e&&(t=e(this)),t},Wt.getSubpath=function(t,e){var i=this.getPath();if(i)return R.getSubpath(i,t,e)};var Qt=R.easing_formulas={linear:function(t){return t},"<":function(t){return D(t,1.7)},">":function(t){return D(t,.48)},"<>":function(t){var e=.48-t/1.04,i=Y.sqrt(.1734+e*e),n=i-e,r=-i-e,o=D(U(n),1/3)*(n<0?-1:1)+D(U(r),1/3)*(r<0?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},elastic:function(t){return t==!!t?t:D(2,-10*t)*Y.sin(2*G*(t-.075)/.3)+1},bounce:function(t){var e=7.5625;return t<1/2.75?e*t*t:t<2/2.75?e*(t-=1.5/2.75)*t+.75:t<2.5/2.75?e*(t-=2.25/2.75)*t+.9375:e*(t-=2.625/2.75)*t+.984375}};Qt.easeIn=Qt["ease-in"]=Qt["<"],Qt.easeOut=Qt["ease-out"]=Qt[">"],Qt.easeInOut=Qt["ease-in-out"]=Qt["<>"],Qt["back-in"]=Qt.backIn,Qt["back-out"]=Qt.backOut;var Jt=[],te=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},ee=function(){for(var t=+new Date,e=0;e<Jt.length;e++){var i=Jt[e];if(!i.el.removed&&!i.paused){var n,r,o=t-i.start,a=i.ms,s=i.easing,l=i.from,h=i.diff,c=i.to,u=(i.t,i.el),d={},p={};if(i.initstatus?(o=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*a,i.status=i.initstatus,delete i.initstatus,i.stop&&Jt.splice(e--,1)):i.status=(i.prev+(i.percent-i.prev)*(o/a))/i.anim.top,!(o<0))if(o<a){var f=s(o/a);for(var g in l)if(l[N](g)){switch(q[g]){case $:n=+l[g]+f*a*h[g];break;case"colour":n="rgb("+[ie(S(l[g].r+f*a*h[g].r)),ie(S(l[g].g+f*a*h[g].g)),ie(S(l[g].b+f*a*h[g].b))].join(",")+")";break;case"path":n=[];for(var m=0,v=l[g].length;m<v;m++){n[m]=[l[g][m][0]];for(var y=1,b=l[g][m].length;y<b;y++)n[m][y]=+l[g][m][y]+f*a*h[g][m][y];n[m]=n[m].join(w)}n=n.join(w);break;case"transform":if(h[g].real)for(n=[],m=0,v=l[g].length;m<v;m++)for(n[m]=[l[g][m][0]],y=1,b=l[g][m].length;y<b;y++)n[m][y]=l[g][m][y]+f*a*h[g][m][y];else{var x=function(t){return+l[g][t]+f*a*h[g][t]};n=[["m",x(0),x(1),x(2),x(3),x(4),x(5)]]}break;case"csv":if("clip-rect"==g)for(n=[],m=4;m--;)n[m]=+l[g][m]+f*a*h[g][m];break;default:var _=[][W](l[g]);for(n=[],m=u.paper.customAttributes[g].length;m--;)n[m]=+_[m]+f*a*h[g][m]}d[g]=n}u.attr(d),function(t,e,i){setTimeout(function(){O("raphael.anim.frame."+t,e,i)})}(u.id,u,i.anim)}else{if(function(t,e,i){setTimeout(function(){O("raphael.anim.frame."+e.id,e,i),O("raphael.anim.finish."+e.id,e,i),R.is(t,"function")&&t.call(e)})}(i.callback,u,i.anim),u.attr(c),Jt.splice(e--,1),1<i.repeat&&!i.next){for(r in c)c[N](r)&&(p[r]=i.totalOrigin[r]);i.el.attr(p),oe(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&oe(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}}Jt.length&&te(ee)},ie=function(t){return 255<t?255:t<0?0:t};function ne(t,e,i,n,r,o){var a,l=3*e,h=3*(n-e)-l,c=1-l-h,s=3*i,u=3*(r-i)-s,d=1-s-u;function p(t){return((c*t+h)*t+l)*t}return a=function(t,e){var i,n,r,o,a,s;for(r=t,s=0;s<8;s++){if(o=p(r)-t,U(o)<e)return r;if(U(a=(3*c*r+2*h)*r+l)<1e-6)break;r-=o/a}if(n=1,(r=t)<(i=0))return i;if(n<r)return n;for(;i<n;){if(o=p(r),U(o-t)<e)return r;o<t?i=r:n=r,r=(n-i)/2+i}return r}(t,1/(200*o)),((d*a+u)*a+s)*a}function re(t,e){var i=[],n={};if(this.ms=e,this.times=1,t){for(var r in t)t[N](r)&&(n[V(r)]=t[r],i.push(V(r)));i.sort(P)}this.anim=n,this.top=i[i.length-1],this.percents=i}function oe(t,e,i,n,r,o){i=V(i);var a,s,l,h,c,u,d=t.ms,p={},f={},g={};if(n)for(v=0,y=Jt.length;v<y;v++){var m=Jt[v];if(m.el.id==e.id&&m.anim==t){m.percent!=i?(Jt.splice(v,1),l=1):s=m,e.attr(m.totalOrigin);break}}else n=+f;for(var v=0,y=t.percents.length;v<y;v++){if(t.percents[v]==i||t.percents[v]>n*t.top){i=t.percents[v],c=t.percents[v-1]||0,d=d/t.top*(i-c),h=t.percents[v+1],a=t.anim[i];break}n&&e.attr(t.anim[t.percents[v]])}if(a){if(s)s.initstatus=n,s.start=new Date-s.ms*n;else{for(var b in a)if(a[N](b)&&(q[N](b)||e.paper.customAttributes[N](b)))switch(p[b]=e.attr(b),null==p[b]&&(p[b]=B[b]),f[b]=a[b],q[b]){case $:g[b]=(f[b]-p[b])/d;break;case"colour":p[b]=R.getRGB(p[b]);var x=R.getRGB(f[b]);g[b]={r:(x.r-p[b].r)/d,g:(x.g-p[b].g)/d,b:(x.b-p[b].b)/d};break;case"path":var _=Dt(p[b],f[b]),w=_[1];for(p[b]=_[0],g[b]=[],v=0,y=p[b].length;v<y;v++){g[b][v]=[0];for(var S=1,C=p[b][v].length;S<C;S++)g[b][v][S]=(w[v][S]-p[b][v][S])/d}break;case"transform":var k=e._,T=Lt(k[b],f[b]);if(T)for(p[b]=T.from,f[b]=T.to,g[b]=[],g[b].real=!0,v=0,y=p[b].length;v<y;v++)for(g[b][v]=[p[b][v][0]],S=1,C=p[b][v].length;S<C;S++)g[b][v][S]=(f[b][v][S]-p[b][v][S])/d;else{var D=e.matrix||new It,A={_:{transform:k.transform},getBBox:function(){return e.getBBox(1)}};p[b]=[D.a,D.b,D.c,D.d,D.e,D.f],Et(A,f[b]),f[b]=A._.transform,g[b]=[(A.matrix.a-D.a)/d,(A.matrix.b-D.b)/d,(A.matrix.c-D.c)/d,(A.matrix.d-D.d)/d,(A.matrix.e-D.e)/d,(A.matrix.f-D.f)/d]}break;case"csv":var M=z(a[b])[j](F),E=z(p[b])[j](F);if("clip-rect"==b)for(p[b]=E,g[b]=[],v=E.length;v--;)g[b][v]=(M[v]-p[b][v])/d;f[b]=M;break;default:for(M=[][W](a[b]),E=[][W](p[b]),g[b]=[],v=e.paper.customAttributes[b].length;v--;)g[b][v]=((M[v]||0)-(E[v]||0))/d}var P=a.easing,L=R.easing_formulas[P];if(!L)if((L=z(P).match(H))&&5==L.length){var I=L;L=function(t){return ne(t,+I[1],+I[2],+I[3],+I[4],d)}}else L=X;if(m={anim:t,percent:i,timestamp:u=a.start||t.start||+new Date,start:u+(t.del||0),status:0,initstatus:n||0,stop:!1,ms:d,easing:L,from:p,diff:g,to:f,el:e,callback:a.callback,prev:c,next:h,repeat:o||t.times,origin:e.attr(),totalOrigin:r},Jt.push(m),n&&!s&&!l&&(m.stop=!0,m.start=new Date-d*n,1==Jt.length))return ee();l&&(m.start=new Date-m.ms*n),1==Jt.length&&te(ee)}O("raphael.anim.start."+e.id,e,t)}}function ae(t){for(var e=0;e<Jt.length;e++)Jt[e].el.paper==t&&Jt.splice(e--,1)}Wt.animateWith=function(t,e,i,n,r,o){if(this.removed)return o&&o.call(this),this;var a=i instanceof re?i:R.animation(i,n,r,o);oe(a,this,a.percents[0],null,this.attr());for(var s=0,l=Jt.length;s<l;s++)if(Jt[s].anim==e&&Jt[s].el==t){Jt[l-1].start=Jt[s].start;break}return this},Wt.onAnimation=function(t){return t?O.on("raphael.anim.frame."+this.id,t):O.unbind("raphael.anim.frame."+this.id),this},re.prototype.delay=function(t){var e=new re(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},re.prototype.repeat=function(t){var e=new re(this.anim,this.ms);return e.del=this.del,e.times=Y.floor(k(t,0))||1,e},R.animation=function(t,e,i,n){if(t instanceof re)return t;!R.is(i,"function")&&i||(n=n||i||null,i=null),t=Object(t),e=+e||0;var r,o,a={};for(o in t)t[N](o)&&V(o)!=o&&V(o)+"%"!=o&&(r=!0,a[o]=t[o]);if(r)return i&&(a.easing=i),n&&(a.callback=n),new re({100:a},e);if(n){var s=0;for(var l in t){var h=d(l);t[N](l)&&s<h&&(s=h)}!t[s+="%"].callback&&(t[s].callback=n)}return new re(t,e)},Wt.animate=function(t,e,i,n){if(this.removed)return n&&n.call(this),this;var r=t instanceof re?t:R.animation(t,e,i,n);return oe(r,this,r.percents[0],null,this.attr()),this},Wt.setTime=function(t,e){return t&&null!=e&&this.status(t,T(e,t.ms)/t.ms),this},Wt.status=function(t,e){var i,n,r=[],o=0;if(null!=e)return oe(t,this,-1,T(e,1)),this;for(i=Jt.length;o<i;o++)if((n=Jt[o]).el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;r.push({anim:n.anim,status:n.status})}return t?0:r},Wt.pause=function(t){for(var e=0;e<Jt.length;e++)Jt[e].el.id!=this.id||t&&Jt[e].anim!=t||!1!==O("raphael.anim.pause."+this.id,this,Jt[e].anim)&&(Jt[e].paused=!0);return this},Wt.resume=function(t){for(var e=0;e<Jt.length;e++)if(Jt[e].el.id==this.id&&(!t||Jt[e].anim==t)){var i=Jt[e];!1!==O("raphael.anim.resume."+this.id,this,i.anim)&&(delete i.paused,this.status(i.anim,i.status))}return this},Wt.stop=function(t){for(var e=0;e<Jt.length;e++)Jt[e].el.id!=this.id||t&&Jt[e].anim!=t||!1!==O("raphael.anim.stop."+this.id,this,Jt[e].anim)&&Jt.splice(e--,1);return this},O.on("raphael.remove",ae),O.on("raphael.clear",ae),Wt.toString=function(){return"Raphaël’s object"};var se,le,he,ce,ue,de=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;e<i;e++)!t[e]||t[e].constructor!=Wt.constructor&&t[e].constructor!=de||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},pe=de.prototype;for(var fe in pe.push=function(){for(var t,e,i=0,n=arguments.length;i<n;i++)!(t=arguments[i])||t.constructor!=Wt.constructor&&t.constructor!=de||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},pe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},pe.forEach=function(t,e){for(var i=0,n=this.items.length;i<n;i++)if(!1===t.call(e,this.items[i],i))return this;return this},Wt)Wt[N](fe)&&(pe[fe]=function(i){return function(){var e=arguments;return this.forEach(function(t){t[i][x](t,e)})}}(fe));return pe.attr=function(t,e){if(t&&R.is(t,y)&&R.is(t[0],"object"))for(var i=0,n=t.length;i<n;i++)this.items[i].attr(t[i]);else for(var r=0,o=this.items.length;r<o;r++)this.items[r].attr(t,e);return this},pe.clear=function(){for(;this.length;)this.pop()},pe.splice=function(t,e,i){t=t<0?k(this.length+t,0):t,e=k(0,T(this.length-t,e));var n,r=[],o=[],a=[];for(n=2;n<arguments.length;n++)a.push(arguments[n]);for(n=0;n<e;n++)o.push(this[t+n]);for(;n<this.length-t;n++)r.push(this[t+n]);var s=a.length;for(n=0;n<s+r.length;n++)this.items[t+n]=this[t+n]=n<s?a[n]:r[n-s];for(n=this.items.length=this.length-=e-s;this[n];)delete this[n++];return new de(o)},pe.exclude=function(t){for(var e=0,i=this.length;e<i;e++)if(this[e]==t)return this.splice(e,1),!0},pe.animate=function(t,e,i,n){(R.is(i,"function")||!i)&&(n=i||null);var r,o,a=this.items.length,s=a,l=this;if(!a)return this;n&&(o=function(){!--a&&n.call(l)}),i=R.is(i,c)?i:o;var h=R.animation(t,e,i,o);for(r=this.items[--s].animate(h);s--;)this.items[s]&&!this.items[s].removed&&this.items[s].animateWith(r,h,h),this.items[s]&&!this.items[s].removed||a--;return this},pe.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},pe.getBBox=function(){for(var t=[],e=[],i=[],n=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();t.push(o.x),e.push(o.y),i.push(o.x+o.width),n.push(o.y+o.height)}return{x:t=T[x](0,t),y:e=T[x](0,e),x2:i=k[x](0,i),y2:n=k[x](0,n),width:i-t,height:n-e}},pe.clone=function(t){t=this.paper.set();for(var e=0,i=this.items.length;e<i;e++)t.push(this.items[e].clone());return t},pe.toString=function(){return"Raphaël‘s set"},pe.glow=function(n){var r=this.paper.set();return this.forEach(function(t,e){var i=t.glow(n);null!=i&&i.forEach(function(t,e){r.push(t)})}),r},pe.isPointInside=function(e,i){var n=!1;return this.forEach(function(t){if(t.isPointInside(e,i))return!(n=!0)}),n},R.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[N](n)&&(e.face[n]=t.face[n]);if(this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e],!t.svg)for(var r in e.face["units-per-em"]=d(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[N](r)){var o=t.glyphs[r];if(e.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var a in o.k)o[N](a)&&(e.glyphs[r].k[a]=o.k[a])}return t},t.getFont=function(t,e,i,n){if(n=n||"normal",i=i||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,R.fonts){var r,o=R.fonts[t];if(!o){var a=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var s in R.fonts)if(R.fonts[N](s)&&a.test(s)){o=R.fonts[s];break}}if(o)for(var l=0,h=o.length;l<h&&((r=o[l]).face["font-weight"]!=e||r.face["font-style"]!=i&&r.face["font-style"]||r.face["font-stretch"]!=n);l++);return r}},t.print=function(t,e,i,n,r,o,a,s){o=o||"middle",a=k(T(a||0,1),-1),s=k(T(s||1,3),1);var l,h=z(i)[j](""),c=0,u=0,d="";if(R.is(n,"string")&&(n=this.getFont(n)),n){l=(r||16)/n.face["units-per-em"];for(var p=n.face.bbox[j](F),f=+p[0],g=p[3]-p[1],m=0,v=+p[1]+("baseline"==o?g+ +n.face.descent:g/2),y=0,b=h.length;y<b;y++){if("\n"==h[y])u=_=c=0,m+=g*s;else{var x=u&&n.glyphs[h[y-1]]||{},_=n.glyphs[h[y]];c+=u?(x.w||n.w)+(x.k&&x.k[h[y]]||0)+n.w*a:0,u=1}_&&_.d&&(d+=R.transformPath(_.d,["t",c*l,m*l,"s",l,l,f,v,"t",(t-f)/l,(e-v)/l]))}}return this.path(d).attr({fill:"#000",stroke:"none"})},t.add=function(t){if(R.is(t,"array"))for(var e,i=this.set(),n=0,r=t.length;n<r;n++)e=t[n]||{},o[N](e.type)&&i.push(this[e.type]().attr(e));return i},R.format=function(t,e){var i=R.is(e,y)?[0][W](e):arguments;return t&&R.is(t,c)&&i.length-1&&(t=t.replace(r,function(t,e){return null==i[++e]?"":i[e]})),t||""},R.fullfill=(se=/\{([^\}]+)\}/g,le=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,r){return String(t).replace(se,function(t,e){return i=t,o=n=r,e.replace(le,function(t,e,i,n,r){e=e||n,o&&(e in o&&(o=o[e]),"function"==typeof o&&r&&(o=o()))}),o=(null==o||o==n?i:o)+"";var i,n,o})}),R.ninja=function(){if(e.was)f.win.Raphael=e.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return R},R.st=pe,O.on("raphael.DOMload",function(){n=!0}),he=document,ce="DOMContentLoaded",null==he.readyState&&he.addEventListener&&(he.addEventListener(ce,ue=function(){he.removeEventListener(ce,ue,!1),he.readyState="complete"},!1),he.readyState="loading"),function t(){/in/.test(he.readyState)?setTimeout(t,9):R.eve("raphael.DOMload")}(),R}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,p,f,d,g,m,v,y,b,x,r,_,w;d="hasOwnProperty",g=/[\.\/]/,m=/\s*,\s*/,v=function(t,e){return t-e},y={n:{}},b=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},x=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},r=Object.prototype.toString,_=String,w=Array.isArray||function(t){return t instanceof Array||"[object Array]"==r.call(t)},eve=function(t,e){var i,n=f,r=Array.prototype.slice.call(arguments,2),o=eve.listeners(t),a=0,s=[],l={},h=[],c=p;h.firstDefined=b,h.lastDefined=x,p=t;for(var u=f=0,d=o.length;u<d;u++)"zIndex"in o[u]&&(s.push(o[u].zIndex),o[u].zIndex<0&&(l[o[u].zIndex]=o[u]));for(s.sort(v);s[a]<0;)if(i=l[s[a++]],h.push(i.apply(e,r)),f)return f=n,h;for(u=0;u<d;u++)if("zIndex"in(i=o[u]))if(i.zIndex==s[a]){if(h.push(i.apply(e,r)),f)break;do{if((i=l[s[++a]])&&h.push(i.apply(e,r)),f)break}while(i)}else l[i.zIndex]=i;else if(h.push(i.apply(e,r)),f)break;return f=n,p=c,h},eve._events=y,eve.listeners=function(t){var e,i,n,r,o,a,s,l,h=w(t)?t:t.split(g),c=y,u=[c],d=[];for(r=0,o=h.length;r<o;r++){for(l=[],a=0,s=u.length;a<s;a++)for(i=[(c=u[a].n)[h[r]],c["*"]],n=2;n--;)(e=i[n])&&(l.push(e),d=d.concat(e.f||[]));u=l}return d},eve.separator=function(t){t?(t="["+(t=_(t).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",g=new RegExp(t)):g=/[\.\/]/},eve.on=function(t,a){if("function"!=typeof a)return function(){};for(var e=w(t)?w(t[0])?t:[t]:_(t).split(m),i=0,n=e.length;i<n;i++)!function(t){for(var e,i=w(t)?t:_(t).split(g),n=y,r=0,o=i.length;r<o;r++)n=(n=n.n).hasOwnProperty(i[r])&&n[i[r]]||(n[i[r]]={n:{}});for(n.f=n.f||[],r=0,o=n.f.length;r<o;r++)if(n.f[r]==a){e=!0;break}!e&&n.f.push(a)}(e[i]);return function(t){+t==+t&&(a.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){f=1},eve.nt=function(t){var e=w(p)?p.join("."):p;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return w(p)?p:p.split(g)},eve.off=eve.unbind=function(t,e){if(t){var i=w(t)?w(t[0])?t:[t]:_(t).split(m);if(1<i.length)for(var n=0,r=i.length;n<r;n++)eve.off(i[n],e);else{i=w(t)?t:_(t).split(g);var o,a,s,l,h,c=[y];for(n=0,r=i.length;n<r;n++)for(l=0;l<c.length;l+=s.length-2){if(s=[l,1],o=c[l].n,"*"!=i[n])o[i[n]]&&s.push(o[i[n]]);else for(a in o)o[d](a)&&s.push(o[a]);c.splice.apply(c,s)}for(n=0,r=c.length;n<r;n++)for(o=c[n];o.n;){if(e){if(o.f){for(l=0,h=o.f.length;l<h;l++)if(o.f[l]==e){o.f.splice(l,1);break}!o.f.length&&delete o.f}for(a in o.n)if(o.n[d](a)&&o.n[a].f){var u=o.n[a].f;for(l=0,h=u.length;l<h;l++)if(u[l]==e){u.splice(l,1);break}!u.length&&delete o.n[a].f}}else for(a in delete o.f,o.n)o.n[d](a)&&o.n[a].f&&delete o.n[a].f;o=o.n}}}else eve._events=y={n:{}}},eve.once=function(t,e){var i=function(){return eve.off(t,i),e.apply(this,arguments)};return eve.on(t,i)},eve.version="0.5.0",eve.toString=function(){return"You are running Eve 0.5.0"},void 0!==t&&t.exports?t.exports=eve:void 0===(n=function(){return eve}.apply(e,[]))||(t.exports=n)},function(t,e,i){var n,r;n=[i(1)],void 0===(r=function(k){if(!k||k.svg){var T="hasOwnProperty",D=String,m=parseFloat,w=parseInt,v=Math,S=v.max,C=v.abs,y=v.pow,A=/[, ]+/,d=k.eve,M="http://www.w3.org/1999/xlink",E={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},P={};k.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var L=function(t,e){if(e)for(var i in"string"==typeof t&&(t=L(t)),e)e[T](i)&&("xlink:"==i.substring(0,6)?t.setAttributeNS(M,i.substring(6),D(e[i])):t.setAttribute(i,D(e[i])));else(t=k._g.doc.createElementNS("http://www.w3.org/2000/svg",t)).style&&(t.style.webkitTapHighlightColor="rgba(0,0,0,0)");return t},I=function(t,e){var r="linear",i=t.id+e,o=.5,a=.5,n=t.node,s=t.paper,l=n.style,h=k._g.doc.getElementById(i);if(!h){if(e=(e=D(e).replace(k._radial_gradient,function(t,e,i){if(r="radial",e&&i){o=m(e);var n=2*(.5<(a=m(i)))-1;.25<y(o-.5,2)+y(a-.5,2)&&(a=v.sqrt(.25-y(o-.5,2))*n+.5)&&.5!=a&&(a=a.toFixed(5)-1e-5*n)}return""})).split(/\s*\-\s*/),"linear"==r){var c=e.shift();if(c=-m(c),isNaN(c))return null;var u=[0,0,v.cos(k.rad(c)),v.sin(k.rad(c))],d=1/(S(C(u[2]),C(u[3]))||1);u[2]*=d,u[3]*=d,u[2]<0&&(u[0]=-u[2],u[2]=0),u[3]<0&&(u[1]=-u[3],u[3]=0)}var p=k._parseDots(e);if(!p)return null;if(i=i.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&i!=t.gradient.id&&(s.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){h=L(r+"Gradient",{id:i}),t.gradient=h,L(h,"radial"==r?{fx:o,fy:a}:{x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientTransform:t.matrix.invert()}),s.defs.appendChild(h);for(var f=0,g=p.length;f<g;f++)h.appendChild(L("stop",{offset:p[f].offset?p[f].offset:f?"100%":"0%","stop-color":p[f].color||"#fff","stop-opacity":isFinite(p[f].opacity)?p[f].opacity:1}))}}return L(n,{fill:b(i),opacity:1,"fill-opacity":1}),l.fill="",l.opacity=1,l.fillOpacity=1},b=function(t){if((e=document.documentMode)&&(9===e||10===e))return"url('#"+t+"')";var e,i=document.location;return"url('"+(i.protocol+"//"+i.host+i.pathname+i.search)+"#"+t+"')"},O=function(t){var e=t.getBBox(1);L(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},R=function(t,e,i){if("path"==t.type){for(var n,r,o,a,s,l=D(e).toLowerCase().split("-"),h=t.paper,c=i?"end":"start",u=t.node,d=t.attrs,p=d["stroke-width"],f=l.length,g="classic",m=3,v=3,y=5;f--;)switch(l[f]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":g=l[f];break;case"wide":v=5;break;case"narrow":v=2;break;case"long":m=5;break;case"short":m=2}if("open"==g?(m+=2,v+=2,y+=2,o=1,a=i?4:1,s={fill:"none",stroke:d.stroke}):(a=o=m/2,s={fill:d.stroke,stroke:"none"}),t._.arrows?i?(t._.arrows.endPath&&P[t._.arrows.endPath]--,t._.arrows.endMarker&&P[t._.arrows.endMarker]--):(t._.arrows.startPath&&P[t._.arrows.startPath]--,t._.arrows.startMarker&&P[t._.arrows.startMarker]--):t._.arrows={},"none"!=g){var b="raphael-marker-"+g,x="raphael-marker-"+c+g+m+v+"-obj"+t.id;k._g.doc.getElementById(b)?P[b]++:(h.defs.appendChild(L(L("path"),{"stroke-linecap":"round",d:E[g],id:b})),P[b]=1);var _,w=k._g.doc.getElementById(x);w?(P[x]++,_=w.getElementsByTagName("use")[0]):(w=L(L("marker"),{id:x,markerHeight:v,markerWidth:m,orient:"auto",refX:a,refY:v/2}),_=L(L("use"),{"xlink:href":"#"+b,transform:(i?"rotate(180 "+m/2+" "+v/2+") ":"")+"scale("+m/y+","+v/y+")","stroke-width":(1/((m/y+v/y)/2)).toFixed(4)}),w.appendChild(_),h.defs.appendChild(w),P[x]=1),L(_,s);var S=o*("diamond"!=g&&"oval"!=g);i?(n=t._.arrows.startdx*p||0,r=k.getTotalLength(d.path)-S*p):(n=S*p,r=k.getTotalLength(d.path)-(t._.arrows.enddx*p||0)),(s={})["marker-"+c]="url(#"+x+")",(r||n)&&(s.d=k.getSubpath(d.path,n,r)),L(u,s),t._.arrows[c+"Path"]=b,t._.arrows[c+"Marker"]=x,t._.arrows[c+"dx"]=S,t._.arrows[c+"Type"]=g,t._.arrows[c+"String"]=e}else i?(n=t._.arrows.startdx*p||0,r=k.getTotalLength(d.path)-n):(n=0,r=k.getTotalLength(d.path)-(t._.arrows.enddx*p||0)),t._.arrows[c+"Path"]&&L(u,{d:k.getSubpath(d.path,n,r)}),delete t._.arrows[c+"Path"],delete t._.arrows[c+"Marker"],delete t._.arrows[c+"dx"],delete t._.arrows[c+"Type"],delete t._.arrows[c+"String"];for(s in P)if(P[T](s)&&!P[s]){var C=k._g.doc.getElementById(s);C&&C.parentNode.removeChild(C)}}},s={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},F=function(t,e,i){if(e=s[D(e).toLowerCase()]){for(var n=t.attrs["stroke-width"]||"1",r={round:n,square:n,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,o=[],a=e.length;a--;)o[a]=e[a]*n+(a%2?1:-1)*r;L(t.node,{"stroke-dasharray":o.join(",")})}else L(t.node,{"stroke-dasharray":"none"})},p=function(t,e){var i=t.node,n=t.attrs,r=i.style.visibility;for(var o in i.style.visibility="hidden",e)if(e[T](o)){if(!k._availableAttrs[T](o))continue;var a=e[o];switch(n[o]=a,o){case"blur":t.blur(a);break;case"title":var s=i.getElementsByTagName("title");if(s.length&&(s=s[0]))s.firstChild.nodeValue=a;else{s=L("title");var l=k._g.doc.createTextNode(a);s.appendChild(l),i.appendChild(s)}break;case"href":case"target":var h=i.parentNode;if("a"!=h.tagName.toLowerCase()){var c=L("a");h.insertBefore(c,i),c.appendChild(i),h=c}"target"==o?h.setAttributeNS(M,"show","blank"==a?"new":a):h.setAttributeNS(M,o,a);break;case"cursor":i.style.cursor=a;break;case"transform":t.transform(a);break;case"arrow-start":R(t,a);break;case"arrow-end":R(t,a,1);break;case"clip-rect":var u=D(a).split(A);if(4==u.length){t.clip&&t.clip.parentNode.parentNode.removeChild(t.clip.parentNode);var d=L("clipPath"),p=L("rect");d.id=k.createUUID(),L(p,{x:u[0],y:u[1],width:u[2],height:u[3]}),d.appendChild(p),t.paper.defs.appendChild(d),L(i,{"clip-path":"url(#"+d.id+")"}),t.clip=p}if(!a){var f=i.getAttribute("clip-path");if(f){var g=k._g.doc.getElementById(f.replace(/(^url\(#|\)$)/g,""));g&&g.parentNode.removeChild(g),L(i,{"clip-path":""}),delete t.clip}}break;case"path":"path"==t.type&&(L(i,{d:a?n.path=k._pathToAbsolute(a):"M0,0"}),t._.dirty=1,t._.arrows&&("startString"in t._.arrows&&R(t,t._.arrows.startString),"endString"in t._.arrows&&R(t,t._.arrows.endString,1)));break;case"width":if(i.setAttribute(o,a),t._.dirty=1,!n.fx)break;o="x",a=n.x;case"x":n.fx&&(a=-n.x-(n.width||0));case"rx":if("rx"==o&&"rect"==t.type)break;case"cx":i.setAttribute(o,a),t.pattern&&O(t),t._.dirty=1;break;case"height":if(i.setAttribute(o,a),t._.dirty=1,!n.fy)break;o="y",a=n.y;case"y":n.fy&&(a=-n.y-(n.height||0));case"ry":if("ry"==o&&"rect"==t.type)break;case"cy":i.setAttribute(o,a),t.pattern&&O(t),t._.dirty=1;break;case"r":"rect"==t.type?L(i,{rx:a,ry:a}):i.setAttribute(o,a),t._.dirty=1;break;case"src":"image"==t.type&&i.setAttributeNS(M,"href",a);break;case"stroke-width":1==t._.sx&&1==t._.sy||(a/=S(C(t._.sx),C(t._.sy))||1),i.setAttribute(o,a),n["stroke-dasharray"]&&F(t,n["stroke-dasharray"],e),t._.arrows&&("startString"in t._.arrows&&R(t,t._.arrows.startString),"endString"in t._.arrows&&R(t,t._.arrows.endString,1));break;case"stroke-dasharray":F(t,a,e);break;case"fill":var m=D(a).match(k._ISURL);if(m){d=L("pattern");var v=L("image");d.id=k.createUUID(),L(d,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),L(v,{x:0,y:0,"xlink:href":m[1]}),d.appendChild(v),function(i){k._preload(m[1],function(){var t=this.offsetWidth,e=this.offsetHeight;L(i,{width:t,height:e}),L(v,{width:t,height:e})})}(d),t.paper.defs.appendChild(d),L(i,{fill:"url(#"+d.id+")"}),t.pattern=d,t.pattern&&O(t);break}var y=k.getRGB(a);if(y.error){if(("circle"==t.type||"ellipse"==t.type||"r"!=D(a).charAt())&&I(t,a)){if("opacity"in n||"fill-opacity"in n){var b=k._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,""));if(b){var x=b.getElementsByTagName("stop");L(x[x.length-1],{"stop-opacity":("opacity"in n?n.opacity:1)*("fill-opacity"in n?n["fill-opacity"]:1)})}}n.gradient=a,n.fill="none";break}}else delete e.gradient,delete n.gradient,!k.is(n.opacity,"undefined")&&k.is(e.opacity,"undefined")&&L(i,{opacity:n.opacity}),!k.is(n["fill-opacity"],"undefined")&&k.is(e["fill-opacity"],"undefined")&&L(i,{"fill-opacity":n["fill-opacity"]});y[T]("opacity")&&L(i,{"fill-opacity":1<y.opacity?y.opacity/100:y.opacity});case"stroke":y=k.getRGB(a),i.setAttribute(o,y.hex),"stroke"==o&&y[T]("opacity")&&L(i,{"stroke-opacity":1<y.opacity?y.opacity/100:y.opacity}),"stroke"==o&&t._.arrows&&("startString"in t._.arrows&&R(t,t._.arrows.startString),"endString"in t._.arrows&&R(t,t._.arrows.endString,1));break;case"gradient":("circle"==t.type||"ellipse"==t.type||"r"!=D(a).charAt())&&I(t,a);break;case"opacity":n.gradient&&!n[T]("stroke-opacity")&&L(i,{"stroke-opacity":1<a?a/100:a});case"fill-opacity":if(n.gradient){(b=k._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(x=b.getElementsByTagName("stop"),L(x[x.length-1],{"stop-opacity":a}));break}default:"font-size"==o&&(a=w(a,10)+"px");var _=o.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});i.style[_]=a,t._.dirty=1,i.setAttribute(o,a)}}N(t,e),i.style.visibility=r},N=function(t,e){if("text"==t.type&&(e[T]("text")||e[T]("font")||e[T]("font-size")||e[T]("x")||e[T]("y"))){var i=t.attrs,n=t.node,r=n.firstChild?w(k._g.doc.defaultView.getComputedStyle(n.firstChild,"").getPropertyValue("font-size"),10):10;if(e[T]("text")){for(i.text=e.text;n.firstChild;)n.removeChild(n.firstChild);for(var o,a=D(e.text).split("\n"),s=[],l=0,h=a.length;l<h;l++)o=L("tspan"),l&&L(o,{dy:1.2*r,x:i.x}),o.appendChild(k._g.doc.createTextNode(a[l])),n.appendChild(o),s[l]=o}else for(l=0,h=(s=n.getElementsByTagName("tspan")).length;l<h;l++)l?L(s[l],{dy:1.2*r,x:i.x}):L(s[0],{dy:0});L(n,{x:i.x,y:i.y}),t._.dirty=1;var c=t._getBBox(),u=i.y-(c.y+c.height/2);u&&k.is(u,"finite")&&L(s[0],{dy:u})}},n=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},l=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),t.raphaelid=this.id,this.matrix=k.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null},t=k.el;(l.prototype=t).constructor=l,k._engine.path=function(t,e){var i=L("path");e.canvas&&e.canvas.appendChild(i);var n=new l(i,e);return n.type="path",p(n,{fill:"none",stroke:"#000",path:t}),n},t.rotate=function(t,e,i){if(this.removed)return this;if((t=D(t).split(A)).length-1&&(e=m(t[1]),i=m(t[2])),t=m(t[0]),null==i&&(e=i),null==e||null==i){var n=this.getBBox(1);e=n.x+n.width/2,i=n.y+n.height/2}return this.transform(this._.transform.concat([["r",t,e,i]])),this},t.scale=function(t,e,i,n){if(this.removed)return this;if((t=D(t).split(A)).length-1&&(e=m(t[1]),i=m(t[2]),n=m(t[3])),t=m(t[0]),null==e&&(e=t),null==n&&(i=n),null==i||null==n)var r=this.getBBox(1);return i=null==i?r.x+r.width/2:i,n=null==n?r.y+r.height/2:n,this.transform(this._.transform.concat([["s",t,e,i,n]])),this},t.translate=function(t,e){return this.removed||((t=D(t).split(A)).length-1&&(e=m(t[1])),t=m(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]]))),this},t.transform=function(t){var e=this._;if(null==t)return e.transform;if(k._extractTransform(this,t),this.clip&&L(this.clip,{transform:this.matrix.invert()}),this.pattern&&O(this),this.node&&L(this.node,{transform:this.matrix}),1!=e.sx||1!=e.sy){var i=this.attrs[T]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},t.hide=function(){return this.removed||(this.node.style.display="none"),this},t.show=function(){return this.removed||(this.node.style.display=""),this},t.remove=function(){var t=n(this.node);if(!this.removed&&t.parentNode){var e=this.paper;for(var i in e.__set__&&e.__set__.exclude(this),d.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),k._tear(this,e),t.parentNode.removeChild(t),this.removeData(),this)this[i]="function"==typeof this[i]?k._removedFactory(i):null;this.removed=!0}},t._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,i=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(i=!0,e.display="");var n={};try{n=this.node.getBBox()}catch(t){n={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{n=n||{},i&&(e.display="none")}return t&&this.hide(),n},t.attr=function(t,e){if(this.removed)return this;if(null==t){var i={};for(var n in this.attrs)this.attrs[T](n)&&(i[n]=this.attrs[n]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==e&&k.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var r=t.split(A),o={},a=0,s=r.length;a<s;a++)(t=r[a])in this.attrs?o[t]=this.attrs[t]:k.is(this.paper.customAttributes[t],"function")?o[t]=this.paper.customAttributes[t].def:o[t]=k._availableAttrs[t];return s-1?o:o[r[0]]}if(null==e&&k.is(t,"array")){for(o={},a=0,s=t.length;a<s;a++)o[t[a]]=this.attr(t[a]);return o}if(null!=e){var l={};l[t]=e}else null!=t&&k.is(t,"object")&&(l=t);for(var h in l)d("raphael.attr."+h+"."+this.id,this,l[h]);for(h in this.paper.customAttributes)if(this.paper.customAttributes[T](h)&&l[T](h)&&k.is(this.paper.customAttributes[h],"function")){var c=this.paper.customAttributes[h].apply(this,[].concat(l[h]));for(var u in this.attrs[h]=l[h],c)c[T](u)&&(l[u]=c[u])}return p(this,l),this},t.toFront=function(){if(this.removed)return this;var t=n(this.node);t.parentNode.appendChild(t);var e=this.paper;return e.top!=this&&k._tofront(this,e),this},t.toBack=function(){if(this.removed)return this;var t=n(this.node),e=t.parentNode;e.insertBefore(t,e.firstChild),k._toback(this,this.paper);this.paper;return this},t.insertAfter=function(t){if(this.removed||!t)return this;var e=n(this.node),i=n(t.node||t[t.length-1].node);return i.nextSibling?i.parentNode.insertBefore(e,i.nextSibling):i.parentNode.appendChild(e),k._insertafter(this,t,this.paper),this},t.insertBefore=function(t){if(this.removed||!t)return this;var e=n(this.node),i=n(t.node||t[0].node);return i.parentNode.insertBefore(e,i),k._insertbefore(this,t,this.paper),this},t.blur=function(t){var e=this;if(0!=+t){var i=L("filter"),n=L("feGaussianBlur");e.attrs.blur=t,i.id=k.createUUID(),L(n,{stdDeviation:+t||1.5}),i.appendChild(n),e.paper.defs.appendChild(i),e._blur=i,L(e.node,{filter:"url(#"+i.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter");return e},k._engine.circle=function(t,e,i,n){var r=L("circle");t.canvas&&t.canvas.appendChild(r);var o=new l(r,t);return o.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},o.type="circle",L(r,o.attrs),o},k._engine.rect=function(t,e,i,n,r,o){var a=L("rect");t.canvas&&t.canvas.appendChild(a);var s=new l(a,t);return s.attrs={x:e,y:i,width:n,height:r,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},s.type="rect",L(a,s.attrs),s},k._engine.ellipse=function(t,e,i,n,r){var o=L("ellipse");t.canvas&&t.canvas.appendChild(o);var a=new l(o,t);return a.attrs={cx:e,cy:i,rx:n,ry:r,fill:"none",stroke:"#000"},a.type="ellipse",L(o,a.attrs),a},k._engine.image=function(t,e,i,n,r,o){var a=L("image");L(a,{x:i,y:n,width:r,height:o,preserveAspectRatio:"none"}),a.setAttributeNS(M,"href",e),t.canvas&&t.canvas.appendChild(a);var s=new l(a,t);return s.attrs={x:i,y:n,width:r,height:o,src:e},s.type="image",s},k._engine.text=function(t,e,i,n){var r=L("text");t.canvas&&t.canvas.appendChild(r);var o=new l(r,t);return o.attrs={x:e,y:i,"text-anchor":"middle",text:n,"font-family":k._availableAttrs["font-family"],"font-size":k._availableAttrs["font-size"],stroke:"none",fill:"#000"},o.type="text",p(o,o.attrs),o},k._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},k._engine.create=function(){var t=k._getContainer.apply(0,arguments),e=t&&t.container,i=t.x,n=t.y,r=t.width,o=t.height;if(!e)throw new Error("SVG container not found.");var a,s=L("svg"),l="overflow:hidden;";return i=i||0,n=n||0,L(s,{height:o=o||342,version:1.1,width:r=r||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==e?(s.style.cssText=l+"position:absolute;left:"+i+"px;top:"+n+"px",k._g.doc.body.appendChild(s),a=1):(s.style.cssText=l+"position:relative",e.firstChild?e.insertBefore(s,e.firstChild):e.appendChild(s)),(e=new k._Paper).width=r,e.height=o,e.canvas=s,e.clear(),e._left=e._top=0,a&&(e.renderfix=function(){}),e.renderfix(),e},k._engine.setViewBox=function(t,e,i,n,r){d("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var o,a,s=this.getSize(),l=S(i/s.width,n/s.height),h=this.top,c=r?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,o="0 0 "+this.width+" "+this.height):(this._vbSize=l,o=t+" "+e+" "+i+" "+n),L(this.canvas,{viewBox:o,preserveAspectRatio:c});l&&h;)a="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":a}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,i,n,!!r],this},k.prototype.renderfix=function(){var e,i=this.canvas,t=i.style;try{e=i.getScreenCTM()||i.createSVGMatrix()}catch(t){e=i.createSVGMatrix()}var n=-e.e%1,r=-e.f%1;(n||r)&&(n&&(this._left=(this._left+n)%1,t.left=this._left+"px"),r&&(this._top=(this._top+r)%1,t.top=this._top+"px"))},k.prototype.clear=function(){k.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=L("desc")).appendChild(k._g.doc.createTextNode("Created with Raphaël "+k.version)),t.appendChild(this.desc),t.appendChild(this.defs=L("defs"))},k.prototype.remove=function(){for(var t in d("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?k._removedFactory(t):null};var e=k.st;for(var i in t)t[T](i)&&!e[T](i)&&(e[i]=function(i){return function(){var e=arguments;return this.forEach(function(t){t[i].apply(t,e)})}}(i))}}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r;n=[i(1)],void 0===(r=function(L){if(!L||L.vml){var I="hasOwnProperty",O=String,R=parseFloat,u=Math,F=u.round,N=u.max,z=u.min,v=u.abs,$="fill",H=/[, ]+/,d=L.eve,V={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},B=/([clmz]),?([^clmz]*)/gi,n=/ progid:\S+Blur\([^\)]+\)/g,W=/-?[^,\s-]+/g,c="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",j=21600,Y={path:1,rect:1,image:1},U={circle:1,ellipse:1},y=function(t,e,i){var n=L.matrix();return n.rotate(-t,.5,.5),{dx:n.x(e,i),dy:n.y(e,i)}},G=function(t,e,i,n,r,o){var a=t._,s=t.matrix,l=a.fillpos,h=t.node,c=h.style,u=1,d="",p=j/e,f=j/i;if(c.visibility="hidden",e&&i){if(h.coordsize=v(p)+" "+v(f),c.rotation=o*(e*i<0?-1:1),o){var g=y(o,n,r);n=g.dx,r=g.dy}if(e<0&&(d+="x"),i<0&&(d+=" y")&&(u=-1),c.flip=d,h.coordorigin=n*-p+" "+r*-f,l||a.fillsize){var m=h.getElementsByTagName($);m=m&&m[0],h.removeChild(m),l&&(g=y(o,s.x(l[0],l[1]),s.y(l[0],l[1])),m.position=g.dx*u+" "+g.dy*u),a.fillsize&&(m.size=a.fillsize[0]*v(e)+" "+a.fillsize[1]*v(i)),h.appendChild(m)}c.visibility="visible"}};L.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var q,X=function(t,e,i){for(var n=O(e).toLowerCase().split("-"),r=i?"end":"start",o=n.length,a="classic",s="medium",l="medium";o--;)switch(n[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=n[o];break;case"wide":case"narrow":l=n[o];break;case"long":case"short":s=n[o]}var h=t.node.getElementsByTagName("stroke")[0];h[r+"arrow"]=a,h[r+"arrowlength"]=s,h[r+"arrowwidth"]=l},p=function(t,e){t.attrs=t.attrs||{};var i=t.node,n=t.attrs,r=i.style,o=Y[t.type]&&(e.x!=n.x||e.y!=n.y||e.width!=n.width||e.height!=n.height||e.cx!=n.cx||e.cy!=n.cy||e.rx!=n.rx||e.ry!=n.ry||e.r!=n.r),a=U[t.type]&&(n.cx!=e.cx||n.cy!=e.cy||n.r!=e.r||n.rx!=e.rx||n.ry!=e.ry),s=t;for(var l in e)e[I](l)&&(n[l]=e[l]);if(o&&(n.path=L._getPath[t.type](t),t._.dirty=1),e.href&&(i.href=e.href),e.title&&(i.title=e.title),e.target&&(i.target=e.target),e.cursor&&(r.cursor=e.cursor),"blur"in e&&t.blur(e.blur),(e.path&&"path"==t.type||o)&&(i.path=function(t){var e=/[ahqstv]/gi,i=L._pathToAbsolute;if(O(t).match(e)&&(i=L._path2curve),e=/[clmz]/g,i==L._pathToAbsolute&&!O(t).match(e)){var n=O(t).replace(B,function(t,e,i){var n=[],r="m"==e.toLowerCase(),o=V[e];return i.replace(W,function(t){r&&2==n.length&&(o+=n+V["m"==e?"l":"L"],n=[]),n.push(F(t*j))}),o+n});return n}var r,o,a=i(t);n=[];for(var s=0,l=a.length;s<l;s++){r=a[s],"z"==(o=a[s][0].toLowerCase())&&(o="x");for(var h=1,c=r.length;h<c;h++)o+=F(r[h]*j)+(h!=c-1?",":"");n.push(o)}return n.join(" ")}(~O(n.path).toLowerCase().indexOf("r")?L._pathToAbsolute(n.path):n.path),t._.dirty=1,"image"==t.type&&(t._.fillpos=[n.x,n.y],t._.fillsize=[n.width,n.height],G(t,1,1,0,0,0))),"transform"in e&&t.transform(e.transform),a){var h=+n.cx,c=+n.cy,u=+n.rx||+n.r||0,d=+n.ry||+n.r||0;i.path=L.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",F((h-u)*j),F((c-d)*j),F((h+u)*j),F((c+d)*j),F(h*j)),t._.dirty=1}if("clip-rect"in e){var p=O(e["clip-rect"]).split(H);if(4==p.length){p[2]=+p[2]+ +p[0],p[3]=+p[3]+ +p[1];var f=i.clipRect||L._g.doc.createElement("div"),g=f.style;g.clip=L.format("rect({1}px {2}px {3}px {0}px)",p),i.clipRect||(g.position="absolute",g.top=0,g.left=0,g.width=t.paper.width+"px",g.height=t.paper.height+"px",i.parentNode.insertBefore(f,i),f.appendChild(i),i.clipRect=f)}e["clip-rect"]||i.clipRect&&(i.clipRect.style.clip="auto")}if(t.textpath){var m=t.textpath.style;e.font&&(m.font=e.font),e["font-family"]&&(m.fontFamily='"'+e["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),e["font-size"]&&(m.fontSize=e["font-size"]),e["font-weight"]&&(m.fontWeight=e["font-weight"]),e["font-style"]&&(m.fontStyle=e["font-style"])}if("arrow-start"in e&&X(s,e["arrow-start"]),"arrow-end"in e&&X(s,e["arrow-end"],1),null!=e.opacity||null!=e.fill||null!=e.src||null!=e.stroke||null!=e["stroke-width"]||null!=e["stroke-opacity"]||null!=e["fill-opacity"]||null!=e["stroke-dasharray"]||null!=e["stroke-miterlimit"]||null!=e["stroke-linejoin"]||null!=e["stroke-linecap"]){var v=i.getElementsByTagName($);if(!(v=v&&v[0])&&(v=q($)),"image"==t.type&&e.src&&(v.src=e.src),e.fill&&(v.on=!0),null!=v.on&&"none"!=e.fill&&null!==e.fill||(v.on=!1),v.on&&e.fill){var y=O(e.fill).match(L._ISURL);if(y){v.parentNode==i&&i.removeChild(v),v.rotate=!0,v.src=y[1],v.type="tile";var b=t.getBBox(1);v.position=b.x+" "+b.y,t._.fillpos=[b.x,b.y],L._preload(y[1],function(){t._.fillsize=[this.offsetWidth,this.offsetHeight]})}else v.color=L.getRGB(e.fill).hex,v.src="",v.type="solid",L.getRGB(e.fill).error&&(s.type in{circle:1,ellipse:1}||"r"!=O(e.fill).charAt())&&K(s,e.fill,v)&&(n.fill="none",n.gradient=e.fill,v.rotate=!1)}if("fill-opacity"in e||"opacity"in e){var x=((+n["fill-opacity"]+1||2)-1)*((+n.opacity+1||2)-1)*((+L.getRGB(e.fill).o+1||2)-1);x=z(N(x,0),1),v.opacity=x,v.src&&(v.color="none")}i.appendChild(v);var _=i.getElementsByTagName("stroke")&&i.getElementsByTagName("stroke")[0],w=!1;!_&&(w=_=q("stroke")),(e.stroke&&"none"!=e.stroke||e["stroke-width"]||null!=e["stroke-opacity"]||e["stroke-dasharray"]||e["stroke-miterlimit"]||e["stroke-linejoin"]||e["stroke-linecap"])&&(_.on=!0),("none"==e.stroke||null===e.stroke||null==_.on||0==e.stroke||0==e["stroke-width"])&&(_.on=!1);var S=L.getRGB(e.stroke);_.on&&e.stroke&&(_.color=S.hex),x=((+n["stroke-opacity"]+1||2)-1)*((+n.opacity+1||2)-1)*((+S.o+1||2)-1);var C=.75*(R(e["stroke-width"])||1);if(x=z(N(x,0),1),null==e["stroke-width"]&&(C=n["stroke-width"]),e["stroke-width"]&&(_.weight=C),C&&C<1&&(x*=C)&&(_.weight=1),_.opacity=x,e["stroke-linejoin"]&&(_.joinstyle=e["stroke-linejoin"]||"miter"),_.miterlimit=e["stroke-miterlimit"]||8,e["stroke-linecap"]&&(_.endcap="butt"==e["stroke-linecap"]?"flat":"square"==e["stroke-linecap"]?"square":"round"),"stroke-dasharray"in e){var k={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};_.dashstyle=k[I](e["stroke-dasharray"])?k[e["stroke-dasharray"]]:""}w&&i.appendChild(_)}if("text"==s.type){s.paper.canvas.style.display="";var T=s.paper.span,D=n.font&&n.font.match(/\d+(?:\.\d*)?(?=px)/);r=T.style,n.font&&(r.font=n.font),n["font-family"]&&(r.fontFamily=n["font-family"]),n["font-weight"]&&(r.fontWeight=n["font-weight"]),n["font-style"]&&(r.fontStyle=n["font-style"]),D=R(n["font-size"]||D&&D[0])||10,r.fontSize=100*D+"px",s.textpath.string&&(T.innerHTML=O(s.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var A=T.getBoundingClientRect();s.W=n.w=(A.right-A.left)/100,s.H=n.h=(A.bottom-A.top)/100,s.X=n.x,s.Y=n.y+s.H/2,("x"in e||"y"in e)&&(s.path.v=L.format("m{0},{1}l{2},{1}",F(n.x*j),F(n.y*j),F(n.x*j)+1));for(var M=["x","y","text","font","font-family","font-weight","font-style","font-size"],E=0,P=M.length;E<P;E++)if(M[E]in e){s._.dirty=1;break}switch(n["text-anchor"]){case"start":s.textpath.style["v-text-align"]="left",s.bbx=s.W/2;break;case"end":s.textpath.style["v-text-align"]="right",s.bbx=-s.W/2;break;default:s.textpath.style["v-text-align"]="center",s.bbx=0}s.textpath.style["v-text-kern"]=!0}},K=function(t,e,i){t.attrs=t.attrs||{};t.attrs;var n=Math.pow,r="linear",o=".5 .5";if(t.attrs.gradient=e,e=(e=O(e).replace(L._radial_gradient,function(t,e,i){return r="radial",e&&i&&(e=R(e),i=R(i),.25<n(e-.5,2)+n(i-.5,2)&&(i=u.sqrt(.25-n(e-.5,2))*(2*(.5<i)-1)+.5),o=e+" "+i),""})).split(/\s*\-\s*/),"linear"==r){var a=e.shift();if(a=-R(a),isNaN(a))return null}var s=L._parseDots(e);if(!s)return null;if(t=t.shape||t.node,s.length){t.removeChild(i),i.on=!0,i.method="none",i.color=s[0].color,i.color2=s[s.length-1].color;for(var l=[],h=0,c=s.length;h<c;h++)s[h].offset&&l.push(s[h].offset+" "+s[h].color);i.colors=l.length?l.join():"0% "+i.color,"radial"==r?(i.type="gradientTitle",i.focus="100%",i.focussize="0 0",i.focusposition=o,i.angle=0):(i.type="gradient",i.angle=(270-a)%360),t.appendChild(i)}return 1},f=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=L._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=L.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null},t=L.el;(f.prototype=t).constructor=f,t.transform=function(t){if(null==t)return this._.transform;var e,i=this.paper._viewBoxShift,n=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:"";i&&(e=t=O(t).replace(/\.{3}|\u2026/g,this._.transform||"")),L._extractTransform(this,n+t);var r,o=this.matrix.clone(),a=this.skew,s=this.node,l=~O(this.attrs.fill).indexOf("-"),h=!O(this.attrs.fill).indexOf("url(");if(o.translate(1,1),h||l||"image"==this.type)if(a.matrix="1 0 0 1",a.offset="0 0",r=o.split(),l&&r.noRotation||!r.isSimple){s.style.filter=o.toFilter();var c=this.getBBox(),u=this.getBBox(1),d=c.x-u.x,p=c.y-u.y;s.coordorigin=d*-j+" "+p*-j,G(this,1,1,d,p,0)}else s.style.filter="",G(this,r.scalex,r.scaley,r.dx,r.dy,r.rotate);else s.style.filter="",a.matrix=O(o),a.offset=o.offset();return null!==e&&(this._.transform=e,L._extractTransform(this,e)),this},t.rotate=function(t,e,i){if(this.removed)return this;if(null!=t){if((t=O(t).split(H)).length-1&&(e=R(t[1]),i=R(t[2])),t=R(t[0]),null==i&&(e=i),null==e||null==i){var n=this.getBBox(1);e=n.x+n.width/2,i=n.y+n.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,i]])),this}},t.translate=function(t,e){return this.removed||((t=O(t).split(H)).length-1&&(e=R(t[1])),t=R(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]]))),this},t.scale=function(t,e,i,n){if(this.removed)return this;if((t=O(t).split(H)).length-1&&(e=R(t[1]),i=R(t[2]),n=R(t[3]),isNaN(i)&&(i=null),isNaN(n)&&(n=null)),t=R(t[0]),null==e&&(e=t),null==n&&(i=n),null==i||null==n)var r=this.getBBox(1);return i=null==i?r.x+r.width/2:i,n=null==n?r.y+r.height/2:n,this.transform(this._.transform.concat([["s",t,e,i,n]])),this._.dirtyT=1,this},t.hide=function(){return!this.removed&&(this.node.style.display="none"),this},t.show=function(){return!this.removed&&(this.node.style.display=""),this},t.auxGetBBox=L.el.getBBox,t.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},i=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=i,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=i,e.width=t.width*i,e.height=t.height*i,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},t._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},t.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),L.eve.unbind("raphael.*.*."+this.id),L._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?L._removedFactory(t):null;this.removed=!0}},t.attr=function(t,e){if(this.removed)return this;if(null==t){var i={};for(var n in this.attrs)this.attrs[I](n)&&(i[n]=this.attrs[n]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==e&&L.is(t,"string")){if(t==$&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var r=t.split(H),o={},a=0,s=r.length;a<s;a++)(t=r[a])in this.attrs?o[t]=this.attrs[t]:L.is(this.paper.customAttributes[t],"function")?o[t]=this.paper.customAttributes[t].def:o[t]=L._availableAttrs[t];return s-1?o:o[r[0]]}if(this.attrs&&null==e&&L.is(t,"array")){for(o={},a=0,s=t.length;a<s;a++)o[t[a]]=this.attr(t[a]);return o}var l;for(var h in null!=e&&((l={})[t]=e),null==e&&L.is(t,"object")&&(l=t),l)d("raphael.attr."+h+"."+this.id,this,l[h]);if(l){for(h in this.paper.customAttributes)if(this.paper.customAttributes[I](h)&&l[I](h)&&L.is(this.paper.customAttributes[h],"function")){var c=this.paper.customAttributes[h].apply(this,[].concat(l[h]));for(var u in this.attrs[h]=l[h],c)c[I](u)&&(l[u]=c[u])}l.text&&"text"==this.type&&(this.textpath.string=l.text),p(this,l)}return this},t.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&L._tofront(this,this.paper),this},t.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),L._toback(this,this.paper)),this},t.insertAfter=function(t){return this.removed||(t.constructor==L.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),L._insertafter(this,t,this.paper)),this},t.insertBefore=function(t){return this.removed||(t.constructor==L.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),L._insertbefore(this,t,this.paper)),this},t.blur=function(t){var e=this.node.runtimeStyle,i=e.filter;return i=i.replace(n,""),0!=+t?(this.attrs.blur=t,e.filter=i+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+t||1.5)+")",e.margin=L.format("-{0}px 0 0 -{0}px",F(+t||1.5))):(e.filter=i,e.margin=0,delete this.attrs.blur),this},L._engine.path=function(t,e){var i=q("shape");i.style.cssText=c,i.coordsize=j+" "+j,i.coordorigin=e.coordorigin;var n=new f(i,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),n.type="path",n.path=[],n.Path="",p(n,r),e.canvas&&e.canvas.appendChild(i);var o=q("skew");return o.on=!0,i.appendChild(o),n.skew=o,n.transform(""),n},L._engine.rect=function(t,e,i,n,r,o){var a=L._rectPath(e,i,n,r,o),s=t.path(a),l=s.attrs;return s.X=l.x=e,s.Y=l.y=i,s.W=l.width=n,s.H=l.height=r,l.r=o,l.path=a,s.type="rect",s},L._engine.ellipse=function(t,e,i,n,r){var o=t.path();o.attrs;return o.X=e-n,o.Y=i-r,o.W=2*n,o.H=2*r,o.type="ellipse",p(o,{cx:e,cy:i,rx:n,ry:r}),o},L._engine.circle=function(t,e,i,n){var r=t.path();r.attrs;return r.X=e-n,r.Y=i-n,r.W=r.H=2*n,r.type="circle",p(r,{cx:e,cy:i,r:n}),r},L._engine.image=function(t,e,i,n,r,o){var a=L._rectPath(i,n,r,o),s=t.path(a).attr({stroke:"none"}),l=s.attrs,h=s.node,c=h.getElementsByTagName($)[0];return l.src=e,s.X=l.x=i,s.Y=l.y=n,s.W=l.width=r,s.H=l.height=o,l.path=a,s.type="image",c.parentNode==h&&h.removeChild(c),c.rotate=!0,c.src=e,c.type="tile",s._.fillpos=[i,n],s._.fillsize=[r,o],h.appendChild(c),G(s,1,1,0,0,0),s},L._engine.text=function(t,e,i,n){var r=q("shape"),o=q("path"),a=q("textpath");e=e||0,i=i||0,n=n||"",o.v=L.format("m{0},{1}l{2},{1}",F(e*j),F(i*j),F(e*j)+1),o.textpathok=!0,a.string=O(n),a.on=!0,r.style.cssText=c,r.coordsize=j+" "+j,r.coordorigin="0 0";var s=new f(r,t),l={fill:"#000",stroke:"none",font:L._availableAttrs.font,text:n};s.shape=r,s.path=o,s.textpath=a,s.type="text",s.attrs.text=O(n),s.attrs.x=e,s.attrs.y=i,s.attrs.w=1,s.attrs.h=1,p(s,l),r.appendChild(a),r.appendChild(o),t.canvas.appendChild(r);var h=q("skew");return h.on=!0,r.appendChild(h),s.skew=h,s.transform(""),s},L._engine.setSize=function(t,e){var i=this.canvas.style;return(this.width=t)==+t&&(t+="px"),(this.height=e)==+e&&(e+="px"),i.width=t,i.height=e,i.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&L._engine.setViewBox.apply(this,this._viewBox),this},L._engine.setViewBox=function(t,e,i,n,r){L.eve("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var o,a,s=this.getSize(),l=s.width,h=s.height;return r&&(i*(o=h/n)<l&&(t-=(l-i*o)/2/o),n*(a=l/i)<h&&(e-=(h-n*a)/2/a)),this._viewBox=[t,e,i,n,!!r],this._viewBoxShift={dx:-t,dy:-e,scale:s},this.forEach(function(t){t.transform("...")}),this},L._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),q=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){q=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},L._engine.initWin(L._g.win),L._engine.create=function(){var t=L._getContainer.apply(0,arguments),e=t.container,i=t.height,n=t.width,r=t.x,o=t.y;if(!e)throw new Error("VML container not found.");var a=new L._Paper,s=a.canvas=L._g.doc.createElement("div"),l=s.style;return r=r||0,o=o||0,n=n||512,i=i||342,(a.width=n)==+n&&(n+="px"),(a.height=i)==+i&&(i+="px"),a.coordsize=216e5+" 21600000",a.coordorigin="0 0",a.span=L._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",s.appendChild(a.span),l.cssText=L.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",n,i),1==e?(L._g.doc.body.appendChild(s),l.left=r+"px",l.top=o+"px",l.position="absolute"):e.firstChild?e.insertBefore(s,e.firstChild):e.appendChild(s),a.renderfix=function(){},a},L.prototype.clear=function(){L.eve("raphael.clear",this),this.canvas.innerHTML="",this.span=L._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},L.prototype.remove=function(){for(var t in L.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?L._removedFactory(t):null;return!0};var e=L.st;for(var i in t)t[I](i)&&!e[I](i)&&(e[i]=function(i){return function(){var e=arguments;return this.forEach(function(t){t[i].apply(t,e)})}}(i))}}.apply(e,n))||(t.exports=r)}])}),function(){var O={version:"3.5.17"},o=[].slice,d=function(t){return o.call(t)},b=this.document;function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function R(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(b)try{d(b.documentElement.childNodes)[0].nodeType}catch(t){d=function(t){for(var e=t.length,i=new Array(e);e--;)i[e]=t[e];return i}}if(Date.now||(Date.now=function(){return+new Date}),b)try{b.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var e=this.Element.prototype,i=e.setAttribute,n=e.setAttributeNS,r=this.CSSStyleDeclaration.prototype,a=r.setProperty;e.setAttribute=function(t,e){i.call(this,t,e+"")},e.setAttributeNS=function(t,e,i){n.call(this,t,e,i+"")},r.setProperty=function(t,e,i){a.call(this,t,e+"",i)}}function l(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function h(t){return null===t?NaN:+t}function c(t){return!isNaN(t)}function t(o){return{left:function(t,e,i,n){for(arguments.length<3&&(i=0),arguments.length<4&&(n=t.length);i<n;){var r=i+n>>>1;o(t[r],e)<0?i=r+1:n=r}return i},right:function(t,e,i,n){for(arguments.length<3&&(i=0),arguments.length<4&&(n=t.length);i<n;){var r=i+n>>>1;0<o(t[r],e)?n=r:i=r+1}return i}}}O.ascending=l,O.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},O.min=function(t,e){var i,n,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(n=t[r])&&n<=n){i=n;break}for(;++r<o;)null!=(n=t[r])&&n<i&&(i=n)}else{for(;++r<o;)if(null!=(n=e.call(t,t[r],r))&&n<=n){i=n;break}for(;++r<o;)null!=(n=e.call(t,t[r],r))&&n<i&&(i=n)}return i},O.max=function(t,e){var i,n,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(n=t[r])&&n<=n){i=n;break}for(;++r<o;)null!=(n=t[r])&&i<n&&(i=n)}else{for(;++r<o;)if(null!=(n=e.call(t,t[r],r))&&n<=n){i=n;break}for(;++r<o;)null!=(n=e.call(t,t[r],r))&&i<n&&(i=n)}return i},O.extent=function(t,e){var i,n,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(n=t[o])&&n<=n){i=r=n;break}for(;++o<a;)null!=(n=t[o])&&(n<i&&(i=n),r<n&&(r=n))}else{for(;++o<a;)if(null!=(n=e.call(t,t[o],o))&&n<=n){i=r=n;break}for(;++o<a;)null!=(n=e.call(t,t[o],o))&&(n<i&&(i=n),r<n&&(r=n))}return[i,r]},O.sum=function(t,e){var i,n=0,r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)c(i=+t[o])&&(n+=i);else for(;++o<r;)c(i=+e.call(t,t[o],o))&&(n+=i);return n},O.mean=function(t,e){var i,n=0,r=t.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)c(i=h(t[o]))?n+=i:--a;else for(;++o<r;)c(i=h(e.call(t,t[o],o)))?n+=i:--a;if(a)return n/a},O.quantile=function(t,e){var i=(t.length-1)*e+1,n=Math.floor(i),r=+t[n-1],o=i-n;return o?r+o*(t[n]-r):r},O.median=function(t,e){var i,n=[],r=t.length,o=-1;if(1===arguments.length)for(;++o<r;)c(i=h(t[o]))&&n.push(i);else for(;++o<r;)c(i=h(e.call(t,t[o],o)))&&n.push(i);if(n.length)return O.quantile(n.sort(l),.5)},O.variance=function(t,e){var i,n,r=t.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<r;)c(i=h(t[s]))&&(a+=(n=i-o)*(i-(o+=n/++l)));else for(;++s<r;)c(i=h(e.call(t,t[s],s)))&&(a+=(n=i-o)*(i-(o+=n/++l)));if(1<l)return a/(l-1)},O.deviation=function(){var t=O.variance.apply(this,arguments);return t?Math.sqrt(t):t};var u=t(l);function p(t){return t.length}O.bisectLeft=u.left,O.bisect=O.bisectRight=u.right,O.bisector=function(i){return t(1===i.length?function(t,e){return l(i(t),e)}:i)},O.shuffle=function(t,e,i){(o=arguments.length)<3&&(i=t.length,o<2&&(e=0));for(var n,r,o=i-e;o;)r=Math.random()*o--|0,n=t[o+e],t[o+e]=t[r+e],t[r+e]=n;return t},O.permute=function(t,e){for(var i=e.length,n=new Array(i);i--;)n[i]=t[e[i]];return n},O.pairs=function(t){for(var e=0,i=t.length-1,n=t[0],r=new Array(i<0?0:i);e<i;)r[e]=[n,n=t[++e]];return r},O.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,i=O.min(t,p),n=new Array(i);++e<i;)for(var r,o=-1,a=n[e]=new Array(r);++o<r;)a[o]=t[o][e];return n},O.zip=function(){return O.transpose(arguments)},O.keys=function(t){var e=[];for(var i in t)e.push(i);return e},O.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},O.entries=function(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e},O.merge=function(t){for(var e,i,n,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(i=new Array(a);0<=--r;)for(e=(n=t[r]).length;0<=--e;)i[--a]=n[e];return i};var I=Math.abs;function f(t,e){for(var i in e)Object.defineProperty(t.prototype,i,{value:e[i],enumerable:!1})}function y(){this._=Object.create(null)}O.range=function(t,e,i){if(arguments.length<3&&(i=1,arguments.length<2&&(e=t,t=0)),(e-t)/i==1/0)throw new Error("infinite range");var n,r=[],o=function(t){var e=1;for(;t*e%1;)e*=10;return e}(I(i)),a=-1;if(t*=o,e*=o,(i*=o)<0)for(;(n=t+i*++a)>e;)r.push(n/o);else for(;(n=t+i*++a)<e;)r.push(n/o);return r},O.map=function(t,e){var i=new y;if(t instanceof y)t.forEach(function(t,e){i.set(t,e)});else if(Array.isArray(t)){var n,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)i.set(r,t[r]);else for(;++r<o;)i.set(e.call(t,n=t[r],r),n)}else for(var a in t)i.set(a,t[a]);return i};var g="__proto__",m="\0";function v(t){return(t+="")===g||t[0]===m?m+t:t}function x(t){return(t+="")[0]===m?t.slice(1):t}function _(t){return v(t)in this._}function w(t){return(t=v(t))in this._&&delete this._[t]}function S(){var t=[];for(var e in this._)t.push(x(e));return t}function C(){var t=0;for(var e in this._)++t;return t}function k(){for(var t in this._)return!1;return!0}function T(){this._=Object.create(null)}function F(t){return t}function D(e,i,n){return function(){var t=n.apply(i,arguments);return t===i?e:t}}function A(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var i=0,n=M.length;i<n;++i){var r=M[i]+e;if(r in t)return r}}f(y,{has:_,get:function(t){return this._[v(t)]},set:function(t,e){return this._[v(t)]=e},remove:w,keys:S,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:x(e),value:this._[e]});return t},size:C,empty:k,forEach:function(t){for(var e in this._)t.call(this,x(e),this._[e])}}),O.nest=function(){var u,d,p={},f=[],e=[];function g(i,t,n){if(n>=f.length)return d?d.call(p,t):u?t.sort(u):t;for(var e,r,o,a,s=-1,l=t.length,h=f[n++],c=new y;++s<l;)(a=c.get(e=h(r=t[s])))?a.push(r):c.set(e,[r]);return i?(r=i(),o=function(t,e){r.set(t,g(i,e,n))}):(r={},o=function(t,e){r[t]=g(i,e,n)}),c.forEach(o),r}return p.map=function(t,e){return g(e,t,0)},p.entries=function(t){return function i(t,n){if(n>=f.length)return t;var r=[],o=e[n++];return t.forEach(function(t,e){r.push({key:t,values:i(e,n)})}),o?r.sort(function(t,e){return o(t.key,e.key)}):r}(g(O.map,t,0),0)},p.key=function(t){return f.push(t),p},p.sortKeys=function(t){return e[f.length-1]=t,p},p.sortValues=function(t){return u=t,p},p.rollup=function(t){return d=t,p},p},O.set=function(t){var e=new T;if(t)for(var i=0,n=t.length;i<n;++i)e.add(t[i]);return e},f(T,{has:_,add:function(t){return this._[v(t+="")]=!0,t},remove:w,values:S,size:C,empty:k,forEach:function(t){for(var e in this._)t.call(this,x(e))}}),O.behavior={},O.rebind=function(t,e){for(var i,n=1,r=arguments.length;++n<r;)t[i=arguments[n]]=D(t,e,e[i]);return t};var M=["webkit","ms","moz","Moz","o","O"];function E(){}function P(){}function L(r){var o=[],a=new y;function t(){for(var t,e=o,i=-1,n=e.length;++i<n;)(t=e[i].on)&&t.apply(this,arguments);return r}return t.on=function(t,e){var i,n=a.get(t);return arguments.length<2?n&&n.on:(n&&(n.on=null,o=o.slice(0,i=o.indexOf(n)).concat(o.slice(i+1)),a.remove(t)),e&&o.push(a.set(t,{on:e})),r)},t}function N(){O.event.preventDefault()}function z(){for(var t,e=O.event;t=e.sourceEvent;)e=t;return e}function $(r){for(var o=new P,t=0,e=arguments.length;++t<e;)o[arguments[t]]=L(o);return o.of=function(i,n){return function(t){try{var e=t.sourceEvent=O.event;t.target=r,O.event=t,o[t.type].apply(i,n)}finally{O.event=e}}},o}O.dispatch=function(){for(var t=new P,e=-1,i=arguments.length;++e<i;)t[arguments[e]]=L(t);return t},P.prototype.on=function(t,e){var i=t.indexOf("."),n="";if(0<=i&&(n=t.slice(i+1),t=t.slice(0,i)),t)return arguments.length<2?this[t].on(n):this[t].on(n,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(n,null);return this}},O.event=null,O.requote=function(t){return t.replace(H,"\\$&")};var H=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,V={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)t[i]=e[i]};function B(t){return V(t,U),t}var W=function(t,e){return e.querySelector(t)},j=function(t,e){return e.querySelectorAll(t)},Y=function(t,e){var i=t.matches||t[A(t,"matchesSelector")];return(Y=function(t,e){return i.call(t,e)})(t,e)};"function"==typeof Sizzle&&(W=function(t,e){return Sizzle(t,e)[0]||null},j=Sizzle,Y=Sizzle.matchesSelector),O.selection=function(){return O.select(b.documentElement)};var U=O.selection.prototype=[];function G(t){return"function"==typeof t?t:function(){return W(t,this)}}function q(t){return"function"==typeof t?t:function(){return j(t,this)}}U.select=function(t){var e,i,n,r,o=[];t=G(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var l=-1,h=n.length;++l<h;)(r=n[l])?(e.push(i=t.call(r,r.__data__,l,a)),i&&"__data__"in r&&(i.__data__=r.__data__)):e.push(null)}return B(o)},U.selectAll=function(t){var e,i,n=[];t=q(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,l=a.length;++s<l;)(i=a[s])&&(n.push(e=d(t.call(i,i.__data__,s,r))),e.parentNode=i);return B(n)};var X="http://www.w3.org/1999/xhtml",K={svg:"http://www.w3.org/2000/svg",xhtml:X,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Z(e,i){return e=O.ns.qualify(e),null==i?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof i?e.local?function(){var t=i.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=i.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,i)}:function(){this.setAttribute(e,i)}}function Q(t){return t.trim().replace(/\s+/g," ")}function J(t){return new RegExp("(?:^|\\s+)"+O.requote(t)+"(?:\\s+|$)","g")}function tt(t){return(t+"").trim().split(/^|\s+/)}function et(i,n){var r=(i=tt(i).map(it)).length;return"function"==typeof n?function(){for(var t=-1,e=n.apply(this,arguments);++t<r;)i[t](this,e)}:function(){for(var t=-1;++t<r;)i[t](this,n)}}function it(n){var r=J(n);return function(t,e){if(i=t.classList)return e?i.add(n):i.remove(n);var i=t.getAttribute("class")||"";e?(r.lastIndex=0,r.test(i)||t.setAttribute("class",Q(i+" "+n))):t.setAttribute("class",Q(i.replace(r," ")))}}function nt(e,i,n){return null==i?function(){this.style.removeProperty(e)}:"function"==typeof i?function(){var t=i.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,n)}:function(){this.style.setProperty(e,i,n)}}function rt(e,i){return null==i?function(){delete this[e]}:"function"==typeof i?function(){var t=i.apply(this,arguments);null==t?delete this[e]:this[e]=t}:function(){this[e]=i}}function ot(i){return"function"==typeof i?i:(i=O.ns.qualify(i)).local?function(){return this.ownerDocument.createElementNS(i.space,i.local)}:function(){var t=this.ownerDocument,e=this.namespaceURI;return e===X&&t.documentElement.namespaceURI===X?t.createElement(i):t.createElementNS(e,i)}}function at(){var t=this.parentNode;t&&t.removeChild(this)}function st(t){return{__data__:t}}function lt(t){return function(){return Y(this,t)}}function ht(t,e){for(var i=0,n=t.length;i<n;i++)for(var r,o=t[i],a=0,s=o.length;a<s;a++)(r=o[a])&&e(r,a,i);return t}function ct(t){return V(t,ut),t}O.ns={prefix:K,qualify:function(t){var e=t.indexOf(":"),i=t;return 0<=e&&"xmlns"!==(i=t.slice(0,e))&&(t=t.slice(e+1)),K.hasOwnProperty(i)?{space:K[i],local:t}:t}},U.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node();return(t=O.ns.qualify(t)).local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}for(e in t)this.each(Z(e,t[e]));return this}return this.each(Z(t,e))},U.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node(),n=(t=tt(t)).length,r=-1;if(e=i.classList){for(;++r<n;)if(!e.contains(t[r]))return!1}else for(e=i.getAttribute("class");++r<n;)if(!J(t[r]).test(e))return!1;return!0}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},U.style=function(t,e,i){var n=arguments.length;if(n<3){if("string"!=typeof t){for(i in n<2&&(e=""),t)this.each(nt(i,t[i],e));return this}if(n<2){var r=this.node();return R(r).getComputedStyle(r,null).getPropertyValue(t)}i=""}return this.each(nt(t,e,i))},U.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(rt(e,t[e]));return this}return this.each(rt(t,e))},U.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},U.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},U.append=function(t){return t=ot(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},U.insert=function(t,e){return t=ot(t),e=G(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},U.remove=function(){return this.each(at)},U.data=function(t,f){var e,i,n=-1,r=this.length;if(!arguments.length){for(t=new Array(r=(e=this[0]).length);++n<r;)(i=e[n])&&(t[n]=i.__data__);return t}function o(t,e){var i,n,r,o=t.length,a=e.length,s=Math.min(o,a),l=new Array(a),h=new Array(a),c=new Array(o);if(f){var u,d=new y,p=new Array(o);for(i=-1;++i<o;)(n=t[i])&&(d.has(u=f.call(n,n.__data__,i))?c[i]=n:d.set(u,n),p[i]=u);for(i=-1;++i<a;)(n=d.get(u=f.call(e,r=e[i],i)))?!0!==n&&((l[i]=n).__data__=r):h[i]=st(r),d.set(u,!0);for(i=-1;++i<o;)i in p&&!0!==d.get(p[i])&&(c[i]=t[i])}else{for(i=-1;++i<s;)n=t[i],r=e[i],n?(n.__data__=r,l[i]=n):h[i]=st(r);for(;i<a;++i)h[i]=st(e[i]);for(;i<o;++i)c[i]=t[i]}h.update=l,h.parentNode=l.parentNode=c.parentNode=t.parentNode,g.push(h),m.push(l),v.push(c)}var g=ct([]),m=B([]),v=B([]);if("function"==typeof t)for(;++n<r;)o(e=this[n],t.call(e,e.parentNode.__data__,n));else for(;++n<r;)o(e=this[n],t);return m.enter=function(){return g},m.exit=function(){return v},m},U.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},U.filter=function(t){var e,i,n,r=[];"function"!=typeof t&&(t=lt(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var s=0,l=i.length;s<l;s++)(n=i[s])&&t.call(n,n.__data__,s,o)&&e.push(n)}return B(r)},U.order=function(){for(var t=-1,e=this.length;++t<e;)for(var i,n=this[t],r=n.length-1,o=n[r];0<=--r;)(i=n[r])&&(o&&o!==i.nextSibling&&o.parentNode.insertBefore(i,o),o=i);return this},U.sort=function(t){t=function(i){arguments.length||(i=l);return function(t,e){return t&&e?i(t.__data__,e.__data__):!t-!e}}.apply(this,arguments);for(var e=-1,i=this.length;++e<i;)this[e].sort(t);return this.order()},U.each=function(n){return ht(this,function(t,e,i){n.call(t,t.__data__,e,i)})},U.call=function(t){var e=d(arguments);return t.apply(e[0]=this,e),this},U.empty=function(){return!this.node()},U.node=function(){for(var t=0,e=this.length;t<e;t++)for(var i=this[t],n=0,r=i.length;n<r;n++){var o=i[n];if(o)return o}return null},U.size=function(){var t=0;return ht(this,function(){++t}),t};var ut=[];function dt(r,e,i){var n="__on"+r,t=r.indexOf("."),o=ft;0<t&&(r=r.slice(0,t));var a=pt.get(r);function s(){var t=this[n];t&&(this.removeEventListener(r,t,t.$),delete this[n])}return a&&(r=a,o=gt),t?e?function(){var t=o(e,d(arguments));s.call(this),this.addEventListener(r,this[n]=t,t.$=i),t._=e}:s:e?E:function(){var t,e=new RegExp("^__on([^.]+)"+O.requote(r)+"$");for(var i in this)if(t=i.match(e)){var n=this[i];this.removeEventListener(t[1],n,n.$),delete this[i]}}}O.selection.enter=ct,(O.selection.enter.prototype=ut).append=U.append,ut.empty=U.empty,ut.node=U.node,ut.call=U.call,ut.size=U.size,ut.select=function(t){for(var e,i,n,r,o,a=[],s=-1,l=this.length;++s<l;){n=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var h=-1,c=r.length;++h<c;)(o=r[h])?(e.push(n[h]=i=t.call(r.parentNode,o.__data__,h,s)),i.__data__=o.__data__):e.push(null)}return B(a)},ut.insert=function(t,e){var a,s,l;return arguments.length<2&&(a=this,e=function(t,e,i){var n,r=a[i].update,o=r.length;for(i!=l&&(l=i,s=0),s<=e&&(s=e+1);!(n=r[s])&&++s<o;);return n}),U.insert.call(this,t,e)},O.select=function(t){var e;return"string"==typeof t?(e=[W(t,b)]).parentNode=b.documentElement:(e=[t]).parentNode=s(t),B([e])},O.selectAll=function(t){var e;return"string"==typeof t?(e=d(j(t,b))).parentNode=b.documentElement:(e=d(t)).parentNode=null,B([e])},U.on=function(t,e,i){var n=arguments.length;if(n<3){if("string"!=typeof t){for(i in n<2&&(e=!1),t)this.each(dt(i,t[i],e));return this}if(n<2)return(n=this.node()["__on"+t])&&n._;i=!1}return this.each(dt(t,e,i))};var pt=O.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ft(i,n){return function(t){var e=O.event;O.event=t,n[0]=this.__data__;try{i.apply(this,n)}finally{O.event=e}}}function gt(t,e){var i=ft(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||i.call(this,t)}}b&&pt.forEach(function(t){"on"+t in b&&pt.remove(t)});var mt,vt=0;function yt(t){var i=".dragsuppress-"+ ++vt,n="click"+i,r=O.select(R(t)).on("touchmove"+i,N).on("dragstart"+i,N).on("selectstart"+i,N);if(null==mt&&(mt=!("onselectstart"in t)&&A(t.style,"userSelect")),mt){var o=s(t).style,a=o[mt];o[mt]="none"}return function(t){if(r.on(i,null),mt&&(o[mt]=a),t){var e=function(){r.on(n,null)};r.on(n,function(){N(),e()},!0),setTimeout(e,0)}}}O.mouse=function(t){return xt(t,z())};var bt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function xt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var n=i.createSVGPoint();if(bt<0){var r=R(t);if(r.scrollX||r.scrollY){var o=(i=O.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();bt=!(o.f||o.e),i.remove()}}return bt?(n.x=e.pageX,n.y=e.pageY):(n.x=e.clientX,n.y=e.clientY),[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function _t(){return O.event.changedTouches[0].identifier}O.touch=function(t,e,i){if(arguments.length<3&&(i=e,e=z().changedTouches),e)for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).identifier===i)return xt(t,n)},O.behavior.drag=function(){var g=$(i,"drag","dragstart","dragend"),m=null,t=n(E,O.mouse,R,"mousemove","mouseup"),e=n(_t,O.touch,F,"touchmove","touchend");function i(){this.on("mousedown.drag",t).on("touchstart.drag",e)}function n(c,u,d,p,f){return function(){var n,t=O.event.target.correspondingElement||O.event.target,r=this.parentNode,o=g.of(this,arguments),a=0,s=c(),e=".drag"+(null==s?"":"-"+s),i=O.select(d(t)).on(p+e,function(){var t,e,i=u(r,s);if(!i)return;t=i[0]-h[0],e=i[1]-h[1],a|=t|e,o({type:"drag",x:(h=i)[0]+n[0],y:i[1]+n[1],dx:t,dy:e})}).on(f+e,function(){if(!u(r,s))return;i.on(p+e,null).on(f+e,null),l(a),o({type:"dragend"})}),l=yt(t),h=u(r,s);n=m?[(n=m.apply(this,arguments)).x-h[0],n.y-h[1]]:[0,0],o({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(m=t,i):m},O.rebind(i,g,"on")},O.touches=function(i,t){return arguments.length<2&&(t=z().touches),t?d(t).map(function(t){var e=xt(i,t);return e.identifier=t.identifier,e}):[]};var wt=1e-6,St=wt*wt,Ct=Math.PI,kt=2*Ct,Tt=kt-wt,Dt=Ct/2,At=Ct/180,Mt=180/Ct;function Et(t){return 0<t?1:t<0?-1:0}function Pt(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])}function Lt(t){return 1<t?0:t<-1?Ct:Math.acos(t)}function It(t){return 1<t?Dt:t<-1?-Dt:Math.asin(t)}function Ot(t){return((t=Math.exp(t))+1/t)/2}function Rt(t){return(t=Math.sin(t/2))*t}var Ft=Math.SQRT2;O.interpolateZoom=function(t,e){var i,a,s=t[0],l=t[1],h=t[2],n=e[0],r=e[1],o=e[2],c=n-s,u=r-l,d=c*c+u*u;if(d<St)a=Math.log(o/h)/Ft,i=function(t){return[s+t*c,l+t*u,h*Math.exp(Ft*t*a)]};else{var p=Math.sqrt(d),f=(o*o-h*h+4*d)/(2*h*2*p),g=(o*o-h*h-4*d)/(2*o*2*p),m=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(g*g+1)-g);a=(v-m)/Ft,i=function(t){var e,i,n=t*a,r=Ot(m),o=h/(2*p)*(r*(i=Ft*n+m,((i=Math.exp(2*i))-1)/(i+1))-(e=m,((e=Math.exp(e))-1/e)/2));return[s+o*c,l+o*u,h*r/Ot(Ft*n+m)]}}return i.duration=1e3*a,i},O.behavior.zoom=function(){var e,l,i,n,x,r,o,a,s,_={x:0,y:0,k:1},h=[960,500],c=$t,u=250,d=0,w="mousedown.zoom",p="mousemove.zoom",f="mouseup.zoom",S="touchstart.zoom",C=$(g,"zoomstart","zoom","zoomend");function g(t){t.on(w,L).on(zt+".zoom",v).on("dblclick.zoom",y).on(S,I)}function k(t){return[(t[0]-_.x)/_.k,(t[1]-_.y)/_.k]}function T(t){_.k=Math.max(c[0],Math.min(c[1],t))}function D(t,e){var i;e=[(i=e)[0]*_.k+_.x,i[1]*_.k+_.y],_.x+=t[0]-e[0],_.y+=t[1]-e[1]}function A(t,e,i,n){t.__chart__={x:_.x,y:_.y,k:_.k},T(Math.pow(2,n)),D(l=e,i),t=O.select(t),0<u&&(t=t.transition().duration(u)),t.call(g.event)}function m(){o&&o.domain(r.range().map(function(t){return(t-_.x)/_.k}).map(r.invert)),s&&s.domain(a.range().map(function(t){return(t-_.y)/_.k}).map(a.invert))}function M(t){d++||t({type:"zoomstart"})}function E(t){m(),t({type:"zoom",scale:_.k,translate:[_.x,_.y]})}function P(t){--d||(t({type:"zoomend"}),l=null)}function L(){var t=this,e=C.of(t,arguments),i=0,n=O.select(R(t)).on(p,function(){i=1,D(O.mouse(t),r),E(e)}).on(f,function(){n.on(p,null).on(f,null),o(i),P(e)}),r=k(O.mouse(t)),o=yt(t);hs.call(t),M(e)}function I(){var h,c=this,u=C.of(c,arguments),d={},p=0,r=".zoom-"+O.event.changedTouches[0].identifier,f="touchmove"+r,g="touchend"+r,m=[],o=O.select(c),a=yt(c);function v(){var t=O.touches(c);return h=_.k,t.forEach(function(t){t.identifier in d&&(d[t.identifier]=k(t))}),t}function t(){var t=O.event.target;O.select(t).on(f,y).on(g,b),m.push(t);for(var e=O.event.changedTouches,i=0,n=e.length;i<n;++i)d[e[i].identifier]=null;var r=v(),o=Date.now();if(1===r.length){if(o-x<500){var a=r[0];A(c,a,d[a.identifier],Math.floor(Math.log(_.k)/Math.LN2)+1),N()}x=o}else if(1<r.length){a=r[0];var s=r[1],l=a[0]-s[0],h=a[1]-s[1];p=l*l+h*h}}function y(){var t,e,i,n,r=O.touches(c);hs.call(c);for(var o=0,a=r.length;o<a;++o,n=null)if(i=r[o],n=d[i.identifier]){if(e)break;t=i,e=n}if(n){var s=(s=i[0]-t[0])*s+(s=i[1]-t[1])*s,l=p&&Math.sqrt(s/p);t=[(t[0]+i[0])/2,(t[1]+i[1])/2],e=[(e[0]+n[0])/2,(e[1]+n[1])/2],T(l*h)}x=null,D(t,e),E(u)}function b(){if(O.event.touches.length){for(var t=O.event.changedTouches,e=0,i=t.length;e<i;++e)delete d[t[e].identifier];for(var n in d)return void v()}O.selectAll(m).on(r,null),o.on(w,L).on(S,I),a(),P(u)}t(),M(u),o.on(w,null).on(S,t)}function v(){var t=C.of(this,arguments);n?clearTimeout(n):(hs.call(this),e=k(l=i||O.mouse(this)),M(t)),n=setTimeout(function(){n=null,P(t)},50),N(),T(Math.pow(2,.002*Nt())*_.k),D(l,e),E(t)}function y(){var t=O.mouse(this),e=Math.log(_.k)/Math.LN2;A(this,t,k(t),O.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return zt||(zt="onwheel"in b?(Nt=function(){return-O.event.deltaY*(O.event.deltaMode?120:1)},"wheel"):"onmousewheel"in b?(Nt=function(){return O.event.wheelDelta},"mousewheel"):(Nt=function(){return-O.event.detail},"MozMousePixelScroll")),g.event=function(t){t.each(function(){var s=C.of(this,arguments),e=_;ds?O.select(this).transition().each("start.zoom",function(){_=this.__chart__||{x:0,y:0,k:1},M(s)}).tween("zoom:zoom",function(){var n=h[0],t=h[1],r=l?l[0]:n/2,o=l?l[1]:t/2,a=O.interpolateZoom([(r-_.x)/_.k,(o-_.y)/_.k,n/_.k],[(r-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(t){var e=a(t),i=n/e[2];this.__chart__=_={x:r-e[0]*i,y:o-e[1]*i,k:i},E(s)}}).each("interrupt.zoom",function(){P(s)}).each("end.zoom",function(){P(s)}):(this.__chart__=_,M(s),E(s),P(s))})},g.translate=function(t){return arguments.length?(_={x:+t[0],y:+t[1],k:_.k},m(),g):[_.x,_.y]},g.scale=function(t){return arguments.length?(_={x:_.x,y:_.y,k:null},T(+t),m(),g):_.k},g.scaleExtent=function(t){return arguments.length?(c=null==t?$t:[+t[0],+t[1]],g):c},g.center=function(t){return arguments.length?(i=t&&[+t[0],+t[1]],g):i},g.size=function(t){return arguments.length?(h=t&&[+t[0],+t[1]],g):h},g.duration=function(t){return arguments.length?(u=+t,g):u},g.x=function(t){return arguments.length?(r=(o=t).copy(),_={x:0,y:0,k:1},g):o},g.y=function(t){return arguments.length?(a=(s=t).copy(),_={x:0,y:0,k:1},g):s},O.rebind(g,C,"on")};var Nt,zt,$t=[0,1/0];function Ht(){}function Vt(t,e,i){return this instanceof Vt?(this.h=+t,this.s=+e,void(this.l=+i)):arguments.length<2?t instanceof Vt?new Vt(t.h,t.s,t.l):he(""+t,ce,Vt):new Vt(t,e,i)}(O.color=Ht).prototype.toString=function(){return this.rgb()+""};var Bt=(O.hsl=Vt).prototype=new Ht;function Wt(t,e,i){var n,r;function o(t){return Math.round(255*(360<(e=t)?e-=360:e<0&&(e+=360),e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n));var e}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,n=2*(i=i<0?0:1<i?1:i)-(r=i<=.5?i*(1+e):i+e-i*e),new re(o(t+120),o(t),o(t-120))}function jt(t,e,i){return this instanceof jt?(this.h=+t,this.c=+e,void(this.l=+i)):arguments.length<2?t instanceof jt?new jt(t.h,t.c,t.l):te(t instanceof Gt?t.l:(t=ue((t=O.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new jt(t,e,i)}Bt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Vt(this.h,this.s,this.l/t)},Bt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Vt(this.h,this.s,t*this.l)},Bt.rgb=function(){return Wt(this.h,this.s,this.l)};var Yt=(O.hcl=jt).prototype=new Ht;function Ut(t,e,i){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Gt(i,Math.cos(t*=At)*e,Math.sin(t)*e)}function Gt(t,e,i){return this instanceof Gt?(this.l=+t,this.a=+e,void(this.b=+i)):arguments.length<2?t instanceof Gt?new Gt(t.l,t.a,t.b):t instanceof jt?Ut(t.h,t.c,t.l):ue((t=re(t)).r,t.g,t.b):new Gt(t,e,i)}Yt.brighter=function(t){return new jt(this.h,this.c,Math.min(100,this.l+qt*(arguments.length?t:1)))},Yt.darker=function(t){return new jt(this.h,this.c,Math.max(0,this.l-qt*(arguments.length?t:1)))},Yt.rgb=function(){return Ut(this.h,this.c,this.l).rgb()},O.lab=Gt;var qt=18,Xt=.95047,Kt=1,Zt=1.08883,Qt=Gt.prototype=new Ht;function Jt(t,e,i){var n=(t+16)/116,r=n+e/500,o=n-i/200;return new re(ne(3.2404542*(r=ee(r)*Xt)-1.5371385*(n=ee(n)*Kt)-.4985314*(o=ee(o)*Zt)),ne(-.969266*r+1.8760108*n+.041556*o),ne(.0556434*r-.2040259*n+1.0572252*o))}function te(t,e,i){return 0<t?new jt(Math.atan2(i,e)*Mt,Math.sqrt(e*e+i*i),t):new jt(NaN,NaN,t)}function ee(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function ie(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function ne(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function re(t,e,i){return this instanceof re?(this.r=~~t,this.g=~~e,void(this.b=~~i)):arguments.length<2?t instanceof re?new re(t.r,t.g,t.b):he(""+t,re,Wt):new re(t,e,i)}function oe(t){return new re(t>>16,t>>8&255,255&t)}function ae(t){return oe(t)+""}Qt.brighter=function(t){return new Gt(Math.min(100,this.l+qt*(arguments.length?t:1)),this.a,this.b)},Qt.darker=function(t){return new Gt(Math.max(0,this.l-qt*(arguments.length?t:1)),this.a,this.b)},Qt.rgb=function(){return Jt(this.l,this.a,this.b)};var se=(O.rgb=re).prototype=new Ht;function le(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function he(t,e,i){var n,r,o,a=0,s=0,l=0;if(n=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=n[2].split(","),n[1]){case"hsl":return i(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(pe(r[0]),pe(r[1]),pe(r[2]))}return(o=fe.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function ce(t,e,i){var n,r,o=Math.min(t/=255,e/=255,i/=255),a=Math.max(t,e,i),s=a-o,l=(a+o)/2;return s?(r=l<.5?s/(a+o):s/(2-a-o),n=t==a?(e-i)/s+(e<i?6:0):e==a?(i-t)/s+2:(t-e)/s+4,n*=60):(n=NaN,r=0<l&&l<1?0:n),new Vt(n,r,l)}function ue(t,e,i){var n=ie((.4124564*(t=de(t))+.3575761*(e=de(e))+.1804375*(i=de(i)))/Xt),r=ie((.2126729*t+.7151522*e+.072175*i)/Kt);return Gt(116*r-16,500*(n-r),200*(r-ie((.0193339*t+.119192*e+.9503041*i)/Zt)))}function de(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pe(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}se.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,i=this.g,n=this.b;return e||i||n?(e&&e<30&&(e=30),i&&i<30&&(i=30),n&&n<30&&(n=30),new re(Math.min(255,e/t),Math.min(255,i/t),Math.min(255,n/t))):new re(30,30,30)},se.darker=function(t){return new re((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},se.hsl=function(){return ce(this.r,this.g,this.b)},se.toString=function(){return"#"+le(this.r)+le(this.g)+le(this.b)};var fe=O.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ge(t){return"function"==typeof t?t:function(){return t}}function me(n){return function(t,e,i){return 2===arguments.length&&"function"==typeof e&&(i=e,e=null),ve(t,e,n,i)}}function ve(r,o,a,t){var i,s={},l=O.dispatch("beforesend","progress","load","error"),h={},c=new XMLHttpRequest,u=null;function e(){var t,e,i,n=c.status;if(!n&&((i=(e=c).responseType)&&"text"!==i?e.response:e.responseText)||200<=n&&n<300||304===n){try{t=a.call(s,c)}catch(t){return void l.error.call(s,t)}l.load.call(s,t)}else l.error.call(s,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(r)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=e:c.onreadystatechange=function(){3<c.readyState&&e()},c.onprogress=function(t){var e=O.event;O.event=t;try{l.progress.call(s,c)}finally{O.event=e}},s.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?h[t]:(null==e?delete h[t]:h[t]=e+"",s)},s.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",s):o},s.responseType=function(t){return arguments.length?(u=t,s):u},s.response=function(t){return a=t,s},["get","post"].forEach(function(t){s[t]=function(){return s.send.apply(s,[t].concat(d(arguments)))}}),s.send=function(t,e,i){if(2===arguments.length&&"function"==typeof e&&(i=e,e=null),c.open(t,r,!0),null==o||"accept"in h||(h.accept=o+",*/*"),c.setRequestHeader)for(var n in h)c.setRequestHeader(n,h[n]);return null!=o&&c.overrideMimeType&&c.overrideMimeType(o),null!=u&&(c.responseType=u),null!=i&&s.on("error",i).on("load",function(t){i(null,t)}),l.beforesend.call(s,c),c.send(null==e?null:e),s},s.abort=function(){return c.abort(),s},O.rebind(s,l,"on"),null==t?s:s.get(1===(i=t).length?function(t,e){i(null==t?e:null)}:i)}fe.forEach(function(t,e){fe.set(t,oe(e))}),O.functor=ge,O.xhr=me(F),O.dsv=function(r,o){var e=new RegExp('["'+r+"\n]"),d=r.charCodeAt(0);function a(t,e,i){arguments.length<3&&(i=e,e=null);var n=ve(t,o,null==e?s:l(e),i);return n.row=function(t){return arguments.length?n.response(null==(e=t)?s:l(t)):e},n}function s(t){return a.parse(t.responseText)}function l(e){return function(t){return a.parse(t.responseText,e)}}function i(t){return t.map(h).join(r)}function h(t){return e.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return a.parse=function(t,n){var r;return a.parseRows(t,function(t,e){if(r)return r(t,e-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=n?function(t,e){return n(i(t),e)}:i})},a.parseRows=function(r,t){var e,o,a={},s={},i=[],l=r.length,h=0,n=0;function c(){if(l<=h)return s;if(o)return o=!1,a;var t=h;if(34===r.charCodeAt(t)){for(var e=t;e++<l;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return h=e+2,13===(i=r.charCodeAt(e+1))?(o=!0,10===r.charCodeAt(e+2)&&++h):10===i&&(o=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;h<l;){var i,n=1;if(10===(i=r.charCodeAt(h++)))o=!0;else if(13===i)o=!0,10===r.charCodeAt(h)&&(++h,++n);else if(i!==d)continue;return r.slice(t,h-n)}return r.slice(t)}for(;(e=c())!==s;){for(var u=[];e!==a&&e!==s;)u.push(e),e=c();t&&null==(u=t(u,n++))||i.push(u)}return i},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var i=new T,n=[];return t.forEach(function(t){for(var e in t)i.has(e)||n.push(i.add(e))}),[n.map(h).join(r)].concat(t.map(function(e){return n.map(function(t){return h(e[t])}).join(r)})).join("\n")},a.formatRows=function(t){return t.map(i).join("\n")},a},O.csv=O.dsv(",","text/csv"),O.tsv=O.dsv("\t","text/tab-separated-values");var ye,be,xe,_e,we=this[A(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Se(t,e,i){var n=arguments.length;n<2&&(e=0),n<3&&(i=Date.now());var r={c:t,t:i+e,n:null};return be?be.n=r:ye=r,be=r,xe||(_e=clearTimeout(_e),xe=1,we(Ce)),r}function Ce(){var t=ke(),e=Te()-t;24<e?(isFinite(e)&&(clearTimeout(_e),_e=setTimeout(Ce,e)),xe=0):(xe=1,we(Ce))}function ke(){for(var t=Date.now(),e=ye;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Te(){for(var t,e=ye,i=1/0;e;)e.c?(e.t<i&&(i=e.t),e=(t=e).n):e=t?t.n=e.n:ye=e.n;return be=t,i}function De(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}O.timer=function(){Se.apply(this,arguments)},O.timer.flush=function(){ke(),Te()},O.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ae=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var i=Math.pow(10,3*I(8-e));return{scale:8<e?function(t){return t/i}:function(t){return t*i},symbol:t}});O.formatPrefix=function(t,e){var i=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=O.round(t,De(t,e))),i=1+Math.floor(1e-12+Math.log(t)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i-1)/3)))),Ae[8+i/3]};var Me=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ee=O.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=O.round(t,De(t,e))).toFixed(Math.max(0,Math.min(20,De(t*(1+1e-15),e))))}});function Pe(t){return t+""}var Le=O.time={},Ie=Date;function Oe(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}Oe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Re.setUTCDate.apply(this._,arguments)},setDay:function(){Re.setUTCDay.apply(this._,arguments)},setFullYear:function(){Re.setUTCFullYear.apply(this._,arguments)},setHours:function(){Re.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Re.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Re.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Re.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Re.setUTCSeconds.apply(this._,arguments)},setTime:function(){Re.setTime.apply(this._,arguments)}};var Re=Date.prototype;function Fe(n,o,a){function t(t){var e=n(t),i=r(e,1);return t-e<i-t?e:i}function s(t){return o(t=n(new Ie(t-1)),1),t}function r(t,e){return o(t=new Ie(+t),e),t}function l(t,e,i){var n=s(t),r=[];if(1<i)for(;n<e;)a(n)%i||r.push(new Date(+n)),o(n,1);else for(;n<e;)r.push(new Date(+n)),o(n,1);return r}(n.floor=n).round=t,n.ceil=s,n.offset=r,n.range=l;var e=n.utc=Ne(n);return(e.floor=e).round=Ne(t),e.ceil=Ne(s),e.offset=Ne(r),e.range=function(t,e,i){try{var n=new(Ie=Oe);return n._=t,l(n,e,i)}finally{Ie=Date}},n}function Ne(n){return function(t,e){try{var i=new(Ie=Oe);return i._=t,n(i,e)._}finally{Ie=Date}}}Le.year=Fe(function(t){return(t=Le.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Le.years=Le.year.range,Le.years.utc=Le.year.utc.range,Le.day=Fe(function(t){var e=new Ie(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Le.days=Le.day.range,Le.days.utc=Le.day.utc.range,Le.dayOfYear=function(t){var e=Le.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,i){i=7-i;var e=Le[t]=Fe(function(t){return(t=Le.day(t)).setDate(t.getDate()-(t.getDay()+i)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=Le.year(t).getDay();return Math.floor((Le.dayOfYear(t)+(e+i)%7)/7)-(e!==i)});Le[t+"s"]=e.range,Le[t+"s"].utc=e.utc.range,Le[t+"OfYear"]=function(t){var e=Le.year(t).getDay();return Math.floor((Le.dayOfYear(t)+(e+i)%7)/7)}}),Le.week=Le.sunday,Le.weeks=Le.sunday.range,Le.weeks.utc=Le.sunday.utc.range,Le.weekOfYear=Le.sundayOfYear;var ze={"-":"",_:" ",0:"0"},$e=/^\s*\d+/,He=/^%/;function Ve(t,e,i){var n=t<0?"-":"",r=(n?-t:t)+"",o=r.length;return n+(o<i?new Array(i-o+1).join(e)+r:r)}function Be(t){return new RegExp("^(?:"+t.map(O.requote).join("|")+")","i")}function We(t){for(var e=new y,i=-1,n=t.length;++i<n;)e.set(t[i].toLowerCase(),i);return e}function je(t,e,i){$e.lastIndex=0;var n=$e.exec(e.slice(i,i+1));return n?(t.w=+n[0],i+n[0].length):-1}function Ye(t,e,i){$e.lastIndex=0;var n=$e.exec(e.slice(i));return n?(t.U=+n[0],i+n[0].length):-1}function Ue(t,e,i){$e.lastIndex=0;var n=$e.exec(e.slice(i));return n?(t.W=+n[0],i+n[0].length):-1}function Ge(t,e,i){$e.lastIndex=0;var n=$e.exec(e.slice(i,i+4));return n?(t.y=+n[0],i+n[0].length):-1}function qe(t,e,i){$e.lastIndex=0;var n,r=$e.exec(e.slice(i,i+2));return r?(t.y=(n=+r[0])+(68<n?1900:2e3),i+r[0].length):-1}function Xe(t,e,i){return/^[+-]\d{4}$/.test(e=e.slice(i,i+5))?(t.Z=-e,i+5):-1}function Ke(t,e,i){$e.lastIndex=0;var n=$e.exec(e.slice(i,i+2));return n?(t.m=n[0]-1,i+n[0].length):-1}function Ze(t,e,i){$e.lastIndex=0;var n=$e.exec(e.slice(i,i+2));return n?(t.d=+n[0],i+n[0].length):-1}function Qe(t,e,i){$e.lastIndex=0;var n=$e.exec(e.slice(i,i+3));return n?(t.j=+n[0],i+n[0].length):-1}function Je(t,e,i){$e.lastIndex=0;var n=$e.exec(e.slice(i,i+2));return n?(t.H=+n[0],i+n[0].length):-1}function ti(t,e,i){$e.lastIndex=0;var n=$e.exec(e.slice(i,i+2));return n?(t.M=+n[0],i+n[0].length):-1}function ei(t,e,i){$e.lastIndex=0;var n=$e.exec(e.slice(i,i+2));return n?(t.S=+n[0],i+n[0].length):-1}function ii(t,e,i){$e.lastIndex=0;var n=$e.exec(e.slice(i,i+3));return n?(t.L=+n[0],i+n[0].length):-1}function ni(t){var e=t.getTimezoneOffset(),i=0<e?"-":"+",n=I(e)/60|0,r=I(e)%60;return i+Ve(n,"0",2)+Ve(r,"0",2)}function ri(t,e,i){He.lastIndex=0;var n=He.exec(e.slice(i,i+1));return n?i+n[0].length:-1}function oi(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,i=n[e];!i[1](t);)i=n[++e];return i[0](t)}}O.locale=function(t){return{numberFormat:(e=t,C=e.decimal,s=e.thousands,l=e.grouping,n=e.currency,k=l&&s?function(t,e){for(var i=t.length,n=[],r=0,o=l[0],a=0;0<i&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),n.push(t.substring(i-=o,i+o)),!((a+=o+1)>e));)o=l[r=(r+1)%l.length];return n.reverse().join(s)}:F,function(t){var e=Me.exec(t),c=e[1]||" ",u=e[2]||">",d=e[3]||"-",i=e[4]||"",p=e[5],f=+e[6],g=e[7],m=e[8],v=e[9],y=1,b="",x="",_=!1,w=!0;switch(m&&(m=+m.substring(1)),(p||"0"===c&&"="===u)&&(p=c="0",u="="),v){case"n":g=!0,v="g";break;case"%":y=100,x="%",v="f";break;case"p":y=100,x="%",v="r";break;case"b":case"o":case"x":case"X":"#"===i&&(b="0"+v.toLowerCase());case"c":w=!1;case"d":_=!0,m=0;break;case"s":y=-1,v="r"}"$"===i&&(b=n[0],x=n[1]),"r"!=v||m||(v="g"),null!=m&&("g"==v?m=Math.max(1,Math.min(21,m)):"e"!=v&&"f"!=v||(m=Math.max(0,Math.min(20,m)))),v=Ee.get(v)||Pe;var S=p&&g;return function(t){var e=x;if(_&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===d?"":d;if(y<0){var n=O.formatPrefix(t,m);t=n.scale(t),e=n.symbol+x}else t*=y;var r,o,a=(t=v(t,m)).lastIndexOf(".");if(a<0){var s=w?t.lastIndexOf("e"):-1;s<0?(r=t,o=""):(r=t.substring(0,s),o=t.substring(s))}else r=t.substring(0,a),o=C+t.substring(a+1);!p&&g&&(r=k(r,1/0));var l=b.length+r.length+o.length+(S?0:i.length),h=l<f?new Array(l=f-l+1).join(c):"";return S&&(r=k(h+r,h.length?f-o.length:1/0)),i+=b,t=r+o,("<"===u?i+t+h:">"===u?h+i+t:"^"===u?h.substring(0,l>>=1)+i+t+h.substring(l):i+(S?t:h+t))+e}}),timeFormat:function(t){var e=t.dateTime,i=t.date,n=t.time,r=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths;function h(s){var l=s.length;function t(t){for(var e,i,n,r=[],o=-1,a=0;++o<l;)37===s.charCodeAt(o)&&(r.push(s.slice(a,o)),null!=(i=ze[e=s.charAt(++o)])&&(e=s.charAt(++o)),(n=x[e])&&(e=n(t,null==i?"e"===e?" ":"0":i)),r.push(e),a=o+1);return r.push(s.slice(a,o)),r.join("")}return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var i=null!=e.Z&&Ie!==Oe,n=new(i?Oe:Ie);return"j"in e?n.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),n.setFullYear(e.y,0,1),n.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(n.getDay()+5)%7:e.w+7*e.U-(n.getDay()+6)%7)):n.setFullYear(e.y,e.m,e.d),n.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),i?n._:n},t.toString=function(){return s},t}function c(t,e,i,n){for(var r,o,a,s=0,l=e.length,h=i.length;s<l;){if(h<=n)return-1;if(37===(r=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=_[a in ze?e.charAt(s++):a])||(n=o(t,i,n))<0)return-1}else if(r!=i.charCodeAt(n++))return-1}return n}h.multi=(h.utc=function(t){var i=h(t);function e(t){try{var e=new(Ie=Oe);return e._=t,i(e)}finally{Ie=Date}}return e.parse=function(t){try{Ie=Oe;var e=i.parse(t);return e&&e._}finally{Ie=Date}},e.toString=i.toString,e}).multi=oi;var u=O.map(),d=Be(o),p=We(o),f=Be(a),g=We(a),m=Be(s),v=We(s),y=Be(l),b=We(l);r.forEach(function(t,e){u.set(t.toLowerCase(),e)});var x={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:h(e),d:function(t,e){return Ve(t.getDate(),e,2)},e:function(t,e){return Ve(t.getDate(),e,2)},H:function(t,e){return Ve(t.getHours(),e,2)},I:function(t,e){return Ve(t.getHours()%12||12,e,2)},j:function(t,e){return Ve(1+Le.dayOfYear(t),e,3)},L:function(t,e){return Ve(t.getMilliseconds(),e,3)},m:function(t,e){return Ve(t.getMonth()+1,e,2)},M:function(t,e){return Ve(t.getMinutes(),e,2)},p:function(t){return r[+(12<=t.getHours())]},S:function(t,e){return Ve(t.getSeconds(),e,2)},U:function(t,e){return Ve(Le.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ve(Le.mondayOfYear(t),e,2)},x:h(i),X:h(n),y:function(t,e){return Ve(t.getFullYear()%100,e,2)},Y:function(t,e){return Ve(t.getFullYear()%1e4,e,4)},Z:ni,"%":function(){return"%"}},_={a:function(t,e,i){f.lastIndex=0;var n=f.exec(e.slice(i));return n?(t.w=g.get(n[0].toLowerCase()),i+n[0].length):-1},A:function(t,e,i){d.lastIndex=0;var n=d.exec(e.slice(i));return n?(t.w=p.get(n[0].toLowerCase()),i+n[0].length):-1},b:function(t,e,i){y.lastIndex=0;var n=y.exec(e.slice(i));return n?(t.m=b.get(n[0].toLowerCase()),i+n[0].length):-1},B:function(t,e,i){m.lastIndex=0;var n=m.exec(e.slice(i));return n?(t.m=v.get(n[0].toLowerCase()),i+n[0].length):-1},c:function(t,e,i){return c(t,x.c.toString(),e,i)},d:Ze,e:Ze,H:Je,I:Je,j:Qe,L:ii,m:Ke,M:ti,p:function(t,e,i){var n=u.get(e.slice(i,i+=2).toLowerCase());return null==n?-1:(t.p=n,i)},S:ei,U:Ye,w:je,W:Ue,x:function(t,e,i){return c(t,x.x.toString(),e,i)},X:function(t,e,i){return c(t,x.X.toString(),e,i)},y:qe,Y:Ge,Z:Xe,"%":ri};return h}(t)};var e,C,s,l,n,k};var ai=O.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function si(){}O.format=ai.numberFormat,O.geo={},si.prototype={s:0,t:0,add:function(t){hi(t,this.t,li),hi(li.s,this.s,this),this.s?this.t+=li.t:this.s=li.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var li=new si;function hi(t,e,i){var n=i.s=t+e,r=n-t,o=n-r;i.t=t-o+(e-r)}function ci(t,e){t&&di.hasOwnProperty(t.type)&&di[t.type](t,e)}O.geo.stream=function(t,e){t&&ui.hasOwnProperty(t.type)?ui[t.type](t,e):ci(t,e)};var ui={Feature:function(t,e){ci(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)ci(i[n].geometry,e)}},di={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)t=i[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){pi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)pi(i[n],e,0)},Polygon:function(t,e){fi(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)fi(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)ci(i[n],e)}};function pi(t,e,i){var n,r=-1,o=t.length-i;for(e.lineStart();++r<o;)n=t[r],e.point(n[0],n[1],n[2]);e.lineEnd()}function fi(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)pi(t[i],e,1);e.polygonEnd()}O.geo.area=function(t){return gi=0,O.geo.stream(t,Ai),gi};var gi,mi,vi,yi,bi,xi,_i,wi,Si,Ci,ki,Ti,Di=new si,Ai={sphere:function(){gi+=4*Ct},point:E,lineStart:E,lineEnd:E,polygonStart:function(){Di.reset(),Ai.lineStart=Mi},polygonEnd:function(){var t=2*Di;gi+=t<0?4*Ct+t:t,Ai.lineStart=Ai.lineEnd=Ai.point=E}};function Mi(){var i,n,c,u,d;function r(t,e){e=e*At/2+Ct/4;var i=(t*=At)-c,n=0<=i?1:-1,r=n*i,o=Math.cos(e),a=Math.sin(e),s=d*a,l=u*o+s*Math.cos(r),h=s*n*Math.sin(r);Di.add(Math.atan2(h,l)),c=t,u=o,d=a}Ai.point=function(t,e){Ai.point=r,c=(i=t)*At,u=Math.cos(e=(n=e)*At/2+Ct/4),d=Math.sin(e)},Ai.lineEnd=function(){r(i,n)}}function Ei(t){var e=t[0],i=t[1],n=Math.cos(i);return[n*Math.cos(e),n*Math.sin(e),Math.sin(i)]}function Pi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Li(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ii(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Oi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ri(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Fi(t){return[Math.atan2(t[1],t[0]),It(t[2])]}function Ni(t,e){return I(t[0]-e[0])<wt&&I(t[1]-e[1])<wt}O.geo.bounds=function(){var c,u,d,p,f,n,r,g,o,l,h,m={point:v,lineStart:t,lineEnd:e,polygonStart:function(){m.point=i,m.lineStart=s,m.lineEnd=y,o=0,Ai.polygonStart()},polygonEnd:function(){Ai.polygonEnd(),m.point=v,m.lineStart=t,m.lineEnd=e,Di<0?(c=-(d=180),u=-(p=90)):wt<o?p=90:o<-wt&&(u=-90),h[0]=c,h[1]=d}};function v(t,e){l.push(h=[c=t,d=t]),e<u&&(u=e),p<e&&(p=e)}function a(t,e){var i=Ei([t*At,e*At]);if(g){var n=Li(g,i),r=Li([n[1],-n[0],0],n);Ri(r),r=Fi(r);var o=t-f,a=0<o?1:-1,s=r[0]*Mt*a,l=180<I(o);if(l^(a*f<s&&s<a*t)){var h=r[1]*Mt;p<h&&(p=h)}else if(l^(a*f<(s=(s+360)%360-180)&&s<a*t)){(h=-r[1]*Mt)<u&&(u=h)}else e<u&&(u=e),p<e&&(p=e);l?t<f?b(c,t)>b(c,d)&&(d=t):b(t,d)>b(c,d)&&(c=t):c<=d?(t<c&&(c=t),d<t&&(d=t)):f<t?b(c,t)>b(c,d)&&(d=t):b(t,d)>b(c,d)&&(c=t)}else v(t,e);g=i,f=t}function t(){m.point=a}function e(){h[0]=c,h[1]=d,m.point=v,g=null}function i(t,e){if(g){var i=t-f;o+=180<I(i)?i+(0<i?360:-360):i}else n=t,r=e;Ai.point(t,e),a(t,e)}function s(){Ai.lineStart()}function y(){i(n,r),Ai.lineEnd(),I(o)>wt&&(c=-(d=180)),h[0]=c,h[1]=d,g=null}function b(t,e){return(e-=t)<0?e+360:e}function x(t,e){return t[0]-e[0]}function _(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(t){if(p=d=-(c=u=1/0),l=[],O.geo.stream(t,m),r=l.length){l.sort(x);for(var e=1,i=[s=l[0]];e<r;++e)_((o=l[e])[0],s)||_(o[1],s)?(b(s[0],o[1])>b(s[0],s[1])&&(s[1]=o[1]),b(o[0],s[1])>b(s[0],s[1])&&(s[0]=o[0])):i.push(s=o);for(var n,r,o,a=-1/0,s=(e=0,i[r=i.length-1]);e<=r;s=o,++e)o=i[e],(n=b(s[1],o[0]))>a&&(a=n,c=o[0],d=s[1])}return l=h=null,c===1/0||u===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,u],[d,p]]}}(),O.geo.centroid=function(t){mi=vi=yi=bi=xi=_i=wi=Si=Ci=ki=Ti=0,O.geo.stream(t,zi);var e=Ci,i=ki,n=Ti,r=e*e+i*i+n*n;return r<St&&(e=_i,i=wi,n=Si,vi<wt&&(e=yi,i=bi,n=xi),(r=e*e+i*i+n*n)<St)?[NaN,NaN]:[Math.atan2(i,e)*Mt,It(n/Math.sqrt(r))*Mt]};var zi={sphere:E,point:$i,lineStart:Vi,lineEnd:Bi,polygonStart:function(){zi.lineStart=Wi},polygonEnd:function(){zi.lineStart=Vi}};function $i(t,e){t*=At;var i=Math.cos(e*=At);Hi(i*Math.cos(t),i*Math.sin(t),Math.sin(e))}function Hi(t,e,i){yi+=(t-yi)/++mi,bi+=(e-bi)/mi,xi+=(i-xi)/mi}function Vi(){var s,l,h;function n(t,e){t*=At;var i=Math.cos(e*=At),n=i*Math.cos(t),r=i*Math.sin(t),o=Math.sin(e),a=Math.atan2(Math.sqrt((a=l*o-h*r)*a+(a=h*n-s*o)*a+(a=s*r-l*n)*a),s*n+l*r+h*o);vi+=a,_i+=a*(s+(s=n)),wi+=a*(l+(l=r)),Si+=a*(h+(h=o)),Hi(s,l,h)}zi.point=function(t,e){t*=At;var i=Math.cos(e*=At);s=i*Math.cos(t),l=i*Math.sin(t),h=Math.sin(e),zi.point=n,Hi(s,l,h)}}function Bi(){zi.point=$i}function Wi(){var n,r,p,f,g;function o(t,e){t*=At;var i=Math.cos(e*=At),n=i*Math.cos(t),r=i*Math.sin(t),o=Math.sin(e),a=f*o-g*r,s=g*n-p*o,l=p*r-f*n,h=Math.sqrt(a*a+s*s+l*l),c=p*n+f*r+g*o,u=h&&-Lt(c)/h,d=Math.atan2(h,c);Ci+=u*a,ki+=u*s,Ti+=u*l,vi+=d,_i+=d*(p+(p=n)),wi+=d*(f+(f=r)),Si+=d*(g+(g=o)),Hi(p,f,g)}zi.point=function(t,e){n=t,r=e,zi.point=o,t*=At;var i=Math.cos(e*=At);p=i*Math.cos(t),f=i*Math.sin(t),g=Math.sin(e),Hi(p,f,g)},zi.lineEnd=function(){o(n,r),zi.lineEnd=Bi,zi.point=$i}}function ji(i,n){function t(t,e){return t=i(t,e),n(t[0],t[1])}return i.invert&&n.invert&&(t.invert=function(t,e){return(t=n.invert(t,e))&&i.invert(t[0],t[1])}),t}function Yi(){return!0}function Ui(t,e,i,n,s){var l=[],h=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,i=t[0],n=t[e];if(Ni(i,n)){s.lineStart();for(var r=0;r<e;++r)s.point((i=t[r])[0],i[1]);s.lineEnd()}else{var o=new qi(i,t,null,!0),a=new qi(i,null,o,!1);o.o=a,l.push(o),h.push(a),a=new qi(n,null,o=new qi(n,t,null,!1),!0),o.o=a,l.push(o),h.push(a)}}}),h.sort(e),Gi(l),Gi(h),l.length){for(var r=0,o=i,a=h.length;r<a;++r)h[r].e=o=!o;for(var c,u,d=l[0];;){for(var p=d,f=!0;p.v;)if((p=p.n)===d)return;c=p.z,s.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(r=0,a=c.length;r<a;++r)s.point((u=c[r])[0],u[1]);else n(p.x,p.n.x,1,s);p=p.n}else{if(f)for(r=(c=p.p.z).length-1;0<=r;--r)s.point((u=c[r])[0],u[1]);else n(p.x,p.p.x,-1,s);p=p.p}c=(p=p.o).z,f=!f}while(!p.v);s.lineEnd()}}}function Gi(t){if(e=t.length){for(var e,i,n=0,r=t[0];++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function qi(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function Xi(y,b,x,_){return function(n,a){var s,r=b(a),e=n.invert(_[0],_[1]),i={point:o,lineStart:l,lineEnd:h,polygonStart:function(){i.point=g,i.lineStart=m,i.lineEnd=v,s=[],c=[]},polygonEnd:function(){i.point=o,i.lineStart=l,i.lineEnd=h,s=O.merge(s);var t=function(t,e){var i=t[0],n=t[1],r=[Math.sin(i),-Math.cos(i),0],o=0,a=0;Di.reset();for(var s=0,l=e.length;s<l;++s){var h=e[s],c=h.length;if(c)for(var u=h[0],d=u[0],p=u[1]/2+Ct/4,f=Math.sin(p),g=Math.cos(p),m=1;;){m===c&&(m=0);var v=(t=h[m])[0],y=t[1]/2+Ct/4,b=Math.sin(y),x=Math.cos(y),_=v-d,w=0<=_?1:-1,S=w*_,C=Ct<S,k=f*b;if(Di.add(Math.atan2(k*w*Math.sin(S),g*x+k*Math.cos(S))),o+=C?_+w*kt:_,C^i<=d^i<=v){var T=Li(Ei(u),Ei(t));Ri(T);var D=Li(r,T);Ri(D);var A=(C^0<=_?-1:1)*It(D[2]);(A<n||n===A&&(T[0]||T[1]))&&(a+=C^0<=_?1:-1)}if(!m++)break;d=v,f=b,g=x,u=t}}return(o<-wt||o<wt&&Di<-wt)^1&a}(e,c);s.length?(f||(a.polygonStart(),f=!0),Ui(s,Qi,t,x,a)):t&&(f||(a.polygonStart(),f=!0),a.lineStart(),x(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),s=c=null},sphere:function(){a.polygonStart(),a.lineStart(),x(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function o(t,e){var i=n(t,e);y(t=i[0],e=i[1])&&a.point(t,e)}function t(t,e){var i=n(t,e);r.point(i[0],i[1])}function l(){i.point=t,r.lineStart()}function h(){i.point=o,r.lineEnd()}var c,u,d=Zi(),p=b(d),f=!1;function g(t,e){u.push([t,e]);var i=n(t,e);p.point(i[0],i[1])}function m(){p.lineStart(),u=[]}function v(){g(u[0][0],u[0][1]),p.lineEnd();var t,e=p.clean(),i=d.buffer(),n=i.length;if(u.pop(),c.push(u),u=null,n)if(1&e){var r,o=-1;if(0<(n=(t=i[0]).length-1)){for(f||(a.polygonStart(),f=!0),a.lineStart();++o<n;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else 1<n&&2&e&&i.push(i.pop().concat(i.shift())),s.push(i.filter(Ki))}return i}}function Ki(t){return 1<t.length}function Zi(){var i,e=[];return{lineStart:function(){e.push(i=[])},point:function(t,e){i.push([t,e])},lineEnd:E,buffer:function(){var t=e;return e=[],i=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Qi(t,e){return((t=t.x)[0]<0?t[1]-Dt-wt:Dt-t[1])-((e=e.x)[0]<0?e[1]-Dt-wt:Dt-e[1])}var Ji=Xi(Yi,function(u){var d,p=NaN,f=NaN,g=NaN;return{lineStart:function(){u.lineStart(),d=1},point:function(t,e){var i,n,r,o,a,s,l,h=0<t?Ct:-Ct,c=I(t-p);I(c-Ct)<wt?(u.point(p,f=0<(f+e)/2?Dt:-Dt),u.point(g,f),u.lineEnd(),u.lineStart(),u.point(h,f),u.point(t,f),d=0):g!==h&&Ct<=c&&(I(p-g)<wt&&(p-=g*wt),I(t-h)<wt&&(t-=h*wt),i=p,n=f,r=t,o=e,l=Math.sin(i-r),f=I(l)>wt?Math.atan((Math.sin(n)*(s=Math.cos(o))*Math.sin(r)-Math.sin(o)*(a=Math.cos(n))*Math.sin(i))/(a*s*l)):(n+o)/2,u.point(g,f),u.lineEnd(),u.lineStart(),u.point(h,f),d=0),u.point(p=t,f=e),g=h},lineEnd:function(){u.lineEnd(),p=f=NaN},clean:function(){return 2-d}}},function(t,e,i,n){var r;if(null==t)r=i*Dt,n.point(-Ct,r),n.point(0,r),n.point(Ct,r),n.point(Ct,0),n.point(Ct,-r),n.point(0,-r),n.point(-Ct,-r),n.point(-Ct,0),n.point(-Ct,r);else if(I(t[0]-e[0])>wt){var o=t[0]<e[0]?Ct:-Ct;r=i*o/2,n.point(-o,r),n.point(0,r),n.point(o,r)}else n.point(e[0],e[1])},[-Ct,-Ct/2]);function tn(c,u,d,p){return function(t){var e,i=t.a,n=t.b,r=i.x,o=i.y,a=0,s=1,l=n.x-r,h=n.y-o;if(e=c-r,l||!(0<e)){if(e/=l,l<0){if(e<a)return;e<s&&(s=e)}else if(0<l){if(s<e)return;a<e&&(a=e)}if(e=d-r,l||!(e<0)){if(e/=l,l<0){if(s<e)return;a<e&&(a=e)}else if(0<l){if(e<a)return;e<s&&(s=e)}if(e=u-o,h||!(0<e)){if(e/=h,h<0){if(e<a)return;e<s&&(s=e)}else if(0<h){if(s<e)return;a<e&&(a=e)}if(e=p-o,h||!(e<0)){if(e/=h,h<0){if(s<e)return;a<e&&(a=e)}else if(0<h){if(e<a)return;e<s&&(s=e)}return 0<a&&(t.a={x:r+a*l,y:o+a*h}),s<1&&(t.b={x:r+s*l,y:o+s*h}),t}}}}}}var en=1e9;function nn(x,_,w,S){return function(r){var n,c,o,a,s,l,h,u,d,p,f,g=r,t=Zi(),m=tn(x,_,w,S),e={point:i,lineStart:function(){e.point=b,c&&c.push(o=[]);p=!0,d=!1,h=u=NaN},lineEnd:function(){n&&(b(a,s),l&&d&&t.rejoin(),n.push(t.buffer()));e.point=i,d&&r.lineEnd()},polygonStart:function(){r=t,n=[],c=[],f=!0},polygonEnd:function(){r=g,n=O.merge(n);var t=function(t){for(var e=0,i=c.length,n=t[1],r=0;r<i;++r)for(var o,a=1,s=c[r],l=s.length,h=s[0];a<l;++a)o=s[a],h[1]<=n?o[1]>n&&0<Pt(h,o,t)&&++e:o[1]<=n&&Pt(h,o,t)<0&&--e,h=o;return 0!==e}([x,S]),e=f&&t,i=n.length;(e||i)&&(r.polygonStart(),e&&(r.lineStart(),v(null,null,1,r),r.lineEnd()),i&&Ui(n,k,t,v,r),r.polygonEnd()),n=c=o=null}};function v(t,e,i,n){var r=0,o=0;if(null==t||(r=C(t,i))!==(o=C(e,i))||T(t,e)<0^0<i)for(;n.point(0===r||3===r?x:w,1<r?S:_),(r=(r+i+4)%4)!==o;);else n.point(e[0],e[1])}function y(t,e){return x<=t&&t<=w&&_<=e&&e<=S}function i(t,e){y(t,e)&&r.point(t,e)}function b(t,e){var i=y(t=Math.max(-en,Math.min(en,t)),e=Math.max(-en,Math.min(en,e)));if(c&&o.push([t,e]),p)a=t,s=e,p=!1,(l=i)&&(r.lineStart(),r.point(t,e));else if(i&&d)r.point(t,e);else{var n={a:{x:h,y:u},b:{x:t,y:e}};m(n)?(d||(r.lineStart(),r.point(n.a.x,n.a.y)),r.point(n.b.x,n.b.y),i||r.lineEnd(),f=!1):i&&(r.lineStart(),r.point(t,e),f=!1)}h=t,u=e,d=i}return e};function C(t,e){return I(t[0]-x)<wt?0<e?0:3:I(t[0]-w)<wt?0<e?2:1:I(t[1]-_)<wt?0<e?1:0:0<e?3:2}function k(t,e){return T(t.x,e.x)}function T(t,e){var i=C(t,1),n=C(e,1);return i!==n?i-n:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}}function rn(t){var e=0,i=Ct/3,n=An(t),r=n(e,i);return r.parallels=function(t){return arguments.length?n(e=t[0]*Ct/180,i=t[1]*Ct/180):[e/Ct*180,i/Ct*180]},r}function on(t,e){var i=Math.sin(t),n=(i+Math.sin(e))/2,r=1+i*(2*n-i),o=Math.sqrt(r)/n;function a(t,e){var i=Math.sqrt(r-2*n*Math.sin(e))/n;return[i*Math.sin(t*=n),o-i*Math.cos(t)]}return a.invert=function(t,e){var i=o-e;return[Math.atan2(t,i)/n,It((r-(t*t+i*i)*n*n)/(2*n))]},a}O.geo.clipExtent=function(){var e,i,n,r,o,a,s={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=nn(e=+t[0][0],i=+t[0][1],n=+t[1][0],r=+t[1][1]),o&&(o.valid=!1,o=null),s):[[e,i],[n,r]]}};return s.extent([[0,0],[960,500]])},(O.geo.conicEqualArea=function(){return rn(on)}).raw=on,O.geo.albers=function(){return O.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},O.geo.albersUsa=function(){var n,r,o,a,s=O.geo.albers(),l=O.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=O.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){n=[t,e]}};function u(t){var e=t[0],i=t[1];return n=null,r(e,i),n||(o(e,i),n)||a(e,i),n}return u.invert=function(t){var e=s.scale(),i=s.translate(),n=(t[0]-i[0])/e,r=(t[1]-i[1])/e;return(.12<=r&&r<.234&&-.425<=n&&n<-.214?l:.166<=r&&r<.234&&-.214<=n&&n<-.115?h:s).invert(t)},u.stream=function(t){var i=s.stream(t),n=l.stream(t),r=h.stream(t);return{point:function(t,e){i.point(t,e),n.point(t,e),r.point(t,e)},sphere:function(){i.sphere(),n.sphere(),r.sphere()},lineStart:function(){i.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){i.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){i.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){i.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(t){return arguments.length?(s.precision(t),l.precision(t),h.precision(t),u):s.precision()},u.scale=function(t){return arguments.length?(s.scale(t),l.scale(.35*t),h.scale(t),u.translate(s.translate())):s.scale()},u.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),i=+t[0],n=+t[1];return r=s.translate(t).clipExtent([[i-.455*e,n-.238*e],[i+.455*e,n+.238*e]]).stream(c).point,o=l.translate([i-.307*e,n+.201*e]).clipExtent([[i-.425*e+wt,n+.12*e+wt],[i-.214*e-wt,n+.234*e-wt]]).stream(c).point,a=h.translate([i-.205*e,n+.212*e]).clipExtent([[i-.214*e+wt,n+.166*e+wt],[i-.115*e-wt,n+.234*e-wt]]).stream(c).point,u},u.scale(1070)};var an,sn,ln,hn,cn,un,dn={point:E,lineStart:E,lineEnd:E,polygonStart:function(){sn=0,dn.lineStart=pn},polygonEnd:function(){dn.lineStart=dn.lineEnd=dn.point=E,an+=I(sn/2)}};function pn(){var i,n,r,o;function a(t,e){sn+=o*t-r*e,r=t,o=e}dn.point=function(t,e){dn.point=a,i=r=t,n=o=e},dn.lineEnd=function(){a(i,n)}}var fn={point:function(t,e){t<ln&&(ln=t);cn<t&&(cn=t);e<hn&&(hn=e);un<e&&(un=e)},lineStart:E,lineEnd:E,polygonStart:E,polygonEnd:E};function gn(){var i=mn(4.5),n=[],r={point:t,lineStart:function(){r.point=e},lineEnd:a,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=a,r.point=t},pointRadius:function(t){return i=mn(t),r},result:function(){if(n.length){var t=n.join("");return n=[],t}}};function t(t,e){n.push("M",t,",",e,i)}function e(t,e){n.push("M",t,",",e),r.point=o}function o(t,e){n.push("L",t,",",e)}function a(){r.point=t}function s(){n.push("Z")}return r}function mn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var vn,yn={point:bn,lineStart:xn,lineEnd:_n,polygonStart:function(){yn.lineStart=wn},polygonEnd:function(){yn.point=bn,yn.lineStart=xn,yn.lineEnd=_n}};function bn(t,e){yi+=t,bi+=e,++xi}function xn(){var o,a;function i(t,e){var i=t-o,n=e-a,r=Math.sqrt(i*i+n*n);_i+=r*(o+t)/2,wi+=r*(a+e)/2,Si+=r,bn(o=t,a=e)}yn.point=function(t,e){yn.point=i,bn(o=t,a=e)}}function _n(){yn.point=bn}function wn(){var i,n,o,a;function r(t,e){var i=t-o,n=e-a,r=Math.sqrt(i*i+n*n);_i+=r*(o+t)/2,wi+=r*(a+e)/2,Si+=r,Ci+=(r=a*t-o*e)*(o+t),ki+=r*(a+e),Ti+=3*r,bn(o=t,a=e)}yn.point=function(t,e){yn.point=r,bn(i=o=t,n=a=e)},yn.lineEnd=function(){r(i,n)}}function Sn(i){var n=4.5,r={point:t,lineStart:function(){r.point=e},lineEnd:a,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=a,r.point=t},pointRadius:function(t){return n=t,r},result:E};function t(t,e){i.moveTo(t+n,e),i.arc(t,e,n,0,kt)}function e(t,e){i.moveTo(t,e),r.point=o}function o(t,e){i.lineTo(t,e)}function a(){r.point=t}function s(){i.closePath()}return r}function Cn(M){var E=.5,P=Math.cos(30*At),_=16;function e(t){return(_?function(r){var i,n,o,a,s,l,h,c,u,d,p,f,g={point:t,lineStart:e,lineEnd:v,polygonStart:function(){r.polygonStart(),g.lineStart=y},polygonEnd:function(){r.polygonEnd(),g.lineStart=e}};function t(t,e){t=M(t,e),r.point(t[0],t[1])}function e(){c=NaN,g.point=m,r.lineStart()}function m(t,e){var i=Ei([t,e]),n=M(t,e);L(c,u,h,d,p,f,c=n[0],u=n[1],h=t,d=i[0],p=i[1],f=i[2],_,r),r.point(c,u)}function v(){g.point=t,r.lineEnd()}function y(){e(),g.point=b,g.lineEnd=x}function b(t,e){m(i=t,e),n=c,o=u,a=d,s=p,l=f,g.point=m}function x(){L(c,u,h,d,p,f,n,o,i,a,s,l,_,r),(g.lineEnd=v)()}return g}:function(i){return Tn(i,function(t,e){t=M(t,e),i.point(t[0],t[1])})})(t)}function L(t,e,i,n,r,o,a,s,l,h,c,u,d,p){var f=a-t,g=s-e,m=f*f+g*g;if(4*E<m&&d--){var v=n+h,y=r+c,b=o+u,x=Math.sqrt(v*v+y*y+b*b),_=Math.asin(b/=x),w=I(I(b)-1)<wt||I(i-l)<wt?(i+l)/2:Math.atan2(y,v),S=M(w,_),C=S[0],k=S[1],T=C-t,D=k-e,A=g*T-f*D;(E<A*A/m||.3<I((f*T+g*D)/m-.5)||n*h+r*c+o*u<P)&&(L(t,e,i,n,r,o,C,k,w,v/=x,y/=x,b,d,p),p.point(C,k),L(C,k,w,v,y,b,a,s,l,h,c,u,d,p))}}return e.precision=function(t){return arguments.length?(_=0<(E=t*t)&&16,e):Math.sqrt(E)},e}function kn(t){this.stream=t}function Tn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Dn(t){return An(function(){return t})()}function An(t){var i,e,n,r,o,a,s=Cn(function(t,e){return[(t=i(t,e))[0]*l+r,o-t[1]*l]}),l=150,h=480,c=250,u=0,d=0,p=0,f=0,g=0,m=Ji,v=F,y=null,b=null;function x(t){return[(t=n(t[0]*At,t[1]*At))[0]*l+r,o-t[1]*l]}function _(t){return(t=n.invert((t[0]-r)/l,(o-t[1])/l))&&[t[0]*Mt,t[1]*Mt]}function w(){n=ji(e=Ln(p,f,g),i);var t=i(u,d);return r=h-t[0]*l,o=c+t[1]*l,S()}function S(){return a&&(a.valid=!1,a=null),x}return x.stream=function(t){return a&&(a.valid=!1),(a=Mn(m(e,s(v(t))))).valid=!0,a},x.clipAngle=function(t){return arguments.length?(m=null==t?(y=t,Ji):function(r){var T=Math.cos(r),p=0<T,f=I(T)>wt;return Xi(g,function(s){var l,h,c,u,d;return{lineStart:function(){u=c=!1,d=1},point:function(t,e){var i,n=[t,e],r=g(t,e),o=p?r?0:v(t,e):r?v(t+(t<0?Ct:-Ct),e):0;if(!l&&(u=c=r)&&s.lineStart(),r!==c&&(i=m(l,n),(Ni(l,i)||Ni(n,i))&&(n[0]+=wt,n[1]+=wt,r=g(n[0],n[1]))),r!==c)d=0,r?(s.lineStart(),i=m(n,l),s.point(i[0],i[1])):(i=m(l,n),s.point(i[0],i[1]),s.lineEnd()),l=i;else if(f&&l&&p^r){var a;o&h||!(a=m(n,l,!0))||(d=0,p?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!r||l&&Ni(l,n)||s.point(n[0],n[1]),l=n,c=r,h=o},lineEnd:function(){c&&s.lineEnd(),l=null},clean:function(){return d|(u&&c)<<1}}},Fn(r,6*At),p?[0,-r]:[-Ct,r-Ct]);function g(t,e){return Math.cos(t)*Math.cos(e)>T}function m(t,e,i){var n=[1,0,0],r=Li(Ei(t),Ei(e)),o=Pi(r,r),a=r[0],s=o-a*a;if(!s)return!i&&t;var l=T*o/s,h=-T*a/s,c=Li(n,r),u=Oi(n,l);Ii(u,Oi(r,h));var d=c,p=Pi(u,d),f=Pi(d,d),g=p*p-f*(Pi(u,u)-1);if(!(g<0)){var m=Math.sqrt(g),v=Oi(d,(-p-m)/f);if(Ii(v,u),v=Fi(v),!i)return v;var y,b=t[0],x=e[0],_=t[1],w=e[1];x<b&&(y=b,b=x,x=y);var S=x-b,C=I(S-Ct)<wt;if(!C&&w<_&&(y=_,_=w,w=y),C||S<wt?C?0<_+w^v[1]<(I(v[0]-b)<wt?_:w):_<=v[1]&&v[1]<=w:Ct<S^(b<=v[0]&&v[0]<=x)){var k=Oi(d,(-p+m)/f);return Ii(k,u),[v,Fi(k)]}}}function v(t,e){var i=p?r:Ct-r,n=0;return t<-i?n|=1:i<t&&(n|=2),e<-i?n|=4:i<e&&(n|=8),n}}((y=+t)*At),S()):y},x.clipExtent=function(t){return arguments.length?(v=(b=t)?nn(t[0][0],t[0][1],t[1][0],t[1][1]):F,S()):b},x.scale=function(t){return arguments.length?(l=+t,w()):l},x.translate=function(t){return arguments.length?(h=+t[0],c=+t[1],w()):[h,c]},x.center=function(t){return arguments.length?(u=t[0]%360*At,d=t[1]%360*At,w()):[u*Mt,d*Mt]},x.rotate=function(t){return arguments.length?(p=t[0]%360*At,f=t[1]%360*At,g=2<t.length?t[2]%360*At:0,w()):[p*Mt,f*Mt,g*Mt]},O.rebind(x,s,"precision"),function(){return i=t.apply(this,arguments),x.invert=i.invert&&_,w()}}function Mn(i){return Tn(i,function(t,e){i.point(t*At,e*At)})}function En(t,e){return[t,e]}function Pn(t,e){return[Ct<t?t-kt:t<-Ct?t+kt:t,e]}function Ln(t,e,i){return t?e||i?ji(On(t),Rn(e,i)):On(t):e||i?Rn(e,i):Pn}function In(i){return function(t,e){return[Ct<(t+=i)?t-kt:t<-Ct?t+kt:t,e]}}function On(t){var e=In(t);return e.invert=In(-t),e}function Rn(t,e){var s=Math.cos(t),l=Math.sin(t),h=Math.cos(e),c=Math.sin(e);function i(t,e){var i=Math.cos(e),n=Math.cos(t)*i,r=Math.sin(t)*i,o=Math.sin(e),a=o*s+n*l;return[Math.atan2(r*h-a*c,n*s-o*l),It(a*h+r*c)]}return i.invert=function(t,e){var i=Math.cos(e),n=Math.cos(t)*i,r=Math.sin(t)*i,o=Math.sin(e),a=o*h-r*c;return[Math.atan2(r*h+o*c,n*s+a*l),It(a*s-n*l)]},i}function Fn(s,l){var h=Math.cos(s),c=Math.sin(s);return function(t,e,i,n){var r=i*l;null!=t?(t=Nn(h,t),e=Nn(h,e),(0<i?t<e:e<t)&&(t+=i*kt)):(t=s+i*kt,e=s-.5*r);for(var o,a=t;0<i?e<a:a<e;a-=r)n.point((o=Fi([h,-c*Math.cos(a),-c*Math.sin(a)]))[0],o[1])}}function Nn(t,e){var i=Ei(e);i[0]-=t,Ri(i);var n=Lt(-i[1]);return((-i[2]<0?-n:n)+2*Math.PI-wt)%(2*Math.PI)}function zn(t,e,i){var n=O.range(t,e-wt,i).concat(e);return function(e){return n.map(function(t){return[e,t]})}}function $n(t,e,i){var n=O.range(t,e-wt,i).concat(e);return function(e){return n.map(function(t){return[t,e]})}}function Hn(t){return t.source}function Vn(t){return t.target}O.geo.path=function(){var n,e,r,i,o,a=4.5;function s(t){return t&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=r(i)),O.geo.stream(t,o)),i.result()}function l(){return o=null,s}return s.area=function(t){return an=0,O.geo.stream(t,r(dn)),an},s.centroid=function(t){return yi=bi=xi=_i=wi=Si=Ci=ki=Ti=0,O.geo.stream(t,r(yn)),Ti?[Ci/Ti,ki/Ti]:Si?[_i/Si,wi/Si]:xi?[yi/xi,bi/xi]:[NaN,NaN]},s.bounds=function(t){return cn=un=-(ln=hn=1/0),O.geo.stream(t,r(fn)),[[ln,hn],[cn,un]]},s.projection=function(t){return arguments.length?(r=(n=t)?t.stream||(i=t,e=Cn(function(t,e){return i([t*Mt,e*Mt])}),function(t){return Mn(e(t))}):F,l()):n;var i,e},s.context=function(t){return arguments.length?(i=null==(e=t)?new gn:new Sn(t),"function"!=typeof a&&i.pointRadius(a),l()):e},s.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),s):a},s.projection(O.geo.albersUsa()).context(null)},O.geo.transform=function(n){return{stream:function(t){var e=new kn(t);for(var i in n)e[i]=n[i];return e}}},kn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},O.geo.projection=Dn,O.geo.projectionMutator=An,(O.geo.equirectangular=function(){return Dn(En)}).raw=En.invert=En,O.geo.rotation=function(e){function t(t){return(t=e(t[0]*At,t[1]*At))[0]*=Mt,t[1]*=Mt,t}return e=Ln(e[0]%360*At,e[1]*At,2<e.length?e[2]*At:0),t.invert=function(t){return(t=e.invert(t[0]*At,t[1]*At))[0]*=Mt,t[1]*=Mt,t},t},Pn.invert=En,O.geo.circle=function(){var e,r,o=[0,0],i=6;function n(){var t="function"==typeof o?o.apply(this,arguments):o,i=Ln(-t[0]*At,-t[1]*At,0).invert,n=[];return r(null,null,1,{point:function(t,e){n.push(t=i(t,e)),t[0]*=Mt,t[1]*=Mt}}),{type:"Polygon",coordinates:[n]}}return n.origin=function(t){return arguments.length?(o=t,n):o},n.angle=function(t){return arguments.length?(r=Fn((e=+t)*At,i*At),n):e},n.precision=function(t){return arguments.length?(r=Fn(e*At,(i=+t)*At),n):i},n.angle(90)},O.geo.distance=function(t,e){var i,n=(e[0]-t[0])*At,r=t[1]*At,o=e[1]*At,a=Math.sin(n),s=Math.cos(n),l=Math.sin(r),h=Math.cos(r),c=Math.sin(o),u=Math.cos(o);return Math.atan2(Math.sqrt((i=u*a)*i+(i=h*c-l*u*s)*i),l*c+h*u*s)},O.geo.graticule=function(){var e,i,n,r,o,a,s,l,h,c,u,d,p=10,f=p,g=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:t()}}function t(){return O.range(Math.ceil(r/g)*g,n,g).map(u).concat(O.range(Math.ceil(l/m)*m,s,m).map(d)).concat(O.range(Math.ceil(i/p)*p,e,p).filter(function(t){return I(t%g)>wt}).map(h)).concat(O.range(Math.ceil(a/f)*f,o,f).filter(function(t){return I(t%m)>wt}).map(c))}return y.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(d(s).slice(1),u(n).reverse().slice(1),d(l).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],l=+t[0][1],s=+t[1][1],n<r&&(t=r,r=n,n=t),s<l&&(t=l,l=s,s=t),y.precision(v)):[[r,l],[n,s]]},y.minorExtent=function(t){return arguments.length?(i=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],e<i&&(t=i,i=e,e=t),o<a&&(t=a,a=o,o=t),y.precision(v)):[[i,a],[e,o]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],y):[g,m]},y.minorStep=function(t){return arguments.length?(p=+t[0],f=+t[1],y):[p,f]},y.precision=function(t){return arguments.length?(v=+t,h=zn(a,o,90),c=$n(i,e,v),u=zn(l,s,90),d=$n(r,n,v),y):v},y.majorExtent([[-180,-90+wt],[180,90-wt]]).minorExtent([[-180,-80-wt],[180,80+wt]])},O.geo.greatArc=function(){var e,i,n=Hn,r=Vn;function o(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),i||r.apply(this,arguments)]}}return o.distance=function(){return O.geo.distance(e||n.apply(this,arguments),i||r.apply(this,arguments))},o.source=function(t){return arguments.length?(e="function"==typeof(n=t)?null:t,o):n},o.target=function(t){return arguments.length?(i="function"==typeof(r=t)?null:t,o):r},o.precision=function(){return arguments.length?o:0},o},O.geo.interpolate=function(t,e){return i=t[0]*At,n=t[1]*At,r=e[0]*At,o=e[1]*At,a=Math.cos(n),s=Math.sin(n),l=Math.cos(o),h=Math.sin(o),c=a*Math.cos(i),u=a*Math.sin(i),d=l*Math.cos(r),p=l*Math.sin(r),f=2*Math.asin(Math.sqrt(Rt(o-n)+a*l*Rt(r-i))),g=1/Math.sin(f),(m=f?function(t){var e=Math.sin(t*=f)*g,i=Math.sin(f-t)*g,n=i*c+e*d,r=i*u+e*p,o=i*s+e*h;return[Math.atan2(r,n)*Mt,Math.atan2(o,Math.sqrt(n*n+r*r))*Mt]}:function(){return[i*Mt,n*Mt]}).distance=f,m;var i,n,r,o,a,s,l,h,c,u,d,p,f,g,m},O.geo.length=function(t){return vn=0,O.geo.stream(t,Bn),vn};var Bn={sphere:E,point:E,lineStart:function(){var a,s,l;function i(t,e){var i=Math.sin(e*=At),n=Math.cos(e),r=I((t*=At)-a),o=Math.cos(r);vn+=Math.atan2(Math.sqrt((r=n*Math.sin(r))*r+(r=l*i-s*n*o)*r),s*i+l*n*o),a=t,s=i,l=n}Bn.point=function(t,e){a=t*At,s=Math.sin(e*=At),l=Math.cos(e),Bn.point=i},Bn.lineEnd=function(){Bn.point=Bn.lineEnd=E}},lineEnd:E,polygonStart:E,polygonEnd:E};function Wn(o,a){function t(t,e){var i=Math.cos(t),n=Math.cos(e),r=o(i*n);return[r*n*Math.sin(t),r*Math.sin(e)]}return t.invert=function(t,e){var i=Math.sqrt(t*t+e*e),n=a(i),r=Math.sin(n),o=Math.cos(n);return[Math.atan2(t*r,i*o),Math.asin(i&&e*r/i)]},t}var jn=Wn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(O.geo.azimuthalEqualArea=function(){return Dn(jn)}).raw=jn;var Yn=Wn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},F);function Un(t,e){var i=Math.cos(t),n=function(t){return Math.tan(Ct/4+t/2)},r=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(n(e)/n(t)),o=i*Math.pow(n(t),r)/r;if(!r)return Xn;function a(t,e){0<o?e<-Dt+wt&&(e=-Dt+wt):Dt-wt<e&&(e=Dt-wt);var i=o/Math.pow(n(e),r);return[i*Math.sin(r*t),o-i*Math.cos(r*t)]}return a.invert=function(t,e){var i=o-e,n=Et(r)*Math.sqrt(t*t+i*i);return[Math.atan2(t,i)/r,2*Math.atan(Math.pow(o/n,1/r))-Dt]},a}function Gn(t,e){var i=Math.cos(t),n=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),r=i/n+t;if(I(n)<wt)return En;function o(t,e){var i=r-e;return[i*Math.sin(n*t),r-i*Math.cos(n*t)]}return o.invert=function(t,e){var i=r-e;return[Math.atan2(t,i)/n,r-Et(n)*Math.sqrt(t*t+i*i)]},o}(O.geo.azimuthalEquidistant=function(){return Dn(Yn)}).raw=Yn,(O.geo.conicConformal=function(){return rn(Un)}).raw=Un,(O.geo.conicEquidistant=function(){return rn(Gn)}).raw=Gn;var qn=Wn(function(t){return 1/t},Math.atan);function Xn(t,e){return[t,Math.log(Math.tan(Ct/4+e/2))]}function Kn(t){var r,o=Dn(t),a=o.scale,s=o.translate,l=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.translate=function(){var t=s.apply(o,arguments);return t===o?r?o.clipExtent(null):o:t},o.clipExtent=function(t){var e=l.apply(o,arguments);if(e===o){if(r=null==t){var i=Ct*a(),n=s();l([[n[0]-i,n[1]-i],[n[0]+i,n[1]+i]])}}else r&&(e=null);return e},o.clipExtent(null)}(O.geo.gnomonic=function(){return Dn(qn)}).raw=qn,Xn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Dt]},(O.geo.mercator=function(){return Kn(Xn)}).raw=Xn;var Zn=Wn(function(){return 1},Math.asin);(O.geo.orthographic=function(){return Dn(Zn)}).raw=Zn;var Qn=Wn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function Jn(t,e){return[Math.log(Math.tan(Ct/4+e/2)),-t]}function tr(t){return t[0]}function er(t){return t[1]}function ir(t){for(var e=t.length,i=[0,1],n=2,r=2;r<e;r++){for(;1<n&&Pt(t[i[n-2]],t[i[n-1]],t[r])<=0;)--n;i[n++]=r}return i.slice(0,n)}function nr(t,e){return t[0]-e[0]||t[1]-e[1]}(O.geo.stereographic=function(){return Dn(Qn)}).raw=Qn,Jn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Dt]},(O.geo.transverseMercator=function(){var t=Kn(Jn),e=t.center,i=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?i([t[0],t[1],2<t.length?t[2]+90:90]):[(t=i())[0],t[1],t[2]-90]},i([0,0,90])}).raw=Jn,O.geom={},O.geom.hull=function(t){var d=tr,p=er;if(arguments.length)return e(t);function e(t){if(t.length<3)return[];var e,i=ge(d),n=ge(p),r=t.length,o=[],a=[];for(e=0;e<r;e++)o.push([+i.call(this,t[e],e),+n.call(this,t[e],e),e]);for(o.sort(nr),e=0;e<r;e++)a.push([o[e][0],-o[e][1]]);var s=ir(o),l=ir(a),h=l[0]===s[0],c=l[l.length-1]===s[s.length-1],u=[];for(e=s.length-1;0<=e;--e)u.push(t[o[s[e]][2]]);for(e=+h;e<l.length-c;++e)u.push(t[o[l[e]][2]]);return u}return e.x=function(t){return arguments.length?(d=t,e):d},e.y=function(t){return arguments.length?(p=t,e):p},e},O.geom.polygon=function(t){return V(t,rr),t};var rr=O.geom.polygon.prototype=[];function or(t,e,i){return(i[0]-e[0])*(t[1]-e[1])<(i[1]-e[1])*(t[0]-e[0])}function ar(t,e,i,n){var r=t[0],o=i[0],a=e[0]-r,s=n[0]-o,l=t[1],h=i[1],c=e[1]-l,u=n[1]-h,d=(s*(l-h)-u*(r-o))/(u*a-s*c);return[r+d*a,l+d*c]}function sr(t){var e=t[0],i=t[t.length-1];return!(e[0]-i[0]||e[1]-i[1])}rr.area=function(){for(var t,e=-1,i=this.length,n=this[i-1],r=0;++e<i;)t=n,n=this[e],r+=t[1]*n[0]-t[0]*n[1];return.5*r},rr.centroid=function(t){var e,i,n=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++n<r;)e=s,s=this[n],i=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*i,a+=(e[1]+s[1])*i;return[o*t,a*t]},rr.clip=function(t){for(var e,i,n,r,o,a,s=sr(t),l=-1,h=this.length-sr(this),c=this[h-1];++l<h;){for(e=t.slice(),t.length=0,r=this[l],o=e[(n=e.length-s)-1],i=-1;++i<n;)or(a=e[i],c,r)?(or(o,c,r)||t.push(ar(o,a,c,r)),t.push(a)):or(o,c,r)&&t.push(ar(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t};var lr,hr,cr,ur,dr,pr=[],fr=[];function gr(){Ir(this),this.edge=this.site=this.circle=null}function mr(t){var e=pr.pop()||new gr;return e.site=t,e}function vr(t){Tr(t),cr.remove(t),pr.push(t),Ir(t)}function yr(t){var e=t.circle,i=e.x,n=e.cy,r={x:i,y:n},o=t.P,a=t.N,s=[t];vr(t);for(var l=o;l.circle&&I(i-l.circle.x)<wt&&I(n-l.circle.cy)<wt;)o=l.P,s.unshift(l),vr(l),l=o;s.unshift(l),Tr(l);for(var h=a;h.circle&&I(i-h.circle.x)<wt&&I(n-h.circle.cy)<wt;)a=h.N,s.push(h),vr(h),h=a;s.push(h),Tr(h);var c,u=s.length;for(c=1;c<u;++c)h=s[c],l=s[c-1],Er(h.edge,l.site,h.site,r);l=s[0],(h=s[u-1]).edge=Mr(l.site,h.site,null,r),kr(l),kr(h)}function br(t){for(var e,i,n,r,o=t.x,a=t.y,s=cr._;s;)if(n=xr(s,a)-o,wt<n)s=s.L;else{if(r=o-_r(s,a),!(wt<r)){-wt<n?(e=s.P,i=s):-wt<r?i=(e=s).N:e=i=s;break}if(!s.R){e=s;break}s=s.R}var l=mr(t);if(cr.insert(e,l),e||i){if(e===i)return Tr(e),i=mr(e.site),cr.insert(l,i),l.edge=i.edge=Mr(e.site,l.site),kr(e),void kr(i);if(i){Tr(e),Tr(i);var h=e.site,c=h.x,u=h.y,d=t.x-c,p=t.y-u,f=i.site,g=f.x-c,m=f.y-u,v=2*(d*m-p*g),y=d*d+p*p,b=g*g+m*m,x={x:(m*y-p*b)/v+c,y:(d*b-g*y)/v+u};Er(i.edge,h,f,x),l.edge=Mr(h,t,null,x),i.edge=Mr(t,f,null,x),kr(e),kr(i)}else l.edge=Mr(e.site,l.site)}}function xr(t,e){var i=t.site,n=i.x,r=i.y,o=r-e;if(!o)return n;var a=t.P;if(!a)return-1/0;var s=(i=a.site).x,l=i.y,h=l-e;if(!h)return s;var c=s-n,u=1/o-1/h,d=c/h;return u?(-d+Math.sqrt(d*d-2*u*(c*c/(-2*h)-l+h/2+r-o/2)))/u+n:(n+s)/2}function _r(t,e){var i=t.N;if(i)return xr(i,e);var n=t.site;return n.y===e?n.x:1/0}function wr(t){this.site=t,this.edges=[]}function Sr(t,e){return e.angle-t.angle}function Cr(){Ir(this),this.x=this.y=this.arc=this.site=this.cy=null}function kr(t){var e=t.P,i=t.N;if(e&&i){var n=e.site,r=t.site,o=i.site;if(n!==o){var a=r.x,s=r.y,l=n.x-a,h=n.y-s,c=o.x-a,u=2*(l*(m=o.y-s)-h*c);if(!(-St<=u)){var d=l*l+h*h,p=c*c+m*m,f=(m*d-h*p)/u,g=(l*p-c*d)/u,m=g+s,v=fr.pop()||new Cr;v.arc=t,v.site=r,v.x=f+a,v.y=m+Math.sqrt(f*f+g*g),v.cy=m,t.circle=v;for(var y=null,b=dr._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}dr.insert(y,v),y||(ur=v)}}}}function Tr(t){var e=t.circle;e&&(e.P||(ur=e.N),dr.remove(e),fr.push(e),Ir(e),t.circle=null)}function Dr(t,e){var i=t.b;if(i)return!0;var n,r,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],h=e[1][1],c=t.l,u=t.r,d=c.x,p=c.y,f=u.x,g=u.y,m=(d+f)/2,v=(p+g)/2;if(g===p){if(m<a||s<=m)return;if(f<d){if(o){if(o.y>=h)return}else o={x:m,y:l};i={x:m,y:h}}else{if(o){if(o.y<l)return}else o={x:m,y:h};i={x:m,y:l}}}else if(r=v-(n=(d-f)/(g-p))*m,n<-1||1<n)if(f<d){if(o){if(o.y>=h)return}else o={x:(l-r)/n,y:l};i={x:(h-r)/n,y:h}}else{if(o){if(o.y<l)return}else o={x:(h-r)/n,y:h};i={x:(l-r)/n,y:l}}else if(p<g){if(o){if(o.x>=s)return}else o={x:a,y:n*a+r};i={x:s,y:n*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:n*s+r};i={x:a,y:n*a+r}}return t.a=o,t.b=i,!0}function Ar(t,e){this.l=t,this.r=e,this.a=this.b=null}function Mr(t,e,i,n){var r=new Ar(t,e);return lr.push(r),i&&Er(r,t,e,i),n&&Er(r,e,t,n),hr[t.i].edges.push(new Pr(r,t,e)),hr[e.i].edges.push(new Pr(r,e,t)),r}function Er(t,e,i,n){t.a||t.b?t.l===i?t.b=n:t.a=n:(t.a=n,t.l=e,t.r=i)}function Pr(t,e,i){var n=t.a,r=t.b;this.edge=t,this.site=e,this.angle=i?Math.atan2(i.y-e.y,i.x-e.x):t.l===e?Math.atan2(r.x-n.x,n.y-r.y):Math.atan2(n.x-r.x,r.y-n.y)}function Lr(){this._=null}function Ir(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Or(t,e){var i=e,n=e.R,r=i.U;r?r.L===i?r.L=n:r.R=n:t._=n,n.U=r,i.U=n,i.R=n.L,i.R&&(i.R.U=i),n.L=i}function Rr(t,e){var i=e,n=e.L,r=i.U;r?r.L===i?r.L=n:r.R=n:t._=n,n.U=r,i.U=n,i.L=n.R,i.L&&(i.L.U=i),n.R=i}function Fr(t){for(;t.L;)t=t.L;return t}function Nr(t,e){var i,n,r,o=t.sort(zr).pop();for(lr=[],hr=new Array(t.length),cr=new Lr,dr=new Lr;;)if(r=ur,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===i&&o.y===n||(hr[o.i]=new wr(o),br(o),i=o.x,n=o.y),o=t.pop();else{if(!r)break;yr(r.arc)}e&&(function(t){for(var e,i=lr,n=tn(t[0][0],t[0][1],t[1][0],t[1][1]),r=i.length;r--;)(!Dr(e=i[r],t)||!n(e)||I(e.a.x-e.b.x)<wt&&I(e.a.y-e.b.y)<wt)&&(e.a=e.b=null,i.splice(r,1))}(e),function(t){for(var e,i,n,r,o,a,s,l,h,c,u=t[0][0],d=t[1][0],p=t[0][1],f=t[1][1],g=hr,m=g.length;m--;)if((o=g[m])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)n=(c=s[a].end()).x,r=c.y,e=(h=s[++a%l].start()).x,i=h.y,(I(n-e)>wt||I(r-i)>wt)&&(s.splice(a,0,new Pr((v=o.site,y=c,b=I(n-u)<wt&&wt<f-r?{x:u,y:I(e-u)<wt?i:f}:I(r-f)<wt&&wt<d-n?{x:I(i-f)<wt?e:d,y:f}:I(n-d)<wt&&wt<r-p?{x:d,y:I(e-d)<wt?i:p}:I(r-p)<wt&&wt<n-u?{x:I(i-p)<wt?e:u,y:p}:null,x=void 0,x=new Ar(v,null),x.a=y,x.b=b,lr.push(x),x),o.site,null)),++l);var v,y,b,x}(e));var a={cells:hr,edges:lr};return cr=dr=lr=hr=null,a}function zr(t,e){return e.y-t.y||e.x-t.x}wr.prototype.prepare=function(){for(var t,e=this.edges,i=e.length;i--;)(t=e[i].edge).b&&t.a||e.splice(i,1);return e.sort(Sr),e.length},Pr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Lr.prototype={insert:function(t,e){var i,n,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;i=t}else this._?(t=Fr(this._),e.P=null,(e.N=t).P=t.L=e,i=t):(e.P=e.N=null,this._=e,i=null);for(e.L=e.R=null,e.U=i,e.C=!0,t=e;i&&i.C;)i===(n=i.U).L?(r=n.R)&&r.C?(i.C=r.C=!1,n.C=!0,t=n):(t===i.R&&(Or(this,i),i=(t=i).U),i.C=!1,n.C=!0,Rr(this,n)):(r=n.L)&&r.C?(i.C=r.C=!1,n.C=!0,t=n):(t===i.L&&(Rr(this,i),i=(t=i).U),i.C=!1,n.C=!0,Or(this,n)),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,i,n,r=t.U,o=t.L,a=t.R;if(i=o?a?Fr(a):o:a,r?r.L===t?r.L=i:r.R=i:this._=i,o&&a?(n=i.C,i.C=t.C,((i.L=o).U=i)!==a?(r=i.U,i.U=t.U,t=i.R,r.L=t,(i.R=a).U=i):(i.U=r,t=(r=i).R)):(n=t.C,t=i),t&&(t.U=r),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,Or(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Rr(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Or(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,Rr(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Or(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Rr(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}},O.geom.voronoi=function(t){var e=tr,i=er,n=e,r=i,c=$r;if(t)return o(t);function o(r){var o=new Array(r.length),a=c[0][0],s=c[0][1],l=c[1][0],h=c[1][1];return Nr(u(r),c).cells.forEach(function(t,e){var i=t.edges,n=t.site;(o[e]=i.length?i.map(function(t){var e=t.start();return[e.x,e.y]}):n.x>=a&&n.x<=l&&n.y>=s&&n.y<=h?[[a,h],[l,h],[l,s],[a,s]]:[]).point=r[e]}),o}function u(t){return t.map(function(t,e){return{x:Math.round(n(t,e)/wt)*wt,y:Math.round(r(t,e)/wt)*wt,i:e}})}return o.links=function(e){return Nr(u(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},o.triangles=function(d){var p=[];return Nr(u(d)).cells.forEach(function(t,e){for(var i,n,r,o,a=t.site,s=t.edges.sort(Sr),l=-1,h=s.length,c=s[h-1].edge,u=c.l===a?c.r:c.l;++l<h;)c,i=u,u=(c=s[l].edge).l===a?c.r:c.l,e<i.i&&e<u.i&&(r=i,o=u,((n=a).x-o.x)*(r.y-n.y)-(n.x-r.x)*(o.y-n.y)<0)&&p.push([d[e],d[i.i],d[u.i]])}),p},o.x=function(t){return arguments.length?(n=ge(e=t),o):e},o.y=function(t){return arguments.length?(r=ge(i=t),o):i},o.clipExtent=function(t){return arguments.length?(c=null==t?$r:t,o):c===$r?null:c},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):c===$r?null:c&&c[1]},o};var $r=[[-1e6,-1e6],[1e6,1e6]];function Hr(t){return t.x}function Vr(t){return t.y}function Br(t,e){t=O.rgb(t),e=O.rgb(e);var i=t.r,n=t.g,r=t.b,o=e.r-i,a=e.g-n,s=e.b-r;return function(t){return"#"+le(Math.round(i+o*t))+le(Math.round(n+a*t))+le(Math.round(r+s*t))}}function Wr(t,e){var i,n={},r={};for(i in t)i in e?n[i]=qr(t[i],e[i]):r[i]=t[i];for(i in e)i in t||(r[i]=e[i]);return function(t){for(i in n)r[i]=n[i](t);return r}}function jr(e,i){return e=+e,i=+i,function(t){return e*(1-t)+i*t}}function Yr(t,n){var e,i,r,o=Ur.lastIndex=Gr.lastIndex=0,a=-1,s=[],l=[];for(t+="",n+="";(e=Ur.exec(t))&&(i=Gr.exec(n));)(r=i.index)>o&&(r=n.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:jr(e,i)})),o=Gr.lastIndex;return o<n.length&&(r=n.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?(n=l[0].x,function(t){return n(t)+""}):function(){return n}:(n=l.length,function(t){for(var e,i=0;i<n;++i)s[(e=l[i]).i]=e.x(t);return s.join("")})}O.geom.delaunay=function(t){return O.geom.voronoi().triangles(t)},O.geom.quadtree=function(t,y,b,x,_){var w,S=tr,k=er;if(w=arguments.length)return S=Hr,k=Vr,3===w&&(_=b,x=y,b=y=0),e(t);function e(t){var e,i,n,r,o,a,s,l,h,c=ge(S),u=ge(k);if(null!=y)a=y,s=b,l=x,h=_;else if(l=h=-(a=s=1/0),i=[],n=[],o=t.length,w)for(r=0;r<o;++r)(e=t[r]).x<a&&(a=e.x),e.y<s&&(s=e.y),e.x>l&&(l=e.x),e.y>h&&(h=e.y),i.push(e.x),n.push(e.y);else for(r=0;r<o;++r){var d=+c(e=t[r],r),p=+u(e,r);d<a&&(a=d),p<s&&(s=p),l<d&&(l=d),h<p&&(h=p),i.push(d),n.push(p)}var f=l-a,g=h-s;function m(t,e,i,n,r,o,a,s){if(!isNaN(i)&&!isNaN(n))if(t.leaf){var l=t.x,h=t.y;if(null!=l)if(I(l-i)+I(h-n)<.01)v(t,e,i,n,r,o,a,s);else{var c=t.point;t.x=t.y=t.point=null,v(t,c,l,h,r,o,a,s),v(t,e,i,n,r,o,a,s)}else t.x=i,t.y=n,t.point=e}else v(t,e,i,n,r,o,a,s)}function v(t,e,i,n,r,o,a,s){var l=.5*(r+a),h=.5*(o+s),c=l<=i,u=h<=n,d=u<<1|c;t.leaf=!1,c?r=l:a=l,u?o=h:s=h,m(t=t.nodes[d]||(t.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,i,n,r,o,a,s)}g<f?h=s+f:l=a+g;var C={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){m(C,t,+c(t,++r),+u(t,r),a,s,l,h)}};if(C.visit=function(t){!function t(e,i,n,r,o,a){if(!e(i,n,r,o,a)){var s=.5*(n+o),l=.5*(r+a),h=i.nodes;h[0]&&t(e,h[0],n,r,s,l),h[1]&&t(e,h[1],s,r,o,l),h[2]&&t(e,h[2],n,l,s,a),h[3]&&t(e,h[3],s,l,o,a)}}(t,C,a,s,l,h)},C.find=function(t){return e=C,m=t[0],v=t[1],S=1/0,function t(e,i,n,r,o){if(!(x<i||_<n||r<y||o<b)){if(a=e.point){var a,s=m-e.x,l=v-e.y,h=s*s+l*l;if(h<S){var c=Math.sqrt(S=h);y=m-c,b=v-c,x=m+c,_=v+c,w=a}}for(var u=e.nodes,d=.5*(i+r),p=.5*(n+o),f=(p<=v)<<1|d<=m,g=f+4;f<g;++f)if(e=u[3&f])switch(3&f){case 0:t(e,i,n,d,p);break;case 1:t(e,d,n,r,p);break;case 2:t(e,i,p,d,o);break;case 3:t(e,d,p,r,o)}}}(e,y=a,b=s,x=l,_=h),w;var e,m,v,y,b,x,_,w,S},r=-1,null==y){for(;++r<o;)m(C,t[r],i[r],n[r],a,s,l,h);--r}else t.forEach(C.add);return i=n=t=e=null,C}return e.x=function(t){return arguments.length?(S=t,e):S},e.y=function(t){return arguments.length?(k=t,e):k},e.extent=function(t){return arguments.length?(null==t?y=b=x=_=null:(y=+t[0][0],b=+t[0][1],x=+t[1][0],_=+t[1][1]),e):null==y?null:[[y,b],[x,_]]},e.size=function(t){return arguments.length?(null==t?y=b=x=_=null:(y=b=0,x=+t[0],_=+t[1]),e):null==y?null:[x-y,_-b]},e},O.interpolateRgb=Br,O.interpolateObject=Wr,O.interpolateNumber=jr,O.interpolateString=Yr;var Ur=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gr=new RegExp(Ur.source,"g");function qr(t,e){for(var i,n=O.interpolators.length;0<=--n&&!(i=O.interpolators[n](t,e)););return i}function Xr(t,e){var i,n=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(i=0;i<s;++i)n.push(qr(t[i],e[i]));for(;i<o;++i)r[i]=t[i];for(;i<a;++i)r[i]=e[i];return function(t){for(i=0;i<s;++i)r[i]=n[i](t);return r}}O.interpolate=qr,O.interpolators=[function(t,e){var i=typeof e;return("string"===i?fe.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Br:Yr:e instanceof Ht?Br:Array.isArray(e)?Xr:"object"===i&&isNaN(e)?Wr:jr)(t,e)}],O.interpolateArray=Xr;var Kr=function(){return F},Zr=O.map({linear:Kr,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return eo},cubic:function(){return io},sin:function(){return ro},exp:function(){return oo},circle:function(){return ao},elastic:function(e,i){var n;arguments.length<2&&(i=.45);arguments.length?n=i/kt*Math.asin(1/e):(e=1,n=i/4);return function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-n)*kt/i)}},back:function(e){e||(e=1.70158);return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return so}}),Qr=O.map({in:F,out:Jr,"in-out":to,"out-in":function(t){return to(Jr(t))}});function Jr(e){return function(t){return 1-e(1-t)}}function to(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function eo(t){return t*t}function io(t){return t*t*t}function no(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)}function ro(t){return 1-Math.cos(t*Dt)}function oo(t){return Math.pow(2,10*(t-1))}function ao(t){return 1-Math.sqrt(1-t*t)}function so(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function lo(e,i){return i-=e,function(t){return Math.round(e+i*t)}}function ho(t){var e,i,n,r=[t.a,t.b],o=[t.c,t.d],a=uo(r),s=co(r,o),l=uo(((e=o)[0]+=(n=-s)*(i=r)[0],e[1]+=n*i[1],e))||0;r[0]*o[1]<o[0]*r[1]&&(r[0]*=-1,r[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(r[1],r[0]):Math.atan2(-o[0],o[1]))*Mt,this.translate=[t.e,t.f],this.scale=[a,l],this.skew=l?Math.atan2(s,l)*Mt:0}function co(t,e){return t[0]*e[0]+t[1]*e[1]}function uo(t){var e=Math.sqrt(co(t,t));return e&&(t[0]/=e,t[1]/=e),e}O.ease=function(t){var e,i=t.indexOf("-"),n=0<=i?t.slice(0,i):t,r=0<=i?t.slice(i+1):"in";return n=Zr.get(n)||Kr,r=Qr.get(r)||F,e=r(n.apply(null,o.call(arguments,1))),function(t){return t<=0?0:1<=t?1:e(t)}},O.interpolateHcl=function(t,e){t=O.hcl(t),e=O.hcl(e);var i=t.h,n=t.c,r=t.l,o=e.h-i,a=e.c-n,s=e.l-r;isNaN(a)&&(a=0,n=isNaN(n)?e.c:n);isNaN(o)?(o=0,i=isNaN(i)?e.h:i):180<o?o-=360:o<-180&&(o+=360);return function(t){return Ut(i+o*t,n+a*t,r+s*t)+""}},O.interpolateHsl=function(t,e){t=O.hsl(t),e=O.hsl(e);var i=t.h,n=t.s,r=t.l,o=e.h-i,a=e.s-n,s=e.l-r;isNaN(a)&&(a=0,n=isNaN(n)?e.s:n);isNaN(o)?(o=0,i=isNaN(i)?e.h:i):180<o?o-=360:o<-180&&(o+=360);return function(t){return Wt(i+o*t,n+a*t,r+s*t)+""}},O.interpolateLab=function(t,e){t=O.lab(t),e=O.lab(e);var i=t.l,n=t.a,r=t.b,o=e.l-i,a=e.a-n,s=e.b-r;return function(t){return Jt(i+o*t,n+a*t,r+s*t)+""}},O.interpolateRound=lo,O.transform=function(t){var i=b.createElementNS(O.ns.prefix.svg,"g");return(O.transform=function(t){if(null!=t){i.setAttribute("transform",t);var e=i.transform.baseVal.consolidate()}return new ho(e?e.matrix:po)})(t)},ho.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var po={a:1,b:0,c:0,d:1,e:0,f:0};function fo(t){return t.length?t.pop()+",":""}function go(t,e){var i,n,r,o,a,s,l,h,c=[],u=[];return t=O.transform(t),e=O.transform(e),function(t,e,i,n){if(t[0]!==e[0]||t[1]!==e[1]){var r=i.push("translate(",null,",",null,")");n.push({i:r-4,x:jr(t[0],e[0])},{i:r-2,x:jr(t[1],e[1])})}else(e[0]||e[1])&&i.push("translate("+e+")")}(t.translate,e.translate,c,u),i=t.rotate,n=e.rotate,r=c,o=u,i!==n?(180<i-n?n+=360:180<n-i&&(i+=360),o.push({i:r.push(fo(r)+"rotate(",null,")")-2,x:jr(i,n)})):n&&r.push(fo(r)+"rotate("+n+")"),a=t.skew,s=e.skew,l=c,h=u,a!==s?h.push({i:l.push(fo(l)+"skewX(",null,")")-2,x:jr(a,s)}):s&&l.push(fo(l)+"skewX("+s+")"),function(t,e,i,n){if(t[0]!==e[0]||t[1]!==e[1]){var r=i.push(fo(i)+"scale(",null,",",null,")");n.push({i:r-4,x:jr(t[0],e[0])},{i:r-2,x:jr(t[1],e[1])})}else 1===e[0]&&1===e[1]||i.push(fo(i)+"scale("+e+")")}(t.scale,e.scale,c,u),t=e=null,function(t){for(var e,i=-1,n=u.length;++i<n;)c[(e=u[i]).i]=e.x(t);return c.join("")}}function mo(e,i){return i=(i-=e=+e)||1/i,function(t){return(t-e)/i}}function vo(e,i){return i=(i-=e=+e)||1/i,function(t){return Math.max(0,Math.min(1,(t-e)/i))}}function yo(t){for(var e=t.source,i=t.target,n=function(t,e){if(t===e)return t;var i=bo(t),n=bo(e),r=i.pop(),o=n.pop(),a=null;for(;r===o;)a=r,r=i.pop(),o=n.pop();return a}(e,i),r=[e];e!==n;)e=e.parent,r.push(e);for(var o=r.length;i!==n;)r.splice(o,0,i),i=i.parent;return r}function bo(t){for(var e=[],i=t.parent;null!=i;)e.push(t),i=(t=i).parent;return e.push(t),e}function xo(t){t.fixed|=2}function _o(t){t.fixed&=-7}function wo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function So(t){t.fixed&=-5}O.interpolateTransform=go,O.layout={},O.layout.bundle=function(){return function(t){for(var e=[],i=-1,n=t.length;++i<n;)e.push(yo(t[i]));return e}},O.layout.chord=function(){var m,v,y,b,x,_,w,e={},S=0;function t(){var t,e,i,n,r,o={},a=[],s=O.range(b),l=[];for(m=[],v=[],t=0,n=-1;++n<b;){for(e=0,r=-1;++r<b;)e+=y[n][r];a.push(e),l.push(O.range(b)),t+=e}for(x&&s.sort(function(t,e){return x(a[t],a[e])}),_&&l.forEach(function(t,i){t.sort(function(t,e){return _(y[i][t],y[i][e])})}),t=(kt-S*b)/t,e=0,n=-1;++n<b;){for(i=e,r=-1;++r<b;){var h=s[n],c=l[h][r],u=y[h][c],d=e,p=e+=u*t;o[h+"-"+c]={index:h,subindex:c,startAngle:d,endAngle:p,value:u}}v[h]={index:h,startAngle:i,endAngle:e,value:a[h]},e+=S}for(n=-1;++n<b;)for(r=n-1;++r<b;){var f=o[n+"-"+r],g=o[r+"-"+n];(f.value||g.value)&&m.push(f.value<g.value?{source:g,target:f}:{source:f,target:g})}w&&C()}function C(){m.sort(function(t,e){return w((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return e.matrix=function(t){return arguments.length?(b=(y=t)&&y.length,m=v=null,e):y},e.padding=function(t){return arguments.length?(S=t,m=v=null,e):S},e.sortGroups=function(t){return arguments.length?(x=t,m=v=null,e):x},e.sortSubgroups=function(t){return arguments.length?(_=t,m=null,e):_},e.sortChords=function(t){return arguments.length?(w=t,m&&C(),e):w},e.chords=function(){return m||t(),m},e.groups=function(){return v||t(),v},e},O.layout.force=function(){var u,t,d,p,f,g,r={},m=O.dispatch("start","tick","end"),v=[1,1],y=.9,o=Co,a=ko,b=-30,c=To,x=.1,_=.64,w=[],S=[];function C(h){return function(t,e,i,n){if(t.point!==h){var r=t.cx-h.x,o=t.cy-h.y,a=n-e,s=r*r+o*o;if(a*a/_<s){if(s<c){var l=t.charge/s;h.px-=r*l,h.py-=o*l}return!0}if(t.point&&s&&s<c){l=t.pointCharge/s;h.px-=r*l,h.py-=o*l}}return!t.charge}}function e(t){t.px=O.event.x,t.py=O.event.y,r.resume()}return r.tick=function(){if((d*=.99)<.005)return u=null,m.end({type:"end",alpha:d=0}),!0;var t,e,i,n,r,o,a,s,l,h=w.length,c=S.length;for(e=0;e<c;++e)n=(i=S[e]).source,(o=(s=(r=i.target).x-n.x)*s+(l=r.y-n.y)*l)&&(s*=o=d*f[e]*((o=Math.sqrt(o))-p[e])/o,l*=o,r.x-=s*(a=n.weight+r.weight?n.weight/(n.weight+r.weight):.5),r.y-=l*a,n.x+=s*(a=1-a),n.y+=l*a);if((a=d*x)&&(s=v[0]/2,l=v[1]/2,e=-1,a))for(;++e<h;)(i=w[e]).x+=(s-i.x)*a,i.y+=(l-i.y)*a;if(b)for(!function t(e,i,n){var r=0,o=0;e.charge=0;if(!e.leaf)for(var a,s=e.nodes,l=s.length,h=-1;++h<l;)null!=(a=s[h])&&(t(a,i,n),e.charge+=a.charge,r+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=i*n[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,o+=c*e.point.y}e.cx=r/e.charge;e.cy=o/e.charge}(t=O.geom.quadtree(w),d,g),e=-1;++e<h;)(i=w[e]).fixed||t.visit(C(i));for(e=-1;++e<h;)(i=w[e]).fixed?(i.x=i.px,i.y=i.py):(i.x-=(i.px-(i.px=i.x))*y,i.y-=(i.py-(i.py=i.y))*y);m.tick({type:"tick",alpha:d})},r.nodes=function(t){return arguments.length?(w=t,r):w},r.links=function(t){return arguments.length?(S=t,r):S},r.size=function(t){return arguments.length?(v=t,r):v},r.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,r):o},r.distance=r.linkDistance,r.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,r):a},r.friction=function(t){return arguments.length?(y=+t,r):y},r.charge=function(t){return arguments.length?(b="function"==typeof t?t:+t,r):b},r.chargeDistance=function(t){return arguments.length?(c=t*t,r):Math.sqrt(c)},r.gravity=function(t){return arguments.length?(x=+t,r):x},r.theta=function(t){return arguments.length?(_=t*t,r):Math.sqrt(_)},r.alpha=function(t){return arguments.length?(t=+t,d?0<t?d=t:(u.c=null,u.t=NaN,u=null,m.end({type:"end",alpha:d=0})):0<t&&(m.start({type:"start",alpha:d=t}),u=Se(r.tick)),r):d},r.start=function(){var s,l,t,h=w.length,c=S.length,e=v[0],i=v[1];for(s=0;s<h;++s)(t=w[s]).index=s,t.weight=0;for(s=0;s<c;++s)"number"==typeof(t=S[s]).source&&(t.source=w[t.source]),"number"==typeof t.target&&(t.target=w[t.target]),++t.source.weight,++t.target.weight;for(s=0;s<h;++s)t=w[s],isNaN(t.x)&&(t.x=n("x",e)),isNaN(t.y)&&(t.y=n("y",i)),isNaN(t.px)&&(t.px=t.x),isNaN(t.py)&&(t.py=t.y);if(p=[],"function"==typeof o)for(s=0;s<c;++s)p[s]=+o.call(this,S[s],s);else for(s=0;s<c;++s)p[s]=o;if(f=[],"function"==typeof a)for(s=0;s<c;++s)f[s]=+a.call(this,S[s],s);else for(s=0;s<c;++s)f[s]=a;if(g=[],"function"==typeof b)for(s=0;s<h;++s)g[s]=+b.call(this,w[s],s);else for(s=0;s<h;++s)g[s]=b;function n(t,e){if(!l){for(l=new Array(h),o=0;o<h;++o)l[o]=[];for(o=0;o<c;++o){var i=S[o];l[i.source.index].push(i.target),l[i.target.index].push(i.source)}}for(var n,r=l[s],o=-1,a=r.length;++o<a;)if(!isNaN(n=r[o][t]))return n;return Math.random()*e}return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){if(t||(t=O.behavior.drag().origin(F).on("dragstart.force",xo).on("drag.force",e).on("dragend.force",_o)),!arguments.length)return t;this.on("mouseover.force",wo).on("mouseout.force",So).call(t)},O.rebind(r,m,"on")};var Co=20,ko=1,To=1/0;function Do(t,e){return O.rebind(t,e,"sort","children","value"),(t.nodes=t).links=Io,t}function Ao(t,e){for(var i=[t];null!=(t=i.pop());)if(e(t),(r=t.children)&&(n=r.length))for(var n,r;0<=--n;)i.push(r[n])}function Mo(t,e){for(var i=[t],n=[];null!=(t=i.pop());)if(n.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)i.push(o[a]);for(;null!=(t=n.pop());)e(t)}function Eo(t){return t.children}function Po(t){return t.value}function Lo(t,e){return e.value-t.value}function Io(t){return O.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}O.layout.hierarchy=function(){var s=Lo,l=Eo,h=Po;function c(t){var e,i=[t],n=[];for(t.depth=0;null!=(e=i.pop());)if(n.push(e),(o=l.call(c,e,e.depth))&&(r=o.length)){for(var r,o,a;0<=--r;)i.push(a=o[r]),a.parent=e,a.depth=e.depth+1;h&&(e.value=0),e.children=o}else h&&(e.value=+h.call(c,e,e.depth)||0),delete e.children;return Mo(t,function(t){var e,i;s&&(e=t.children)&&e.sort(s),h&&(i=t.parent)&&(i.value+=t.value)}),n}return c.sort=function(t){return arguments.length?(s=t,c):s},c.children=function(t){return arguments.length?(l=t,c):l},c.value=function(t){return arguments.length?(h=t,c):h},c.revalue=function(t){return h&&(Ao(t,function(t){t.children&&(t.value=0)}),Mo(t,function(t){var e;t.children||(t.value=+h.call(c,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},c},O.layout.partition=function(){var n=O.layout.hierarchy(),r=[1,1];function e(t,e){var i=n.call(this,t,e);return function t(e,i,n,r){var o=e.children;if(e.x=i,e.y=e.depth*r,e.dx=n,e.dy=r,o&&(a=o.length)){var a,s,l,h=-1;for(n=e.value?n/e.value:0;++h<a;)t(s=o[h],i,l=s.value*n,r),i+=l}}(i[0],0,r[0],r[1]/function t(e){var i=e.children,n=0;if(i&&(r=i.length))for(var r,o=-1;++o<r;)n=Math.max(n,t(i[o]));return 1+n}(i[0])),i}return e.size=function(t){return arguments.length?(r=t,e):r},Do(e,n)},O.layout.pie=function(){var d=Number,p=Oo,f=0,g=kt,m=0;function v(i){var e,t=i.length,n=i.map(function(t,e){return+d.call(v,t,e)}),r=+("function"==typeof f?f.apply(this,arguments):f),o=("function"==typeof g?g.apply(this,arguments):g)-r,a=Math.min(Math.abs(o)/t,+("function"==typeof m?m.apply(this,arguments):m)),s=a*(o<0?-1:1),l=O.sum(n),h=l?(o-t*s)/l:0,c=O.range(t),u=[];return null!=p&&c.sort(p===Oo?function(t,e){return n[e]-n[t]}:function(t,e){return p(i[t],i[e])}),c.forEach(function(t){u[t]={data:i[t],value:e=n[t],startAngle:r,endAngle:r+=e*h+s,padAngle:a}}),u}return v.value=function(t){return arguments.length?(d=t,v):d},v.sort=function(t){return arguments.length?(p=t,v):p},v.startAngle=function(t){return arguments.length?(f=t,v):f},v.endAngle=function(t){return arguments.length?(g=t,v):g},v.padAngle=function(t){return arguments.length?(m=t,v):m},v};var Oo={};function Ro(t){return t.x}function Fo(t){return t.y}function No(t,e,i){t.y0=e,t.y=i}O.layout.stack=function(){var u=F,d=Ho,p=Vo,f=No,g=Ro,m=Fo;function v(t,e){if(!(o=t.length))return t;var i=t.map(function(t,e){return u.call(v,t,e)}),n=i.map(function(t){return t.map(function(t,e){return[g.call(v,t,e),m.call(v,t,e)]})}),r=d.call(v,n,e);i=O.permute(i,r),n=O.permute(n,r);var o,a,s,l,h=p.call(v,n,e),c=i[0].length;for(s=0;s<c;++s)for(f.call(v,i[0][s],l=h[s],n[0][s][1]),a=1;a<o;++a)f.call(v,i[a][s],l+=n[a-1][s][1],n[a][s][1]);return t}return v.values=function(t){return arguments.length?(u=t,v):u},v.order=function(t){return arguments.length?(d="function"==typeof t?t:zo.get(t)||Ho,v):d},v.offset=function(t){return arguments.length?(p="function"==typeof t?t:$o.get(t)||Vo,v):p},v.x=function(t){return arguments.length?(g=t,v):g},v.y=function(t){return arguments.length?(m=t,v):m},v.out=function(t){return arguments.length?(f=t,v):f},v};var zo=O.map({"inside-out":function(t){var e,i,n=t.length,r=t.map(Bo),o=t.map(Wo),a=O.range(n).sort(function(t,e){return r[t]-r[e]}),s=0,l=0,h=[],c=[];for(e=0;e<n;++e)i=a[e],s<l?(s+=o[i],h.push(i)):(l+=o[i],c.push(i));return c.reverse().concat(h)},reverse:function(t){return O.range(t.length).reverse()},default:Ho}),$o=O.map({silhouette:function(t){var e,i,n,r=t.length,o=t[0].length,a=[],s=0,l=[];for(i=0;i<o;++i){for(n=e=0;e<r;e++)n+=t[e][i][1];s<n&&(s=n),a.push(n)}for(i=0;i<o;++i)l[i]=(s-a[i])/2;return l},wiggle:function(t){var e,i,n,r,o,a,s,l,h,c=t.length,u=t[0],d=u.length,p=[];for(p[0]=l=h=0,i=1;i<d;++i){for(r=e=0;e<c;++e)r+=t[e][i][1];for(o=e=0,s=u[i][0]-u[i-1][0];e<c;++e){for(n=0,a=(t[e][i][1]-t[e][i-1][1])/(2*s);n<e;++n)a+=(t[n][i][1]-t[n][i-1][1])/s;o+=a*t[e][i][1]}p[i]=l-=r?o/r*s:0,l<h&&(h=l)}for(i=0;i<d;++i)p[i]-=h;return p},expand:function(t){var e,i,n,r=t.length,o=t[0].length,a=1/r,s=[];for(i=0;i<o;++i){for(n=e=0;e<r;e++)n+=t[e][i][1];if(n)for(e=0;e<r;e++)t[e][i][1]/=n;else for(e=0;e<r;e++)t[e][i][1]=a}for(i=0;i<o;++i)s[i]=0;return s},zero:Vo});function Ho(t){return O.range(t.length)}function Vo(t){for(var e=-1,i=t[0].length,n=[];++e<i;)n[e]=0;return n}function Bo(t){for(var e,i=1,n=0,r=t[0][1],o=t.length;i<o;++i)(e=t[i][1])>r&&(n=i,r=e);return n}function Wo(t){return t.reduce(jo,0)}function jo(t,e){return t+e[1]}function Yo(t,e){return Uo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Uo(t,e){for(var i=-1,n=+t[0],r=(t[1]-n)/e,o=[];++i<=e;)o[i]=r*i+n;return o}function Go(t){return[O.min(t),O.max(t)]}function qo(t,e){return t.value-e.value}function Xo(t,e){var i=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=i)._pack_prev=e}function Ko(t,e){(t._pack_next=e)._pack_prev=t}function Zo(t,e){var i=e.x-t.x,n=e.y-t.y,r=t.r+e.r;return i*i+n*n<.999*r*r}function Qo(t){if((e=t.children)&&(l=e.length)){var e,i,n,r,o,a,s,l,h=1/0,c=-1/0,u=1/0,d=-1/0;if(e.forEach(Jo),(i=e[0]).x=-i.r,i.y=0,b(i),1<l&&((n=e[1]).x=n.r,n.y=0,b(n),2<l))for(ea(i,n,r=e[2]),b(r),Xo(i,r),Xo(i._pack_prev=r,n),n=i._pack_next,o=3;o<l;o++){ea(i,n,r=e[o]);var p=0,f=1,g=1;for(a=n._pack_next;a!==n;a=a._pack_next,f++)if(Zo(a,r)){p=1;break}if(1==p)for(s=i._pack_prev;s!==a._pack_prev&&!Zo(s,r);s=s._pack_prev,g++);p?(f<g||f==g&&n.r<i.r?Ko(i,n=a):Ko(i=s,n),o--):(Xo(i,r),b(n=r))}var m=(h+c)/2,v=(u+d)/2,y=0;for(o=0;o<l;o++)(r=e[o]).x-=m,r.y-=v,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));t.r=y,e.forEach(ta)}function b(t){h=Math.min(t.x-t.r,h),c=Math.max(t.x+t.r,c),u=Math.min(t.y-t.r,u),d=Math.max(t.y+t.r,d)}}function Jo(t){t._pack_next=t._pack_prev=t}function ta(t){delete t._pack_next,delete t._pack_prev}function ea(t,e,i){var n=t.r+i.r,r=e.x-t.x,o=e.y-t.y;if(n&&(r||o)){var a=e.r+i.r,s=r*r+o*o,l=.5+((n*=n)-(a*=a))/(2*s),h=Math.sqrt(Math.max(0,2*a*(n+s)-(n-=s)*n-a*a))/(2*s);i.x=t.x+l*r+h*o,i.y=t.y+l*o-h*r}else i.x=t.x+n,i.y=t.y}function ia(t,e){return t.parent==e.parent?1:2}function na(t){var e=t.children;return e.length?e[0]:t.t}function ra(t){var e,i=t.children;return(e=i.length)?i[e-1]:t.t}function oa(t,e,i){var n=i/(e.i-t.i);e.c-=n,e.s+=i,t.c+=n,e.z+=i,e.m+=i}function aa(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function sa(t,e){var i=t.x+e[3],n=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(i+=r/2,r=0),o<0&&(n+=o/2,o=0),{x:i,y:n,dx:r,dy:o}}function la(t){var e=t[0],i=t[t.length-1];return e<i?[e,i]:[i,e]}function ha(t){return t.rangeExtent?t.rangeExtent():la(t.range())}function ca(t,e,i,n){var r=i(t[0],t[1]),o=n(e[0],e[1]);return function(t){return o(r(t))}}function ua(t,e){var i,n=0,r=t.length-1,o=t[n],a=t[r];return a<o&&(i=n,n=r,r=i,i=o,o=a,a=i),t[n]=e.floor(o),t[r]=e.ceil(a),t}function da(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:pa}O.layout.histogram=function(){var u=!0,d=Number,p=Go,f=Yo;function i(t,e){for(var i,n,r=[],o=t.map(d,this),a=p.call(this,o,e),s=f.call(this,a,o,e),l=(e=-1,o.length),h=s.length-1,c=u?1:1/l;++e<h;)(i=r[e]=[]).dx=s[e+1]-(i.x=s[e]),i.y=0;if(0<h)for(e=-1;++e<l;)(n=o[e])>=a[0]&&n<=a[1]&&((i=r[O.bisect(s,n,1,h)-1]).y+=c,i.push(t[e]));return r}return i.value=function(t){return arguments.length?(d=t,i):d},i.range=function(t){return arguments.length?(p=ge(t),i):p},i.bins=function(e){return arguments.length?(f="number"==typeof e?function(t){return Uo(t,e)}:ge(e),i):f},i.frequency=function(t){return arguments.length?(u=!!t,i):u},i},O.layout.pack=function(){var l,h=O.layout.hierarchy().sort(qo),c=0,u=[1,1];function e(t,e){var i=h.call(this,t,e),n=i[0],r=u[0],o=u[1],a=null==l?Math.sqrt:"function"==typeof l?l:function(){return l};if(n.x=n.y=0,Mo(n,function(t){t.r=+a(t.value)}),Mo(n,Qo),c){var s=c*(l?1:Math.max(2*n.r/r,2*n.r/o))/2;Mo(n,function(t){t.r+=s}),Mo(n,Qo),Mo(n,function(t){t.r-=s})}return function t(e,i,n,r){var o=e.children;e.x=i+=r*e.x;e.y=n+=r*e.y;e.r*=r;if(o)for(var a=-1,s=o.length;++a<s;)t(o[a],i,n,r)}(n,r/2,o/2,l?1:1/Math.max(2*n.r/r,2*n.r/o)),i}return e.size=function(t){return arguments.length?(u=t,e):u},e.radius=function(t){return arguments.length?(l=null==t||"function"==typeof t?t:+t,e):l},e.padding=function(t){return arguments.length?(c=+t,e):c},Do(e,h)},O.layout.tree=function(){var u=O.layout.hierarchy().sort(null).value(null),g=ia,d=[1,1],p=null;function e(t,e){var i=u.call(this,t,e),n=i[0],r=function(t){var e,i={A:null,children:[t]},n=[i];for(;null!=(e=n.pop());)for(var r,o=e.children,a=0,s=o.length;a<s;++a)n.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return i.children[0]}(n);if(Mo(r,f),r.parent.m=-r.z,Ao(r,m),p)Ao(n,v);else{var o=n,a=n,s=n;Ao(n,function(t){t.x<o.x&&(o=t),t.x>a.x&&(a=t),t.depth>s.depth&&(s=t)});var l=g(o,a)/2-o.x,h=d[0]/(a.x+g(a,o)/2+l),c=d[1]/(s.depth||1);Ao(n,function(t){t.x=(t.x+l)*h,t.y=t.depth*c})}return i}function f(t){var e=t.children,i=t.parent.children,n=t.i?i[t.i-1]:null;if(e.length){!function(t){var e,i=0,n=0,r=t.children,o=r.length;for(;0<=--o;)(e=r[o]).z+=i,e.m+=i,i+=e.s+(n+=e.c)}(t);var r=(e[0].z+e[e.length-1].z)/2;n?(t.z=n.z+g(t._,n._),t.m=t.z-r):t.z=r}else n&&(t.z=n.z+g(t._,n._));t.parent.A=function(t,e,i){if(e){for(var n,r=t,o=t,a=e,s=r.parent.children[0],l=r.m,h=o.m,c=a.m,u=s.m;a=ra(a),r=na(r),a&&r;)s=na(s),(o=ra(o)).a=t,0<(n=a.z+c-r.z-l+g(a._,r._))&&(oa((p=t,f=i,(d=a).a.parent===p.parent?d.a:f),t,n),l+=n,h+=n),c+=a.m,l+=r.m,u+=s.m,h+=o.m;a&&!ra(o)&&(o.t=a,o.m+=c-h),r&&!na(s)&&(s.t=r,s.m+=l-u,i=t)}var d,p,f;return i}(t,n,t.parent.A||i[0])}function m(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function v(t){t.x*=d[0],t.y=t.depth*d[1]}return e.separation=function(t){return arguments.length?(g=t,e):g},e.size=function(t){return arguments.length?(p=null==(d=t)?v:null,e):p?null:d},e.nodeSize=function(t){return arguments.length?(p=null==(d=t)?null:v,e):p?d:null},Do(e,u)},O.layout.cluster=function(){var c=O.layout.hierarchy().sort(null).value(null),u=ia,d=[1,1],p=!1;function e(t,e){var r,i=c.call(this,t,e),n=i[0],o=0;Mo(n,function(t){var e,i,n=t.children;n&&n.length?(t.x=(i=n).reduce(function(t,e){return t+e.x},0)/i.length,t.y=(e=n,1+O.max(e,function(t){return t.y}))):(t.x=r?o+=u(t,r):0,t.y=0,r=t)});var a=function t(e){var i=e.children;return i&&i.length?t(i[0]):e}(n),s=function t(e){var i,n=e.children;return n&&(i=n.length)?t(n[i-1]):e}(n),l=a.x-u(a,s)/2,h=s.x+u(s,a)/2;return Mo(n,p?function(t){t.x=(t.x-n.x)*d[0],t.y=(n.y-t.y)*d[1]}:function(t){t.x=(t.x-l)/(h-l)*d[0],t.y=(1-(n.y?t.y/n.y:1))*d[1]}),i}return e.separation=function(t){return arguments.length?(u=t,e):u},e.size=function(t){return arguments.length?(p=null==(d=t),e):p?null:d},e.nodeSize=function(t){return arguments.length?(p=null!=(d=t),e):p?d:null},Do(e,c)},O.layout.treemap=function(){var n,r=O.layout.hierarchy(),c=Math.round,o=[1,1],a=null,u=aa,s=!1,d="squarify",l=.5*(1+Math.sqrt(5));function p(t,e){for(var i,n,r=-1,o=t.length;++r<o;)n=(i=t[r]).value*(e<0?0:e),i.area=isNaN(n)||n<=0?0:n}function f(t){var e=t.children;if(e&&e.length){var i,n,r,o=u(t),a=[],s=e.slice(),l=1/0,h="slice"===d?o.dx:"dice"===d?o.dy:"slice-dice"===d?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(p(s,o.dx*o.dy/t.value),a.area=0;0<(r=s.length);)a.push(i=s[r-1]),a.area+=i.area,"squarify"!==d||(n=g(a,h))<=l?(s.pop(),l=n):(a.area-=a.pop().area,m(a,h,o,!1),h=Math.min(o.dx,o.dy),a.length=a.area=0,l=1/0);a.length&&(m(a,h,o,!0),a.length=a.area=0),e.forEach(f)}}function h(t){var e=t.children;if(e&&e.length){var i,n=u(t),r=e.slice(),o=[];for(p(r,n.dx*n.dy/t.value),o.area=0;i=r.pop();)o.push(i),o.area+=i.area,null!=i.z&&(m(o,i.z?n.dx:n.dy,n,!r.length),o.length=o.area=0);e.forEach(h)}}function g(t,e){for(var i,n=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(i=t[a].area)&&(i<o&&(o=i),r<i&&(r=i));return e*=e,(n*=n)?Math.max(e*r*l/n,n/(e*o*l)):1/0}function m(t,e,i,n){var r,o=-1,a=t.length,s=i.x,l=i.y,h=e?c(t.area/e):0;if(e==i.dx){for((n||h>i.dy)&&(h=i.dy);++o<a;)(r=t[o]).x=s,r.y=l,r.dy=h,s+=r.dx=Math.min(i.x+i.dx-s,h?c(r.area/h):0);r.z=!0,r.dx+=i.x+i.dx-s,i.y+=h,i.dy-=h}else{for((n||h>i.dx)&&(h=i.dx);++o<a;)(r=t[o]).x=s,r.y=l,r.dx=h,l+=r.dy=Math.min(i.y+i.dy-l,h?c(r.area/h):0);r.z=!1,r.dy+=i.y+i.dy-l,i.x+=h,i.dx-=h}}function v(t){var e=n||r(t),i=e[0];return i.x=i.y=0,i.value?(i.dx=o[0],i.dy=o[1]):i.dx=i.dy=0,n&&r.revalue(i),p([i],i.dx*i.dy/i.value),(n?h:f)(i),s&&(n=e),e}return v.size=function(t){return arguments.length?(o=t,v):o},v.padding=function(i){if(!arguments.length)return a;function t(t){return sa(t,i)}var e;return u=null==(a=i)?aa:"function"==(e=typeof i)?function(t){var e=i.call(v,t,t.depth);return null==e?aa(t):sa(t,"number"==typeof e?[e,e,e,e]:e)}:("number"===e&&(i=[i,i,i,i]),t),v},v.round=function(t){return arguments.length?(c=t?Math.round:Number,v):c!=Number},v.sticky=function(t){return arguments.length?(s=t,n=null,v):s},v.ratio=function(t){return arguments.length?(l=t,v):l},v.mode=function(t){return arguments.length?(d=t+"",v):d},Do(v,r)},O.random={normal:function(n,r){var t=arguments.length;return t<2&&(r=1),t<1&&(n=0),function(){for(var t,e,i;!(i=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<i;);return n+r*t*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=O.random.normal.apply(O,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=O.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(i){return function(){for(var t=0,e=0;e<i;e++)t+=Math.random();return t}}},O.scale={};var pa={floor:F,ceil:F};function fa(i,t,e,n){var r=[],o=[],a=0,s=Math.min(i.length,t.length)-1;for(i[s]<i[0]&&(i=i.slice().reverse(),t=t.slice().reverse());++a<=s;)r.push(e(i[a-1],i[a])),o.push(n(t[a-1],t[a]));return function(t){var e=O.bisect(i,t,1,s)-1;return o[e](r[e](t))}}function ga(t,e){return O.rebind(t,e,"range","rangeRound","interpolate","clamp")}function ma(t,e){return ua(t,da(va(t,e)[2])),ua(t,da(va(t,e)[2])),t}function va(t,e){null==e&&(e=10);var i=la(t),n=i[1]-i[0],r=Math.pow(10,Math.floor(Math.log(n/e)/Math.LN10)),o=e/n*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),i[0]=Math.ceil(i[0]/r)*r,i[1]=Math.floor(i[1]/r)*r+.5*r,i[2]=r,i}function ya(t,e){return O.range.apply(O,va(t,e))}function ba(t,e,i){var n,r,o,a=va(t,e);if(i){var s=Me.exec(i);if(s.shift(),"s"===s[8]){var l=O.formatPrefix(Math.max(I(a[0]),I(a[1])));return s[7]||(s[7]="."+_a(l.scale(a[2]))),s[8]="f",i=O.format(s.join("")),function(t){return i(l.scale(t))+l.symbol}}s[7]||(s[7]="."+(n=s[8],o=_a((r=a)[2]),n in xa?Math.abs(o-_a(Math.max(I(r[0]),I(r[1]))))+ +("e"!==n):o-2*("%"===n))),i=s.join("")}else i=",."+_a(a[2])+"f";return O.format(i)}O.scale.linear=function(){return function t(i,n,r,o){var a,s;function e(){var t=2<Math.min(i.length,n.length)?fa:ca,e=o?vo:mo;return a=t(i,n,e,r),s=t(n,i,e,qr),l}function l(t){return a(t)}l.invert=function(t){return s(t)};l.domain=function(t){return arguments.length?(i=t.map(Number),e()):i};l.range=function(t){return arguments.length?(n=t,e()):n};l.rangeRound=function(t){return l.range(t).interpolate(lo)};l.clamp=function(t){return arguments.length?(o=t,e()):o};l.interpolate=function(t){return arguments.length?(r=t,e()):r};l.ticks=function(t){return ya(i,t)};l.tickFormat=function(t,e){return ba(i,t,e)};l.nice=function(t){return ma(i,t),e()};l.copy=function(){return t(i,n,r,o)};return e()}([0,1],[0,1],qr,!1)};var xa={s:1,g:1,p:1,r:1,e:1};function _a(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}O.scale.log=function(){return function t(e,l,h,c){function u(t){return(h?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(l)}function d(t){return h?Math.pow(l,t):-Math.pow(l,-t)}function r(t){return e(u(t))}r.invert=function(t){return d(e.invert(t))};r.domain=function(t){return arguments.length?(h=0<=t[0],e.domain((c=t.map(Number)).map(u)),r):c};r.base=function(t){return arguments.length?(l=+t,e.domain(c.map(u)),r):l};r.nice=function(){var t=ua(c.map(u),h?Math:Sa);return e.domain(t),c=t.map(d),r};r.ticks=function(){var t=la(c),e=[],i=t[0],n=t[1],r=Math.floor(u(i)),o=Math.ceil(u(n)),a=l%1?2:l;if(isFinite(o-r)){if(h){for(;r<o;r++)for(var s=1;s<a;s++)e.push(d(r)*s);e.push(d(r))}else for(e.push(d(r));r++<o;)for(var s=a-1;0<s;s--)e.push(d(r)*s);for(r=0;e[r]<i;r++);for(o=e.length;e[o-1]>n;o--);e=e.slice(r,o)}return e};r.tickFormat=function(t,i){if(!arguments.length)return wa;arguments.length<2?i=wa:"function"!=typeof i&&(i=O.format(i));var n=Math.max(1,l*t/r.ticks().length);return function(t){var e=t/d(Math.round(u(t)));return e*l<l-.5&&(e*=l),e<=n?i(t):""}};r.copy=function(){return t(e.copy(),l,h,c)};return ga(r,e)}(O.scale.linear().domain([0,1]),10,!0,[1,10])};var wa=O.format(".0e"),Sa={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Ca(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}O.scale.pow=function(){return function t(e,i,n){var r=Ca(i),o=Ca(1/i);function a(t){return e(r(t))}a.invert=function(t){return o(e.invert(t))};a.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),a):n};a.ticks=function(t){return ya(n,t)};a.tickFormat=function(t,e){return ba(n,t,e)};a.nice=function(t){return a.domain(ma(n,t))};a.exponent=function(t){return arguments.length?(r=Ca(i=t),o=Ca(1/i),e.domain(n.map(r)),a):i};a.copy=function(){return t(e.copy(),i,n)};return ga(a,e)}(O.scale.linear(),1,[0,1])},O.scale.sqrt=function(){return O.scale.pow().exponent(.5)},O.scale.ordinal=function(){return function t(s,l){var r,h,c;function u(t){return h[((r.get(t)||("range"===l.t?r.set(t,s.push(t)):NaN))-1)%h.length]}function d(e,i){return O.range(s.length).map(function(t){return e+i*t})}u.domain=function(t){if(!arguments.length)return s;s=[],r=new y;for(var e,i=-1,n=t.length;++i<n;)r.has(e=t[i])||r.set(e,s.push(e));return u[l.t].apply(u,l.a)};u.range=function(t){return arguments.length?(h=t,c=0,l={t:"range",a:arguments},u):h};u.rangePoints=function(t,e){arguments.length<2&&(e=0);var i=t[0],n=t[1],r=s.length<2?(i=(i+n)/2,0):(n-i)/(s.length-1+e);return h=d(i+r*e/2,r),c=0,l={t:"rangePoints",a:arguments},u};u.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var i=t[0],n=t[1],r=s.length<2?(i=n=Math.round((i+n)/2),0):(n-i)/(s.length-1+e)|0;return h=d(i+Math.round(r*e/2+(n-i-(s.length-1+e)*r)/2),r),c=0,l={t:"rangeRoundPoints",a:arguments},u};u.rangeBands=function(t,e,i){arguments.length<2&&(e=0),arguments.length<3&&(i=e);var n=t[1]<t[0],r=t[n-0],o=t[1-n],a=(o-r)/(s.length-e+2*i);return h=d(r+a*i,a),n&&h.reverse(),c=a*(1-e),l={t:"rangeBands",a:arguments},u};u.rangeRoundBands=function(t,e,i){arguments.length<2&&(e=0),arguments.length<3&&(i=e);var n=t[1]<t[0],r=t[n-0],o=t[1-n],a=Math.floor((o-r)/(s.length-e+2*i));return h=d(r+Math.round((o-r-(s.length-e)*a)/2),a),n&&h.reverse(),c=Math.round(a*(1-e)),l={t:"rangeRoundBands",a:arguments},u};u.rangeBand=function(){return c};u.rangeExtent=function(){return la(l.a[0])};u.copy=function(){return t(s,l)};return u.domain(s)}([],{t:"range",a:[[]]})},O.scale.category10=function(){return O.scale.ordinal().range(ka)},O.scale.category20=function(){return O.scale.ordinal().range(Ta)},O.scale.category20b=function(){return O.scale.ordinal().range(Da)},O.scale.category20c=function(){return O.scale.ordinal().range(Aa)};var ka=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ae),Ta=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ae),Da=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ae),Aa=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ae);function Ma(){return 0}O.scale.quantile=function(){return function t(i,n){var r;function e(){var t=0,e=n.length;for(r=[];++t<e;)r[t-1]=O.quantile(i,t/e);return o}function o(t){if(!isNaN(t=+t))return n[O.bisect(r,t)]}o.domain=function(t){return arguments.length?(i=t.map(h).filter(c).sort(l),e()):i};o.range=function(t){return arguments.length?(n=t,e()):n};o.quantiles=function(){return r};o.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[0<t?r[t-1]:i[0],t<r.length?r[t]:i[i.length-1]]};o.copy=function(){return t(i,n)};return e()}([],[])},O.scale.quantize=function(){return function t(e,i,n){var r,o;function a(t){return n[Math.max(0,Math.min(o,Math.floor(r*(t-e))))]}function s(){return r=n.length/(i-e),o=n.length-1,a}a.domain=function(t){return arguments.length?(e=+t[0],i=+t[t.length-1],s()):[e,i]};a.range=function(t){return arguments.length?(n=t,s()):n};a.invertExtent=function(t){return[t=(t=n.indexOf(t))<0?NaN:t/r+e,t+1/r]};a.copy=function(){return t(e,i,n)};return s()}(0,1,[0,1])},O.scale.threshold=function(){return function t(e,i){function n(t){if(t<=t)return i[O.bisect(e,t)]}n.domain=function(t){return arguments.length?(e=t,n):e};n.range=function(t){return arguments.length?(i=t,n):i};n.invertExtent=function(t){return t=i.indexOf(t),[e[t-1],e[t]]};n.copy=function(){return t(e,i)};return n}([.5],[0,1])},O.scale.identity=function(){return function t(i){function e(t){return+t}e.invert=e;e.domain=e.range=function(t){return arguments.length?(i=t.map(e),e):i};e.ticks=function(t){return ya(i,t)};e.tickFormat=function(t,e){return ba(i,t,e)};e.copy=function(){return t(i)};return e}([0,1])},O.svg={},O.svg.arc=function(){var z=Pa,$=La,H=Ma,V=Ea,B=Ia,W=Oa,j=Ra;function e(){var t=Math.max(0,+z.apply(this,arguments)),e=Math.max(0,+$.apply(this,arguments)),i=B.apply(this,arguments)-Dt,n=W.apply(this,arguments)-Dt,r=Math.abs(n-i),o=n<i?0:1;if(e<t&&(a=e,e=t,t=a),Tt<=r)return Y(e,o)+(t?Y(t,1-o):"")+"Z";var a,s,l,h,c,u,d,p,f,g,m,v,y=0,b=0,x=[];if((h=(+j.apply(this,arguments)||0)/2)&&(l=V===Ea?Math.sqrt(t*t+e*e):+V.apply(this,arguments),o||(b*=-1),e&&(b=It(l/e*Math.sin(h))),t&&(y=It(l/t*Math.sin(h)))),e){c=e*Math.cos(i+b),u=e*Math.sin(i+b),d=e*Math.cos(n-b),p=e*Math.sin(n-b);var _=Math.abs(n-i-2*b)<=Ct?0:1;if(b&&Fa(c,u,d,p)===o^_){var w=(i+n)/2;c=e*Math.cos(w),u=e*Math.sin(w),d=p=null}}else c=u=0;if(t){f=t*Math.cos(n-y),g=t*Math.sin(n-y),m=t*Math.cos(i+y),v=t*Math.sin(i+y);var S=Math.abs(i-n+2*y)<=Ct?0:1;if(y&&Fa(f,g,m,v)===1-o^S){var C=(i+n)/2;f=t*Math.cos(C),g=t*Math.sin(C),m=v=null}}else f=g=0;if(wt<r&&.001<(a=Math.min(Math.abs(e-t)/2,+H.apply(this,arguments)))){s=t<e^o?0:1;var k=a,T=a;if(r<Ct){var D=null==m?[f,g]:null==d?[c,u]:ar([c,u],[m,v],[d,p],[f,g]),A=c-D[0],M=u-D[1],E=d-D[0],P=p-D[1],L=1/Math.sin(Math.acos((A*E+M*P)/(Math.sqrt(A*A+M*M)*Math.sqrt(E*E+P*P)))/2),I=Math.sqrt(D[0]*D[0]+D[1]*D[1]);T=Math.min(a,(t-I)/(L-1)),k=Math.min(a,(e-I)/(L+1))}if(null!=d){var O=Na(null==m?[f,g]:[m,v],[c,u],e,k,o),R=Na([d,p],[f,g],e,k,o);a===k?x.push("M",O[0],"A",k,",",k," 0 0,",s," ",O[1],"A",e,",",e," 0 ",1-o^Fa(O[1][0],O[1][1],R[1][0],R[1][1]),",",o," ",R[1],"A",k,",",k," 0 0,",s," ",R[0]):x.push("M",O[0],"A",k,",",k," 0 1,",s," ",R[0])}else x.push("M",c,",",u);if(null!=m){var F=Na([c,u],[m,v],t,-T,o),N=Na([f,g],null==d?[c,u]:[d,p],t,-T,o);a===T?x.push("L",N[0],"A",T,",",T," 0 0,",s," ",N[1],"A",t,",",t," 0 ",o^Fa(N[1][0],N[1][1],F[1][0],F[1][1]),",",1-o," ",F[1],"A",T,",",T," 0 0,",s," ",F[0]):x.push("L",N[0],"A",T,",",T," 0 0,",s," ",F[0])}else x.push("L",f,",",g)}else x.push("M",c,",",u),null!=d&&x.push("A",e,",",e," 0 ",_,",",o," ",d,",",p),x.push("L",f,",",g),null!=m&&x.push("A",t,",",t," 0 ",S,",",1-o," ",m,",",v);return x.push("Z"),x.join("")}function Y(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return e.innerRadius=function(t){return arguments.length?(z=ge(t),e):z},e.outerRadius=function(t){return arguments.length?($=ge(t),e):$},e.cornerRadius=function(t){return arguments.length?(H=ge(t),e):H},e.padRadius=function(t){return arguments.length?(V=t==Ea?Ea:ge(t),e):V},e.startAngle=function(t){return arguments.length?(B=ge(t),e):B},e.endAngle=function(t){return arguments.length?(W=ge(t),e):W},e.padAngle=function(t){return arguments.length?(j=ge(t),e):j},e.centroid=function(){var t=(+z.apply(this,arguments)+ +$.apply(this,arguments))/2,e=(+B.apply(this,arguments)+ +W.apply(this,arguments))/2-Dt;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Ea="auto";function Pa(t){return t.innerRadius}function La(t){return t.outerRadius}function Ia(t){return t.startAngle}function Oa(t){return t.endAngle}function Ra(t){return t&&t.padAngle}function Fa(t,e,i,n){return 0<(t-i)*e-(e-n)*t?0:1}function Na(t,e,i,n,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?n:-n)/Math.sqrt(o*o+a*a),l=s*a,h=-s*o,c=t[0]+l,u=t[1]+h,d=e[0]+l,p=e[1]+h,f=(c+d)/2,g=(u+p)/2,m=d-c,v=p-u,y=m*m+v*v,b=i-n,x=c*p-d*u,_=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-x*x)),w=(x*v-m*_)/y,S=(-x*m-v*_)/y,C=(x*v+m*_)/y,k=(-x*m+v*_)/y,T=w-f,D=S-g,A=C-f,M=k-g;return A*A+M*M<T*T+D*D&&(w=C,S=k),[[w-l,S-h],[w*i/b,S*i/b]]}function za(h){var c=tr,u=er,d=Yi,p=Ha,e=p.key,f=.7;function i(t){var e,i=[],n=[],r=-1,o=t.length,a=ge(c),s=ge(u);function l(){i.push("M",p(h(n),f))}for(;++r<o;)d.call(this,e=t[r],r)?n.push([+a.call(this,e,r),+s.call(this,e,r)]):n.length&&(l(),n=[]);return n.length&&l(),i.length?i.join(""):null}return i.x=function(t){return arguments.length?(c=t,i):c},i.y=function(t){return arguments.length?(u=t,i):u},i.defined=function(t){return arguments.length?(d=t,i):d},i.interpolate=function(t){return arguments.length?(e="function"==typeof t?p=t:(p=$a.get(t)||Ha).key,i):e},i.tension=function(t){return arguments.length?(f=t,i):f},i}O.svg.line=function(){return za(F)};var $a=O.map({linear:Ha,"linear-closed":Va,step:function(t){var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];for(;++e<i;)r.push("H",(n[0]+(n=t[e])[0])/2,"V",n[1]);1<i&&r.push("H",n[0]);return r.join("")},"step-before":Ba,"step-after":Wa,basis:Ua,"basis-open":function(t){if(t.length<4)return Ha(t);var e,i=[],n=-1,r=t.length,o=[0],a=[0];for(;++n<3;)e=t[n],o.push(e[0]),a.push(e[1]);i.push(Ga(Ka,o)+","+Ga(Ka,a)),--n;for(;++n<r;)e=t[n],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Za(i,o,a);return i.join("")},"basis-closed":function(t){var e,i,n=-1,r=t.length,o=r+4,a=[],s=[];for(;++n<4;)i=t[n%r],a.push(i[0]),s.push(i[1]);e=[Ga(Ka,a),",",Ga(Ka,s)],--n;for(;++n<o;)i=t[n%r],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Za(e,a,s);return e.join("")},bundle:function(t,e){var i=t.length-1;if(i)for(var n,r,o=t[0][0],a=t[0][1],s=t[i][0]-o,l=t[i][1]-a,h=-1;++h<=i;)n=t[h],r=h/i,n[0]=e*n[0]+(1-e)*(o+r*s),n[1]=e*n[1]+(1-e)*(a+r*l);return Ua(t)},cardinal:function(t,e){return t.length<3?Ha(t):t[0]+ja(t,Ya(t,e))},"cardinal-open":function(t,e){return t.length<4?Ha(t):t[1]+ja(t.slice(1,-1),Ya(t,e))},"cardinal-closed":function(t,e){return t.length<3?Va(t):t[0]+ja((t.push(t[0]),t),Ya([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?Ha(t):t[0]+ja(t,function(t){var e,i,n,r,o=[],a=function(t){var e=0,i=t.length-1,n=[],r=t[0],o=t[1],a=n[0]=Qa(r,o);for(;++e<i;)n[e]=(a+(a=Qa(r=o,o=t[e+1])))/2;return n[e]=a,n}(t),s=-1,l=t.length-1;for(;++s<l;)e=Qa(t[s],t[s+1]),I(e)<wt?a[s]=a[s+1]=0:(i=a[s]/e,n=a[s+1]/e,9<(r=i*i+n*n)&&(r=3*e/Math.sqrt(r),a[s]=r*i,a[s+1]=r*n));s=-1;for(;++s<=l;)r=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}(t))}});function Ha(t){return 1<t.length?t.join("L"):t+"Z"}function Va(t){return t.join("L")+"Z"}function Ba(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("V",(n=t[e])[1],"H",n[0]);return r.join("")}function Wa(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("H",(n=t[e])[0],"V",n[1]);return r.join("")}function ja(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ha(t);var i=t.length!=e.length,n="",r=t[0],o=t[1],a=e[0],s=a,l=1;if(i&&(n+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),1<e.length){s=e[1],o=t[l],l++,n+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var h=2;h<e.length;h++,l++)o=t[l],s=e[h],n+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(i){var c=t[l];n+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return n}function Ya(t,e){for(var i,n=[],r=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)i=o,o=a,a=t[s],n.push([r*(a[0]-i[0]),r*(a[1]-i[1])]);return n}function Ua(t){if(t.length<3)return Ha(t);var e=1,i=t.length,n=t[0],r=n[0],o=n[1],a=[r,r,r,(n=t[1])[0]],s=[o,o,o,n[1]],l=[r,",",o,"L",Ga(Ka,a),",",Ga(Ka,s)];for(t.push(t[i-1]);++e<=i;)n=t[e],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Za(l,a,s);return t.pop(),l.push("L",n),l.join("")}function Ga(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}$a.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var qa=[0,2/3,1/3,0],Xa=[0,1/3,2/3,0],Ka=[0,1/6,2/3,1/6];function Za(t,e,i){t.push("C",Ga(qa,e),",",Ga(qa,i),",",Ga(Xa,e),",",Ga(Xa,i),",",Ga(Ka,e),",",Ga(Ka,i))}function Qa(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ja(t){for(var e,i,n,r=-1,o=t.length;++r<o;)i=(e=t[r])[0],n=e[1]-Dt,e[0]=i*Math.cos(n),e[1]=i*Math.sin(n);return t}function ts(f){var g=tr,m=tr,v=0,y=er,b=Yi,x=Ha,e=x.key,_=x,w="L",S=.7;function i(t){var e,i,n,r=[],o=[],a=[],s=-1,l=t.length,h=ge(g),c=ge(v),u=g===m?function(){return i}:ge(m),d=v===y?function(){return n}:ge(y);function p(){r.push("M",x(f(a),S),w,_(f(o.reverse()),S),"Z")}for(;++s<l;)b.call(this,e=t[s],s)?(o.push([i=+h.call(this,e,s),n=+c.call(this,e,s)]),a.push([+u.call(this,e,s),+d.call(this,e,s)])):o.length&&(p(),o=[],a=[]);return o.length&&p(),r.length?r.join(""):null}return i.x=function(t){return arguments.length?(g=m=t,i):m},i.x0=function(t){return arguments.length?(g=t,i):g},i.x1=function(t){return arguments.length?(m=t,i):m},i.y=function(t){return arguments.length?(v=y=t,i):y},i.y0=function(t){return arguments.length?(v=t,i):v},i.y1=function(t){return arguments.length?(y=t,i):y},i.defined=function(t){return arguments.length?(b=t,i):b},i.interpolate=function(t){return arguments.length?(e="function"==typeof t?x=t:(x=$a.get(t)||Ha).key,_=x.reverse||x,w=x.closed?"M":"L",i):e},i.tension=function(t){return arguments.length?(S=t,i):S},i}function es(t){return t.radius}function is(t){return[t.x,t.y]}function ns(){return 64}function rs(){return"circle"}function os(t){var e=Math.sqrt(t/Ct);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}O.svg.line.radial=function(){var t=za(Ja);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(Ba.reverse=Wa).reverse=Ba,O.svg.area=function(){return ts(F)},O.svg.area.radial=function(){var t=ts(Ja);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},O.svg.chord=function(){var a=Hn,s=Vn,l=es,h=Ia,c=Oa;function e(t,e){var i,n,r=u(this,a,t,e),o=u(this,s,t,e);return"M"+r.p0+d(r.r,r.p1,r.a1-r.a0)+(n=o,(i=r).a0==n.a0&&i.a1==n.a1?p(r.r,r.p1,r.r,r.p0):p(r.r,r.p1,o.r,o.p0)+d(o.r,o.p1,o.a1-o.a0)+p(o.r,o.p1,r.r,r.p0))+"Z"}function u(t,e,i,n){var r=e.call(t,i,n),o=l.call(t,r,n),a=h.call(t,r,n)-Dt,s=c.call(t,r,n)-Dt;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function d(t,e,i){return"A"+t+","+t+" 0 "+ +(Ct<i)+",1 "+e}function p(t,e,i,n){return"Q 0,0 "+n}return e.radius=function(t){return arguments.length?(l=ge(t),e):l},e.source=function(t){return arguments.length?(a=ge(t),e):a},e.target=function(t){return arguments.length?(s=ge(t),e):s},e.startAngle=function(t){return arguments.length?(h=ge(t),e):h},e.endAngle=function(t){return arguments.length?(c=ge(t),e):c},e},O.svg.diagonal=function(){var a=Hn,s=Vn,l=is;function e(t,e){var i=a.call(this,t,e),n=s.call(this,t,e),r=(i.y+n.y)/2,o=[i,{x:i.x,y:r},{x:n.x,y:r},n];return"M"+(o=o.map(l))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}return e.source=function(t){return arguments.length?(a=ge(t),e):a},e.target=function(t){return arguments.length?(s=ge(t),e):s},e.projection=function(t){return arguments.length?(l=t,e):l},e},O.svg.diagonal.radial=function(){var t=O.svg.diagonal(),e=is,i=t.projection;return t.projection=function(t){return arguments.length?i((n=e=t,function(){var t=n.apply(this,arguments),e=t[0],i=t[1]-Dt;return[e*Math.cos(i),e*Math.sin(i)]})):e;var n},t},O.svg.symbol=function(){var i=rs,n=ns;function e(t,e){return(as.get(i.call(this,t,e))||os)(n.call(this,t,e))}return e.type=function(t){return arguments.length?(i=ge(t),e):i},e.size=function(t){return arguments.length?(n=ge(t),e):n},e};var as=O.map({circle:os,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ls)),i=e*ls;return"M0,"+-e+"L"+i+",0 0,"+e+" "+-i+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ss),i=e*ss/2;return"M0,"+i+"L"+e+","+-i+" "+-e+","+-i+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ss),i=e*ss/2;return"M0,"+-i+"L"+e+","+i+" "+-e+","+i+"Z"}});O.svg.symbolTypes=as.keys();var ss=Math.sqrt(3),ls=Math.tan(30*At);U.transition=function(t){for(var e,i,n=ds||++gs,r=ys(t),o=[],a=ps||{time:Date.now(),ease:no,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var h=this[s],c=-1,u=h.length;++c<u;)(i=h[c])&&bs(i,c,r,n,a),e.push(i)}return us(o,r,n)},U.interrupt=function(t){return this.each(null==t?hs:cs(ys(t)))};var hs=cs(ys());function cs(n){return function(){var t,e,i;(t=this[n])&&(i=t[e=t.active])&&(i.timer.c=null,i.timer.t=NaN,--t.count?delete t[e]:delete this[n],t.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function us(t,e,i){return V(t,fs),t.namespace=e,t.id=i,t}var ds,ps,fs=[],gs=0;function ms(t,n,r,o){var a=t.id,s=t.namespace;return ht(t,"function"==typeof r?function(t,e,i){t[s][a].tween.set(n,o(r.call(t,t.__data__,e,i)))}:(r=o(r),function(t){t[s][a].tween.set(n,r)}))}function vs(t){return null==t&&(t=""),function(){this.textContent=t}}function ys(t){return null==t?"__transition__":"__transition_"+t+"__"}function bs(o,a,r,s,t){var l,h,c,u,d,p=o[r]||(o[r]={active:0,count:0}),f=p[s];function i(t){var e=p.active,i=p[e];for(var n in i&&(i.timer.c=null,i.timer.t=NaN,--p.count,delete p[e],i.event&&i.event.interrupt.call(o,o.__data__,i.index)),p)if(+n<s){var r=p[n];r.timer.c=null,r.timer.t=NaN,--p.count,delete p[n]}h.c=g,Se(function(){return h.c&&g(t||1)&&(h.c=null,h.t=NaN),1},0,l),p.active=s,f.event&&f.event.start.call(o,o.__data__,a),d=[],f.tween.forEach(function(t,e){(e=e.call(o,o.__data__,a))&&d.push(e)}),u=f.ease,c=f.duration}function g(t){for(var e=t/c,i=u(e),n=d.length;0<n;)d[--n].call(o,i);if(1<=e)return f.event&&f.event.end.call(o,o.__data__,a),--p.count?delete p[s]:delete o[r],1}f||(l=t.time,h=Se(function(t){var e=f.delay;if(h.t=e+l,e<=t)return i(t-e);h.c=i},0,l),f=p[s]={tween:new y,time:l,timer:h,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++p.count)}fs.call=U.call,fs.empty=U.empty,fs.node=U.node,fs.size=U.size,O.transition=function(t,e){return t&&t.transition?ds?t.transition(e):t:O.selection().transition(t)},(O.transition.prototype=fs).select=function(t){var e,i,n,r=this.id,o=this.namespace,a=[];t=G(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var h=this[s],c=-1,u=h.length;++c<u;)(n=h[c])&&(i=t.call(n,n.__data__,c,s))?("__data__"in n&&(i.__data__=n.__data__),bs(i,c,o,r,n[o][r]),e.push(i)):e.push(null)}return us(a,o,r)},fs.selectAll=function(t){var e,i,n,r,o,a=this.id,s=this.namespace,l=[];t=q(t);for(var h=-1,c=this.length;++h<c;)for(var u=this[h],d=-1,p=u.length;++d<p;)if(n=u[d]){o=n[s][a],i=t.call(n,n.__data__,d,h),l.push(e=[]);for(var f=-1,g=i.length;++f<g;)(r=i[f])&&bs(r,f,s,a,o),e.push(r)}return us(l,s,a)},fs.filter=function(t){var e,i,n=[];"function"!=typeof t&&(t=lt(t));for(var r=0,o=this.length;r<o;r++){n.push(e=[]);for(var a,s=0,l=(a=this[r]).length;s<l;s++)(i=a[s])&&t.call(i,i.__data__,s,r)&&e.push(i)}return us(n,this.namespace,this.id)},fs.tween=function(e,i){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):ht(this,null==i?function(t){t[r][n].tween.remove(e)}:function(t){t[r][n].tween.set(e,i)})},fs.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?go:qr,r=O.ns.qualify(t);function o(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}return ms(this,"attr."+t,e,r.local?function(i){return null==i?a:(i+="",function(){var e,t=this.getAttributeNS(r.space,r.local);return t!==i&&(e=n(t,i),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}:function(i){return null==i?o:(i+="",function(){var e,t=this.getAttribute(r);return t!==i&&(e=n(t,i),function(t){this.setAttribute(r,e(t))})})})},fs.attrTween=function(t,n){var r=O.ns.qualify(t);return this.tween("attr."+t,r.local?function(t,e){var i=n.call(this,t,e,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}:function(t,e){var i=n.call(this,t,e,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}})},fs.style=function(n,t,r){var e=arguments.length;if(e<3){if("string"!=typeof n){for(r in e<2&&(t=""),n)this.style(r,n[r],t);return this}r=""}function o(){this.style.removeProperty(n)}return ms(this,"style."+n,t,function(i){return null==i?o:(i+="",function(){var e,t=R(this).getComputedStyle(this,null).getPropertyValue(n);return t!==i&&(e=qr(t,i),function(t){this.style.setProperty(n,e(t),r)})})})},fs.styleTween=function(n,r,o){return arguments.length<3&&(o=""),this.tween("style."+n,function(t,e){var i=r.call(this,t,e,R(this).getComputedStyle(this,null).getPropertyValue(n));return i&&function(t){this.style.setProperty(n,i(t),o)}})},fs.text=function(t){return ms(this,"text",t,vs)},fs.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},fs.ease=function(e){var i=this.id,n=this.namespace;return arguments.length<1?this.node()[n][i].ease:("function"!=typeof e&&(e=O.ease.apply(O,arguments)),ht(this,function(t){t[n][i].ease=e}))},fs.delay=function(n){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].delay:ht(this,"function"==typeof n?function(t,e,i){t[o][r].delay=+n.call(t,t.__data__,e,i)}:(n=+n,function(t){t[o][r].delay=n}))},fs.duration=function(n){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].duration:ht(this,"function"==typeof n?function(t,e,i){t[o][r].duration=Math.max(1,n.call(t,t.__data__,e,i))}:(n=Math.max(1,n),function(t){t[o][r].duration=n}))},fs.each=function(n,i){var r=this.id,o=this.namespace;if(arguments.length<2){var t=ps,e=ds;try{ds=r,ht(this,function(t,e,i){ps=t[o][r],n.call(t,t.__data__,e,i)})}finally{ps=t,ds=e}}else ht(this,function(t){var e=t[o][r];(e.event||(e.event=O.dispatch("start","end","interrupt"))).on(n,i)});return this},fs.transition=function(){for(var t,e,i,n=this.id,r=++gs,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(t=[]);for(var h,c=0,u=(h=this[s]).length;c<u;c++)(e=h[c])&&bs(e,c,o,r,{time:(i=e[o][n]).time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration}),t.push(e)}return us(a,o,r)},O.svg.axis=function(){var T,D=O.scale.linear(),A=xs,M=6,E=6,P=3,L=[10],I=null;function i(t){t.each(function(){var t,e=O.select(this),i=this.__chart__||D,n=this.__chart__=D.copy(),r=null==I?n.ticks?n.ticks.apply(n,L):n.domain():I,o=null==T?n.tickFormat?n.tickFormat.apply(n,L):F:T,a=e.selectAll(".tick").data(r,n),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",wt),l=O.transition(a.exit()).style("opacity",wt).remove(),h=O.transition(a.order()).style("opacity",1),c=Math.max(M,0)+P,u=ha(n),d=e.selectAll(".domain").data([0]),p=(d.enter().append("path").attr("class","domain"),O.transition(d));s.append("line"),s.append("text");var f,g,m,v,y=s.select("line"),b=h.select("line"),x=a.select("text").text(o),_=s.select("text"),w=h.select("text"),S="top"===A||"left"===A?-1:1;if("bottom"===A||"top"===A?(t=ws,f="x",m="y",g="x2",v="y2",x.attr("dy",S<0?"0em":".71em").style("text-anchor","middle"),p.attr("d","M"+u[0]+","+S*E+"V0H"+u[1]+"V"+S*E)):(t=Ss,f="y",m="x",g="y2",v="x2",x.attr("dy",".32em").style("text-anchor",S<0?"end":"start"),p.attr("d","M"+S*E+","+u[0]+"H0V"+u[1]+"H"+S*E)),y.attr(v,S*M),_.attr(m,S*c),b.attr(g,0).attr(v,S*M),w.attr(f,0).attr(m,S*c),n.rangeBand){var C=n,k=C.rangeBand()/2;i=n=function(t){return C(t)+k}}else i.rangeBand?i=n:l.call(t,n,i);s.call(t,i,n),h.call(t,n,n)})}return i.scale=function(t){return arguments.length?(D=t,i):D},i.orient=function(t){return arguments.length?(A=t in _s?t+"":xs,i):A},i.ticks=function(){return arguments.length?(L=d(arguments),i):L},i.tickValues=function(t){return arguments.length?(I=t,i):I},i.tickFormat=function(t){return arguments.length?(T=t,i):T},i.tickSize=function(t){var e=arguments.length;return e?(M=+t,E=+arguments[e-1],i):M},i.innerTickSize=function(t){return arguments.length?(M=+t,i):M},i.outerTickSize=function(t){return arguments.length?(E=+t,i):E},i.tickPadding=function(t){return arguments.length?(P=+t,i):P},i.tickSubdivide=function(){return arguments.length&&i},i};var xs="bottom",_s={top:1,right:1,bottom:1,left:1};function ws(t,i,n){t.attr("transform",function(t){var e=i(t);return"translate("+(isFinite(e)?e:n(t))+",0)"})}function Ss(t,i,n){t.attr("transform",function(t){var e=i(t);return"translate(0,"+(isFinite(e)?e:n(t))+")"})}O.svg.brush=function(){var y,b,x=$(D,"brushstart","brush","brushend"),_=null,w=null,S=[0,0],C=[0,0],k=!0,T=!0,a=ks[0];function D(t){t.each(function(){var t=O.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",s).on("touchstart.brush",s),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var i=t.selectAll(".resize").data(a,F);i.exit().remove(),i.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Cs[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),i.style("display",D.empty()?"none":null);var n,r=O.transition(t),o=O.transition(e);_&&(n=ha(_),o.attr("x",n[0]).attr("width",n[1]-n[0]),M(r)),w&&(n=ha(w),o.attr("y",n[0]).attr("height",n[1]-n[0]),E(r)),A(r)})}function A(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+S[+/e$/.test(t)]+","+C[+/^s/.test(t)]+")"})}function M(t){t.select(".extent").attr("x",S[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",S[1]-S[0])}function E(t){t.select(".extent").attr("y",C[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",C[1]-C[0])}function s(){var u,i,n=this,t=O.select(O.event.target),r=x.of(n,arguments),o=O.select(n),e=t.datum(),a=!/^(n|s)$/.test(e)&&_,s=!/^(e|w)$/.test(e)&&w,d=t.classed("extent"),l=yt(n),p=O.mouse(n),h=O.select(R(n)).on("keydown.brush",function(){32==O.event.keyCode&&(d||(u=null,p[0]-=S[1],p[1]-=C[1],d=2),N())}).on("keyup.brush",function(){32==O.event.keyCode&&2==d&&(p[0]+=S[1],p[1]+=C[1],d=0,N())});if(O.event.changedTouches?h.on("touchmove.brush",g).on("touchend.brush",v):h.on("mousemove.brush",g).on("mouseup.brush",v),o.interrupt().selectAll("*").interrupt(),d)p[0]=S[0]-p[0],p[1]=C[0]-p[1];else if(e){var c=+/w$/.test(e),f=+/^n/.test(e);i=[S[1-c]-p[0],C[1-f]-p[1]],p[0]=S[c],p[1]=C[f]}else O.event.altKey&&(u=p.slice());function g(){var t=O.mouse(n),e=!1;i&&(t[0]+=i[0],t[1]+=i[1]),d||(O.event.altKey?(u||(u=[(S[0]+S[1])/2,(C[0]+C[1])/2]),p[0]=S[+(t[0]<u[0])],p[1]=C[+(t[1]<u[1])]):u=null),a&&m(t,_,0)&&(M(o),e=!0),s&&m(t,w,1)&&(E(o),e=!0),e&&(A(o),r({type:"brush",mode:d?"move":"resize"}))}function m(t,e,i){var n,r,o=ha(e),a=o[0],s=o[1],l=p[i],h=i?C:S,c=h[1]-h[0];if(d&&(a-=l,s-=c+l),n=(i?T:k)?Math.max(a,Math.min(s,t[i])):t[i],d?r=(n+=l)+c:(u&&(l=Math.max(a,Math.min(s,2*u[i]-n))),l<n?(r=n,n=l):r=l),h[0]!=n||h[1]!=r)return i?b=null:y=null,h[0]=n,h[1]=r,!0}function v(){g(),o.style("pointer-events","all").selectAll(".resize").style("display",D.empty()?"none":null),O.select("body").style("cursor",null),h.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),l(),r({type:"brushend"})}o.style("pointer-events","none").selectAll(".resize").style("display",null),O.select("body").style("cursor",t.style("cursor")),r({type:"brushstart"}),g()}return D.event=function(t){t.each(function(){var n=x.of(this,arguments),r={x:S,y:C,i:y,j:b},t=this.__chart__||r;this.__chart__=r,ds?O.select(this).transition().each("start.brush",function(){y=t.i,b=t.j,S=t.x,C=t.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=Xr(S,r.x),i=Xr(C,r.y);return y=b=null,function(t){S=r.x=e(t),C=r.y=i(t),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=r.i,b=r.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},D.x=function(t){return arguments.length?(a=ks[!(_=t)<<1|!w],D):_},D.y=function(t){return arguments.length?(a=ks[!_<<1|!(w=t)],D):w},D.clamp=function(t){return arguments.length?(_&&w?(k=!!t[0],T=!!t[1]):_?k=!!t:w&&(T=!!t),D):_&&w?[k,T]:_?k:w?T:null},D.extent=function(t){var e,i,n,r,o;return arguments.length?(_&&(e=t[0],i=t[1],w&&(e=e[0],i=i[0]),y=[e,i],_.invert&&(e=_(e),i=_(i)),i<e&&(o=e,e=i,i=o),e==S[0]&&i==S[1]||(S=[e,i])),w&&(n=t[0],r=t[1],_&&(n=n[1],r=r[1]),b=[n,r],w.invert&&(n=w(n),r=w(r)),r<n&&(o=n,n=r,r=o),n==C[0]&&r==C[1]||(C=[n,r])),D):(_&&(y?(e=y[0],i=y[1]):(e=S[0],i=S[1],_.invert&&(e=_.invert(e),i=_.invert(i)),i<e&&(o=e,e=i,i=o))),w&&(b?(n=b[0],r=b[1]):(n=C[0],r=C[1],w.invert&&(n=w.invert(n),r=w.invert(r)),r<n&&(o=n,n=r,r=o))),_&&w?[[e,n],[i,r]]:_?[e,i]:w&&[n,r])},D.clear=function(){return D.empty()||(S=[0,0],C=[0,0],y=b=null),D},D.empty=function(){return!!_&&S[0]==S[1]||!!w&&C[0]==C[1]},O.rebind(D,x,"on")};var Cs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ks=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ts=Le.format=ai.timeFormat,Ds=Ts.utc,As=Ds("%Y-%m-%dT%H:%M:%S.%LZ");function Ms(t){return t.toISOString()}function Es(e,r,t){function a(t){return e(t)}function s(t,e){var i=(t[1]-t[0])/e,n=O.bisect(Ls,i);return n==Ls.length?[r.year,va(t.map(function(t){return t/31536e6}),e)[2]]:n?r[i/Ls[n-1]<Ls[n]/i?n-1:n]:[Rs,va(t,e)[2]]}return a.invert=function(t){return Ps(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain(t),a):e.domain().map(Ps)},a.nice=function(e,i){var t=a.domain(),n=la(t),r=null==e?s(n,10):"number"==typeof e&&s(n,e);function o(t){return!isNaN(t)&&!e.range(t,Ps(+t+1),i).length}return r&&(e=r[0],i=r[1]),a.domain(ua(t,1<i?{floor:function(t){for(;o(t=e.floor(t));)t=Ps(t-1);return t},ceil:function(t){for(;o(t=e.ceil(t));)t=Ps(+t+1);return t}}:e))},a.ticks=function(t,e){var i=la(a.domain()),n=null==t?s(i,10):"number"==typeof t?s(i,t):!t.range&&[{range:t},e];return n&&(t=n[0],e=n[1]),t.range(i[0],Ps(+i[1]+1),e<1?1:e)},a.tickFormat=function(){return t},a.copy=function(){return Es(e.copy(),r,t)},ga(a,e)}function Ps(t){return new Date(t)}Ts.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ms:As,Ms.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ms.toString=As.toString,Le.second=Fe(function(t){return new Ie(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Le.seconds=Le.second.range,Le.seconds.utc=Le.second.utc.range,Le.minute=Fe(function(t){return new Ie(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Le.minutes=Le.minute.range,Le.minutes.utc=Le.minute.utc.range,Le.hour=Fe(function(t){var e=t.getTimezoneOffset()/60;return new Ie(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Le.hours=Le.hour.range,Le.hours.utc=Le.hour.utc.range,Le.month=Fe(function(t){return(t=Le.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Le.months=Le.month.range,Le.months.utc=Le.month.utc.range;var Ls=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Is=[[Le.second,1],[Le.second,5],[Le.second,15],[Le.second,30],[Le.minute,1],[Le.minute,5],[Le.minute,15],[Le.minute,30],[Le.hour,1],[Le.hour,3],[Le.hour,6],[Le.hour,12],[Le.day,1],[Le.day,2],[Le.week,1],[Le.month,1],[Le.month,3],[Le.year,1]],Os=Ts.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Yi]]),Rs={range:function(t,e,i){return O.range(Math.ceil(t/i)*i,+e,i).map(Ps)},floor:F,ceil:F};Is.year=Le.year,Le.scale=function(){return Es(O.scale.linear(),Is,Os)};var Fs=Is.map(function(t){return[t[0].utc,t[1]]}),Ns=Ds.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Yi]]);function zs(t){return JSON.parse(t.responseText)}function $s(t){var e=b.createRange();return e.selectNode(b.body),e.createContextualFragment(t.responseText)}Fs.year=Le.year.utc,Le.scale.utc=function(){return Es(O.scale.linear(),Fs,Ns)},O.text=me(function(t){return t.responseText}),O.json=function(t,e){return ve(t,"application/json",zs,e)},O.html=function(t,e){return ve(t,"text/html",$s,e)},O.xml=me(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=O,define(O)):"object"==typeof module&&module.exports?module.exports=O:this.d3=O}(),function(){var m,w,t,e,s=[].slice,c=function(t,e){return function(){return t.apply(e,arguments)}},r={}.hasOwnProperty,o=function(t,e){for(var i in e)r.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};w=window.Morris={},m=jQuery,w.EventEmitter=function(){function t(){}return t.prototype.on=function(t,e){return null==this.handlers&&(this.handlers={}),null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this},t.prototype.fire=function(){var t,e,i,n,r,o,a;if(i=arguments[0],t=2<=arguments.length?s.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[i]){for(a=[],n=0,r=(o=this.handlers[i]).length;n<r;n++)e=o[n],a.push(e.apply(null,t));return a}},t}(),w.commas=function(t){var e,i,n,r;return null!=t?(n=t<0?"-":"",e=Math.abs(t),n+=(i=Math.floor(e).toFixed(0)).replace(/(?=(?:\d{3})+$)(?!^)/g,","),(r=e.toString()).length>i.length&&(n+=r.slice(i.length)),n):"-"},w.pad2=function(t){return(t<10?"0":"")+t},w.Grid=function(t){function e(t){this.resizeHandler=c(this.resizeHandler,this);var o=this;if("string"==typeof t.element?this.el=m(document.getElementById(t.element)):this.el=m(t.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=m.extend({},this.gridDefaults,this.defaults||{},t),"string"==typeof this.options.units&&(this.options.postUnits=t.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(t){var e,i,n,r;return i=o.el.offset(),r=t.pageX-i.left,o.selectFrom?(e=o.data[o.hitTest(Math.min(r,o.selectFrom))]._x,n=o.data[o.hitTest(Math.max(r,o.selectFrom))]._x-e,o.selectionRect.attr({x:e,width:n})):o.fire("hovermove",r,t.pageY-i.top)}),this.el.bind("mouseleave",function(t){return o.selectFrom&&(o.selectionRect.hide(),o.selectFrom=null),o.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(t){var e,i;return i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],e=o.el.offset(),o.fire("hovermove",i.pageX-e.left,i.pageY-e.top)}),this.el.bind("click",function(t){var e;return e=o.el.offset(),o.fire("gridclick",t.pageX-e.left,t.pageY-e.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(t){var e;return e=o.el.offset(),o.startRange(t.pageX-e.left)}),this.el.bind("mouseup",function(t){var e;return e=o.el.offset(),o.endRange(t.pageX-e.left),o.fire("hovermove",t.pageX-e.left,t.pageY-e.top)})),this.options.resize&&m(window).bind("resize",function(t){return null!=o.timeoutId&&window.clearTimeout(o.timeoutId),o.timeoutId=window.setTimeout(o.resizeHandler,100)}),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return o(e,t),e.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},e.prototype.setData=function(n,t){var r,o,a,e,i,s,l,h,c,u,d,p,f,g,m;return null==t&&(t=!0),null==(this.options.data=n)||0===n.length?(this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide())):(p=this.cumulative?0:null,f=this.cumulative?0:null,0<this.options.goals.length&&(i=Math.min.apply(Math,this.options.goals),e=Math.max.apply(Math,this.options.goals),f=null!=f?Math.min(f,i):i,p=null!=p?Math.max(p,e):e),this.data=function(){var t,e,i;for(i=[],a=t=0,e=n.length;t<e;a=++t)l=n[a],(s={src:l}).label=l[this.options.xkey],this.options.parseTime?(s.x=w.parseDate(s.label),this.options.dateFormat?s.label=this.options.dateFormat(s.x):"number"==typeof s.label&&(s.label=new Date(s.label).toString())):(s.x=a,this.options.xLabelFormat&&(s.label=this.options.xLabelFormat(s))),c=0,s.y=function(){var t,e,i,n;for(i=this.options.ykeys,n=[],o=t=0,e=i.length;t<e;o=++t)d=i[o],"string"==typeof(g=l[d])&&(g=parseFloat(g)),null!=g&&"number"!=typeof g&&(g=null),null!=g&&(this.cumulative?c+=g:null!=p?(p=Math.max(g,p),f=Math.min(g,f)):p=f=g),this.cumulative&&null!=c&&(p=Math.max(c,p),f=Math.min(c,f)),n.push(g);return n}.call(this),i.push(s);return i}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(t,e){return(t.x>e.x)-(e.x>t.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],0<this.options.events.length&&(this.options.parseTime?this.events=function(){var t,e,i,n;for(n=[],t=0,e=(i=this.options.events).length;t<e;t++)r=i[t],n.push(w.parseDate(r));return n}.call(this):this.events=this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",f),this.ymax=this.yboundary("max",p),this.ymin===this.ymax&&(f&&(this.ymin-=1),this.ymax+=1),!0!==(m=this.options.axes)&&"both"!==m&&"y"!==m&&!0!==this.options.grid||(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(h=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var t,e,i;for(i=[],u=t=this.ymin,e=this.ymax;0<h?t<=e:e<=t;u=t+=h)i.push(u);return i}.call(this))),this.dirty=!0,t?this.redraw():void 0)},e.prototype.yboundary=function(t,e){var i,n;return"string"==typeof(i=this.options["y"+t])?"auto"===i.slice(0,4)?5<i.length?(n=parseInt(i.slice(5),10),null==e?n:Math[t](e,n)):null!=e?e:0:parseInt(i,10):i},e.prototype.autoGridLines=function(t,e,i){var n,r,o,a,s,l,h,c,u;return s=e-t,u=Math.floor(Math.log(s)/Math.log(10)),h=Math.pow(10,u),r=Math.floor(t/h)*h,n=Math.ceil(e/h)*h,l=(n-r)/(i-1),1===h&&1<l&&Math.ceil(l)!==l&&(l=Math.ceil(l),n=r+l*(i-1)),r<0&&0<n&&(r=Math.floor(t/l)*l,n=Math.ceil(e/l)*l),l<1?(a=Math.floor(Math.log(l)/Math.log(10)),o=function(){var t,e;for(e=[],c=t=r;0<l?t<=n:n<=t;c=t+=l)e.push(parseFloat(c.toFixed(1-a)));return e}()):o=function(){var t,e;for(e=[],c=t=r;0<l?t<=n:n<=t;c=t+=l)e.push(c);return e}(),o},e.prototype._calc=function(){var t,r,e,n,i,o,a,s;if(i=this.el.width(),e=this.el.height(),(this.elementWidth!==i||this.elementHeight!==e||this.dirty)&&(this.elementWidth=i,this.elementHeight=e,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,!0!==(a=this.options.axes)&&"both"!==a&&"y"!==a||(o=function(){var t,e,i,n;for(n=[],t=0,e=(i=this.grid).length;t<e;t++)r=i[t],n.push(this.measureText(this.yAxisFormat(r)).width);return n}.call(this),this.left+=Math.max.apply(Math,o)),!0!==(s=this.options.axes)&&"both"!==s&&"x"!==s||(t=function(){var t,e,i;for(i=[],n=t=0,e=this.data.length;0<=e?t<e:e<t;n=0<=e?++t:--t)i.push(this.measureText(this.data[n].text,-this.options.xLabelAngle).height);return i}.call(this),this.bottom-=Math.max.apply(Math,t)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc))return this.calc()},e.prototype.transY=function(t){return this.bottom-(t-this.ymin)*this.dy},e.prototype.transX=function(t){return 1===this.data.length?(this.left+this.right)/2:this.left+(t-this.xmin)*this.dx},e.prototype.redraw=function(){if(this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw)return this.draw()},e.prototype.measureText=function(t,e){var i,n;return null==e&&(e=0),i=(n=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e)).getBBox(),n.remove(),i},e.prototype.yAxisFormat=function(t){return this.yLabelFormat(t)},e.prototype.yLabelFormat=function(t){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(t):""+this.options.preUnits+w.commas(t)+this.options.postUnits},e.prototype.drawGrid=function(){var t,e,i,n,r,o,a,s;if(!1!==this.options.grid||!0===(r=this.options.axes)||"both"===r||"y"===r){for(s=[],i=0,n=(o=this.grid).length;i<n;i++)t=o[i],e=this.transY(t),!0!==(a=this.options.axes)&&"both"!==a&&"y"!==a||this.drawYAxisLabel(this.left-this.options.padding/2,e,this.yAxisFormat(t)),this.options.grid?s.push(this.drawGridLine("M"+this.left+","+e+"H"+(this.left+this.width))):s.push(void 0);return s}},e.prototype.drawGoals=function(){var t,e,i,n,r,o,a;for(a=[],i=n=0,r=(o=this.options.goals).length;n<r;i=++n)e=o[i],t=this.options.goalLineColors[i%this.options.goalLineColors.length],a.push(this.drawGoal(e,t));return a},e.prototype.drawEvents=function(){var t,e,i,n,r,o,a;for(a=[],i=n=0,r=(o=this.events).length;n<r;i=++n)e=o[i],t=this.options.eventLineColors[i%this.options.eventLineColors.length],a.push(this.drawEvent(e,t));return a},e.prototype.drawGoal=function(t,e){return this.raphael.path("M"+this.left+","+this.transY(t)+"H"+this.right).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)},e.prototype.drawEvent=function(t,e){return this.raphael.path("M"+this.transX(t)+","+this.bottom+"V"+this.top).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth)},e.prototype.drawYAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},e.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},e.prototype.startRange=function(t){return this.hover.hide(),this.selectFrom=t,this.selectionRect.attr({x:t,width:0}).show()},e.prototype.endRange=function(t){var e,i;if(this.selectFrom)return i=Math.min(this.selectFrom,t),e=Math.max(this.selectFrom,t),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(i)].x,end:this.data[this.hitTest(e)].x}),this.selectFrom=null},e.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},e}(w.EventEmitter),w.parseDate=function(t){var e,i,n,r,o,a,s,l,h,c,u;return"number"==typeof t?t:(i=t.match(/^(\d+) Q(\d)$/),r=t.match(/^(\d+)-(\d+)$/),o=t.match(/^(\d+)-(\d+)-(\d+)$/),s=t.match(/^(\d+) W(\d+)$/),l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),h=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),i?new Date(parseInt(i[1],10),3*parseInt(i[2],10)-1,1).getTime():r?new Date(parseInt(r[1],10),parseInt(r[2],10)-1,1).getTime():o?new Date(parseInt(o[1],10),parseInt(o[2],10)-1,parseInt(o[3],10)).getTime():s?(4!==(c=new Date(parseInt(s[1],10),0,1)).getDay()&&c.setMonth(0,1+(4-c.getDay()+7)%7),c.getTime()+6048e5*parseInt(s[2],10)):l?l[6]?(a=0,"Z"!==l[6]&&(a=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(a=0-a)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+a)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():h?(u=parseFloat(h[6]),e=Math.floor(u),n=Math.round(1e3*(u-e)),h[8]?(a=0,"Z"!==h[8]&&(a=60*parseInt(h[10],10)+parseInt(h[11],10),"+"===h[9]&&(a=0-a)),Date.UTC(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10)+a,e,n)):new Date(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10),e,n).getTime()):new Date(parseInt(t,10),0,1).getTime())},w.Hover=function(){function t(t){null==t&&(t={}),this.options=m.extend({},w.Hover.defaults,t),this.el=m("<div class='"+this.options.class+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return t.defaults={class:"morris-hover morris-default-style"},t.prototype.update=function(t,e,i){return t?(this.html(t),this.show(),this.moveTo(e,i)):this.hide()},t.prototype.html=function(t){return this.el.html(t)},t.prototype.moveTo=function(t,e){var i,n,r,o,a,s;return a=this.options.parent.innerWidth(),o=this.options.parent.innerHeight(),n=this.el.outerWidth(),i=this.el.outerHeight(),r=Math.min(Math.max(0,t-n/2),a-n),null!=e?(s=e-i-10)<0&&o<(s=e+10)+i&&(s=o/2-i/2):s=o/2-i/2,this.el.css({left:r+"px",top:parseInt(s)+"px"})},t.prototype.show=function(){return this.el.show()},t.prototype.hide=function(){return this.el.hide()},t}(),w.Line=function(t){function e(t){if(this.hilight=c(this.hilight,this),this.onHoverOut=c(this.onHoverOut,this),this.onHoverMove=c(this.onHoverMove,this),this.onGridClick=c(this.onGridClick,this),!(this instanceof w.Line))return new w.Line(t);e.__super__.constructor.call(this,t)}return o(e,t),e.prototype.init=function(){if("always"!==this.options.hideHover)return this.hover=new w.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},e.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1},e.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},e.prototype.calcPoints=function(){var r,o,t,e,i,n;for(n=[],t=0,e=(i=this.data).length;t<e;t++)(r=i[t])._x=this.transX(r.x),r._y=function(){var t,e,i,n;for(n=[],t=0,e=(i=r.y).length;t<e;t++)null!=(o=i[t])?n.push(this.transY(o)):n.push(o);return n}.call(this),n.push(r._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var t,e,i,n;for(n=[],t=0,e=(i=r._y).length;t<e;t++)null!=(o=i[t])&&n.push(o);return n}())));return n},e.prototype.hitTest=function(t){var e,i,n,r;if(0===this.data.length)return null;for(e=i=0,n=(r=this.data.slice(1)).length;i<n&&!(t<(r[e]._x+this.data[e]._x)/2);e=++i);return e},e.prototype.onGridClick=function(t,e){var i;return i=this.hitTest(t),this.fire("click",i,this.data[i].src,t,e)},e.prototype.onHoverMove=function(t,e){var i;return i=this.hitTest(t),this.displayHoverForRow(i)},e.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.displayHoverForRow(null)},e.prototype.displayHoverForRow=function(t){var e;return null!=t?((e=this.hover).update.apply(e,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},e.prototype.hoverContentForRow=function(t){var e,i,n,r,o,a,s;for(e="<div class='morris-hover-row-label'>"+(n=this.data[t]).label+"</div>",i=o=0,a=(s=n.y).length;o<a;i=++o)r=s[i],e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(r)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,n.src)),[e,n._x,n._ymax]},e.prototype.generatePaths=function(){var r,o,a,s;return this.paths=function(){var t,e,i,n;for(n=[],o=t=0,e=this.options.ykeys.length;0<=e?t<e:e<t;o=0<=e?++t:--t)s="boolean"==typeof this.options.smooth?this.options.smooth:(i=this.options.ykeys[o],0<=l.call(this.options.smooth,i)),1<(r=function(){var t,e,i,n;for(n=[],t=0,e=(i=this.data).length;t<e;t++)void 0!==(a=i[t])._y[o]&&n.push({x:a._x,y:a._y[o]});return n}.call(this)).length?n.push(w.Line.createPath(r,s,this.bottom)):n.push(null);return n}.call(this)},e.prototype.draw=function(){var t;if(!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries(),!1===this.options.hideHover)return this.displayHoverForRow(this.data.length-1)},e.prototype.drawXAxis=function(){var t,e,i,s,l,r,h,n,o,a,c=this;for(h=this.bottom+this.options.padding/2,s=l=null,t=function(t,e){var i,n,r,o,a;return a=(i=c.drawXAxisLabel(c.transX(e),h,t)).getBBox(),i.transform("r"+-c.options.xLabelAngle),n=i.getBBox(),i.transform("t0,"+n.height/2+"..."),0!==c.options.xLabelAngle&&(o=-.5*a.width*Math.cos(c.options.xLabelAngle*Math.PI/180),i.transform("t"+o+",0...")),n=i.getBBox(),(null==l||l>=n.x+n.width||null!=s&&s>=n.x)&&0<=n.x&&n.x+n.width<c.el.width()?(0!==c.options.xLabelAngle&&(r=1.25*c.options.gridTextSize/Math.sin(c.options.xLabelAngle*Math.PI/180),s=n.x-r),l=n.x-c.options.xLabelMargin):i.remove()},(i=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:w.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var t,e,i,n;for(n=[],t=0,e=(i=this.data).length;t<e;t++)r=i[t],n.push([r.label,r.x]);return n}.call(this)).reverse(),a=[],n=0,o=i.length;n<o;n++)e=i[n],a.push(t(e[0],e[1]));return a},e.prototype.drawSeries=function(){var t,e,i,n,r,o;for(this.seriesPoints=[],t=e=n=this.options.ykeys.length-1;n<=0?e<=0:0<=e;t=n<=0?++e:--e)this._drawLineFor(t);for(o=[],t=i=r=this.options.ykeys.length-1;r<=0?i<=0:0<=i;t=r<=0?++i:--i)o.push(this._drawPointFor(t));return o},e.prototype._drawPointFor=function(t){var e,i,n,r,o,a;for(this.seriesPoints[t]=[],a=[],n=0,r=(o=this.data).length;n<r;n++)(e=null)!=(i=o[n])._y[t]&&(e=this.drawLinePoint(i._x,i._y[t],this.colorFor(i,t,"point"),t)),a.push(this.seriesPoints[t].push(e));return a},e.prototype._drawLineFor=function(t){var e;if(null!==(e=this.paths[t]))return this.drawLinePath(e,this.colorFor(null,t,"line"),t)},e.createPath=function(t,e,i){var n,r,o,a,s,l,h,c,u,d;for(h="",e&&(o=w.Line.gradients(t)),c={y:null},a=u=0,d=t.length;u<d;a=++u)null!=(n=t[a]).y&&(null!=c.y?e?(r=o[a],l=o[a-1],s=(n.x-c.x)/4,h+="C"+(c.x+s)+","+Math.min(i,c.y+s*l)+","+(n.x-s)+","+Math.min(i,n.y-s*r)+","+n.x+","+n.y):h+="L"+n.x+","+n.y:e&&null==o[a]||(h+="M"+n.x+","+n.y)),c=n;return h},e.gradients=function(t){var e,i,n,r,o,a,s,l;for(i=function(t,e){return(t.y-e.y)/(t.x-e.x)},l=[],n=a=0,s=t.length;a<s;n=++a)null!=(e=t[n]).y?(r=t[n+1]||{y:null},null!=(o=t[n-1]||{y:null}).y&&null!=r.y?l.push(i(o,r)):null!=o.y?l.push(i(o,e)):null!=r.y?l.push(i(e,r)):l.push(null)):l.push(null);return l},e.prototype.hilight=function(t){var e,i,n,r,o;if(null!==this.prevHilight&&this.prevHilight!==t)for(e=i=0,r=this.seriesPoints.length-1;0<=r?i<=r:r<=i;e=0<=r?++i:--i)this.seriesPoints[e][this.prevHilight]&&this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e));if(null!==t&&this.prevHilight!==t)for(e=n=0,o=this.seriesPoints.length-1;0<=o?n<=o:o<=n;e=0<=o?++n:--n)this.seriesPoints[e][t]&&this.seriesPoints[e][t].animate(this.pointGrowSeries(e));return this.prevHilight=t},e.prototype.colorFor=function(t,e,i){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,t,e,i):"point"===i&&this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]},e.prototype.drawXAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},e.prototype.drawLinePath=function(t,e,i){return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(i))},e.prototype.drawLinePoint=function(t,e,i,n){return this.raphael.circle(t,e,this.pointSizeForSeries(n)).attr("fill",i).attr("stroke-width",this.pointStrokeWidthForSeries(n)).attr("stroke",this.pointStrokeColorForSeries(n))},e.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]},e.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},e.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},e.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},e.prototype.pointGrowSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)+3},25,"linear")},e.prototype.pointShrinkSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)},25,"linear")},e}(w.Grid),w.labelSeries=function(t,e,i,n,r){var o,a,s,l,h,c,u,d,p,f,g;if(s=200*(e-t)/i,a=new Date(t),void 0===(u=w.LABEL_SPECS[n]))for(p=0,f=(g=w.AUTO_LABEL_ORDER).length;p<f;p++)if(l=g[p],s>=(c=w.LABEL_SPECS[l]).span){u=c;break}for(void 0===u&&(u=w.LABEL_SPECS.second),r&&(u=m.extend({},u,{fmt:r})),o=u.start(a),h=[];(d=o.getTime())<=e;)t<=d&&h.push([u.fmt(o),d]),u.incr(o);return h},t=function(e){return{span:60*e*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return w.pad2(t.getHours())+":"+w.pad2(t.getMinutes())},incr:function(t){return t.setUTCMinutes(t.getUTCMinutes()+e)}}},e=function(e){return{span:1e3*e,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return w.pad2(t.getHours())+":"+w.pad2(t.getMinutes())+":"+w.pad2(t.getSeconds())},incr:function(t){return t.setUTCSeconds(t.getUTCSeconds()+e)}}},w.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return t.getFullYear()+"-"+w.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},week:{span:6048e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+w.pad2(t.getMonth()+1)+"-"+w.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+7)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+w.pad2(t.getMonth()+1)+"-"+w.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:t(60),"30min":t(30),"15min":t(15),"10min":t(10),"5min":t(5),minute:t(1),"30sec":e(30),"15sec":e(15),"10sec":e(10),"5sec":e(5),second:e(1)},w.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],w.Area=function(t){var i;function n(t){var e;if(!(this instanceof w.Area))return new w.Area(t);e=m.extend({},i,t),this.cumulative=!e.behaveLikeLine,"auto"===e.fillOpacity&&(e.fillOpacity=e.behaveLikeLine?.8:1),n.__super__.constructor.call(this,e)}return o(n,t),i={fillOpacity:"auto",behaveLikeLine:!1},n.prototype.calcPoints=function(){var r,o,a,t,e,i,n;for(n=[],t=0,e=(i=this.data).length;t<e;t++)(r=i[t])._x=this.transX(r.x),o=0,r._y=function(){var t,e,i,n;for(n=[],t=0,e=(i=r.y).length;t<e;t++)a=i[t],this.options.behaveLikeLine?n.push(this.transY(a)):(o+=a||0,n.push(this.transY(o)));return n}.call(this),n.push(r._ymax=Math.max.apply(Math,r._y));return n},n.prototype.drawSeries=function(){var t,e,i,n,r,o,a,s;for(this.seriesPoints=[],s=[],i=0,n=(e=this.options.behaveLikeLine?function(){o=[];for(var t=0,e=this.options.ykeys.length-1;0<=e?t<=e:e<=t;0<=e?t++:t--)o.push(t);return o}.apply(this):function(){a=[];for(var t=r=this.options.ykeys.length-1;r<=0?t<=0:0<=t;r<=0?t++:t--)a.push(t);return a}.apply(this)).length;i<n;i++)t=e[i],this._drawFillFor(t),this._drawLineFor(t),s.push(this._drawPointFor(t));return s},n.prototype._drawFillFor=function(t){var e;if(null!==(e=this.paths[t]))return e=e+"L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(e,this.fillForSeries(t))},n.prototype.fillForSeries=function(t){var e;return e=Raphael.rgb2hsl(this.colorFor(this.data[t],t,"line")),Raphael.hsl(e.h,this.options.behaveLikeLine?.9*e.s:.75*e.s,Math.min(.98,this.options.behaveLikeLine?1.2*e.l:1.25*e.l))},n.prototype.drawFilledPath=function(t,e){return this.raphael.path(t).attr("fill",e).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},n}(w.Line),w.Bar=function(t){function e(t){if(this.onHoverOut=c(this.onHoverOut,this),this.onHoverMove=c(this.onHoverMove,this),this.onGridClick=c(this.onGridClick,this),!(this instanceof w.Bar))return new w.Bar(t);e.__super__.constructor.call(this,m.extend({},t,{parseTime:!1}))}return o(e,t),e.prototype.init=function(){if(this.cumulative=this.options.stacked,"always"!==this.options.hideHover)return this.hover=new w.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},e.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},e.prototype.calc=function(){var t;if(this.calcBars(),!1===this.options.hideHover)return(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1))},e.prototype.calcBars=function(){var t,r,o,e,i,n,a;for(a=[],t=e=0,i=(n=this.data).length;e<i;t=++e)(r=n[t])._x=this.left+this.width*(t+.5)/this.data.length,a.push(r._y=function(){var t,e,i,n;for(n=[],t=0,e=(i=r.y).length;t<e;t++)null!=(o=i[t])?n.push(this.transY(o)):n.push(null);return n}.call(this));return a},e.prototype.draw=function(){var t;return!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries()},e.prototype.drawXAxis=function(){var t,e,i,n,r,o,a,s,l,h,c,u,d;for(h=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),o=a=null,d=[],t=c=0,u=this.data.length;0<=u?c<u:u<c;t=0<=u?++c:--c)s=this.data[this.data.length-1-t],l=(e=this.drawXAxisLabel(s._x,h,s.label)).getBBox(),e.transform("r"+-this.options.xLabelAngle),i=e.getBBox(),e.transform("t0,"+i.height/2+"..."),0!==this.options.xLabelAngle&&(r=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),e.transform("t"+r+",0...")),(null==a||a>=i.x+i.width||null!=o&&o>=i.x)&&0<=i.x&&i.x+i.width<this.el.width()?(0!==this.options.xLabelAngle&&(n=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),o=i.x-n),d.push(a=i.x-this.options.xLabelMargin)):d.push(e.remove());return d},e.prototype.drawSeries=function(){var r,o,a,s,l,h,c,t,u,d,p,e,f,g,m;return a=this.width/this.options.data.length,t=this.options.stacked?1:this.options.ykeys.length,r=(a*this.options.barSizeRatio-this.options.barGap*(t-1))/t,this.options.barSize&&(r=Math.min(r,this.options.barSize)),e=a-r*t-this.options.barGap*(t-1),c=e/2,m=this.ymin<=0&&0<=this.ymax?this.transY(0):null,this.bars=function(){var t,e,i,n;for(i=this.data,n=[],s=t=0,e=i.length;t<e;s=++t)u=i[s],l=0,n.push(function(){var t,e,i,n;for(i=u._y,n=[],d=t=0,e=i.length;t<e;d=++t)null!==(g=i[d])?(m?(f=Math.min(g,m),o=Math.max(g,m)):(f=g,o=this.bottom),h=this.left+s*a+c,this.options.stacked||(h+=d*(r+this.options.barGap)),p=o-f,this.options.verticalGridCondition&&this.options.verticalGridCondition(u.x)&&this.drawBar(this.left+s*a,this.top,a,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius),this.options.stacked&&(f-=l),this.drawBar(h,f,r,p,this.colorFor(u,d,"bar"),this.options.barOpacity,this.options.barRadius),n.push(l+=p)):n.push(null);return n}.call(this));return n}.call(this)},e.prototype.colorFor=function(t,e,i){var n,r;return"function"==typeof this.options.barColors?(n={x:t.x,y:t.y[e],label:t.label},r={index:e,key:this.options.ykeys[e],label:this.options.labels[e]},this.options.barColors.call(this,n,r,i)):this.options.barColors[e%this.options.barColors.length]},e.prototype.hitTest=function(t){return 0===this.data.length?null:(t=Math.max(Math.min(t,this.right),this.left),Math.min(this.data.length-1,Math.floor((t-this.left)/(this.width/this.data.length))))},e.prototype.onGridClick=function(t,e){var i;return i=this.hitTest(t),this.fire("click",i,this.data[i].src,t,e)},e.prototype.onHoverMove=function(t,e){var i,n;return i=this.hitTest(t),(n=this.hover).update.apply(n,this.hoverContentForRow(i))},e.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.hover.hide()},e.prototype.hoverContentForRow=function(t){var e,i,n,r,o,a,s;for(e="<div class='morris-hover-row-label'>"+(n=this.data[t]).label+"</div>",i=o=0,a=(s=n.y).length;o<a;i=++o)r=s[i],e+="<div class='morris-hover-point' style='color: "+this.colorFor(n,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(r)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,n.src)),[e,this.left+(t+.5)*this.width/this.data.length]},e.prototype.drawXAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},e.prototype.drawBar=function(t,e,i,n,r,o,a){var s;return(0===(s=Math.max.apply(Math,a))||n<s?this.raphael.rect(t,e,i,n):this.raphael.path(this.roundedRect(t,e,i,n,a))).attr("fill",r).attr("fill-opacity",o).attr("stroke","none")},e.prototype.roundedRect=function(t,e,i,n,r){return null==r&&(r=[0,0,0,0]),["M",t,r[0]+e,"Q",t,e,t+r[0],e,"L",t+i-r[1],e,"Q",t+i,e,t+i,e+r[1],"L",t+i,e+n-r[2],"Q",t+i,e+n,t+i-r[2],e+n,"L",t+r[3],e+n,"Q",t,e+n,t,e+n-r[3],"Z"]},e}(w.Grid),w.Donut=function(t){function e(t){this.resizeHandler=c(this.resizeHandler,this),this.select=c(this.select,this),this.click=c(this.click,this);var e=this;if(!(this instanceof w.Donut))return new w.Donut(t);if(this.options=m.extend({},this.defaults,t),"string"==typeof t.element?this.el=m(document.getElementById(t.element)):this.el=m(t.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==t.data&&0!==t.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&m(window).bind("resize",function(t){return null!=e.timeoutId&&window.clearTimeout(e.timeoutId),e.timeoutId=window.setTimeout(e.resizeHandler,100)}),this.setData(t.data))}return o(e,t),e.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:w.commas,resize:!1},e.prototype.redraw=function(){var t,e,i,n,r,o,a,s,l,h,c,u,d,p,f,g,m,v,y,b,x,_;for(this.raphael.clear(),e=this.el.width()/2,i=this.el.height()/2,u=(Math.min(e,i)-10)/3,d=c=0,g=(y=this.values).length;d<g;d++)c+=y[d];for(s=5/(2*u),t=1.9999*Math.PI-s*this.data.length,r=o=0,this.segments=[],n=p=0,m=(b=this.values).length;p<m;n=++p)l=o+s+t*(b[n]/c),(h=new w.DonutSegment(e,i,2*u,u,o,l,this.data[n].color||this.options.colors[r%this.options.colors.length],this.options.backgroundColor,r,this.raphael)).render(),this.segments.push(h),h.on("hover",this.select),h.on("click",this.click),o=l,r+=1;for(this.text1=this.drawEmptyDonutLabel(e,i-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(e,i+10,this.options.labelColor,14),a=Math.max.apply(Math,this.values),_=[],f=r=0,v=(x=this.values).length;f<v;f++){if(x[f]===a){this.select(r);break}_.push(r+=1)}return _},e.prototype.setData=function(t){var r;return this.data=t,this.values=function(){var t,e,i,n;for(n=[],t=0,e=(i=this.data).length;t<e;t++)r=i[t],n.push(parseFloat(r.value));return n}.call(this),this.redraw()},e.prototype.click=function(t){return this.fire("click",t,this.data[t])},e.prototype.select=function(t){var e,i,n,r;for(i=0,n=(r=this.segments).length;i<n;i++)r[i].deselect();return this.segments[t].select(),e=this.data[t],this.setLabels(e.label,this.options.formatter(e.value,e))},e.prototype.setLabels=function(t,e){var i,n,r,o,a,s,l,h;return o=1.8*(i=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3),r=i/2,n=i/3,this.text1.attr({text:t,transform:""}),a=this.text1.getBBox(),s=Math.min(o/a.width,r/a.height),this.text1.attr({transform:"S"+s+","+s+","+(a.x+a.width/2)+","+(a.y+a.height)}),this.text2.attr({text:e,transform:""}),l=this.text2.getBBox(),h=Math.min(o/l.width,n/l.height),this.text2.attr({transform:"S"+h+","+h+","+(l.x+l.width/2)+","+l.y})},e.prototype.drawEmptyDonutLabel=function(t,e,i,n,r){var o;return o=this.raphael.text(t,e,"").attr("font-size",n).attr("fill",i),null!=r&&o.attr("font-weight",r),o},e.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},e}(w.EventEmitter),w.DonutSegment=function(t){function e(t,e,i,n,r,o,a,s,l,h){this.cx=t,this.cy=e,this.inner=i,this.outer=n,this.color=a,this.backgroundColor=s,this.index=l,this.raphael=h,this.deselect=c(this.deselect,this),this.select=c(this.select,this),this.sin_p0=Math.sin(r),this.cos_p0=Math.cos(r),this.sin_p1=Math.sin(o),this.cos_p1=Math.cos(o),this.is_long=o-r>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return o(e,t),e.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},e.prototype.calcSegment=function(t,e){var i,n,r,o,a,s,l,h,c,u;return i=(c=this.calcArcPoints(t))[0],r=c[1],n=c[2],o=c[3],a=(u=this.calcArcPoints(e))[0],l=u[1],s=u[2],h=u[3],"M"+i+","+r+"A"+t+","+t+",0,"+this.is_long+",0,"+n+","+o+"L"+s+","+h+"A"+e+","+e+",0,"+this.is_long+",1,"+a+","+l+"Z"},e.prototype.calcArc=function(t){var e,i,n,r,o;return e=(o=this.calcArcPoints(t))[0],n=o[1],i=o[2],r=o[3],"M"+e+","+n+"A"+t+","+t+",0,"+this.is_long+",0,"+i+","+r},e.prototype.render=function(){var t=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)})},e.prototype.drawDonutArc=function(t,e){return this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})},e.prototype.drawDonutSegment=function(t,e,i,n,r){return this.raphael.path(t).attr({fill:e,stroke:i,"stroke-width":3}).hover(n).click(r)},e.prototype.select=function(){if(!this.selected)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},e.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},e}(w.EventEmitter)}.call(this),function(o){o.color={},o.color.make=function(t,e,i,n){var r={};return r.r=t||0,r.g=e||0,r.b=i||0,r.a=null!=n?n:1,r.add=function(t,e){for(var i=0;i<t.length;++i)r[t.charAt(i)]+=e;return r.normalize()},r.scale=function(t,e){for(var i=0;i<t.length;++i)r[t.charAt(i)]*=e;return r.normalize()},r.toString=function(){return 1<=r.a?"rgb("+[r.r,r.g,r.b].join(",")+")":"rgba("+[r.r,r.g,r.b,r.a].join(",")+")"},r.normalize=function(){function t(t,e,i){return e<t?t:i<e?i:e}return r.r=t(0,parseInt(r.r),255),r.g=t(0,parseInt(r.g),255),r.b=t(0,parseInt(r.b),255),r.a=t(0,r.a,1),r},r.clone=function(){return o.color.make(r.r,r.b,r.g,r.a)},r.normalize()},o.color.extract=function(t,e){var i;do{if(""!=(i=t.css(e).toLowerCase())&&"transparent"!=i)break;t=t.parent()}while(t.length&&!o.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==i&&(i="transparent"),o.color.parse(i)},o.color.parse=function(t){var e,i=o.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))return i(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10));if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return i(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]));if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))return i(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]));if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return i(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]),parseFloat(e[4]));if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))return i(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16));if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))return i(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16));var n=o.trim(t).toLowerCase();return"transparent"==n?i(255,255,255,0):i((e=r[n]||[0,0,0])[0],e[1],e[2])};var r={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(G){var p=Object.prototype.hasOwnProperty;function q(t,e){var i=e.children("."+t)[0];if(null==i&&((i=document.createElement("canvas")).className=t,G(i).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(e),!i.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");i=window.G_vmlCanvasManager.initElement(i)}this.element=i;var n=this.context=i.getContext("2d"),r=window.devicePixelRatio||1,o=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;this.pixelRatio=r/o,this.resize(e.width(),e.height()),this.textContainer=null,this.text={},this._textCache={}}function n(m,t,e,n){var k=[],T={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},p=null,i=null,c=null,_=null,h=null,f=[],g=[],w={left:0,right:0,top:0,bottom:0},S=0,C=0,D={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},A=this;function M(t,e){e=[A].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function r(t){k=function(t){for(var e=[],i=0;i<t.length;++i){var n=G.extend(!0,{},T.series);null!=t[i].data?(n.data=t[i].data,delete t[i].data,G.extend(!0,n,t[i]),t[i].data=n.data):n.data=t[i],e.push(n)}return e}(t),function(){var t,e=k.length,i=-1;for(t=0;t<k.length;++t){var n=k[t].color;null!=n&&(e--,"number"==typeof n&&i<n&&(i=n))}e<=i&&(e=i+1);var r,o=[],a=T.colors,s=a.length,l=0;for(t=0;t<e;t++)r=G.color.parse(a[t%s]||"#666"),t%s==0&&t&&(l=0<=l?l<.5?-l-.2:0:-l),o[t]=r.scale("rgb",1+l);var h,c=0;for(t=0;t<k.length;++t){if(null==(h=k[t]).color?(h.color=o[c].toString(),++c):"number"==typeof h.color&&(h.color=o[h.color].toString()),null==h.lines.show){var u,d=!0;for(u in h)if(h[u]&&h[u].show){d=!1;break}d&&(h.lines.show=!0)}null==h.lines.zero&&(h.lines.zero=!!h.lines.fill),h.xaxis=y(f,v(h,"x")),h.yaxis=y(g,v(h,"y"))}}(),function(){var t,e,i,n,r,o,a,s,l,h,c,u,d=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,f=Number.MAX_VALUE;function g(t,e,i){e<t.datamin&&e!=-f&&(t.datamin=e),i>t.datamax&&i!=f&&(t.datamax=i)}for(G.each(E(),function(t,e){e.datamin=d,e.datamax=p,e.used=!1}),t=0;t<k.length;++t)(r=k[t]).datapoints={points:[]},M(D.processRawData,[r,r.data,r.datapoints]);for(t=0;t<k.length;++t){if(r=k[t],c=r.data,!(u=r.datapoints.format)){if((u=[]).push({x:!0,number:!0,required:!0}),u.push({y:!0,number:!0,required:!0}),r.bars.show||r.lines.show&&r.lines.fill){var m=!!(r.bars.show&&r.bars.zero||r.lines.show&&r.lines.zero);u.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:m}),r.bars.horizontal&&(delete u[u.length-1].y,u[u.length-1].x=!0)}r.datapoints.format=u}if(null==r.datapoints.pointsize){r.datapoints.pointsize=u.length,a=r.datapoints.pointsize,o=r.datapoints.points;var v=r.lines.show&&r.lines.steps;for(r.xaxis.used=r.yaxis.used=!0,e=i=0;e<c.length;++e,i+=a){var y=null==(h=c[e]);if(!y)for(n=0;n<a;++n)s=h[n],(l=u[n])&&(l.number&&null!=s&&(s=+s,isNaN(s)?s=null:s==1/0?s=f:s==-1/0&&(s=-f)),null==s&&(l.required&&(y=!0),null!=l.defaultValue&&(s=l.defaultValue))),o[i+n]=s;if(y)for(n=0;n<a;++n)null!=(s=o[i+n])&&!1!==(l=u[n]).autoscale&&(l.x&&g(r.xaxis,s,s),l.y&&g(r.yaxis,s,s)),o[i+n]=null;else if(v&&0<i&&null!=o[i-a]&&o[i-a]!=o[i]&&o[i-a+1]!=o[i+1]){for(n=0;n<a;++n)o[i+a+n]=o[i+n];o[i+1]=o[i-a+1],i+=a}}}}for(t=0;t<k.length;++t)r=k[t],M(D.processDatapoints,[r,r.datapoints]);for(t=0;t<k.length;++t){r=k[t],o=r.datapoints.points,a=r.datapoints.pointsize,u=r.datapoints.format;var b=d,x=d,_=p,w=p;for(e=0;e<o.length;e+=a)if(null!=o[e])for(n=0;n<a;++n)s=o[e+n],(l=u[n])&&!1!==l.autoscale&&s!=f&&s!=-f&&(l.x&&(s<b&&(b=s),_<s&&(_=s)),l.y&&(s<x&&(x=s),w<s&&(w=s)));if(r.bars.show){var S;switch(r.bars.align){case"left":S=0;break;case"right":S=-r.bars.barWidth;break;default:S=-r.bars.barWidth/2}r.bars.horizontal?(x+=S,w+=S+r.bars.barWidth):(b+=S,_+=S+r.bars.barWidth)}g(r.xaxis,b,_),g(r.yaxis,x,w)}G.each(E(),function(t,e){e.datamin==d&&(e.datamin=null),e.datamax==p&&(e.datamax=null)})}()}function v(t,e){var i=t[e+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function E(){return G.grep(f.concat(g),function(t){return t})}function u(t){var e,i,n={};for(e=0;e<f.length;++e)(i=f[e])&&i.used&&(n["x"+i.n]=i.c2p(t.left));for(e=0;e<g.length;++e)(i=g[e])&&i.used&&(n["y"+i.n]=i.c2p(t.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function y(t,e){return t[e-1]||(t[e-1]={n:e,direction:t==f?"x":"y",options:G.extend(!0,{},t==f?T.xaxis:T.yaxis)}),t[e-1]}function o(){O&&clearTimeout(O),c.unbind("mousemove",R),c.unbind("mouseleave",F),c.unbind("click",N),M(D.shutdown,[c])}function a(i){var t=i.labelWidth,e=i.labelHeight,n=i.options.position,r="x"===i.direction,o=i.options.tickLength,a=T.grid.axisMargin,s=T.grid.labelMargin,l=!0,h=!0,c=!0,u=!1;G.each(r?f:g,function(t,e){e&&(e.show||e.reserveSpace)&&(e===i?u=!0:e.options.position===n&&(u?h=!1:l=!1),u||(c=!1))}),h&&(a=0),null==o&&(o=c?"full":5),isNaN(+o)||(s+=+o),r?(e+=s,"bottom"==n?(w.bottom+=e+a,i.box={top:p.height-w.bottom,height:e}):(i.box={top:w.top+a,height:e},w.top+=e+a)):(t+=s,"left"==n?(i.box={left:w.left+a,width:t},w.left+=t+a):(w.right+=t+a,i.box={left:p.width-w.right,width:t})),i.position=n,i.tickLength=o,i.box.padding=s,i.innermost=l}function s(){var t,e=E(),i=T.grid.show;for(var n in w){var r=T.grid.margin||0;w[n]="number"==typeof r?r:r[n]||0}for(var n in M(D.processOffset,[w]),w)"object"==typeof T.grid.borderWidth?w[n]+=i?T.grid.borderWidth[n]:0:w[n]+=i?T.grid.borderWidth:0;if(G.each(e,function(t,e){var i=e.options;e.show=null==i.show?e.used:i.show,e.reserveSpace=null==i.reserveSpace?e.show:i.reserveSpace,function(t){var e=t.options,i=+(null!=e.min?e.min:t.datamin),n=+(null!=e.max?e.max:t.datamax),r=n-i;if(0==r){var o=0==n?1:.01;null==e.min&&(i-=o),null!=e.max&&null==e.min||(n+=o)}else{var a=e.autoscaleMargin;null!=a&&(null==e.min&&(i-=r*a)<0&&null!=t.datamin&&0<=t.datamin&&(i=0),null==e.max&&0<(n+=r*a)&&null!=t.datamax&&t.datamax<=0&&(n=0))}t.min=i,t.max=n}(e)}),i){var o=G.grep(e,function(t){return t.show||t.reserveSpace});for(G.each(o,function(t,e){var i,n;!function(t){var e,i=t.options;e="number"==typeof i.ticks&&0<i.ticks?i.ticks:.3*Math.sqrt("x"==t.direction?p.width:p.height);var n=(t.max-t.min)/e,r=-Math.floor(Math.log(n)/Math.LN10),o=i.tickDecimals;null!=o&&o<r&&(r=o);var a,s=Math.pow(10,-r),l=n/s;l<1.5?a=1:l<3?(a=2,2.25<l&&(null==o||r+1<=o)&&(a=2.5,++r)):a=l<7.5?5:10;a*=s,null!=i.minTickSize&&a<i.minTickSize&&(a=i.minTickSize);if(t.delta=n,t.tickDecimals=Math.max(0,null!=o?o:r),t.tickSize=i.tickSize||a,"time"==i.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");t.tickGenerator||(t.tickGenerator=function(t){for(var e,i,n,r=[],o=(i=t.min,(n=t.tickSize)*Math.floor(i/n)),a=0,s=Number.NaN;e=s,s=o+a*t.tickSize,r.push(s),++a,s<t.max&&s!=e;);return r},t.tickFormatter=function(t,e){var i=e.tickDecimals?Math.pow(10,e.tickDecimals):1,n=""+Math.round(t*i)/i;if(null!=e.tickDecimals){var r=n.indexOf("."),o=-1==r?0:n.length-r-1;if(o<e.tickDecimals)return(o?n:n+".")+(""+i).substr(1,e.tickDecimals-o)}return n});G.isFunction(i.tickFormatter)&&(t.tickFormatter=function(t,e){return""+i.tickFormatter(t,e)});if(null!=i.alignTicksWithAxis){var h=("x"==t.direction?f:g)[i.alignTicksWithAxis-1];if(h&&h.used&&h!=t){var c=t.tickGenerator(t);if(0<c.length&&(null==i.min&&(t.min=Math.min(t.min,c[0])),null==i.max&&1<c.length&&(t.max=Math.max(t.max,c[c.length-1]))),t.tickGenerator=function(t){var e,i,n=[];for(i=0;i<h.ticks.length;++i)e=(h.ticks[i].v-h.min)/(h.max-h.min),e=t.min+e*(t.max-t.min),n.push(e);return n},!t.mode&&null==i.tickDecimals){var u=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),d=t.tickGenerator(t);1<d.length&&/\..*0$/.test((d[1]-d[0]).toFixed(u))||(t.tickDecimals=u)}}}}(e),function(t){var e,i,n=t.options.ticks,r=[];null==n||"number"==typeof n&&0<n?r=t.tickGenerator(t):n&&(r=G.isFunction(n)?n(t):n);for(t.ticks=[],e=0;e<r.length;++e){var o=null,a=r[e];"object"==typeof a?(i=+a[0],1<a.length&&(o=a[1])):i=+a,null==o&&(o=t.tickFormatter(i,t)),isNaN(i)||t.ticks.push({v:i,label:o})}}(e),n=(i=e).ticks,i.options.autoscaleMargin&&0<n.length&&(null==i.options.min&&(i.min=Math.min(i.min,n[0].v)),null==i.options.max&&1<n.length&&(i.max=Math.max(i.max,n[n.length-1].v))),function(t){for(var e=t.options,i=t.ticks||[],n=e.labelWidth||0,r=e.labelHeight||0,o=n||("x"==t.direction?Math.floor(p.width/(i.length||1)):null),a=t.direction+"Axis "+t.direction+t.n+"Axis",s="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+a,l=e.font||"flot-tick-label tickLabel",h=0;h<i.length;++h){var c=i[h];if(c.label){var u=p.getTextInfo(s,c.label,l,null,o);n=Math.max(n,u.width),r=Math.max(r,u.height)}}t.labelWidth=e.labelWidth||n,t.labelHeight=e.labelHeight||r}(e)}),t=o.length-1;0<=t;--t)a(o[t]);!function(){var t,e=T.grid.minBorderMargin;if(null==e)for(t=e=0;t<k.length;++t)e=Math.max(e,2*(k[t].points.radius+k[t].points.lineWidth/2));var i={left:e,right:e,top:e,bottom:e};G.each(E(),function(t,e){e.reserveSpace&&e.ticks&&e.ticks.length&&("x"===e.direction?(i.left=Math.max(i.left,e.labelWidth/2),i.right=Math.max(i.right,e.labelWidth/2)):(i.bottom=Math.max(i.bottom,e.labelHeight/2),i.top=Math.max(i.top,e.labelHeight/2)))}),w.left=Math.ceil(Math.max(i.left,w.left)),w.right=Math.ceil(Math.max(i.right,w.right)),w.top=Math.ceil(Math.max(i.top,w.top)),w.bottom=Math.ceil(Math.max(i.bottom,w.bottom))}(),G.each(o,function(t,e){var i;"x"==(i=e).direction?(i.box.left=w.left-i.labelWidth/2,i.box.width=p.width-w.left-w.right+i.labelWidth):(i.box.top=w.top-i.labelHeight/2,i.box.height=p.height-w.bottom-w.top+i.labelHeight)})}S=p.width-w.left-w.right,C=p.height-w.bottom-w.top,G.each(e,function(t,e){!function(t){function e(t){return t}var i,n,r=t.options.transform||e,o=t.options.inverseTransform;"x"==t.direction?(i=t.scale=S/Math.abs(r(t.max)-r(t.min)),n=Math.min(r(t.max),r(t.min))):(i=-(i=t.scale=C/Math.abs(r(t.max)-r(t.min))),n=Math.max(r(t.max),r(t.min))),t.p2c=r==e?function(t){return(t-n)*i}:function(t){return(r(t)-n)*i},t.c2p=o?function(t){return o(n+t/i)}:function(t){return n+t/i}}(e)}),i&&G.each(E(),function(t,e){var i,n,r,o,a,s=e.box,l=e.direction+"Axis "+e.direction+e.n+"Axis",h="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,c=e.options.font||"flot-tick-label tickLabel";if(p.removeText(h),e.show&&0!=e.ticks.length)for(var u=0;u<e.ticks.length;++u)!(i=e.ticks[u]).label||i.v<e.min||i.v>e.max||("x"==e.direction?(o="center",n=w.left+e.p2c(i.v),"bottom"==e.position?r=s.top+s.padding:(r=s.top+s.height-s.padding,a="bottom")):(a="middle",r=w.top+e.p2c(i.v),"left"==e.position?(n=s.left+s.width-s.padding,o="right"):n=s.left+s.padding),p.addText(h,n,r,i.label,c,null,null,o,a))}),function(){null!=T.legend.container?G(T.legend.container).html(""):m.find(".legend").remove();if(!T.legend.show)return;for(var t,e,i=[],n=[],r=!1,o=T.legend.labelFormatter,a=0;a<k.length;++a)(t=k[a]).label&&(e=o?o(t.label,t):t.label)&&n.push({label:e,color:t.color});if(T.legend.sorted)if(G.isFunction(T.legend.sorted))n.sort(T.legend.sorted);else if("reverse"==T.legend.sorted)n.reverse();else{var s="descending"!=T.legend.sorted;n.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=s?1:-1})}for(var a=0;a<n.length;++a){var l=n[a];a%T.legend.noColumns==0&&(r&&i.push("</tr>"),i.push("<tr>"),r=!0),i.push('<td class="legendColorBox"><div style="border:1px solid '+T.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+l.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+l.label+"</td>")}r&&i.push("</tr>");if(0==i.length)return;var h='<table style="font-size:smaller;color:'+T.grid.color+'">'+i.join("")+"</table>";if(null!=T.legend.container)G(T.legend.container).html(h);else{var c="",u=T.legend.position,d=T.legend.margin;null==d[0]&&(d=[d,d]),"n"==u.charAt(0)?c+="top:"+(d[1]+w.top)+"px;":"s"==u.charAt(0)&&(c+="bottom:"+(d[1]+w.bottom)+"px;"),"e"==u.charAt(1)?c+="right:"+(d[0]+w.right)+"px;":"w"==u.charAt(1)&&(c+="left:"+(d[0]+w.left)+"px;");var p=G('<div class="legend">'+h.replace('style="','style="position:absolute;'+c+";")+"</div>").appendTo(m);if(0!=T.legend.backgroundOpacity){var f=T.legend.backgroundColor;null==f&&((f=(f=T.grid.backgroundColor)&&"string"==typeof f?G.color.parse(f):G.color.extract(p,"background-color")).a=1,f=f.toString());var g=p.children();G('<div style="position:absolute;width:'+g.width()+"px;height:"+g.height()+"px;"+c+"background-color:"+f+';"> </div>').prependTo(p).css("opacity",T.legend.backgroundOpacity)}}}()}function l(){p.clear(),M(D.drawBackground,[_]);var t=T.grid;t.show&&t.backgroundColor&&(_.save(),_.translate(w.left,w.top),_.fillStyle=U(T.grid.backgroundColor,C,0,"rgba(255, 255, 255, 0)"),_.fillRect(0,0,S,C),_.restore()),t.show&&!t.aboveData&&d();for(var e=0;e<k.length;++e)M(D.drawSeries,[_,k[e]]),b(k[e]);M(D.draw,[_]),t.show&&t.aboveData&&d(),p.render(),$()}function P(t,e){for(var i,n,r,o,a=E(),s=0;s<a.length;++s)if((i=a[s]).direction==e&&(t[o=e+i.n+"axis"]||1!=i.n||(o=e+"axis"),t[o])){n=t[o].from,r=t[o].to;break}if(t[o]||(i="x"==e?f[0]:g[0],n=t[e+"1"],r=t[e+"2"]),null!=n&&null!=r&&r<n){var l=n;n=r,r=l}return{from:n,to:r,axis:i}}function d(){var t,e,i,n;_.save(),_.translate(w.left,w.top);var r=T.grid.markings;if(r)for(G.isFunction(r)&&((e=A.getAxes()).xmin=e.xaxis.min,e.xmax=e.xaxis.max,e.ymin=e.yaxis.min,e.ymax=e.yaxis.max,r=r(e)),t=0;t<r.length;++t){var o=r[t],a=P(o,"x"),s=P(o,"y");if(null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),!(a.to<a.axis.min||a.from>a.axis.max||s.to<s.axis.min||s.from>s.axis.max)){a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max);var l=a.from===a.to,h=s.from===s.to;if(!l||!h)if(a.from=Math.floor(a.axis.p2c(a.from)),a.to=Math.floor(a.axis.p2c(a.to)),s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),l||h){var c=o.lineWidth||T.grid.markingsLineWidth,u=c%2?.5:0;_.beginPath(),_.strokeStyle=o.color||T.grid.markingsColor,_.lineWidth=c,l?(_.moveTo(a.to+u,s.from),_.lineTo(a.to+u,s.to)):(_.moveTo(a.from,s.to+u),_.lineTo(a.to,s.to+u)),_.stroke()}else _.fillStyle=o.color||T.grid.markingsColor,_.fillRect(a.from,s.to,a.to-a.from,s.from-s.to)}}e=E(),i=T.grid.borderWidth;for(var d=0;d<e.length;++d){var p,f,g,m,v=e[d],y=v.box,b=v.tickLength;if(v.show&&0!=v.ticks.length){for(_.lineWidth=1,"x"==v.direction?(p=0,f="full"==b?"top"==v.position?0:C:y.top-w.top+("top"==v.position?y.height:0)):(f=0,p="full"==b?"left"==v.position?0:S:y.left-w.left+("left"==v.position?y.width:0)),v.innermost||(_.strokeStyle=v.options.color,_.beginPath(),g=m=0,"x"==v.direction?g=S+1:m=C+1,1==_.lineWidth&&("x"==v.direction?f=Math.floor(f)+.5:p=Math.floor(p)+.5),_.moveTo(p,f),_.lineTo(p+g,f+m),_.stroke()),_.strokeStyle=v.options.tickColor,_.beginPath(),t=0;t<v.ticks.length;++t){var x=v.ticks[t].v;g=m=0,isNaN(x)||x<v.min||x>v.max||"full"==b&&("object"==typeof i&&0<i[v.position]||0<i)&&(x==v.min||x==v.max)||("x"==v.direction?(p=v.p2c(x),m="full"==b?-C:b,"top"==v.position&&(m=-m)):(f=v.p2c(x),g="full"==b?-S:b,"left"==v.position&&(g=-g)),1==_.lineWidth&&("x"==v.direction?p=Math.floor(p)+.5:f=Math.floor(f)+.5),_.moveTo(p,f),_.lineTo(p+g,f+m))}_.stroke()}}i&&(n=T.grid.borderColor,"object"==typeof i||"object"==typeof n?("object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),"object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),0<i.top&&(_.strokeStyle=n.top,_.lineWidth=i.top,_.beginPath(),_.moveTo(0-i.left,0-i.top/2),_.lineTo(S,0-i.top/2),_.stroke()),0<i.right&&(_.strokeStyle=n.right,_.lineWidth=i.right,_.beginPath(),_.moveTo(S+i.right/2,0-i.top),_.lineTo(S+i.right/2,C),_.stroke()),0<i.bottom&&(_.strokeStyle=n.bottom,_.lineWidth=i.bottom,_.beginPath(),_.moveTo(S+i.right,C+i.bottom/2),_.lineTo(0,C+i.bottom/2),_.stroke()),0<i.left&&(_.strokeStyle=n.left,_.lineWidth=i.left,_.beginPath(),_.moveTo(0-i.left/2,C+i.bottom),_.lineTo(0-i.left/2,0),_.stroke())):(_.lineWidth=i,_.strokeStyle=T.grid.borderColor,_.strokeRect(-i/2,-i/2,S+i,C+i))),_.restore()}function b(t){t.lines.show&&function(t){function e(t,e,i,n,r){var o=t.points,a=t.pointsize,s=null,l=null;_.beginPath();for(var h=a;h<o.length;h+=a){var c=o[h-a],u=o[h-a+1],d=o[h],p=o[h+1];if(null!=c&&null!=d){if(u<=p&&u<r.min){if(p<r.min)continue;c=(r.min-u)/(p-u)*(d-c)+c,u=r.min}else if(p<=u&&p<r.min){if(u<r.min)continue;d=(r.min-u)/(p-u)*(d-c)+c,p=r.min}if(p<=u&&u>r.max){if(p>r.max)continue;c=(r.max-u)/(p-u)*(d-c)+c,u=r.max}else if(u<=p&&p>r.max){if(u>r.max)continue;d=(r.max-u)/(p-u)*(d-c)+c,p=r.max}if(c<=d&&c<n.min){if(d<n.min)continue;u=(n.min-c)/(d-c)*(p-u)+u,c=n.min}else if(d<=c&&d<n.min){if(c<n.min)continue;p=(n.min-c)/(d-c)*(p-u)+u,d=n.min}if(d<=c&&c>n.max){if(d>n.max)continue;u=(n.max-c)/(d-c)*(p-u)+u,c=n.max}else if(c<=d&&d>n.max){if(c>n.max)continue;p=(n.max-c)/(d-c)*(p-u)+u,d=n.max}c==s&&u==l||_.moveTo(n.p2c(c)+e,r.p2c(u)+i),s=d,l=p,_.lineTo(n.p2c(d)+e,r.p2c(p)+i)}}_.stroke()}_.save(),_.translate(w.left,w.top),_.lineJoin="round";var i=t.lines.lineWidth,n=t.shadowSize;if(0<i&&0<n){_.lineWidth=n,_.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;e(t.datapoints,Math.sin(r)*(i/2+n/2),Math.cos(r)*(i/2+n/2),t.xaxis,t.yaxis),_.lineWidth=n/2,e(t.datapoints,Math.sin(r)*(i/2+n/4),Math.cos(r)*(i/2+n/4),t.xaxis,t.yaxis)}_.lineWidth=i,_.strokeStyle=t.color;var o=L(t.lines,t.color,0,C);o&&(_.fillStyle=o,function(t,e,i){var n=t.points,r=t.pointsize,o=Math.min(Math.max(0,i.min),i.max),a=0,s=!1,l=1,h=0,c=0;for(;!(0<r&&a>n.length+r);){var u=n[(a+=r)-r],d=n[a-r+l],p=n[a],f=n[a+l];if(s){if(0<r&&null!=u&&null==p){c=a,r=-r,l=2;continue}if(r<0&&a==h+r){_.fill(),s=!1,l=1,a=h=c+(r=-r);continue}}if(null!=u&&null!=p){if(u<=p&&u<e.min){if(p<e.min)continue;d=(e.min-u)/(p-u)*(f-d)+d,u=e.min}else if(p<=u&&p<e.min){if(u<e.min)continue;f=(e.min-u)/(p-u)*(f-d)+d,p=e.min}if(p<=u&&u>e.max){if(p>e.max)continue;d=(e.max-u)/(p-u)*(f-d)+d,u=e.max}else if(u<=p&&p>e.max){if(u>e.max)continue;f=(e.max-u)/(p-u)*(f-d)+d,p=e.max}if(s||(_.beginPath(),_.moveTo(e.p2c(u),i.p2c(o)),s=!0),d>=i.max&&f>=i.max)_.lineTo(e.p2c(u),i.p2c(i.max)),_.lineTo(e.p2c(p),i.p2c(i.max));else if(d<=i.min&&f<=i.min)_.lineTo(e.p2c(u),i.p2c(i.min)),_.lineTo(e.p2c(p),i.p2c(i.min));else{var g=u,m=p;d<=f&&d<i.min&&f>=i.min?(u=(i.min-d)/(f-d)*(p-u)+u,d=i.min):f<=d&&f<i.min&&d>=i.min&&(p=(i.min-d)/(f-d)*(p-u)+u,f=i.min),f<=d&&d>i.max&&f<=i.max?(u=(i.max-d)/(f-d)*(p-u)+u,d=i.max):d<=f&&f>i.max&&d<=i.max&&(p=(i.max-d)/(f-d)*(p-u)+u,f=i.max),u!=g&&_.lineTo(e.p2c(g),i.p2c(d)),_.lineTo(e.p2c(u),i.p2c(d)),_.lineTo(e.p2c(p),i.p2c(f)),p!=m&&(_.lineTo(e.p2c(p),i.p2c(f)),_.lineTo(e.p2c(m),i.p2c(f)))}}}}(t.datapoints,t.xaxis,t.yaxis));0<i&&e(t.datapoints,0,0,t.xaxis,t.yaxis);_.restore()}(t),t.bars.show&&function(h){var t;switch(_.save(),_.translate(w.left,w.top),_.lineWidth=h.bars.lineWidth,_.strokeStyle=h.color,h.bars.align){case"left":t=0;break;case"right":t=-h.bars.barWidth;break;default:t=-h.bars.barWidth/2}var e=h.bars.fill?function(t,e){return L(h.bars,h.color,t,e)}:null;(function(t,e,i,n,r,o){for(var a=t.points,s=t.pointsize,l=0;l<a.length;l+=s)null!=a[l]&&x(a[l],a[l+1],a[l+2],e,i,n,r,o,_,h.bars.horizontal,h.bars.lineWidth)})(h.datapoints,t,t+h.bars.barWidth,e,h.xaxis,h.yaxis),_.restore()}(t),t.points.show&&function(t){function e(t,e,i,n,r,o,a,s){for(var l=t.points,h=t.pointsize,c=0;c<l.length;c+=h){var u=l[c],d=l[c+1];null==u||u<o.min||u>o.max||d<a.min||d>a.max||(_.beginPath(),u=o.p2c(u),d=a.p2c(d)+n,"circle"==s?_.arc(u,d,e,0,r?Math.PI:2*Math.PI,!1):s(_,u,d,e,r),_.closePath(),i&&(_.fillStyle=i,_.fill()),_.stroke())}}_.save(),_.translate(w.left,w.top);var i=t.points.lineWidth,n=t.shadowSize,r=t.points.radius,o=t.points.symbol;0==i&&(i=1e-4);if(0<i&&0<n){var a=n/2;_.lineWidth=a,_.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,r,null,a+a/2,!0,t.xaxis,t.yaxis,o),_.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,r,null,a/2,!0,t.xaxis,t.yaxis,o)}_.lineWidth=i,_.strokeStyle=t.color,e(t.datapoints,r,L(t.points,t.color),0,!1,t.xaxis,t.yaxis,o),_.restore()}(t)}function x(t,e,i,n,r,o,a,s,l,h,c){var u,d,p,f,g,m,v,y,b;h?(y=m=v=!0,g=!1,f=e+n,p=e+r,(d=t)<(u=i)&&(b=d,d=u,u=b,m=!(g=!0))):(g=m=v=!0,y=!1,u=t+n,d=t+r,(f=e)<(p=i)&&(b=f,f=p,p=b,v=!(y=!0))),d<a.min||u>a.max||f<s.min||p>s.max||(u<a.min&&(u=a.min,g=!1),d>a.max&&(d=a.max,m=!1),p<s.min&&(p=s.min,y=!1),f>s.max&&(f=s.max,v=!1),u=a.p2c(u),p=s.p2c(p),d=a.p2c(d),f=s.p2c(f),o&&(l.fillStyle=o(p,f),l.fillRect(u,f,d-u,p-f)),0<c&&(g||m||v||y)&&(l.beginPath(),l.moveTo(u,p),g?l.lineTo(u,f):l.moveTo(u,f),v?l.lineTo(d,f):l.moveTo(d,f),m?l.lineTo(d,p):l.moveTo(d,p),y?l.lineTo(u,p):l.moveTo(u,p),l.stroke()))}function L(t,e,i,n){var r=t.fill;if(!r)return null;if(t.fillColor)return U(t.fillColor,i,n,e);var o=G.color.parse(e);return o.a="number"==typeof r?r:.4,o.normalize(),o.toString()}A.setData=r,A.setupGrid=s,A.draw=l,A.getPlaceholder=function(){return m},A.getCanvas=function(){return p.element},A.getPlotOffset=function(){return w},A.width=function(){return S},A.height=function(){return C},A.offset=function(){var t=c.offset();return t.left+=w.left,t.top+=w.top,t},A.getData=function(){return k},A.getAxes=function(){var i={};return G.each(f.concat(g),function(t,e){e&&(i[e.direction+(1!=e.n?e.n:"")+"axis"]=e)}),i},A.getXAxes=function(){return f},A.getYAxes=function(){return g},A.c2p=u,A.p2c=function(t){var e,i,n,r={};for(e=0;e<f.length;++e)if((i=f[e])&&i.used&&(n="x"+i.n,null==t[n]&&1==i.n&&(n="x"),null!=t[n])){r.left=i.p2c(t[n]);break}for(e=0;e<g.length;++e)if((i=g[e])&&i.used&&(n="y"+i.n,null==t[n]&&1==i.n&&(n="y"),null!=t[n])){r.top=i.p2c(t[n]);break}return r},A.getOptions=function(){return T},A.highlight=V,A.unhighlight=B,A.triggerRedrawOverlay=$,A.pointOffset=function(t){return{left:parseInt(f[v(t,"x")-1].p2c(+t.x)+w.left,10),top:parseInt(g[v(t,"y")-1].p2c(+t.y)+w.top,10)}},A.shutdown=o,A.destroy=function(){o(),m.removeData("plot").empty(),k=[],f=[],g=[],I=[],A=D=h=_=c=i=p=T=null},A.resize=function(){var t=m.width(),e=m.height();p.resize(t,e),i.resize(t,e)},A.hooks=D,function(){for(var t={Canvas:q},e=0;e<n.length;++e){var i=n[e];i.init(A,t),i.options&&G.extend(!0,T,i.options)}}(),function(t){G.extend(!0,T,t),t&&t.colors&&(T.colors=t.colors);null==T.xaxis.color&&(T.xaxis.color=G.color.parse(T.grid.color).scale("a",.22).toString());null==T.yaxis.color&&(T.yaxis.color=G.color.parse(T.grid.color).scale("a",.22).toString());null==T.xaxis.tickColor&&(T.xaxis.tickColor=T.grid.tickColor||T.xaxis.color);null==T.yaxis.tickColor&&(T.yaxis.tickColor=T.grid.tickColor||T.yaxis.color);null==T.grid.borderColor&&(T.grid.borderColor=T.grid.color);null==T.grid.tickColor&&(T.grid.tickColor=G.color.parse(T.grid.color).scale("a",.22).toString());var e,i,n,r=m.css("font-size"),o=r?+r.replace("px",""):13,a={style:m.css("font-style"),size:Math.round(.8*o),variant:m.css("font-variant"),weight:m.css("font-weight"),family:m.css("font-family")};for(n=T.xaxes.length||1,e=0;e<n;++e)(i=T.xaxes[e])&&!i.tickColor&&(i.tickColor=i.color),i=G.extend(!0,{},T.xaxis,i),(T.xaxes[e]=i).font&&(i.font=G.extend({},a,i.font),i.font.color||(i.font.color=i.color),i.font.lineHeight||(i.font.lineHeight=Math.round(1.15*i.font.size)));for(n=T.yaxes.length||1,e=0;e<n;++e)(i=T.yaxes[e])&&!i.tickColor&&(i.tickColor=i.color),i=G.extend(!0,{},T.yaxis,i),(T.yaxes[e]=i).font&&(i.font=G.extend({},a,i.font),i.font.color||(i.font.color=i.color),i.font.lineHeight||(i.font.lineHeight=Math.round(1.15*i.font.size)));T.xaxis.noTicks&&null==T.xaxis.ticks&&(T.xaxis.ticks=T.xaxis.noTicks);T.yaxis.noTicks&&null==T.yaxis.ticks&&(T.yaxis.ticks=T.yaxis.noTicks);T.x2axis&&(T.xaxes[1]=G.extend(!0,{},T.xaxis,T.x2axis),T.xaxes[1].position="top",null==T.x2axis.min&&(T.xaxes[1].min=null),null==T.x2axis.max&&(T.xaxes[1].max=null));T.y2axis&&(T.yaxes[1]=G.extend(!0,{},T.yaxis,T.y2axis),T.yaxes[1].position="right",null==T.y2axis.min&&(T.yaxes[1].min=null),null==T.y2axis.max&&(T.yaxes[1].max=null));T.grid.coloredAreas&&(T.grid.markings=T.grid.coloredAreas);T.grid.coloredAreasColor&&(T.grid.markingsColor=T.grid.coloredAreasColor);T.lines&&G.extend(!0,T.series.lines,T.lines);T.points&&G.extend(!0,T.series.points,T.points);T.bars&&G.extend(!0,T.series.bars,T.bars);null!=T.shadowSize&&(T.series.shadowSize=T.shadowSize);null!=T.highlightColor&&(T.series.highlightColor=T.highlightColor);for(e=0;e<T.xaxes.length;++e)y(f,e+1).options=T.xaxes[e];for(e=0;e<T.yaxes.length;++e)y(g,e+1).options=T.yaxes[e];for(var s in D)T.hooks[s]&&T.hooks[s].length&&(D[s]=D[s].concat(T.hooks[s]));M(D.processOptions,[T])}(e),function(){m.css("padding",0).children().filter(function(){return!G(this).hasClass("flot-overlay")&&!G(this).hasClass("flot-base")}).remove(),"static"==m.css("position")&&m.css("position","relative");p=new q("flot-base",m),i=new q("flot-overlay",m),_=p.context,h=i.context,c=G(i.element).unbind();var t=m.data("plot");t&&(t.shutdown(),i.clear());m.data("plot",A)}(),r(t),s(),l(),function(){T.grid.hoverable&&(c.mousemove(R),c.bind("mouseleave",F));T.grid.clickable&&c.click(N);M(D.bindEvents,[c])}();var I=[],O=null;function R(t){T.grid.hoverable&&z("plothover",t,function(t){return 0!=t.hoverable})}function F(t){T.grid.hoverable&&z("plothover",t,function(t){return!1})}function N(t){z("plotclick",t,function(t){return 0!=t.clickable})}function z(t,e,i){var n=c.offset(),r=e.pageX-n.left-w.left,o=e.pageY-n.top-w.top,a=u({left:r,top:o});a.pageX=e.pageX,a.pageY=e.pageY;var s=function(t,e,i){var n,r,o,a=T.grid.mouseActiveRadius,s=a*a+1,l=null;for(n=k.length-1;0<=n;--n)if(i(k[n])){var h=k[n],c=h.xaxis,u=h.yaxis,d=h.datapoints.points,p=c.c2p(t),f=u.c2p(e),g=a/c.scale,m=a/u.scale;if(o=h.datapoints.pointsize,c.options.inverseTransform&&(g=Number.MAX_VALUE),u.options.inverseTransform&&(m=Number.MAX_VALUE),h.lines.show||h.points.show)for(r=0;r<d.length;r+=o){var v=d[r],y=d[r+1];if(null!=v&&!(g<v-p||v-p<-g||m<y-f||y-f<-m)){var b=Math.abs(c.p2c(v)-t),x=Math.abs(u.p2c(y)-e),_=b*b+x*x;_<s&&(s=_,l=[n,r/o])}}if(h.bars.show&&!l){var w,S;switch(h.bars.align){case"left":w=0;break;case"right":w=-h.bars.barWidth;break;default:w=-h.bars.barWidth/2}for(S=w+h.bars.barWidth,r=0;r<d.length;r+=o){v=d[r],y=d[r+1];var C=d[r+2];null!=v&&(k[n].bars.horizontal?p<=Math.max(C,v)&&p>=Math.min(C,v)&&y+w<=f&&f<=y+S:v+w<=p&&p<=v+S&&f>=Math.min(C,y)&&f<=Math.max(C,y))&&(l=[n,r/o])}}}return l?(n=l[0],r=l[1],o=k[n].datapoints.pointsize,{datapoint:k[n].datapoints.points.slice(r*o,(r+1)*o),dataIndex:r,series:k[n],seriesIndex:n}):null}(r,o,i);if(s&&(s.pageX=parseInt(s.series.xaxis.p2c(s.datapoint[0])+n.left+w.left,10),s.pageY=parseInt(s.series.yaxis.p2c(s.datapoint[1])+n.top+w.top,10)),T.grid.autoHighlight){for(var l=0;l<I.length;++l){var h=I[l];h.auto!=t||s&&h.series==s.series&&h.point[0]==s.datapoint[0]&&h.point[1]==s.datapoint[1]||B(h.series,h.point)}s&&V(s.series,s.datapoint,t)}m.trigger(t,[a,s])}function $(){var t=T.interaction.redrawOverlayInterval;-1!=t?O||(O=setTimeout(H,t)):H()}function H(){var t,e;for(O=null,h.save(),i.clear(),h.translate(w.left,w.top),t=0;t<I.length;++t)(e=I[t]).series.bars.show?Y(e.series,e.point):j(e.series,e.point);h.restore(),M(D.drawOverlay,[h])}function V(t,e,i){if("number"==typeof t&&(t=k[t]),"number"==typeof e){var n=t.datapoints.pointsize;e=t.datapoints.points.slice(n*e,n*(e+1))}var r=W(t,e);-1==r?(I.push({series:t,point:e,auto:i}),$()):i||(I[r].auto=!1)}function B(t,e){if(null==t&&null==e)return I=[],void $();if("number"==typeof t&&(t=k[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var n=W(t,e);-1!=n&&(I.splice(n,1),$())}function W(t,e){for(var i=0;i<I.length;++i){var n=I[i];if(n.series==t&&n.point[0]==e[0]&&n.point[1]==e[1])return i}return-1}function j(t,e){var i=e[0],n=e[1],r=t.xaxis,o=t.yaxis,a="string"==typeof t.highlightColor?t.highlightColor:G.color.parse(t.color).scale("a",.5).toString();if(!(i<r.min||i>r.max||n<o.min||n>o.max)){var s=t.points.radius+t.points.lineWidth/2;h.lineWidth=s,h.strokeStyle=a;var l=1.5*s;i=r.p2c(i),n=o.p2c(n),h.beginPath(),"circle"==t.points.symbol?h.arc(i,n,l,0,2*Math.PI,!1):t.points.symbol(h,i,n,l,!1),h.closePath(),h.stroke()}}function Y(t,e){var i,n="string"==typeof t.highlightColor?t.highlightColor:G.color.parse(t.color).scale("a",.5).toString(),r=n;switch(t.bars.align){case"left":i=0;break;case"right":i=-t.bars.barWidth;break;default:i=-t.bars.barWidth/2}h.lineWidth=t.bars.lineWidth,h.strokeStyle=n,x(e[0],e[1],e[2]||0,i,i+t.bars.barWidth,function(){return r},t.xaxis,t.yaxis,h,t.bars.horizontal,t.bars.lineWidth)}function U(t,e,i,n){if("string"==typeof t)return t;for(var r=_.createLinearGradient(0,i,0,e),o=0,a=t.colors.length;o<a;++o){var s=t.colors[o];if("string"!=typeof s){var l=G.color.parse(n);null!=s.brightness&&(l=l.scale("rgb",s.brightness)),null!=s.opacity&&(l.a*=s.opacity),s=l.toString()}r.addColorStop(o/(a-1),s)}return r}}G.fn.detach||(G.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),q.prototype.resize=function(t,e){if(t<=0||e<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var i=this.element,n=this.context,r=this.pixelRatio;this.width!=t&&(i.width=t*r,i.style.width=t+"px",this.width=t),this.height!=e&&(i.height=e*r,i.style.height=e+"px",this.height=e),n.restore(),n.save(),n.scale(r,r)},q.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},q.prototype.render=function(){var t=this._textCache;for(var e in t)if(p.call(t,e)){var i=this.getTextLayer(e),n=t[e];for(var r in i.hide(),n)if(p.call(n,r)){var o=n[r];for(var a in o)if(p.call(o,a)){for(var s,l=o[a].positions,h=0;s=l[h];h++)s.active?s.rendered||(i.append(s.element),s.rendered=!0):(l.splice(h--,1),s.rendered&&s.element.detach());0==l.length&&delete o[a]}}i.show()}},q.prototype.getTextLayer=function(t){var e=this.text[t];return null==e&&(null==this.textContainer&&(this.textContainer=G("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),e=this.text[t]=G("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),e},q.prototype.getTextInfo=function(t,e,i,n,r){var o,a,s,l;if(e=""+e,o="object"==typeof i?i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family:i,null==(a=this._textCache[t])&&(a=this._textCache[t]={}),null==(s=a[o])&&(s=a[o]={}),null==(l=s[e])){var h=G("<div></div>").html(e).css({position:"absolute","max-width":r,top:-9999}).appendTo(this.getTextLayer(t));"object"==typeof i?h.css({font:o,color:i.color}):"string"==typeof i&&h.addClass(i),l=s[e]={width:h.outerWidth(!0),height:h.outerHeight(!0),element:h,positions:[]},h.detach()}return l},q.prototype.addText=function(t,e,i,n,r,o,a,s,l){var h=this.getTextInfo(t,n,r,o,a),c=h.positions;"center"==s?e-=h.width/2:"right"==s&&(e-=h.width),"middle"==l?i-=h.height/2:"bottom"==l&&(i-=h.height);for(var u,d=0;u=c[d];d++)if(u.x==e&&u.y==i)return void(u.active=!0);u={active:!0,rendered:!1,element:c.length?h.element.clone():h.element,x:e,y:i},c.push(u),u.element.css({top:Math.round(i),left:Math.round(e),"text-align":s})},q.prototype.removeText=function(t,e,i,n,r,o){if(null==n){var a=this._textCache[t];if(null!=a)for(var s in a)if(p.call(a,s)){var l=a[s];for(var h in l)if(p.call(l,h))for(var c=l[h].positions,u=0;d=c[u];u++)d.active=!1}}else{var d;for(c=this.getTextInfo(t,n,r,o).positions,u=0;d=c[u];u++)d.x==e&&d.y==i&&(d.active=!1)}},G.plot=function(t,e,i){return new n(G(t),e,i,G.plot.plugins)},G.plot.version="0.8.3",G.plot.plugins=[],G.fn.plot=function(t,e){return this.each(function(){G.plot(this,t,e)})}}(jQuery),function(w){var S=10,C=.95;var t={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(t,e){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+e.color+";'>"+t+"<br/>"+Math.round(e.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};w.plot.plugins.push({init:function(c){var o=null,y=null,b=null,u=null,x=null,_=null,l=!1,d=null,p=[];function h(t){if(0<b.series.pie.innerRadius){t.save();var e=1<b.series.pie.innerRadius?b.series.pie.innerRadius:u*b.series.pie.innerRadius;t.globalCompositeOperation="destination-out",t.beginPath(),t.fillStyle=b.series.pie.stroke.color,t.arc(0,0,e,0,2*Math.PI,!1),t.fill(),t.closePath(),t.restore(),t.save(),t.beginPath(),t.strokeStyle=b.series.pie.stroke.color,t.arc(0,0,e,0,2*Math.PI,!1),t.stroke(),t.closePath(),t.restore()}}function f(t,e){for(var i=!1,n=-1,r=t.length,o=r-1;++n<r;o=n)(t[n][1]<=e[1]&&e[1]<t[o][1]||t[o][1]<=e[1]&&e[1]<t[n][1])&&e[0]<(t[o][0]-t[n][0])*(e[1]-t[n][1])/(t[o][1]-t[n][1])+t[n][0]&&(i=!i);return i}function n(t){e("plothover",t)}function r(t){e("plotclick",t)}function e(t,e){var i,n,r,o=c.offset(),a=function(t,e){for(var i,n,r=c.getData(),o=c.getOptions(),a=1<o.series.pie.radius?o.series.pie.radius:u*o.series.pie.radius,s=0;s<r.length;++s){var l=r[s];if(l.pie.show){if(d.save(),d.beginPath(),d.moveTo(0,0),d.arc(0,0,a,l.startAngle,l.startAngle+l.angle/2,!1),d.arc(0,0,a,l.startAngle+l.angle/2,l.startAngle+l.angle,!1),d.closePath(),i=t-x,n=e-_,d.isPointInPath){if(d.isPointInPath(t-x,e-_))return d.restore(),{datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:s}}else if(f([[0,0],[a*Math.cos(l.startAngle),a*Math.sin(l.startAngle)],[a*Math.cos(l.startAngle+l.angle/4),a*Math.sin(l.startAngle+l.angle/4)],[a*Math.cos(l.startAngle+l.angle/2),a*Math.sin(l.startAngle+l.angle/2)],[a*Math.cos(l.startAngle+l.angle/1.5),a*Math.sin(l.startAngle+l.angle/1.5)],[a*Math.cos(l.startAngle+l.angle),a*Math.sin(l.startAngle+l.angle)]],[i,n]))return d.restore(),{datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:s};d.restore()}}return null}(parseInt(e.pageX-o.left),parseInt(e.pageY-o.top));if(b.grid.autoHighlight)for(var s=0;s<p.length;++s){var l=p[s];l.auto!=t||a&&l.series==a.series||g(l.series)}a&&(i=a.series,n=t,-1==(r=m(i))?(p.push({series:i,auto:n}),c.triggerRedrawOverlay()):n||(p[r].auto=!1));var h={pageX:e.pageX,pageY:e.pageY};y.trigger(t,[h,a])}function g(t){null==t&&(p=[],c.triggerRedrawOverlay());var e=m(t);-1!=e&&(p.splice(e,1),c.triggerRedrawOverlay())}function m(t){for(var e=0;e<p.length;++e)if(p[e].series==t)return e;return-1}c.hooks.processOptions.push(function(t,e){e.series.pie.show&&(e.grid.show=!1,"auto"==e.series.pie.label.show&&(e.legend.show?e.series.pie.label.show=!1:e.series.pie.label.show=!0),"auto"==e.series.pie.radius&&(e.series.pie.label.show?e.series.pie.radius=.75:e.series.pie.radius=1),1<e.series.pie.tilt?e.series.pie.tilt=1:e.series.pie.tilt<0&&(e.series.pie.tilt=0))}),c.hooks.bindEvents.push(function(t,e){var i=t.getOptions();i.series.pie.show&&(i.grid.hoverable&&e.unbind("mousemove").mousemove(n),i.grid.clickable&&e.unbind("click").click(r))}),c.hooks.processDatapoints.push(function(t,e,i,n){var r;t.getOptions().series.pie.show&&(r=t,l||(l=!0,o=r.getCanvas(),y=w(o).parent(),b=r.getOptions(),r.setData(function(t){for(var e=0,i=0,n=0,r=b.series.pie.combine.color,o=[],a=0;a<t.length;++a){var s=t[a].data;w.isArray(s)&&1==s.length&&(s=s[0]),w.isArray(s)?!isNaN(parseFloat(s[1]))&&isFinite(s[1])?s[1]=+s[1]:s[1]=0:s=!isNaN(parseFloat(s))&&isFinite(s)?[1,+s]:[1,0],t[a].data=[s]}for(var a=0;a<t.length;++a)e+=t[a].data[0][1];for(var a=0;a<t.length;++a){var s=t[a].data[0][1];s/e<=b.series.pie.combine.threshold&&(i+=s,n++,r||(r=t[a].color))}for(var a=0;a<t.length;++a){var s=t[a].data[0][1];(n<2||s/e>b.series.pie.combine.threshold)&&o.push(w.extend(t[a],{data:[[1,s]],color:t[a].color,label:t[a].label,angle:s*Math.PI*2/e,percent:s/(e/100)}))}return 1<n&&o.push({data:[[1,i]],color:r,label:b.series.pie.combine.label,angle:i*Math.PI*2/e,percent:i/(e/100)}),o}(r.getData()))))}),c.hooks.drawOverlay.push(function(t,e){t.getOptions().series.pie.show&&function(t,e){var i=t.getOptions(),n=1<i.series.pie.radius?i.series.pie.radius:u*i.series.pie.radius;e.save(),e.translate(x,_),e.scale(1,i.series.pie.tilt);for(var r=0;r<p.length;++r)o(p[r].series);function o(t){t.angle<=0||isNaN(t.angle)||(e.fillStyle="rgba(255, 255, 255, "+i.series.pie.highlight.opacity+")",e.beginPath(),1e-9<Math.abs(t.angle-2*Math.PI)&&e.moveTo(0,0),e.arc(0,0,n,t.startAngle,t.startAngle+t.angle/2,!1),e.arc(0,0,n,t.startAngle+t.angle/2,t.startAngle+t.angle,!1),e.closePath(),e.fill())}h(e),e.restore()}(t,e)}),c.hooks.draw.push(function(t,e){t.getOptions().series.pie.show&&function(t,e){if(y){var m=t.getPlaceholder().width(),v=t.getPlaceholder().height(),i=y.children().filter(".legend").children().width()||0;d=e,l=!1,u=Math.min(m,v/b.series.pie.tilt)/2,_=v/2+b.series.pie.offset.top,x=m/2,"auto"==b.series.pie.offset.left?(b.legend.position.match("w")?x+=i/2:x-=i/2,x<u?x=u:m-u<x&&(x=m-u)):x+=b.series.pie.offset.left;for(var a=t.getData(),n=0;0<n&&(u*=C),n+=1,r(),b.series.pie.tilt<=.8&&o(),!s()&&n<S;);S<=n&&(r(),y.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),t.setSeries&&t.insertLegend&&(t.setSeries(a),t.insertLegend())}function r(){d.clearRect(0,0,m,v),y.children().filter(".pieLabel, .pieLabelBackground").remove()}function o(){var t=b.series.pie.shadow.left,e=b.series.pie.shadow.top,i=b.series.pie.shadow.alpha,n=1<b.series.pie.radius?b.series.pie.radius:u*b.series.pie.radius;if(!(m/2-t<=n||n*b.series.pie.tilt>=v/2-e||n<=10)){d.save(),d.translate(t,e),d.globalAlpha=i,d.fillStyle="#000",d.translate(x,_),d.scale(1,b.series.pie.tilt);for(var r=1;r<=10;r++)d.beginPath(),d.arc(0,0,n,0,2*Math.PI,!1),d.fill(),n-=r;d.restore()}}function s(){var n=Math.PI*b.series.pie.startAngle,r=1<b.series.pie.radius?b.series.pie.radius:u*b.series.pie.radius;d.save(),d.translate(x,_),d.scale(1,b.series.pie.tilt),d.save();for(var o=n,t=0;t<a.length;++t)a[t].startAngle=o,e(a[t].angle,a[t].color,!0);if(d.restore(),0<b.series.pie.stroke.width){d.save(),d.lineWidth=b.series.pie.stroke.width,o=n;for(var t=0;t<a.length;++t)e(a[t].angle,b.series.pie.stroke.color,!1);d.restore()}return h(d),d.restore(),!b.series.pie.label.show||function(){for(var t=n,g=1<b.series.pie.label.radius?b.series.pie.label.radius:u*b.series.pie.label.radius,e=0;e<a.length;++e){if(a[e].percent>=100*b.series.pie.label.threshold&&!i(a[e],t,e))return!1;t+=a[e].angle}return!0;function i(t,e,i){if(0==t.data[0][1])return!0;var n,r=b.legend.labelFormatter,o=b.series.pie.label.formatter;n=r?r(t.label,t):t.label,o&&(n=o(n,t));var a=(e+t.angle+e)/2,s=x+Math.round(Math.cos(a)*g),l=_+Math.round(Math.sin(a)*g)*b.series.pie.tilt,h="<span class='pieLabel' id='pieLabel"+i+"' style='position:absolute;top:"+l+"px;left:"+s+"px;'>"+n+"</span>";y.append(h);var c=y.children("#pieLabel"+i),u=l-c.height()/2,d=s-c.width()/2;if(c.css("top",u),c.css("left",d),0<0-u||0<0-d||v-(u+c.height())<0||m-(d+c.width())<0)return!1;if(0!=b.series.pie.label.background.opacity){var p=b.series.pie.label.background.color;null==p&&(p=t.color);var f="top:"+u+"px;left:"+d+"px;";w("<div class='pieLabelBackground' style='position:absolute;width:"+c.width()+"px;height:"+c.height()+"px;"+f+"background-color:"+p+";'></div>").css("opacity",b.series.pie.label.background.opacity).insertBefore(c)}return!0}}();function e(t,e,i){t<=0||isNaN(t)||(i?d.fillStyle=e:(d.strokeStyle=e,d.lineJoin="round"),d.beginPath(),1e-9<Math.abs(t-2*Math.PI)&&d.moveTo(0,0),d.arc(0,0,r,o,o+t/2,!1),d.arc(0,0,r,o+t/2,o+t,!1),d.closePath(),o+=t,i?d.fill():d.stroke())}}}(t,e)})},options:t,name:"pie",version:"1.1"})}(jQuery),function(s){function e(t,e,i,n){var r="categories"==e.xaxis.options.mode,o="categories"==e.yaxis.options.mode;if(r||o){var a=n.format;if(!a){var s=e;if((a=[]).push({x:!0,number:!0,required:!0}),a.push({y:!0,number:!0,required:!0}),s.bars.show||s.lines.show&&s.lines.fill){var l=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);a.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:l}),s.bars.horizontal&&(delete a[a.length-1].y,a[a.length-1].x=!0)}n.format=a}for(var h=0;h<a.length;++h)a[h].x&&r&&(a[h].number=!1),a[h].y&&o&&(a[h].number=!1)}}function l(t){var e=[];for(var i in t.categories){var n=t.categories[i];n>=t.min&&n<=t.max&&e.push([n,i])}return e.sort(function(t,e){return t[0]-e[0]}),e}function n(t,e,i){if("categories"==t[e].options.mode){if(!t[e].categories){var n={},r=t[e].options.categories||{};if(s.isArray(r))for(var o=0;o<r.length;++o)n[r[o]]=o;else for(var a in r)n[a]=r[a];t[e].categories=n}t[e].options.ticks||(t[e].options.ticks=l),function(t,e,i){for(var n=t.points,r=t.pointsize,o=t.format,a=e.charAt(0),s=function(t){var e=-1;for(var i in t)t[i]>e&&(e=t[i]);return e+1}(i),l=0;l<n.length;l+=r)if(null!=n[l])for(var h=0;h<r;++h){var c=n[l+h];null!=c&&o[h][a]&&(c in i||(i[c]=s,++s),n[l+h]=i[c])}}(i,e,t[e].categories)}}function i(t,e,i){n(e,"xaxis",i),n(e,"yaxis",i)}s.plot.plugins.push({init:function(t){t.hooks.processRawData.push(e),t.hooks.processDatapoints.push(i)},options:{xaxis:{categories:null},yaxis:{categories:null}},name:"categories",version:"1.0"})}(jQuery),function(a,s,l){"$:nomunge";var h,c=[],u=a.resize=a.extend(a.resize,{}),d=!1,i="setTimeout",p="resize",f=p+"-special-event",g="pendingDelay",n="activeDelay",r="throttleWindow";function m(t){!0===d&&(d=t||1);for(var e=c.length-1;0<=e;e--){var i=a(c[e]);if(i[0]==s||i.is(":visible")){var n=i.width(),r=i.height(),o=i.data(f);!o||n===o.w&&r===o.h||(i.trigger(p,[o.w=n,o.h=r]),d=t||!0)}else(o=i.data(f)).w=0,o.h=0}null!==h&&(d&&(null==t||t-d<1e3)?h=s.requestAnimationFrame(m):(h=setTimeout(m,u[g]),d=!1))}u[g]=200,u[n]=20,u[r]=!0,a.event.special[p]={setup:function(){if(!u[r]&&this[i])return!1;var t=a(this);c.push(this),t.data(f,{w:t.width(),h:t.height()}),1===c.length&&(h=l,m())},teardown:function(){if(!u[r]&&this[i])return!1;for(var t=a(this),e=c.length-1;0<=e;e--)if(c[e]==this){c.splice(e,1);break}t.removeData(f),c.length||(d?cancelAnimationFrame(h):clearTimeout(h),h=null)},add:function(t){if(!u[r]&&this[i])return!1;var o;function e(t,e,i){var n=a(this),r=n.data(f)||{};r.w=e!==l?e:n.width(),r.h=i!==l?i:n.height(),o.apply(this,arguments)}if(a.isFunction(t))return o=t,e;o=t.handler,t.handler=e}},s.requestAnimationFrame||(s.requestAnimationFrame=s.webkitRequestAnimationFrame||s.mozRequestAnimationFrame||s.oRequestAnimationFrame||s.msRequestAnimationFrame||function(t,e){return s.setTimeout(function(){t((new Date).getTime())},u[n])}),s.cancelAnimationFrame||(s.cancelAnimationFrame=s.webkitCancelRequestAnimationFrame||s.mozCancelRequestAnimationFrame||s.oCancelRequestAnimationFrame||s.msCancelRequestAnimationFrame||clearTimeout)}(jQuery,this),jQuery.plot.plugins.push({init:function(e){function i(){var t=e.getPlaceholder();0!=t.width()&&0!=t.height()&&(e.resize(),e.setupGrid(),e.draw())}e.hooks.bindEvents.push(function(t,e){t.getPlaceholder().resize(i)}),e.hooks.shutdown.push(function(t,e){t.getPlaceholder().unbind("resize",i)})},options:{},name:"resize",version:"1.0"}),function(o){var t={tooltip:{show:!1,cssClass:"flotTip",content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,monthNames:null,dayNames:null,shifts:{x:10,y:20},defaultTheme:!0,snap:!0,lines:!1,clickTips:!1,onHover:function(t,e){},$compat:!1}};t.tooltipOpts=t.tooltip;var e=function(t){this.tipPosition={x:0,y:0},this.init(t)};e.prototype.init=function(p){var g=this,t=o.plot.plugins.length;if(this.plotPlugins=[],t)for(var e=0;e<t;e++)this.plotPlugins.push(o.plot.plugins[e].name);function i(t){var e={};e.x=t.pageX,e.y=t.pageY,p.setTooltipPosition(e)}function n(t,e,i){g.clickmode?(o(p.getPlaceholder()).bind("plothover",r),p.hideTooltip(),g.clickmode=!1):(r(t,e,i),g.getDomElement().is(":visible")&&(o(p.getPlaceholder()).unbind("plothover",r),g.clickmode=!0))}function r(t,c,e){var f=function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))};if(e)p.showTooltip(e,g.tooltipOptions.snap?e:c);else if(g.plotOptions.series.lines.show&&!0===g.tooltipOptions.lines){var i=g.plotOptions.grid.mouseActiveRadius,u={distance:i+1},d=c;o.each(p.getData(),function(t,e){for(var i=0,n=-1,r=1;r<e.data.length;r++)e.data[r-1][0]<=c.x&&e.data[r][0]>=c.x&&(i=r-1,n=r);if(-1!==n){var o={x:e.data[i][0],y:e.data[i][1]},a={x:e.data[n][0],y:e.data[n][1]},s=function(l,h,c,u,d,p,t){if(!t||(t=function(t,e,i,n,r,o){if(void 0!==c)return{x:c,y:h};if(void 0!==u)return{x:l,y:u};var a,s=-1/((p-u)/(d-c));return{x:a=(d*(l*s-h+u)+c*(l*-s+h-p))/(s*(d-c)+u-p),y:s*a-s*l+h}}()).x>=Math.min(c,d)&&t.x<=Math.max(c,d)&&t.y>=Math.min(u,p)&&t.y<=Math.max(u,p)){var e=u-p,i=d-c,n=c*p-u*d;return Math.abs(e*l+i*h+n)/Math.sqrt(e*e+i*i)}var r=f(l,h,c,u),o=f(l,h,d,p);return o<r?o:r}(e.xaxis.p2c(c.x),e.yaxis.p2c(c.y),e.xaxis.p2c(o.x),e.yaxis.p2c(o.y),e.xaxis.p2c(a.x),e.yaxis.p2c(a.y),!1);if(s<u.distance){var l=f(o.x,o.y,c.x,c.y)<f(c.x,c.y,a.x,a.y)?i:n,h=(e.datapoints.pointsize,[c.x,o.y+(a.y-o.y)*((c.x-o.x)/(a.x-o.x))]);u={distance:s,item:{datapoint:h,dataIndex:l,series:e,seriesIndex:t}},g.tooltipOptions.snap&&(d={pageX:e.xaxis.p2c(h[0]),pageY:e.yaxis.p2c(h[1])})}}else p.hideTooltip()}),u.distance<i+1?p.showTooltip(u.item,d):p.hideTooltip()}else p.hideTooltip()}p.hooks.bindEvents.push(function(t,e){if(g.plotOptions=t.getOptions(),"boolean"==typeof g.plotOptions.tooltip&&(g.plotOptions.tooltipOpts.show=g.plotOptions.tooltip,g.plotOptions.tooltip=g.plotOptions.tooltipOpts,delete g.plotOptions.tooltipOpts),!1!==g.plotOptions.tooltip.show&&void 0!==g.plotOptions.tooltip.show){g.tooltipOptions=g.plotOptions.tooltip,g.tooltipOptions.$compat?(g.wfunc="width",g.hfunc="height"):(g.wfunc="innerWidth",g.hfunc="innerHeight");g.getDomElement();o(t.getPlaceholder()).bind("plothover",r),g.tooltipOptions.clickTips&&o(t.getPlaceholder()).bind("plotclick",n),g.clickmode=!1,o(e).bind("mousemove",i)}}),p.hooks.shutdown.push(function(t,e){o(t.getPlaceholder()).unbind("plothover",r),o(t.getPlaceholder()).unbind("plotclick",n),t.removeTooltip(),o(e).unbind("mousemove",i)}),p.setTooltipPosition=function(t){var e=g.getDomElement(),i=e.outerWidth()+g.tooltipOptions.shifts.x,n=e.outerHeight()+g.tooltipOptions.shifts.y;t.x-o(window).scrollLeft()>o(window)[g.wfunc]()-i&&(t.x-=i,t.x=Math.max(t.x,0)),t.y-o(window).scrollTop()>o(window)[g.hfunc]()-n&&(t.y-=n),isNaN(t.x)?g.tipPosition.x=g.tipPosition.xPrev:(g.tipPosition.x=t.x,g.tipPosition.xPrev=t.x),isNaN(t.y)?g.tipPosition.y=g.tipPosition.yPrev:(g.tipPosition.y=t.y,g.tipPosition.yPrev=t.y)},p.showTooltip=function(t,e,i){var n=g.getDomElement(),r=g.stringFormat(g.tooltipOptions.content,t);""!==r&&(n.html(r),p.setTooltipPosition({x:g.tipPosition.x,y:g.tipPosition.y}),n.css({left:g.tipPosition.x+g.tooltipOptions.shifts.x,top:g.tipPosition.y+g.tooltipOptions.shifts.y}).show(),"function"==typeof g.tooltipOptions.onHover&&g.tooltipOptions.onHover(t,n))},p.hideTooltip=function(){g.getDomElement().hide().html("")},p.removeTooltip=function(){g.getDomElement().remove()}},e.prototype.getDomElement=function(){var t=o("<div>");return this.tooltipOptions&&this.tooltipOptions.cssClass&&0===(t=o("."+this.tooltipOptions.cssClass)).length&&((t=o("<div />").addClass(this.tooltipOptions.cssClass)).appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&t.css({background:"#fff","z-index":"1040",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"})),t},e.prototype.stringFormat=function(t,e){var i,n,r,o,a,s=/%s/,l=/%c/,h=/%lx/,c=/%ly/,u=/%x\.{0,1}(\d{0,})/,d=/%y\.{0,1}(\d{0,})/;if(void 0!==e.series.threshold?(i=e.datapoint[0],n=e.datapoint[1],r=e.datapoint[2]):void 0!==e.series.curvedLines?(i=e.datapoint[0],n=e.datapoint[1]):void 0!==e.series.lines&&e.series.lines.steps?(i=e.series.datapoints.points[2*e.dataIndex],n=e.series.datapoints.points[2*e.dataIndex+1],r=""):(i=e.series.data[e.dataIndex][0],n=e.series.data[e.dataIndex][1],r=e.series.data[e.dataIndex][2]),null===e.series.label&&e.series.originSeries&&(e.series.label=e.series.originSeries.label),"function"==typeof t&&(t=t(e.series.label,i,n,e)),"boolean"==typeof t&&!t)return"";if(r&&(t=t.replace("%ct",r)),void 0!==e.series.percent?o=e.series.percent:void 0!==e.series.percents&&(o=e.series.percents[e.dataIndex]),"number"==typeof o&&(t=this.adjustValPrecision(/%p\.{0,1}(\d{0,})/,t,o)),e.series.hasOwnProperty("pie")&&void 0!==e.series.data[0][1]&&(a=e.series.data[0][1]),"number"==typeof a&&(t=t.replace("%n",a)),t=void 0!==e.series.label?t.replace(s,e.series.label):t.replace(s,""),t=void 0!==e.series.color?t.replace(l,e.series.color):t.replace(l,""),t=this.hasAxisLabel("xaxis",e)?t.replace(h,e.series.xaxis.options.axisLabel):t.replace(h,""),t=this.hasAxisLabel("yaxis",e)?t.replace(c,e.series.yaxis.options.axisLabel):t.replace(c,""),this.isTimeMode("xaxis",e)&&this.isXDateFormat(e)&&(t=t.replace(u,this.timestampToDate(i,this.tooltipOptions.xDateFormat,e.series.xaxis.options))),this.isTimeMode("yaxis",e)&&this.isYDateFormat(e)&&(t=t.replace(d,this.timestampToDate(n,this.tooltipOptions.yDateFormat,e.series.yaxis.options))),"number"==typeof i&&(t=this.adjustValPrecision(u,t,i)),"number"==typeof n&&(t=this.adjustValPrecision(d,t,n)),void 0!==e.series.xaxis.ticks){var p;p=this.hasRotatedXAxisTicks(e)?"rotatedTicks":"ticks";var f=e.dataIndex+e.seriesIndex;for(var g in e.series.xaxis[p]){if(e.series.xaxis[p].hasOwnProperty(f)&&!this.isTimeMode("xaxis",e))(this.isCategoriesMode("xaxis",e)?e.series.xaxis[p][f].label:e.series.xaxis[p][f].v)===i&&(t=t.replace(u,e.series.xaxis[p][f].label.replace(/\$/g,"$$$$")))}}if(void 0!==e.series.yaxis.ticks)for(var m in e.series.yaxis.ticks){if(e.series.yaxis.ticks.hasOwnProperty(m))(this.isCategoriesMode("yaxis",e)?e.series.yaxis.ticks[m].label:e.series.yaxis.ticks[m].v)===n&&(t=t.replace(d,e.series.yaxis.ticks[m].label.replace(/\$/g,"$$$$")))}return void 0!==e.series.xaxis.tickFormatter&&(t=t.replace("%x",e.series.xaxis.tickFormatter(i,e.series.xaxis).replace(/\$/g,"$$"))),void 0!==e.series.yaxis.tickFormatter&&(t=t.replace("%y",e.series.yaxis.tickFormatter(n,e.series.yaxis).replace(/\$/g,"$$"))),t},e.prototype.isTimeMode=function(t,e){return void 0!==e.series[t].options.mode&&"time"===e.series[t].options.mode},e.prototype.isXDateFormat=function(t){return void 0!==this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},e.prototype.isYDateFormat=function(t){return void 0!==this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},e.prototype.isCategoriesMode=function(t,e){return void 0!==e.series[t].options.mode&&"categories"===e.series[t].options.mode},e.prototype.timestampToDate=function(t,e,i){var n=o.plot.dateGenerator(t,i);return o.plot.formatDate(n,e,this.tooltipOptions.monthNames,this.tooltipOptions.dayNames)},e.prototype.adjustValPrecision=function(t,e,i){var n;return null!==e.match(t)&&""!==RegExp.$1&&(n=RegExp.$1,i=i.toFixed(n),e=e.replace(t,i)),e},e.prototype.hasAxisLabel=function(t,e){return-1!==o.inArray("axisLabels",this.plotPlugins)&&void 0!==e.series[t].options.axisLabel&&0<e.series[t].options.axisLabel.length},e.prototype.hasRotatedXAxisTicks=function(t){return-1!==o.inArray("tickRotor",this.plotPlugins)&&void 0!==t.series.xaxis.rotatedTicks};o.plot.plugins.push({init:function(t){new e(t)},options:t,name:"tooltip",version:"0.8.5"})}(jQuery),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=t()}}(function(){return function o(a,s,l){function h(i,t){if(!s[i]){if(!a[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(c)return c(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var r=s[i]={exports:{}};a[i][0].call(r.exports,function(t){var e=a[i][1][t];return h(e||t)},r,r.exports,o,a,s,l)}return s[i].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,i){},{}],2:[function(t,e,i){var o=t(6);function n(t){if(t){var e=[0,0,0],i=1,n=t.match(/^#([a-fA-F0-9]{3})$/i);if(n){n=n[1];for(var r=0;r<e.length;r++)e[r]=parseInt(n[r]+n[r],16)}else if(n=t.match(/^#([a-fA-F0-9]{6})$/i)){n=n[1];for(r=0;r<e.length;r++)e[r]=parseInt(n.slice(2*r,2*r+2),16)}else if(n=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(r=0;r<e.length;r++)e[r]=parseInt(n[r+1]);i=parseFloat(n[4])}else if(n=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(r=0;r<e.length;r++)e[r]=Math.round(2.55*parseFloat(n[r+1]));i=parseFloat(n[4])}else if(n=t.match(/(\w+)/)){if("transparent"==n[1])return[0,0,0,0];if(!(e=o[n[1]]))return}for(r=0;r<e.length;r++)e[r]=c(e[r],0,255);return i=i||0==i?c(i,0,1):1,e[3]=i,e}}function r(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var i=parseFloat(e[4]);return[c(parseInt(e[1]),0,360),c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(i)?1:i,0,1)]}}}function a(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var i=parseFloat(e[4]);return[c(parseInt(e[1]),0,360),c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(i)?1:i,0,1)]}}}function s(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function l(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function h(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function c(t,e,i){return Math.min(Math.max(e,t),i)}function u(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}e.exports={getRgba:n,getHsla:r,getRgb:function(t){var e=n(t);return e&&e.slice(0,3)},getHsl:function(t){var e=r(t);return e&&e.slice(0,3)},getHwb:a,getAlpha:function(t){var e=n(t);{if(e)return e[3];if(e=r(t))return e[3];if(e=a(t))return e[3]}},hexString:function(t){return"#"+u(t[0])+u(t[1])+u(t[2])},rgbString:function(t,e){if(e<1||t[3]&&t[3]<1)return s(t,e);return"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:s,percentString:function(t,e){if(e<1||t[3]&&t[3]<1)return l(t,e);var i=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return"rgb("+i+"%, "+n+"%, "+r+"%)"},percentaString:l,hslString:function(t,e){if(e<1||t[3]&&t[3]<1)return h(t,e);return"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:h,hwbString:function(t,e){void 0===e&&(e=void 0!==t[3]?t[3]:1);return"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return d[t.slice(0,3)]}};var d={};for(var p in o)d[o[p]]=p},{6:6}],3:[function(t,e,i){var c=t(5),n=t(2),a=function(t){return t instanceof a?t:this instanceof a?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=n.getRgba(t))?this.setValues("rgb",e):(e=n.getHsla(t))?this.setValues("hsl",e):(e=n.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new a(t);var e};a.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var n=t[i]/255;e[i]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return i<e?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return 7.1<=e?"AAA":4.5<=e?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,i=(e[0]+t)%360;return e[0]=i<0?360+i:i,this.setValues("hsl",e),this},mix:function(t,e){var i=t,n=void 0===e?.5:e,r=2*n-1,o=this.alpha()-i.alpha(),a=((r*o==-1?r:(r+o)/(1+r*o))+1)/2,s=1-a;return this.rgb(a*this.red()+s*i.red(),a*this.green()+s*i.green(),a*this.blue()+s*i.blue()).alpha(this.alpha()*n+i.alpha()*(1-n))},toJSON:function(){return this.rgb()},clone:function(){var t,e,i=new a,n=this.values,r=i.values;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],"[object Array]"===(e={}.toString.call(t))?r[o]=t.slice(0):"[object Number]"===e?r[o]=t:console.error("unexpected color value:",t));return i}},a.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},a.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a.prototype.getValues=function(t){for(var e=this.values,i={},n=0;n<t.length;n++)i[t.charAt(n)]=e[t][n];return 1!==e.alpha&&(i.a=e.alpha),i},a.prototype.setValues=function(t,e){var i,n,r=this.values,o=this.spaces,a=this.maxes,s=1;if(this.valid=!0,"alpha"===t)s=e;else if(e.length)r[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(i=0;i<t.length;i++)r[t][i]=e[t.charAt(i)];s=e.a}else if(void 0!==e[o[t][0]]){var l=o[t];for(i=0;i<t.length;i++)r[t][i]=e[l[i]];s=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===t)return!1;for(i=0;i<t.length;i++)n=Math.max(0,Math.min(a[t][i],r[t][i])),r[t][i]=Math.round(n);for(var h in o)h!==t&&(r[h]=c[t][h](r[t]));return!0},a.prototype.setSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this)},a.prototype.setChannel=function(t,e,i){var n=this.values[t];return void 0===i?n[e]:(i===n[e]||(n[e]=i,this.setValues(t,n)),this)},"undefined"!=typeof window&&(window.Color=a),e.exports=a},{2:2,5:5}],4:[function(t,e,i){function o(t){var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(n,r,o),s=Math.max(n,r,o),l=s-a;return s==a?e=0:n==s?e=(r-o)/l:r==s?e=2+(o-n)/l:o==s&&(e=4+(n-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),i=(a+s)/2,[e,100*(s==a?0:i<=.5?l/(s+a):l/(2-s-a)),100*i]}function n(t){var e,i,n=t[0],r=t[1],o=t[2],a=Math.min(n,r,o),s=Math.max(n,r,o),l=s-a;return i=0==s?0:l/s*1e3/10,s==a?e=0:n==s?e=(r-o)/l:r==s?e=2+(o-n)/l:o==s&&(e=4+(n-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),[e,i,s/255*1e3/10]}function a(t){var e=t[0],i=t[1],n=t[2];return[o(t)[0],100*(1/255*Math.min(e,Math.min(i,n))),100*(n=1-1/255*Math.max(e,Math.max(i,n)))]}function s(t){var e,i=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*((1-i-(e=Math.min(1-i,1-n,1-r)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]}function l(t){return k[JSON.stringify(t)]}function h(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255;return[100*(.4124*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*i+.0722*n),100*(.0193*e+.1192*i+.9505*n)]}function c(t){var e=h(t),i=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,i=.008856<(i/=95.047)?Math.pow(i,1/3):7.787*i+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(i-n),200*(n-(r=.008856<r?Math.pow(r,1/3):7.787*r+16/116))]}function u(t){var e,i,n,r,o,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return[o=255*l,o,o];e=2*l-(i=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var h=0;h<3;h++)(n=a+1/3*-(h-1))<0&&n++,1<n&&n--,o=6*n<1?e+6*(i-e)*n:2*n<1?i:3*n<2?e+(i-e)*(2/3-n)*6:e,r[h]=255*o;return r}function d(t){var e=t[0]/60,i=t[1]/100,n=t[2]/100,r=Math.floor(e)%6,o=e-Math.floor(e),a=255*n*(1-i),s=255*n*(1-i*o),l=255*n*(1-i*(1-o));n*=255;switch(r){case 0:return[n,l,a];case 1:return[s,n,a];case 2:return[a,n,l];case 3:return[a,s,n];case 4:return[l,a,n];case 5:return[n,a,s]}}function p(t){var e,i,n,o,a=t[0]/360,s=t[1]/100,l=t[2]/100,h=s+l;switch(1<h&&(s/=h,l/=h),n=6*a-(e=Math.floor(6*a)),0!=(1&e)&&(n=1-n),o=s+n*((i=1-l)-s),e){default:case 6:case 0:r=i,g=o,b=s;break;case 1:r=o,g=i,b=s;break;case 2:r=s,g=i,b=o;break;case 3:r=s,g=o,b=i;break;case 4:r=o,g=s,b=i;break;case 5:r=i,g=s,b=o}return[255*r,255*g,255*b]}function f(t){var e=t[0]/100,i=t[1]/100,n=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]}function m(t){var e,i,n,r=t[0]/100,o=t[1]/100,a=t[2]/100;return i=-.9689*r+1.8758*o+.0415*a,n=.0557*r+-.204*o+1.057*a,e=.0031308<(e=3.2406*r+-1.5372*o+-.4986*a)?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,n=.0031308<n?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(i=Math.min(Math.max(0,i),1)),255*(n=Math.min(Math.max(0,n),1))]}function v(t){var e=t[0],i=t[1],n=t[2];return i/=100,n/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(e-i),200*(i-(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116))]}function y(t){var e,i,n,r,o=t[0],a=t[1],s=t[2];return o<=8?r=(i=100*o/903.3)/100*7.787+16/116:(i=100*Math.pow((o+16)/116,3),r=Math.pow(i/100,1/3)),[e=e/95.047<=.008856?e=95.047*(a/500+r-16/116)/7.787:95.047*Math.pow(a/500+r,3),i,n=n/108.883<=.008859?n=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3)]}function x(t){var e,i=t[0],n=t[1],r=t[2];return(e=360*Math.atan2(r,n)/2/Math.PI)<0&&(e+=360),[i,Math.sqrt(n*n+r*r),e]}function _(t){return m(y(t))}function w(t){var e,i=t[0],n=t[1];return e=t[2]/360*2*Math.PI,[i,n*Math.cos(e),n*Math.sin(e)]}function S(t){return C[t]}e.exports={rgb2hsl:o,rgb2hsv:n,rgb2hwb:a,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:h,rgb2lab:c,rgb2lch:function(t){return x(c(t))},hsl2rgb:u,hsl2hsv:function(t){var e=t[0],i=t[1]/100,n=t[2]/100;if(0===n)return[0,0,0];return[e,100*(2*(i*=(n*=2)<=1?n:2-n)/(n+i)),100*((n+i)/2)]},hsl2hwb:function(t){return a(u(t))},hsl2cmyk:function(t){return s(u(t))},hsl2keyword:function(t){return l(u(t))},hsv2rgb:d,hsv2hsl:function(t){var e,i,n=t[0],r=t[1]/100,o=t[2]/100;return e=r*o,[n,100*(e=(e/=(i=(2-r)*o)<=1?i:2-i)||0),100*(i/=2)]},hsv2hwb:function(t){return a(d(t))},hsv2cmyk:function(t){return s(d(t))},hsv2keyword:function(t){return l(d(t))},hwb2rgb:p,hwb2hsl:function(t){return o(p(t))},hwb2hsv:function(t){return n(p(t))},hwb2cmyk:function(t){return s(p(t))},hwb2keyword:function(t){return l(p(t))},cmyk2rgb:f,cmyk2hsl:function(t){return o(f(t))},cmyk2hsv:function(t){return n(f(t))},cmyk2hwb:function(t){return a(f(t))},cmyk2keyword:function(t){return l(f(t))},keyword2rgb:S,keyword2hsl:function(t){return o(S(t))},keyword2hsv:function(t){return n(S(t))},keyword2hwb:function(t){return a(S(t))},keyword2cmyk:function(t){return s(S(t))},keyword2lab:function(t){return c(S(t))},keyword2xyz:function(t){return h(S(t))},xyz2rgb:m,xyz2lab:v,xyz2lch:function(t){return x(v(t))},lab2xyz:y,lab2rgb:_,lab2lch:x,lch2lab:w,lch2xyz:function(t){return y(w(t))},lch2rgb:function(t){return _(w(t))}};var C={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},k={};for(var T in C)k[JSON.stringify(C[T])]=T},{}],5:[function(t,e,i){var r=t(4),o=function(){return new h};for(var n in r){o[n+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),r[e](t)}}(n);var a=/(\w+)2(\w+)/.exec(n),s=a[1],l=a[2];(o[s]=o[s]||{})[l]=o[n]=function(n){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var e=r[n](t);if("string"==typeof e||void 0===e)return e;for(var i=0;i<e.length;i++)e[i]=Math.round(e[i]);return e}}(n)}var h=function(){this.convs={}};h.prototype.routeSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i))},h.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},h.prototype.getValues=function(t){var e=this.convs[t];if(!e){var i=this.space,n=this.convs[i];e=o[i][t](n),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){h.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),e.exports=o},{4:4}],6:[function(t,e,i){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(t,e,i){var n=t(29)();n.helpers=t(45),t(27)(n),n.defaults=t(25),n.Element=t(26),n.elements=t(40),n.Interaction=t(28),n.layouts=t(30),n.platform=t(48),n.plugins=t(31),n.Ticks=t(34),t(22)(n),t(23)(n),t(24)(n),t(33)(n),t(32)(n),t(35)(n),t(55)(n),t(53)(n),t(54)(n),t(56)(n),t(57)(n),t(58)(n),t(15)(n),t(16)(n),t(17)(n),t(18)(n),t(19)(n),t(20)(n),t(21)(n),t(8)(n),t(9)(n),t(10)(n),t(11)(n),t(12)(n),t(13)(n),t(14)(n);var r=t(49);for(var o in r)r.hasOwnProperty(o)&&n.plugins.register(r[o]);n.platform.initialize(),e.exports=n,"undefined"!=typeof window&&(window.Chart=n),n.Legend=r.legend._element,n.Title=r.title._element,n.pluginService=n.plugins,n.PluginBase=n.Element.extend({}),n.canvasHelpers=n.helpers.canvas,n.layoutService=n.layouts},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,40:40,45:45,48:48,49:49,53:53,54:54,55:55,56:56,57:57,58:58,8:8,9:9}],8:[function(t,e,i){"use strict";e.exports=function(i){i.Bar=function(t,e){return e.type="bar",new i(t,e)}}},{}],9:[function(t,e,i){"use strict";e.exports=function(i){i.Bubble=function(t,e){return e.type="bubble",new i(t,e)}}},{}],10:[function(t,e,i){"use strict";e.exports=function(i){i.Doughnut=function(t,e){return e.type="doughnut",new i(t,e)}}},{}],11:[function(t,e,i){"use strict";e.exports=function(i){i.Line=function(t,e){return e.type="line",new i(t,e)}}},{}],12:[function(t,e,i){"use strict";e.exports=function(i){i.PolarArea=function(t,e){return e.type="polarArea",new i(t,e)}}},{}],13:[function(t,e,i){"use strict";e.exports=function(i){i.Radar=function(t,e){return e.type="radar",new i(t,e)}}},{}],14:[function(t,e,i){"use strict";e.exports=function(i){i.Scatter=function(t,e){return e.type="scatter",new i(t,e)}}},{}],15:[function(t,e,i){"use strict";var n=t(25),r=t(40),k=t(45);n._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),n._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var i="";return 0<t.length&&(t[0].yLabel?i=t[0].yLabel:0<e.labels.length&&t[0].index<e.labels.length&&(i=e.labels[t[0].index])),i},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}},mode:"index",axis:"y"}}),e.exports=function(e){e.controllers.bar=e.DatasetController.extend({dataElementType:r.Rectangle,initialize:function(){var t;e.DatasetController.prototype.initialize.apply(this,arguments),(t=this.getMeta()).stack=this.getDataset().stack,t.bar=!0},update:function(t){var e,i,n=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,i=n.length;e<i;++e)this.updateElement(n[e],e,t)},updateElement:function(t,e,i){var n=this.chart,r=this.getMeta(),o=this.getDataset(),a=t.custom||{},s=n.options.elements.rectangle;t._xScale=this.getScaleForId(r.xAxisID),t._yScale=this.getScaleForId(r.yAxisID),t._datasetIndex=this.index,t._index=e,t._model={datasetLabel:o.label,label:n.data.labels[e],borderSkipped:a.borderSkipped?a.borderSkipped:s.borderSkipped,backgroundColor:a.backgroundColor?a.backgroundColor:k.valueAtIndexOrDefault(o.backgroundColor,e,s.backgroundColor),borderColor:a.borderColor?a.borderColor:k.valueAtIndexOrDefault(o.borderColor,e,s.borderColor),borderWidth:a.borderWidth?a.borderWidth:k.valueAtIndexOrDefault(o.borderWidth,e,s.borderWidth)},this.updateElementGeometry(t,e,i),t.pivot()},updateElementGeometry:function(t,e,i){var n=t._model,r=this.getValueScale(),o=r.getBasePixel(),a=r.isHorizontal(),s=this._ruler||this.getRuler(),l=this.calculateBarValuePixels(this.index,e),h=this.calculateBarIndexPixels(this.index,e,s);n.horizontal=a,n.base=i?o:l.base,n.x=a?i?o:l.head:h.center,n.y=a?h.center:i?o:l.head,n.height=a?h.size:void 0,n.width=a?void 0:h.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},_getStacks:function(t){var e,i,n=this.chart,r=this.getIndexScale().options.stacked,o=void 0===t?n.data.datasets.length:t+1,a=[];for(e=0;e<o;++e)(i=n.getDatasetMeta(e)).bar&&n.isDatasetVisible(e)&&(!1===r||!0===r&&-1===a.indexOf(i.stack)||void 0===r&&(void 0===i.stack||-1===a.indexOf(i.stack)))&&a.push(i.stack);return a},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var i=this._getStacks(t),n=void 0!==e?i.indexOf(e):-1;return-1===n?i.length-1:n},getRuler:function(){var t,e,i=this.getIndexScale(),n=this.getStackCount(),r=this.index,o=i.isHorizontal(),a=o?i.left:i.top,s=a+(o?i.width:i.height),l=[];for(t=0,e=this.getMeta().data.length;t<e;++t)l.push(i.getPixelForValue(null,t,r));return{min:k.isNullOrUndef(i.options.barThickness)?function(t,e){var i,n,r,o,a=t.isHorizontal()?t.width:t.height,s=t.getTicks();for(r=1,o=e.length;r<o;++r)a=Math.min(a,e[r]-e[r-1]);for(r=0,o=s.length;r<o;++r)n=t.getPixelForTick(r),a=0<r?Math.min(a,n-i):a,i=n;return a}(i,l):-1,pixels:l,start:a,end:s,stackCount:n,scale:i}},calculateBarValuePixels:function(t,e){var i,n,r,o,a,s,l=this.chart,h=this.getMeta(),c=this.getValueScale(),u=l.data.datasets,d=c.getRightValue(u[t].data[e]),p=c.options.stacked,f=h.stack,g=0;if(p||void 0===p&&void 0!==f)for(i=0;i<t;++i)(n=l.getDatasetMeta(i)).bar&&n.stack===f&&n.controller.getValueScaleId()===c.id&&l.isDatasetVisible(i)&&(r=c.getRightValue(u[i].data[e]),(d<0&&r<0||0<=d&&0<r)&&(g+=r));return o=c.getPixelForValue(g),{size:s=((a=c.getPixelForValue(g+d))-o)/2,base:o,head:a,center:a+s/2}},calculateBarIndexPixels:function(t,e,i){var n,r,o,a,s,l,h,c,u,d,p,f,g,m,v,y,b,x=i.scale.options,_="flex"===x.barThickness?(u=e,p=x,g=(d=i).pixels,m=g[u],v=0<u?g[u-1]:null,y=u<g.length-1?g[u+1]:null,b=p.categoryPercentage,null===v&&(v=m-(null===y?d.end-m:y-m)),null===y&&(y=m+m-v),f=m-(m-v)/2*b,{chunk:(y-v)/2*b/d.stackCount,ratio:p.barPercentage,start:f}):(n=e,r=i,l=(o=x).barThickness,h=r.stackCount,c=r.pixels[n],k.isNullOrUndef(l)?(a=r.min*o.categoryPercentage,s=o.barPercentage):(a=l*h,s=1),{chunk:a/h,ratio:s,start:c-a/2}),w=this.getStackIndex(t,this.getMeta().stack),S=_.start+_.chunk*w+_.chunk/2,C=Math.min(k.valueOrDefault(x.maxBarThickness,1/0),_.chunk*_.ratio);return{base:S-C/2,head:S+C/2,center:S,size:C}},draw:function(){var t=this.chart,e=this.getValueScale(),i=this.getMeta().data,n=this.getDataset(),r=i.length,o=0;for(k.canvas.clipArea(t.ctx,t.chartArea);o<r;++o)isNaN(e.getRightValue(n.data[o]))||i[o].draw();k.canvas.unclipArea(t.ctx)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},r=t._model;r.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:k.valueAtIndexOrDefault(e.hoverBackgroundColor,i,k.getHoverColor(r.backgroundColor)),r.borderColor=n.hoverBorderColor?n.hoverBorderColor:k.valueAtIndexOrDefault(e.hoverBorderColor,i,k.getHoverColor(r.borderColor)),r.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:k.valueAtIndexOrDefault(e.hoverBorderWidth,i,r.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},r=t._model,o=this.chart.options.elements.rectangle;r.backgroundColor=n.backgroundColor?n.backgroundColor:k.valueAtIndexOrDefault(e.backgroundColor,i,o.backgroundColor),r.borderColor=n.borderColor?n.borderColor:k.valueAtIndexOrDefault(e.borderColor,i,o.borderColor),r.borderWidth=n.borderWidth?n.borderWidth:k.valueAtIndexOrDefault(e.borderWidth,i,o.borderWidth)}}),e.controllers.horizontalBar=e.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(t,e,i){"use strict";var n=t(25),r=t(40),f=t(45);n._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.datasets[t.datasetIndex].label||"",n=e.datasets[t.datasetIndex].data[t.index];return i+": ("+t.xLabel+", "+t.yLabel+", "+n.r+")"}}}}),e.exports=function(t){t.controllers.bubble=t.DatasetController.extend({dataElementType:r.Point,update:function(i){var n=this,t=n.getMeta().data;f.each(t,function(t,e){n.updateElement(t,e,i)})},updateElement:function(t,e,i){var n=this.getMeta(),r=t.custom||{},o=this.getScaleForId(n.xAxisID),a=this.getScaleForId(n.yAxisID),s=this._resolveElementOptions(t,e),l=this.getDataset().data[e],h=this.index,c=i?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof l?l:NaN,e,h),u=i?a.getBasePixel():a.getPixelForValue(l,e,h);t._xScale=o,t._yScale=a,t._options=s,t._datasetIndex=h,t._index=e,t._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,hitRadius:s.hitRadius,pointStyle:s.pointStyle,radius:i?0:s.radius,skip:r.skip||isNaN(c)||isNaN(u),x:c,y:u},t.pivot()},setHoverStyle:function(t){var e=t._model,i=t._options;e.backgroundColor=f.valueOrDefault(i.hoverBackgroundColor,f.getHoverColor(i.backgroundColor)),e.borderColor=f.valueOrDefault(i.hoverBorderColor,f.getHoverColor(i.borderColor)),e.borderWidth=f.valueOrDefault(i.hoverBorderWidth,i.borderWidth),e.radius=i.radius+i.hoverRadius},removeHoverStyle:function(t){var e=t._model,i=t._options;e.backgroundColor=i.backgroundColor,e.borderColor=i.borderColor,e.borderWidth=i.borderWidth,e.radius=i.radius},_resolveElementOptions:function(t,e){var i,n,r,o=this.chart,a=o.data.datasets[this.index],s=t.custom||{},l=o.options.elements.point,h=f.options.resolve,c=a.data[e],u={},d={chart:o,dataIndex:e,dataset:a,datasetIndex:this.index},p=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(i=0,n=p.length;i<n;++i)u[r=p[i]]=h([s[r],a[r],l[r]],d,e);return u.radius=h([s.radius,c?c.r:void 0,a.radius,l.radius],d,e),u}})}},{25:25,40:40,45:45}],17:[function(t,e,i){"use strict";var n=t(25),r=t(40),E=t(45);n._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var i=t.data,n=i.datasets,r=i.labels;if(n.length)for(var o=0;o<n[0].data.length;++o)e.push('<li><span style="background-color:'+n[0].backgroundColor[o]+'"></span>'),r[o]&&e.push(r[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(l){var h=l.data;return h.labels.length&&h.datasets.length?h.labels.map(function(t,e){var i=l.getDatasetMeta(0),n=h.datasets[0],r=i.data[e],o=r&&r.custom||{},a=E.valueAtIndexOrDefault,s=l.options.elements.arc;return{text:t,fillStyle:o.backgroundColor?o.backgroundColor:a(n.backgroundColor,e,s.backgroundColor),strokeStyle:o.borderColor?o.borderColor:a(n.borderColor,e,s.borderColor),lineWidth:o.borderWidth?o.borderWidth:a(n.borderWidth,e,s.borderWidth),hidden:isNaN(n.data[e])||i.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var i,n,r,o=e.index,a=this.chart;for(i=0,n=(a.data.datasets||[]).length;i<n;++i)(r=a.getDatasetMeta(i)).data[o]&&(r.data[o].hidden=!r.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.labels[t.index],n=": "+e.datasets[t.datasetIndex].data[t.index];return E.isArray(i)?(i=i.slice())[0]+=n:i+=n,i}}}}),n._set("pie",E.clone(n.doughnut)),n._set("pie",{cutoutPercentage:0}),e.exports=function(e){e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:r.Arc,linkScales:E.noop,getRingIndex:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&++e;return e},update:function(i){var n=this,t=n.chart,e=t.chartArea,r=t.options,o=r.elements.arc,a=e.right-e.left-o.borderWidth,s=e.bottom-e.top-o.borderWidth,l=Math.min(a,s),h={x:0,y:0},c=n.getMeta(),u=r.cutoutPercentage,d=r.circumference;if(d<2*Math.PI){var p=r.rotation%(2*Math.PI),f=(p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0))+d,g=Math.cos(p),m=Math.sin(p),v=Math.cos(f),y=Math.sin(f),b=p<=0&&0<=f||p<=2*Math.PI&&2*Math.PI<=f,x=p<=.5*Math.PI&&.5*Math.PI<=f||p<=2.5*Math.PI&&2.5*Math.PI<=f,_=p<=-Math.PI&&-Math.PI<=f||p<=Math.PI&&Math.PI<=f,w=p<=.5*-Math.PI&&.5*-Math.PI<=f||p<=1.5*Math.PI&&1.5*Math.PI<=f,S=u/100,C=_?-1:Math.min(g*(g<0?1:S),v*(v<0?1:S)),k=w?-1:Math.min(m*(m<0?1:S),y*(y<0?1:S)),T=b?1:Math.max(g*(0<g?1:S),v*(0<v?1:S)),D=x?1:Math.max(m*(0<m?1:S),y*(0<y?1:S)),A=.5*(T-C),M=.5*(D-k);l=Math.min(a/A,s/M),h={x:-.5*(T+C),y:-.5*(D+k)}}t.borderWidth=n.getMaxBorderWidth(c.data),t.outerRadius=Math.max((l-t.borderWidth)/2,0),t.innerRadius=Math.max(u?t.outerRadius/100*u:0,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),t.offsetX=h.x*t.outerRadius,t.offsetY=h.y*t.outerRadius,c.total=n.calculateTotal(),n.outerRadius=t.outerRadius-t.radiusLength*n.getRingIndex(n.index),n.innerRadius=Math.max(n.outerRadius-t.radiusLength,0),E.each(c.data,function(t,e){n.updateElement(t,e,i)})},updateElement:function(t,e,i){var n=this.chart,r=n.chartArea,o=n.options,a=o.animation,s=(r.left+r.right)/2,l=(r.top+r.bottom)/2,h=o.rotation,c=o.rotation,u=this.getDataset(),d=i&&a.animateRotate?0:t.hidden?0:this.calculateCircumference(u.data[e])*(o.circumference/(2*Math.PI)),p=i&&a.animateScale?0:this.innerRadius,f=i&&a.animateScale?0:this.outerRadius,g=E.valueAtIndexOrDefault;E.extend(t,{_datasetIndex:this.index,_index:e,_model:{x:s+n.offsetX,y:l+n.offsetY,startAngle:h,endAngle:c,circumference:d,outerRadius:f,innerRadius:p,label:g(u.label,e,n.data.labels[e])}});var m=t._model;this.removeHoverStyle(t),i&&a.animateRotate||(m.startAngle=0===e?o.rotation:this.getMeta().data[e-1]._model.endAngle,m.endAngle=m.startAngle+m.circumference),t.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var i,n=this.getDataset(),t=this.getMeta(),r=0;return E.each(t.data,function(t,e){i=n.data[e],isNaN(i)||t.hidden||(r+=Math.abs(i))}),r},calculateCircumference:function(t){var e=this.getMeta().total;return 0<e&&!isNaN(t)?2*Math.PI*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){for(var e,i,n=0,r=this.index,o=t.length,a=0;a<o;a++)n=(n=n<(e=t[a]._model?t[a]._model.borderWidth:0)?e:n)<(i=t[a]._chart?t[a]._chart.config.data.datasets[r].hoverBorderWidth:0)?i:n;return n}})}},{25:25,40:40,45:45}],18:[function(t,e,i){"use strict";var n=t(25),r=t(40),f=t(45);n._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),e.exports=function(t){function d(t,e){return f.valueOrDefault(t.showLine,e.showLines)}t.controllers.line=t.DatasetController.extend({datasetElementType:r.Line,dataElementType:r.Point,update:function(t){var e,i,n,r=this.getMeta(),o=r.dataset,a=r.data||[],s=this.chart.options,l=s.elements.line,h=this.getScaleForId(r.yAxisID),c=this.getDataset(),u=d(c,s);for(u&&(n=o.custom||{},void 0!==c.tension&&void 0===c.lineTension&&(c.lineTension=c.tension),o._scale=h,o._datasetIndex=this.index,o._children=a,o._model={spanGaps:c.spanGaps?c.spanGaps:s.spanGaps,tension:n.tension?n.tension:f.valueOrDefault(c.lineTension,l.tension),backgroundColor:n.backgroundColor?n.backgroundColor:c.backgroundColor||l.backgroundColor,borderWidth:n.borderWidth?n.borderWidth:c.borderWidth||l.borderWidth,borderColor:n.borderColor?n.borderColor:c.borderColor||l.borderColor,borderCapStyle:n.borderCapStyle?n.borderCapStyle:c.borderCapStyle||l.borderCapStyle,borderDash:n.borderDash?n.borderDash:c.borderDash||l.borderDash,borderDashOffset:n.borderDashOffset?n.borderDashOffset:c.borderDashOffset||l.borderDashOffset,borderJoinStyle:n.borderJoinStyle?n.borderJoinStyle:c.borderJoinStyle||l.borderJoinStyle,fill:n.fill?n.fill:void 0!==c.fill?c.fill:l.fill,steppedLine:n.steppedLine?n.steppedLine:f.valueOrDefault(c.steppedLine,l.stepped),cubicInterpolationMode:n.cubicInterpolationMode?n.cubicInterpolationMode:f.valueOrDefault(c.cubicInterpolationMode,l.cubicInterpolationMode)},o.pivot()),e=0,i=a.length;e<i;++e)this.updateElement(a[e],e,t);for(u&&0!==o._model.tension&&this.updateBezierControlPoints(),e=0,i=a.length;e<i;++e)a[e].pivot()},getPointBackgroundColor:function(t,e){var i=this.chart.options.elements.point.backgroundColor,n=this.getDataset(),r=t.custom||{};return r.backgroundColor?i=r.backgroundColor:n.pointBackgroundColor?i=f.valueAtIndexOrDefault(n.pointBackgroundColor,e,i):n.backgroundColor&&(i=n.backgroundColor),i},getPointBorderColor:function(t,e){var i=this.chart.options.elements.point.borderColor,n=this.getDataset(),r=t.custom||{};return r.borderColor?i=r.borderColor:n.pointBorderColor?i=f.valueAtIndexOrDefault(n.pointBorderColor,e,i):n.borderColor&&(i=n.borderColor),i},getPointBorderWidth:function(t,e){var i=this.chart.options.elements.point.borderWidth,n=this.getDataset(),r=t.custom||{};return isNaN(r.borderWidth)?!isNaN(n.pointBorderWidth)||f.isArray(n.pointBorderWidth)?i=f.valueAtIndexOrDefault(n.pointBorderWidth,e,i):isNaN(n.borderWidth)||(i=n.borderWidth):i=r.borderWidth,i},updateElement:function(t,e,i){var n,r,o=this,a=o.getMeta(),s=t.custom||{},l=o.getDataset(),h=o.index,c=l.data[e],u=o.getScaleForId(a.yAxisID),d=o.getScaleForId(a.xAxisID),p=o.chart.options.elements.point;void 0!==l.radius&&void 0===l.pointRadius&&(l.pointRadius=l.radius),void 0!==l.hitRadius&&void 0===l.pointHitRadius&&(l.pointHitRadius=l.hitRadius),n=d.getPixelForValue("object"==typeof c?c:NaN,e,h),r=i?u.getBasePixel():o.calculatePointY(c,e,h),t._xScale=d,t._yScale=u,t._datasetIndex=h,t._index=e,t._model={x:n,y:r,skip:s.skip||isNaN(n)||isNaN(r),radius:s.radius||f.valueAtIndexOrDefault(l.pointRadius,e,p.radius),pointStyle:s.pointStyle||f.valueAtIndexOrDefault(l.pointStyle,e,p.pointStyle),backgroundColor:o.getPointBackgroundColor(t,e),borderColor:o.getPointBorderColor(t,e),borderWidth:o.getPointBorderWidth(t,e),tension:a.dataset._model?a.dataset._model.tension:0,steppedLine:!!a.dataset._model&&a.dataset._model.steppedLine,hitRadius:s.hitRadius||f.valueAtIndexOrDefault(l.pointHitRadius,e,p.hitRadius)}},calculatePointY:function(t,e,i){var n,r,o,a=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),h=0,c=0;if(l.options.stacked){for(n=0;n<i;n++)if(r=a.data.datasets[n],"line"===(o=a.getDatasetMeta(n)).type&&o.yAxisID===l.id&&a.isDatasetVisible(n)){var u=Number(l.getRightValue(r.data[e]));u<0?c+=u||0:h+=u||0}var d=Number(l.getRightValue(t));return d<0?l.getPixelForValue(c+d):l.getPixelForValue(h+d)}return l.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,i,n,r=this.getMeta(),o=this.chart.chartArea,a=r.data||[];function s(t,e,i){return Math.max(Math.min(t,i),e)}if(r.dataset._model.spanGaps&&(a=a.filter(function(t){return!t._model.skip})),"monotone"===r.dataset._model.cubicInterpolationMode)f.splineCurveMonotone(a);else for(t=0,e=a.length;t<e;++t)i=a[t]._model,n=f.splineCurve(f.previousItem(a,t)._model,i,f.nextItem(a,t)._model,r.dataset._model.tension),i.controlPointPreviousX=n.previous.x,i.controlPointPreviousY=n.previous.y,i.controlPointNextX=n.next.x,i.controlPointNextY=n.next.y;if(this.chart.options.elements.line.capBezierPoints)for(t=0,e=a.length;t<e;++t)(i=a[t]._model).controlPointPreviousX=s(i.controlPointPreviousX,o.left,o.right),i.controlPointPreviousY=s(i.controlPointPreviousY,o.top,o.bottom),i.controlPointNextX=s(i.controlPointNextX,o.left,o.right),i.controlPointNextY=s(i.controlPointNextY,o.top,o.bottom)},draw:function(){var t=this.chart,e=this.getMeta(),i=e.data||[],n=t.chartArea,r=i.length,o=0;for(f.canvas.clipArea(t.ctx,n),d(this.getDataset(),t.options)&&e.dataset.draw(),f.canvas.unclipArea(t.ctx);o<r;++o)i[o].draw(n)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},r=t._model;r.radius=n.hoverRadius||f.valueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),r.backgroundColor=n.hoverBackgroundColor||f.valueAtIndexOrDefault(e.pointHoverBackgroundColor,i,f.getHoverColor(r.backgroundColor)),r.borderColor=n.hoverBorderColor||f.valueAtIndexOrDefault(e.pointHoverBorderColor,i,f.getHoverColor(r.borderColor)),r.borderWidth=n.hoverBorderWidth||f.valueAtIndexOrDefault(e.pointHoverBorderWidth,i,r.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},r=t._model;void 0!==e.radius&&void 0===e.pointRadius&&(e.pointRadius=e.radius),r.radius=n.radius||f.valueAtIndexOrDefault(e.pointRadius,i,this.chart.options.elements.point.radius),r.backgroundColor=this.getPointBackgroundColor(t,i),r.borderColor=this.getPointBorderColor(t,i),r.borderWidth=this.getPointBorderWidth(t,i)}})}},{25:25,40:40,45:45}],19:[function(t,e,i){"use strict";var n=t(25),r=t(40),x=t(45);n._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var i=t.data,n=i.datasets,r=i.labels;if(n.length)for(var o=0;o<n[0].data.length;++o)e.push('<li><span style="background-color:'+n[0].backgroundColor[o]+'"></span>'),r[o]&&e.push(r[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(s){var l=s.data;return l.labels.length&&l.datasets.length?l.labels.map(function(t,e){var i=s.getDatasetMeta(0),n=l.datasets[0],r=i.data[e].custom||{},o=x.valueAtIndexOrDefault,a=s.options.elements.arc;return{text:t,fillStyle:r.backgroundColor?r.backgroundColor:o(n.backgroundColor,e,a.backgroundColor),strokeStyle:r.borderColor?r.borderColor:o(n.borderColor,e,a.borderColor),lineWidth:r.borderWidth?r.borderWidth:o(n.borderWidth,e,a.borderWidth),hidden:isNaN(n.data[e])||i.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var i,n,r,o=e.index,a=this.chart;for(i=0,n=(a.data.datasets||[]).length;i<n;++i)(r=a.getDatasetMeta(i)).data[o].hidden=!r.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}}),e.exports=function(e){e.controllers.polarArea=e.DatasetController.extend({dataElementType:r.Arc,linkScales:x.noop,update:function(i){var n=this,t=n.chart,e=t.chartArea,r=n.getMeta(),o=t.options,a=o.elements.arc,s=Math.min(e.right-e.left,e.bottom-e.top);t.outerRadius=Math.max((s-a.borderWidth/2)/2,0),t.innerRadius=Math.max(o.cutoutPercentage?t.outerRadius/100*o.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),n.outerRadius=t.outerRadius-t.radiusLength*n.index,n.innerRadius=n.outerRadius-t.radiusLength,r.count=n.countVisibleElements(),x.each(r.data,function(t,e){n.updateElement(t,e,i)})},updateElement:function(t,e,i){for(var n=this.chart,r=this.getDataset(),o=n.options,a=o.animation,s=n.scale,l=n.data.labels,h=this.calculateCircumference(r.data[e]),c=s.xCenter,u=s.yCenter,d=0,p=this.getMeta(),f=0;f<e;++f)isNaN(r.data[f])||p.data[f].hidden||++d;var g=o.startAngle,m=t.hidden?0:s.getDistanceFromCenterForValue(r.data[e]),v=g+h*d,y=v+(t.hidden?0:h),b=a.animateScale?0:s.getDistanceFromCenterForValue(r.data[e]);x.extend(t,{_datasetIndex:this.index,_index:e,_scale:s,_model:{x:c,y:u,innerRadius:0,outerRadius:i?b:m,startAngle:i&&a.animateRotate?g:v,endAngle:i&&a.animateRotate?g:y,label:x.valueAtIndexOrDefault(l,e,l[e])}}),this.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var i=this.getDataset(),t=this.getMeta(),n=0;return x.each(t.data,function(t,e){isNaN(i.data[e])||t.hidden||n++}),n},calculateCircumference:function(t){var e=this.getMeta().count;return 0<e&&!isNaN(t)?2*Math.PI/e:0}})}},{25:25,40:40,45:45}],20:[function(t,e,i){"use strict";var n=t(25),r=t(40),h=t(45);n._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),e.exports=function(t){t.controllers.radar=t.DatasetController.extend({datasetElementType:r.Line,dataElementType:r.Point,linkScales:h.noop,update:function(i){var n=this,t=n.getMeta(),e=t.dataset,r=t.data,o=e.custom||{},a=n.getDataset(),s=n.chart.options.elements.line,l=n.chart.scale;void 0!==a.tension&&void 0===a.lineTension&&(a.lineTension=a.tension),h.extend(t.dataset,{_datasetIndex:n.index,_scale:l,_children:r,_loop:!0,_model:{tension:o.tension?o.tension:h.valueOrDefault(a.lineTension,s.tension),backgroundColor:o.backgroundColor?o.backgroundColor:a.backgroundColor||s.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:a.borderWidth||s.borderWidth,borderColor:o.borderColor?o.borderColor:a.borderColor||s.borderColor,fill:o.fill?o.fill:void 0!==a.fill?a.fill:s.fill,borderCapStyle:o.borderCapStyle?o.borderCapStyle:a.borderCapStyle||s.borderCapStyle,borderDash:o.borderDash?o.borderDash:a.borderDash||s.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:a.borderDashOffset||s.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:a.borderJoinStyle||s.borderJoinStyle}}),t.dataset.pivot(),h.each(r,function(t,e){n.updateElement(t,e,i)},n),n.updateBezierControlPoints()},updateElement:function(t,e,i){var n=t.custom||{},r=this.getDataset(),o=this.chart.scale,a=this.chart.options.elements.point,s=o.getPointPositionForValue(e,r.data[e]);void 0!==r.radius&&void 0===r.pointRadius&&(r.pointRadius=r.radius),void 0!==r.hitRadius&&void 0===r.pointHitRadius&&(r.pointHitRadius=r.hitRadius),h.extend(t,{_datasetIndex:this.index,_index:e,_scale:o,_model:{x:i?o.xCenter:s.x,y:i?o.yCenter:s.y,tension:n.tension?n.tension:h.valueOrDefault(r.lineTension,this.chart.options.elements.line.tension),radius:n.radius?n.radius:h.valueAtIndexOrDefault(r.pointRadius,e,a.radius),backgroundColor:n.backgroundColor?n.backgroundColor:h.valueAtIndexOrDefault(r.pointBackgroundColor,e,a.backgroundColor),borderColor:n.borderColor?n.borderColor:h.valueAtIndexOrDefault(r.pointBorderColor,e,a.borderColor),borderWidth:n.borderWidth?n.borderWidth:h.valueAtIndexOrDefault(r.pointBorderWidth,e,a.borderWidth),pointStyle:n.pointStyle?n.pointStyle:h.valueAtIndexOrDefault(r.pointStyle,e,a.pointStyle),hitRadius:n.hitRadius?n.hitRadius:h.valueAtIndexOrDefault(r.pointHitRadius,e,a.hitRadius)}}),t._model.skip=n.skip?n.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var r=this.chart.chartArea,o=this.getMeta();h.each(o.data,function(t,e){var i=t._model,n=h.splineCurve(h.previousItem(o.data,e,!0)._model,i,h.nextItem(o.data,e,!0)._model,i.tension);i.controlPointPreviousX=Math.max(Math.min(n.previous.x,r.right),r.left),i.controlPointPreviousY=Math.max(Math.min(n.previous.y,r.bottom),r.top),i.controlPointNextX=Math.max(Math.min(n.next.x,r.right),r.left),i.controlPointNextY=Math.max(Math.min(n.next.y,r.bottom),r.top),t.pivot()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},n=t._index,r=t._model;r.radius=i.hoverRadius?i.hoverRadius:h.valueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),r.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:h.valueAtIndexOrDefault(e.pointHoverBackgroundColor,n,h.getHoverColor(r.backgroundColor)),r.borderColor=i.hoverBorderColor?i.hoverBorderColor:h.valueAtIndexOrDefault(e.pointHoverBorderColor,n,h.getHoverColor(r.borderColor)),r.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:h.valueAtIndexOrDefault(e.pointHoverBorderWidth,n,r.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},n=t._index,r=t._model,o=this.chart.options.elements.point;r.radius=i.radius?i.radius:h.valueAtIndexOrDefault(e.pointRadius,n,o.radius),r.backgroundColor=i.backgroundColor?i.backgroundColor:h.valueAtIndexOrDefault(e.pointBackgroundColor,n,o.backgroundColor),r.borderColor=i.borderColor?i.borderColor:h.valueAtIndexOrDefault(e.pointBorderColor,n,o.borderColor),r.borderWidth=i.borderWidth?i.borderWidth:h.valueAtIndexOrDefault(e.pointBorderWidth,n,o.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(t,e,i){"use strict";t(25)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),e.exports=function(t){t.controllers.scatter=t.controllers.line}},{25:25}],22:[function(t,e,i){"use strict";var n=t(25),r=t(26),o=t(45);n._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:o.noop,onComplete:o.noop}}),e.exports=function(t){t.Animation=r.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,i,n){var r,o,a=this.animations;for(e.chart=t,n||(t.animating=!0),r=0,o=a.length;r<o;++r)if(a[r].chart===t)return void(a[r]=e);a.push(e),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=o.findIndex(this.animations,function(t){return t.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=o.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=Date.now(),e=0;1<this.dropFrames&&(e=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1),this.advance(1+e);var i=Date.now();this.dropFrames+=(i-t)/this.frameDuration,0<this.animations.length&&this.requestAnimationFrame()},advance:function(t){for(var e,i,n=this.animations,r=0;r<n.length;)i=(e=n[r]).chart,e.currentStep=(e.currentStep||0)+t,e.currentStep=Math.min(e.currentStep,e.numSteps),o.callback(e.render,[i,e],i),o.callback(e.onAnimationProgress,[e],i),e.currentStep>=e.numSteps?(o.callback(e.onAnimationComplete,[e],i),i.animating=!1,n.splice(r,1)):++r}},Object.defineProperty(t.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(t.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}})}},{25:25,26:26,45:45}],23:[function(t,e,i){"use strict";var u=t(25),d=t(45),r=t(28),o=t(30),p=t(48),l=t(31);e.exports=function(h){function c(t){return"top"===t||"bottom"===t}h.types={},h.instances={},h.controllers={},d.extend(h.prototype,{construct:function(t,e){var i,n,r=this;(n=(i=(i=e)||{}).data=i.data||{}).datasets=n.datasets||[],n.labels=n.labels||[],i.options=d.configMerge(u.global,u[i.type],i.options||{}),e=i;var o=p.acquireContext(t,e),a=o&&o.canvas,s=a&&a.height,l=a&&a.width;r.id=d.uid(),r.ctx=o,r.canvas=a,r.config=e,r.width=l,r.height=s,r.aspectRatio=s?l/s:null,r.options=e.options,r._bufferedRender=!1,(r.chart=r).controller=r,h.instances[r.id]=r,Object.defineProperty(r,"data",{get:function(){return r.config.data},set:function(t){r.config.data=t}}),o&&a?(r.initialize(),r.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return l.notify(t,"beforeInit"),d.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.initToolTip(),l.notify(t,"afterInit"),t},clear:function(){return d.canvas.clear(this),this},stop:function(){return h.animationService.cancelAnimation(this),this},resize:function(t){var e=this,i=e.options,n=e.canvas,r=i.maintainAspectRatio&&e.aspectRatio||null,o=Math.max(0,Math.floor(d.getMaximumWidth(n))),a=Math.max(0,Math.floor(r?o/r:d.getMaximumHeight(n)));if((e.width!==o||e.height!==a)&&(n.width=e.width=o,n.height=e.height=a,n.style.width=o+"px",n.style.height=a+"px",d.retinaScale(e,i.devicePixelRatio),!t)){var s={width:o,height:a};l.notify(e,"resize",[s]),e.options.onResize&&e.options.onResize(e,s),e.stop(),e.update(e.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},i=t.scale;d.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),d.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),i&&(i.id=i.id||"scale")},buildOrUpdateScales:function(){var a=this,t=a.options,s=a.scales||{},e=[],l=Object.keys(s).reduce(function(t,e){return t[e]=!1,t},{});t.scales&&(e=e.concat((t.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(t.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),t.scale&&e.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),d.each(e,function(t){var e=t.options,i=e.id,n=d.valueOrDefault(e.type,t.dtype);c(e.position)!==c(t.dposition)&&(e.position=t.dposition),l[i]=!0;var r=null;if(i in s&&s[i].type===n)(r=s[i]).options=e,r.ctx=a.ctx,r.chart=a;else{var o=h.scaleService.getScaleConstructor(n);if(!o)return;r=new o({id:i,type:n,options:e,ctx:a.ctx,chart:a}),s[r.id]=r}r.mergeTicksOptions(),t.isDefault&&(a.scale=r)}),d.each(l,function(t,e){t||delete s[e]}),a.scales=s,h.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var o=this,a=[],s=[];return d.each(o.data.datasets,function(t,e){var i=o.getDatasetMeta(e),n=t.type||o.config.type;if(i.type&&i.type!==n&&(o.destroyDatasetMeta(e),i=o.getDatasetMeta(e)),i.type=n,a.push(i.type),i.controller)i.controller.updateIndex(e),i.controller.linkScales();else{var r=h.controllers[i.type];if(void 0===r)throw new Error('"'+i.type+'" is not a chart type.');i.controller=new r(o,e),s.push(i.controller)}},o),s},resetElements:function(){var i=this;d.each(i.data.datasets,function(t,e){i.getDatasetMeta(e).controller.reset()},i)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e,i,n=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),i=(e=n).options,d.each(e.scales,function(t){o.removeBox(e,t)}),i=d.configMerge(h.defaults.global,h.defaults[e.config.type],i),e.options=e.config.options=i,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=i.tooltips,e.tooltip.initialize(),l._invalidate(n),!1!==l.notify(n,"beforeUpdate")){n.tooltip._data=n.data;var r=n.buildOrUpdateControllers();d.each(n.data.datasets,function(t,e){n.getDatasetMeta(e).controller.buildOrUpdateElements()},n),n.updateLayout(),n.options.animation&&n.options.animation.duration&&d.each(r,function(t){t.reset()}),n.updateDatasets(),n.tooltip.initialize(),n.lastActive=[],l.notify(n,"afterUpdate"),n._bufferedRender?n._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:n.render(t)}},updateLayout:function(){!1!==l.notify(this,"beforeLayout")&&(o.update(this,this.width,this.height),l.notify(this,"afterScaleUpdate"),l.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==l.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.updateDataset(t);l.notify(this,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this.getDatasetMeta(t),i={meta:e,index:t};!1!==l.notify(this,"beforeDatasetUpdate",[i])&&(e.controller.update(),l.notify(this,"afterDatasetUpdate",[i]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var i=t.duration,n=t.lazy;if(!1!==l.notify(e,"beforeRender")){var r=e.options.animation,o=function(t){l.notify(e,"afterRender"),d.callback(r&&r.onComplete,[t],e)};if(r&&(void 0!==i&&0!==i||void 0===i&&0!==r.duration)){var a=new h.Animation({numSteps:(i||r.duration)/16.66,easing:t.easing||r.easing,render:function(t,e){var i=d.easing.effects[e.easing],n=e.currentStep,r=n/e.numSteps;t.draw(i(r),r,n)},onAnimationProgress:r.onProgress,onAnimationComplete:o});h.animationService.addAnimation(e,a,i,n)}else e.draw(),o(new h.Animation({numSteps:0,chart:e}));return e}},draw:function(t){var e=this;e.clear(),d.isNullOrUndef(t)&&(t=1),e.transition(t),!1!==l.notify(e,"beforeDraw",[t])&&(d.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e._drawTooltip(t),l.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=0,i=(this.data.datasets||[]).length;e<i;++e)this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);this.tooltip.transition(t)},drawDatasets:function(t){if(!1!==l.notify(this,"beforeDatasetsDraw",[t])){for(var e=(this.data.datasets||[]).length-1;0<=e;--e)this.isDatasetVisible(e)&&this.drawDataset(e,t);l.notify(this,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var i=this.getDatasetMeta(t),n={meta:i,index:t,easingValue:e};!1!==l.notify(this,"beforeDatasetDraw",[n])&&(i.controller.draw(e),l.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(t){var e=this.tooltip,i={tooltip:e,easingValue:t};!1!==l.notify(this,"beforeTooltipDraw",[i])&&(e.draw(),l.notify(this,"afterTooltipDraw",[i]))},getElementAtEvent:function(t){return r.modes.single(this,t)},getElementsAtEvent:function(t){return r.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return r.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,i){var n=r.modes[e];return"function"==typeof n?n(this,t,i):[]},getDatasetAtEvent:function(t){return r.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var i=e._meta[this.id];return i||(i=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,i=this.data.datasets.length;e<i;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,i=this.data.datasets[t],n=i._meta&&i._meta[e];n&&(n.controller.destroy(),delete i._meta[e])},destroy:function(){var t,e,i=this,n=i.canvas;for(i.stop(),t=0,e=i.data.datasets.length;t<e;++t)i.destroyDatasetMeta(t);n&&(i.unbindEvents(),d.canvas.clear(i),p.releaseContext(i.ctx),i.canvas=null,i.ctx=null),l.notify(i,"destroy"),delete h.instances[i.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){this.tooltip=new h.Tooltip({_chart:this,_chartInstance:this,_data:this.data,_options:this.options.tooltips},this)},bindEvents:function(){var e=this,i=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};d.each(e.options.events,function(t){p.addEventListener(e,t,n),i[t]=n}),e.options.responsive&&(n=function(){e.resize()},p.addEventListener(e,"resize",n),i.resize=n)},unbindEvents:function(){var i=this,t=i._listeners;t&&(delete i._listeners,d.each(t,function(t,e){p.removeEventListener(i,e,t)}))},updateHoverStyle:function(t,e,i){var n,r,o,a=i?"setHoverStyle":"removeHoverStyle";for(r=0,o=t.length;r<o;++r)(n=t[r])&&this.getDatasetMeta(n._datasetIndex).controller[a](n)},eventHandler:function(t){var e=this,i=e.tooltip;if(!1!==l.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var n=e.handleEvent(t);i&&(n=i._start?i.handleEvent(t):n|i.handleEvent(t)),l.notify(e,"afterEvent",[t]);var r=e._bufferedRequest;return r?e.render(r):n&&!e.animating&&(e.stop(),e.render(e.options.hover.animationDuration,!0)),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,i=this,n=i.options||{},r=n.hover;return i.lastActive=i.lastActive||[],"mouseout"===t.type?i.active=[]:i.active=i.getElementsAtEventForMode(t,r.mode,r),d.callback(n.onHover||n.hover.onHover,[t.native,i.active],i),"mouseup"!==t.type&&"click"!==t.type||n.onClick&&n.onClick.call(i,t.native,i.active),i.lastActive.length&&i.updateHoverStyle(i.lastActive,r.mode,!1),i.active.length&&r.mode&&i.updateHoverStyle(i.active,r.mode,!0),e=!d.arrayEquals(i.active,i.lastActive),i.lastActive=i.active,e}}),h.Controller=h}},{25:25,28:28,30:30,31:31,45:45,48:48}],24:[function(t,e,i){"use strict";var s=t(45);e.exports=function(t){var o=["push","pop","shift","splice","unshift"];function n(e,t){var i=e._chartjs;if(i){var n=i.listeners,r=n.indexOf(t);-1!==r&&n.splice(r,1),0<n.length||(o.forEach(function(t){delete e[t]}),delete e._chartjs)}}t.DatasetController=function(t,e){this.initialize(t,e)},s.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this.getMeta(),e=this.getDataset();null!==t.xAxisID&&t.xAxisID in this.chart.scales||(t.xAxisID=e.xAxisID||this.chart.options.scales.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in this.chart.scales||(t.yAxisID=e.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,i=this.getMeta(),n=this.getDataset().data||[],r=i.data;for(t=0,e=n.length;t<e;++t)r[t]=r[t]||this.createMetaData(t);i.dataset=i.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var r,t,e=this.getDataset(),i=e.data||(e.data=[]);this._data!==i&&(this._data&&n(this._data,this),t=this,(r=i)._chartjs?r._chartjs.listeners.push(t):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),o.forEach(function(t){var i="onData"+t.charAt(0).toUpperCase()+t.slice(1),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),t=n.apply(this,e);return s.each(r._chartjs.listeners,function(t){"function"==typeof t[i]&&t[i].apply(t,e)}),t}})})),this._data=i),this.resyncElements()},update:s.noop,transition:function(t){for(var e=this.getMeta(),i=e.data||[],n=i.length,r=0;r<n;++r)i[r].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],i=e.length,n=0;for(t.dataset&&t.dataset.draw();n<i;++n)e[n].draw()},removeHoverStyle:function(t,e){var i=this.chart.data.datasets[t._datasetIndex],n=t._index,r=t.custom||{},o=s.valueAtIndexOrDefault,a=t._model;a.backgroundColor=r.backgroundColor?r.backgroundColor:o(i.backgroundColor,n,e.backgroundColor),a.borderColor=r.borderColor?r.borderColor:o(i.borderColor,n,e.borderColor),a.borderWidth=r.borderWidth?r.borderWidth:o(i.borderWidth,n,e.borderWidth)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},r=s.valueAtIndexOrDefault,o=s.getHoverColor,a=t._model;a.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:r(e.hoverBackgroundColor,i,o(a.backgroundColor)),a.borderColor=n.hoverBorderColor?n.hoverBorderColor:r(e.hoverBorderColor,i,o(a.borderColor)),a.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:r(e.hoverBorderWidth,i,a.borderWidth)},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,i=t.data.length,n=e.length;n<i?t.data.splice(n,i-n):i<n&&this.insertElements(i,n-i)},insertElements:function(t,e){for(var i=0;i<e;++i)this.addElementAndReset(t+i)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=s.inherits}},{45:45}],25:[function(t,e,i){"use strict";var n=t(45);e.exports={_set:function(t,e){return n.merge(this[t]||(this[t]={}),e)}}},{45:45}],26:[function(t,e,i){"use strict";var f=t(3),n=t(45);var r=function(t){n.extend(this,t),this.initialize.apply(this,arguments)};n.extend(r.prototype,{initialize:function(){this.hidden=!1},pivot:function(){return this._view||(this._view=n.clone(this._model)),this._start={},this},transition:function(t){var e=this._model,i=this._start,n=this._view;return e&&1!==t?(n||(n=this._view={}),i||(i=this._start={}),function(t,e,i,n){var r,o,a,s,l,h,c,u,d,p=Object.keys(i);for(r=0,o=p.length;r<o;++r)if(h=i[a=p[r]],e.hasOwnProperty(a)||(e[a]=h),(s=e[a])!==h&&"_"!==a[0]){if(t.hasOwnProperty(a)||(t[a]=s),(c=typeof h)==typeof(l=t[a]))if("string"===c){if((u=f(l)).valid&&(d=f(h)).valid){e[a]=d.mix(u,n).rgbString();continue}}else if("number"===c&&isFinite(l)&&isFinite(h)){e[a]=l+(h-l)*n;continue}e[a]=h}}(i,n,e,t)):(this._view=e,this._start=null),this},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return n.isNumber(this._model.x)&&n.isNumber(this._model.y)}}),r.extend=n.inherits,e.exports=r},{3:3,45:45}],27:[function(t,e,i){"use strict";var n=t(3),r=t(25),f=t(45);e.exports=function(l){function c(t,e,i){var n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}function u(t){return null!=t&&"none"!==t}function e(t,e,i){var n=document.defaultView,r=t.parentNode,o=n.getComputedStyle(t)[e],a=n.getComputedStyle(r)[e],s=u(o),l=u(a),h=Number.POSITIVE_INFINITY;return s||l?Math.min(s?c(o,t,i):h,l?c(a,r,i):h):"none"}f.configMerge=function(){return f.merge(f.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,e,i,n){var r=e[t]||{},o=i[t];"scales"===t?e[t]=f.scaleMerge(r,o):"scale"===t?e[t]=f.merge(r,[l.scaleService.getScaleDefaults(o.type),o]):f._merger(t,e,i,n)}})},f.scaleMerge=function(){return f.merge(f.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,e,i,n){if("xAxes"===t||"yAxes"===t){var r,o,a,s=i[t].length;for(e[t]||(e[t]=[]),r=0;r<s;++r)a=i[t][r],o=f.valueOrDefault(a.type,"xAxes"===t?"category":"linear"),r>=e[t].length&&e[t].push({}),!e[t][r].type||a.type&&a.type!==e[t][r].type?f.merge(e[t][r],[l.scaleService.getScaleDefaults(o),a]):f.merge(e[t][r],a)}else f._merger(t,e,i,n)}})},f.where=function(t,e){if(f.isArray(t)&&Array.prototype.filter)return t.filter(e);var i=[];return f.each(t,function(t){e(t)&&i.push(t)}),i},f.findIndex=Array.prototype.findIndex?function(t,e,i){return t.findIndex(e,i)}:function(t,e,i){i=void 0===i?t:i;for(var n=0,r=t.length;n<r;++n)if(e.call(i,t[n],n,t))return n;return-1},f.findNextWhere=function(t,e,i){f.isNullOrUndef(i)&&(i=-1);for(var n=i+1;n<t.length;n++){var r=t[n];if(e(r))return r}},f.findPreviousWhere=function(t,e,i){f.isNullOrUndef(i)&&(i=t.length);for(var n=i-1;0<=n;n--){var r=t[n];if(e(r))return r}},f.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},f.almostEquals=function(t,e,i){return Math.abs(t-e)<i},f.almostWhole=function(t,e){var i=Math.round(t);return i-e<t&&t<i+e},f.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},f.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},f.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0===(t=+t)||isNaN(t)?t:0<t?1:-1},f.log10=Math.log10?function(t){return Math.log10(t)}:function(t){var e=Math.log(t)*Math.LOG10E,i=Math.round(e);return t===Math.pow(10,i)?i:e},f.toRadians=function(t){return t*(Math.PI/180)},f.toDegrees=function(t){return t*(180/Math.PI)},f.getAngleFromPoint=function(t,e){var i=e.x-t.x,n=e.y-t.y,r=Math.sqrt(i*i+n*n),o=Math.atan2(n,i);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},f.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},f.aliasPixel=function(t){return t%2==0?0:.5},f.splineCurve=function(t,e,i,n){var r=t.skip?e:t,o=e,a=i.skip?e:i,s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),h=s/(s+l),c=l/(s+l),u=n*(h=isNaN(h)?0:h),d=n*(c=isNaN(c)?0:c);return{previous:{x:o.x-u*(a.x-r.x),y:o.y-u*(a.y-r.y)},next:{x:o.x+d*(a.x-r.x),y:o.y+d*(a.y-r.y)}}},f.EPSILON=Number.EPSILON||1e-14,f.splineCurveMonotone=function(t){var e,i,n,r,o,a,s,l,h,c=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),u=c.length;for(e=0;e<u;++e)if(!(n=c[e]).model.skip){if(i=0<e?c[e-1]:null,(r=e<u-1?c[e+1]:null)&&!r.model.skip){var d=r.model.x-n.model.x;n.deltaK=0!==d?(r.model.y-n.model.y)/d:0}!i||i.model.skip?n.mK=n.deltaK:!r||r.model.skip?n.mK=i.deltaK:this.sign(i.deltaK)!==this.sign(n.deltaK)?n.mK=0:n.mK=(i.deltaK+n.deltaK)/2}for(e=0;e<u-1;++e)n=c[e],r=c[e+1],n.model.skip||r.model.skip||(f.almostEquals(n.deltaK,0,this.EPSILON)?n.mK=r.mK=0:(o=n.mK/n.deltaK,a=r.mK/n.deltaK,(l=Math.pow(o,2)+Math.pow(a,2))<=9||(s=3/Math.sqrt(l),n.mK=o*s*n.deltaK,r.mK=a*s*n.deltaK)));for(e=0;e<u;++e)(n=c[e]).model.skip||(i=0<e?c[e-1]:null,r=e<u-1?c[e+1]:null,i&&!i.model.skip&&(h=(n.model.x-i.model.x)/3,n.model.controlPointPreviousX=n.model.x-h,n.model.controlPointPreviousY=n.model.y-h*n.mK),r&&!r.model.skip&&(h=(r.model.x-n.model.x)/3,n.model.controlPointNextX=n.model.x+h,n.model.controlPointNextY=n.model.y+h*n.mK))},f.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},f.previousItem=function(t,e,i){return i?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},f.niceNum=function(t,e){var i=Math.floor(f.log10(t)),n=t/Math.pow(10,i);return(e?n<1.5?1:n<3?2:n<7?5:10:n<=1?1:n<=2?2:n<=5?5:10)*Math.pow(10,i)},f.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},f.getRelativePosition=function(t,e){var i,n,r=t.originalEvent||t,o=t.currentTarget||t.srcElement,a=o.getBoundingClientRect(),s=r.touches;s&&0<s.length?(i=s[0].clientX,n=s[0].clientY):(i=r.clientX,n=r.clientY);var l=parseFloat(f.getStyle(o,"padding-left")),h=parseFloat(f.getStyle(o,"padding-top")),c=parseFloat(f.getStyle(o,"padding-right")),u=parseFloat(f.getStyle(o,"padding-bottom")),d=a.right-a.left-l-c,p=a.bottom-a.top-h-u;return{x:i=Math.round((i-a.left-l)/d*o.width/e.currentDevicePixelRatio),y:n=Math.round((n-a.top-h)/p*o.height/e.currentDevicePixelRatio)}},f.getConstraintWidth=function(t){return e(t,"max-width","clientWidth")},f.getConstraintHeight=function(t){return e(t,"max-height","clientHeight")},f.getMaximumWidth=function(t){var e=t.parentNode;if(!e)return t.clientWidth;var i=parseInt(f.getStyle(e,"padding-left"),10),n=parseInt(f.getStyle(e,"padding-right"),10),r=e.clientWidth-i-n,o=f.getConstraintWidth(t);return isNaN(o)?r:Math.min(r,o)},f.getMaximumHeight=function(t){var e=t.parentNode;if(!e)return t.clientHeight;var i=parseInt(f.getStyle(e,"padding-top"),10),n=parseInt(f.getStyle(e,"padding-bottom"),10),r=e.clientHeight-i-n,o=f.getConstraintHeight(t);return isNaN(o)?r:Math.min(r,o)},f.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},f.retinaScale=function(t,e){var i=t.currentDevicePixelRatio=e||window.devicePixelRatio||1;if(1!==i){var n=t.canvas,r=t.height,o=t.width;n.height=r*i,n.width=o*i,t.ctx.scale(i,i),n.style.height||n.style.width||(n.style.height=r+"px",n.style.width=o+"px")}},f.fontString=function(t,e,i){return e+" "+t+"px "+i},f.longestText=function(e,t,i,n){var r=(n=n||{}).data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},o=n.garbageCollect=[],n.font=t),e.font=t;var a=0;f.each(i,function(t){null!=t&&!0!==f.isArray(t)?a=f.measureText(e,r,o,a,t):f.isArray(t)&&f.each(t,function(t){null==t||f.isArray(t)||(a=f.measureText(e,r,o,a,t))})});var s=o.length/2;if(s>i.length){for(var l=0;l<s;l++)delete r[o[l]];o.splice(0,s)}return a},f.measureText=function(t,e,i,n,r){var o=e[r];return o||(o=e[r]=t.measureText(r).width,i.push(r)),n<o&&(n=o),n},f.numberOfLabelLines=function(t){var e=1;return f.each(t,function(t){f.isArray(t)&&t.length>e&&(e=t.length)}),e},f.color=n?function(t){return t instanceof CanvasGradient&&(t=r.global.defaultColor),n(t)}:function(t){return console.error("Color.js not found!"),t},f.getHoverColor=function(t){return t instanceof CanvasPattern?t:f.color(t).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(t,e,i){"use strict";var n=t(45);function s(t,e){return t.native?{x:t.x,y:t.y}:n.getRelativePosition(t,e)}function l(t,e){var i,n,r,o,a;for(n=0,o=t.data.datasets.length;n<o;++n)if(t.isDatasetVisible(n))for(r=0,a=(i=t.getDatasetMeta(n)).data.length;r<a;++r){var s=i.data[r];s._view.skip||e(s)}}function h(t,e){var i=[];return l(t,function(t){t.inRange(e.x,e.y)&&i.push(t)}),i}function c(t,n,r,o){var a=Number.POSITIVE_INFINITY,s=[];return l(t,function(t){if(!r||t.inRange(n.x,n.y)){var e=t.getCenterPoint(),i=o(n,e);i<a?(s=[t],a=i):i===a&&s.push(t)}}),s}function u(t){var r=-1!==t.indexOf("x"),o=-1!==t.indexOf("y");return function(t,e){var i=r?Math.abs(t.x-e.x):0,n=o?Math.abs(t.y-e.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(n,2))}}function r(n,t,e){var i=s(t,n);e.axis=e.axis||"x";var r=u(e.axis),o=e.intersect?h(n,i):c(n,i,!1,r),a=[];return o.length?(n.data.datasets.forEach(function(t,e){if(n.isDatasetVisible(e)){var i=n.getDatasetMeta(e).data[o[0]._index];i&&!i._view.skip&&a.push(i)}}),a):[]}e.exports={modes:{single:function(t,e){var i=s(e,t),n=[];return l(t,function(t){if(t.inRange(i.x,i.y))return n.push(t),n}),n.slice(0,1)},label:r,index:r,dataset:function(t,e,i){var n=s(e,t);i.axis=i.axis||"xy";var r=u(i.axis),o=i.intersect?h(t,n):c(t,n,!1,r);return 0<o.length&&(o=t.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(t,e){return r(t,e,{intersect:!1})},point:function(t,e){return h(t,s(e,t))},nearest:function(t,e,i){var n=s(e,t);i.axis=i.axis||"xy";var r=u(i.axis),o=c(t,n,i.intersect,r);return 1<o.length&&o.sort(function(t,e){var i=t.getArea()-e.getArea();return 0===i&&(i=t._datasetIndex-e._datasetIndex),i}),o.slice(0,1)},x:function(t,e,i){var n=s(e,t),r=[],o=!1;return l(t,function(t){t.inXRange(n.x)&&r.push(t),t.inRange(n.x,n.y)&&(o=!0)}),i.intersect&&!o&&(r=[]),r},y:function(t,e,i){var n=s(e,t),r=[],o=!1;return l(t,function(t){t.inYRange(n.y)&&r.push(t),t.inRange(n.x,n.y)&&(o=!0)}),i.intersect&&!o&&(r=[]),r}}}},{45:45}],29:[function(t,e,i){"use strict";t(25)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),e.exports=function(){var t=function(t,e){return this.construct(t,e),this};return t.Chart=t}},{25:25}],30:[function(t,e,i){"use strict";var z=t(45);function $(t,e){return z.where(t,function(t){return t.position===e})}function H(t,r){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,e){var i=r?e:t,n=r?t:e;return i.weight===n.weight?i._tmpIndex_-n._tmpIndex_:i.weight-n.weight}),t.forEach(function(t){delete t._tmpIndex_})}e.exports={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure:function(t,e,i){for(var n,r=["fullWidth","position","weight"],o=r.length,a=0;a<o;++a)n=r[a],i.hasOwnProperty(n)&&(e[n]=i[n])},update:function(e,i,t){if(e){var n=e.options.layout||{},r=z.options.toPadding(n.padding),o=r.left,a=r.right,s=r.top,l=r.bottom,h=$(e.boxes,"left"),c=$(e.boxes,"right"),u=$(e.boxes,"top"),d=$(e.boxes,"bottom"),p=$(e.boxes,"chartArea");H(h,!0),H(c,!1),H(u,!0),H(d,!1);var f=i-o-a,g=t-s-l,m=g/2,v=(i-f/2)/(h.length+c.length),y=(t-m)/(u.length+d.length),b=f,x=g,_=[];z.each(h.concat(c,u,d),function(t){var e,i=t.isHorizontal();i?(e=t.update(t.fullWidth?f:b,y),x-=e.height):(e=t.update(v,x),b-=e.width),_.push({horizontal:i,minSize:e,box:t})});var w=0,S=0,C=0,k=0;z.each(u.concat(d),function(t){if(t.getPadding){var e=t.getPadding();w=Math.max(w,e.left),S=Math.max(S,e.right)}}),z.each(h.concat(c),function(t){if(t.getPadding){var e=t.getPadding();C=Math.max(C,e.top),k=Math.max(k,e.bottom)}});var T=o,D=a,A=s,M=l;z.each(h.concat(c),F),z.each(h,function(t){T+=t.width}),z.each(c,function(t){D+=t.width}),z.each(u.concat(d),F),z.each(u,function(t){A+=t.height}),z.each(d,function(t){M+=t.height}),z.each(h.concat(c),function(e){var t=z.findNextWhere(_,function(t){return t.box===e}),i={left:0,right:0,top:A,bottom:M};t&&e.update(t.minSize.width,x,i)}),T=o,D=a,A=s,M=l,z.each(h,function(t){T+=t.width}),z.each(c,function(t){D+=t.width}),z.each(u,function(t){A+=t.height}),z.each(d,function(t){M+=t.height});var E=Math.max(w-T,0);T+=E,D+=Math.max(S-D,0);var P=Math.max(C-A,0);A+=P,M+=Math.max(k-M,0);var L=t-A-M,I=i-T-D;I===b&&L===x||(z.each(h,function(t){t.height=L}),z.each(c,function(t){t.height=L}),z.each(u,function(t){t.fullWidth||(t.width=I)}),z.each(d,function(t){t.fullWidth||(t.width=I)}),x=L,b=I);var O=o+E,R=s+P;z.each(h.concat(u),N),O+=b,R+=x,z.each(c,N),z.each(d,N),e.chartArea={left:T,top:A,right:T+b,bottom:A+x},z.each(p,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(b,x)})}function F(e){var t=z.findNextWhere(_,function(t){return t.box===e});if(t)if(e.isHorizontal()){var i={left:Math.max(T,w),right:Math.max(D,S),top:0,bottom:0};e.update(e.fullWidth?f:b,g/2,i)}else e.update(t.minSize.width,x)}function N(t){t.isHorizontal()?(t.left=t.fullWidth?o:T,t.right=t.fullWidth?i-a:T+b,t.top=R,t.bottom=R+t.height,R=t.bottom):(t.left=O,t.right=O+t.width,t.top=A,t.bottom=A+x,O=t.right)}}}},{45:45}],31:[function(t,e,i){"use strict";var a=t(25),s=t(45);a._set("global",{plugins:{}}),e.exports={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var i=this._plugins;[].concat(t).forEach(function(t){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,i){var n,r,o,a,s,l=this.descriptors(t),h=l.length;for(n=0;n<h;++n)if("function"==typeof(s=(o=(r=l[n]).plugin)[e])&&((a=[t].concat(i||[])).push(r.options),!1===s.apply(o,a)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],r=[],i=t&&t.config||{},o=i.options&&i.options.plugins||{};return this._plugins.concat(i.plugins||[]).forEach(function(t){if(-1===n.indexOf(t)){var e=t.id,i=o[e];!1!==i&&(!0===i&&(i=s.clone(a.global.plugins[e])),n.push(t),r.push({plugin:t,options:i||{}}))}}),e.descriptors=r,e.id=this._cacheId,r},_invalidate:function(t){delete t.$plugins}}},{25:25,45:45}],32:[function(t,e,i){"use strict";var x=t(25),n=t(26),B=t(45),r=t(34);function C(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(t[e].label);return n}function W(t,e,i){var n=t.getPixelForTick(e);return i&&(n-=0===e?(t.getPixelForTick(1)-n)/2:(n-t.getPixelForTick(e-1))/2),n}x._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:r.formatters.values,minor:{},major:{}}}),e.exports=function(t){function _(t,e,i){return B.isArray(e)?B.longestText(t,i,e):t.measureText(e).width}function w(t){var e=B.valueOrDefault,i=x.global,n=e(t.fontSize,i.defaultFontSize),r=e(t.fontStyle,i.defaultFontStyle),o=e(t.fontFamily,i.defaultFontFamily);return{size:n,style:r,family:o,font:B.fontString(n,r,o)}}function S(t){return B.options.toLineHeight(B.valueOrDefault(t.lineHeight,1.2),B.valueOrDefault(t.fontSize,x.global.defaultFontSize))}t.Scale=n.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;for(var e in!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1}),t)"major"!==e&&"minor"!==e&&(void 0===t.minor[e]&&(t.minor[e]=t[e]),void 0===t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){B.callback(this.options.beforeUpdate,[this])},update:function(t,e,i){var n,r,o,a,s,l,h=this;for(h.beforeUpdate(),h.maxWidth=t,h.maxHeight=e,h.margins=B.extend({left:0,right:0,top:0,bottom:0},i),h.longestTextCache=h.longestTextCache||{},h.beforeSetDimensions(),h.setDimensions(),h.afterSetDimensions(),h.beforeDataLimits(),h.determineDataLimits(),h.afterDataLimits(),h.beforeBuildTicks(),s=h.buildTicks()||[],h.afterBuildTicks(),h.beforeTickToLabelConversion(),o=h.convertTicksToLabels(s)||h.ticks,h.afterTickToLabelConversion(),n=0,r=(h.ticks=o).length;n<r;++n)a=o[n],(l=s[n])?l.label=a:s.push(l={label:a,major:!1});return h._ticks=s,h.beforeCalculateTickRotation(),h.calculateTickRotation(),h.afterCalculateTickRotation(),h.beforeFit(),h.fit(),h.afterFit(),h.afterUpdate(),h.minSize},afterUpdate:function(){B.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){B.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){B.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){B.callback(this.options.beforeDataLimits,[this])},determineDataLimits:B.noop,afterDataLimits:function(){B.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){B.callback(this.options.beforeBuildTicks,[this])},buildTicks:B.noop,afterBuildTicks:function(){B.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){B.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){B.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){B.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,i=t.options.ticks,n=C(t._ticks),r=w(i);e.font=r.font;var o=i.minRotation||0;if(n.length&&t.options.display&&t.isHorizontal())for(var a,s=B.longestText(e,r.font,n,t.longestTextCache),l=s,h=t.getPixelForTick(1)-t.getPixelForTick(0)-6;h<l&&o<i.maxRotation;){var c=B.toRadians(o);if(a=Math.cos(c),Math.sin(c)*s>t.maxHeight){o--;break}o++,l=a*s}t.labelRotation=o},afterCalculateTickRotation:function(){B.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){B.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},i=C(t._ticks),n=t.options,r=n.ticks,o=n.scaleLabel,a=n.gridLines,s=n.display,l=t.isHorizontal(),h=w(r),c=n.gridLines.tickMarkLength;if(e.width=l?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:s&&a.drawTicks?c:0,e.height=l?s&&a.drawTicks?c:0:t.maxHeight,o.display&&s){var u=S(o)+B.options.toPadding(o.padding).height;l?e.height+=u:e.width+=u}if(r.display&&s){var d=B.longestText(t.ctx,h.font,i,t.longestTextCache),p=B.numberOfLabelLines(i),f=.5*h.size,g=t.options.ticks.padding;if(l){t.longestLabelWidth=d;var m=B.toRadians(t.labelRotation),v=Math.cos(m),y=Math.sin(m)*d+h.size*p+f*(p-1)+f;e.height=Math.min(t.maxHeight,e.height+y+g),t.ctx.font=h.font;var b=_(t.ctx,i[0],h.font),x=_(t.ctx,i[i.length-1],h.font);0!==t.labelRotation?(t.paddingLeft="bottom"===n.position?v*b+3:v*f+3,t.paddingRight="bottom"===n.position?v*f+3:v*x+3):(t.paddingLeft=b/2+3,t.paddingRight=x/2+3)}else r.mirror?d=0:d+=g+f,e.width=Math.min(t.maxWidth,e.width+d),t.paddingTop=h.size/2,t.paddingBottom=h.size/2}t.handleMargins(),t.width=e.width,t.height=e.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){B.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(B.isNullOrUndef(t))return NaN;if("number"==typeof t&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:B.noop,getPixelForValue:B.noop,getValueForPixel:B.noop,getPixelForTick:function(t){var e=this,i=e.options.offset;if(e.isHorizontal()){var n=(e.width-(e.paddingLeft+e.paddingRight))/Math.max(e._ticks.length-(i?0:1),1),r=n*t+e.paddingLeft;i&&(r+=n/2);var o=e.left+Math.round(r);return o+=e.isFullWidth()?e.margins.left:0}var a=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(a/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var i=(e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft,n=e.left+Math.round(i);return n+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:0<t&&0<e?t:0},_autoSkip:function(t){var e,i,n,r,o=this,a=o.isHorizontal(),s=o.options.ticks.minor,l=t.length,h=B.toRadians(o.labelRotation),c=Math.cos(h),u=o.longestLabelWidth*c,d=[];for(s.maxTicksLimit&&(r=s.maxTicksLimit),a&&(e=!1,(u+s.autoSkipPadding)*l>o.width-(o.paddingLeft+o.paddingRight)&&(e=1+Math.floor((u+s.autoSkipPadding)*l/(o.width-(o.paddingLeft+o.paddingRight)))),r&&r<l&&(e=Math.max(e,Math.floor(l/r)))),i=0;i<l;i++)n=t[i],(1<e&&0<i%e||i%e==0&&l<=i+e)&&i!==l-1&&delete n.label,d.push(n);return d},draw:function(k){var T=this,D=T.options;if(D.display){var a=T.ctx,A=x.global,M=D.ticks.minor,t=D.ticks.major||M,E=D.gridLines,e=D.scaleLabel,P=0!==T.labelRotation,L=T.isHorizontal(),I=M.autoSkip?T._autoSkip(T.getTicks()):T.getTicks(),s=B.valueOrDefault(M.fontColor,A.defaultFontColor),l=w(M),h=B.valueOrDefault(t.fontColor,A.defaultFontColor),c=w(t),O=E.drawTicks?E.tickMarkLength:0,i=B.valueOrDefault(e.fontColor,A.defaultFontColor),n=w(e),r=B.options.toPadding(e.padding),R=B.toRadians(T.labelRotation),F=[],N=T.options.gridLines.lineWidth,z="right"===D.position?T.right:T.right-N-O,$="right"===D.position?T.right+O:T.right,H="bottom"===D.position?T.top+N:T.bottom-O-N,V="bottom"===D.position?T.top+N+O:T.bottom+N;if(B.each(I,function(t,e){if(!B.isNullOrUndef(t.label)){var i,n,r,o,a,s,l,h,c,u,d,p,f,g,m=t.label;e===T.zeroLineIndex&&D.offset===E.offsetGridLines?(i=E.zeroLineWidth,n=E.zeroLineColor,r=E.zeroLineBorderDash,o=E.zeroLineBorderDashOffset):(i=B.valueAtIndexOrDefault(E.lineWidth,e),n=B.valueAtIndexOrDefault(E.color,e),r=B.valueOrDefault(E.borderDash,A.borderDash),o=B.valueOrDefault(E.borderDashOffset,A.borderDashOffset));var v="middle",y="middle",b=M.padding;if(L){var x=O+b;"bottom"===D.position?(y=P?"middle":"top",v=P?"right":"center",g=T.top+x):(y=P?"middle":"bottom",v=P?"left":"center",g=T.bottom-x);var _=W(T,e,E.offsetGridLines&&1<I.length);_<T.left&&(n="rgba(0,0,0,0)"),_+=B.aliasPixel(i),f=T.getPixelForTick(e)+M.labelOffset,a=l=c=d=_,s=H,h=V,u=k.top,p=k.bottom+N}else{var w,S="left"===D.position;M.mirror?(v=S?"left":"right",w=b):(v=S?"right":"left",w=O+b),f=S?T.right-w:T.left+w;var C=W(T,e,E.offsetGridLines&&1<I.length);C<T.top&&(n="rgba(0,0,0,0)"),C+=B.aliasPixel(i),g=T.getPixelForTick(e)+M.labelOffset,a=z,l=$,c=k.left,d=k.right+N,s=h=u=p=C}F.push({tx1:a,ty1:s,tx2:l,ty2:h,x1:c,y1:u,x2:d,y2:p,labelX:f,labelY:g,glWidth:i,glColor:n,glBorderDash:r,glBorderDashOffset:o,rotation:-1*R,label:m,major:t.major,textBaseline:y,textAlign:v})}}),B.each(F,function(t){if(E.display&&(a.save(),a.lineWidth=t.glWidth,a.strokeStyle=t.glColor,a.setLineDash&&(a.setLineDash(t.glBorderDash),a.lineDashOffset=t.glBorderDashOffset),a.beginPath(),E.drawTicks&&(a.moveTo(t.tx1,t.ty1),a.lineTo(t.tx2,t.ty2)),E.drawOnChartArea&&(a.moveTo(t.x1,t.y1),a.lineTo(t.x2,t.y2)),a.stroke(),a.restore()),M.display){a.save(),a.translate(t.labelX,t.labelY),a.rotate(t.rotation),a.font=t.major?c.font:l.font,a.fillStyle=t.major?h:s,a.textBaseline=t.textBaseline,a.textAlign=t.textAlign;var e=t.label;if(B.isArray(e))for(var i=e.length,n=1.5*l.size,r=T.isHorizontal()?0:-n*(i-1)/2,o=0;o<i;++o)a.fillText(""+e[o],0,r),r+=n;else a.fillText(e,0,0);a.restore()}}),e.display){var o,u,d=0,p=S(e)/2;if(L)o=T.left+(T.right-T.left)/2,u="bottom"===D.position?T.bottom-p-r.bottom:T.top+p+r.top;else{var f="left"===D.position;o=f?T.left+p+r.top:T.right-p-r.top,u=T.top+(T.bottom-T.top)/2,d=f?-.5*Math.PI:.5*Math.PI}a.save(),a.translate(o,u),a.rotate(d),a.textAlign="center",a.textBaseline="middle",a.fillStyle=i,a.font=n.font,a.fillText(e.labelString,0,0),a.restore()}if(E.drawBorder){a.lineWidth=B.valueAtIndexOrDefault(E.lineWidth,0),a.strokeStyle=B.valueAtIndexOrDefault(E.color,0);var g=T.left,m=T.right+N,v=T.top,y=T.bottom+N,b=B.aliasPixel(a.lineWidth);L?(v=y="top"===D.position?T.bottom:T.top,v+=b,y+=b):(g=m="left"===D.position?T.right:T.left,g+=b,m+=b),a.beginPath(),a.moveTo(g,v),a.lineTo(m,y),a.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(t,e,i){"use strict";var n=t(25),r=t(45),o=t(30);e.exports=function(t){t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,e,i){this.constructors[t]=e,this.defaults[t]=r.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?r.merge({},[n.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=r.extend(this.defaults[t],e))},addScalesToLayout:function(e){r.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,o.addBox(e,t)})}}}},{25:25,30:30,45:45}],34:[function(t,e,i){"use strict";var s=t(45);e.exports={formatters:{values:function(t){return s.isArray(t)?t:""+t},linear:function(t,e,i){var n=3<i.length?i[2]-i[1]:i[1]-i[0];1<Math.abs(n)&&t!==Math.floor(t)&&(n=t-Math.floor(t));var r=s.log10(Math.abs(n)),o="";if(0!==t){var a=-1*Math.floor(r);a=Math.max(Math.min(a,20),0),o=t.toFixed(a)}else o="0";return o},logarithmic:function(t,e,i){var n=t/Math.pow(10,Math.floor(s.log10(t)));return 0===t?"0":1===n||2===n||5===n||0===e||e===i.length-1?t.toExponential():""}}}},{45:45}],35:[function(t,e,i){"use strict";var n=t(25),r=t(26),F=t(45);n._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:F.noop,title:function(t,e){var i="",n=e.labels,r=n?n.length:0;if(0<t.length){var o=t[0];o.xLabel?i=o.xLabel:0<r&&o.index<r&&(i=n[o.index])}return i},afterTitle:F.noop,beforeBody:F.noop,beforeLabel:F.noop,label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),i+=t.yLabel},labelColor:function(t,e){var i=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:F.noop,afterBody:F.noop,beforeFooter:F.noop,footer:F.noop,afterFooter:F.noop}}}),e.exports=function(O){function d(t,e){var i=F.color(t);return i.alpha(e*i.alpha()).rgbaString()}function a(t,e){return e&&(F.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function R(t){var e=n.global,i=F.valueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:i(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:i(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:i(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:i(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:i(t.titleFontStyle,e.defaultFontStyle),titleFontSize:i(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:i(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:i(t.footerFontStyle,e.defaultFontStyle),footerFontSize:i(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}O.Tooltip=r.extend({initialize:function(){this._model=R(this._options),this._lastActive=[]},getTitle:function(){var t=this._options.callbacks,e=t.beforeTitle.apply(this,arguments),i=t.title.apply(this,arguments),n=t.afterTitle.apply(this,arguments),r=[];return r=a(r=a(r=a(r,e),i),n)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return F.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,i){var n=this,r=n._options.callbacks,o=[];return F.each(t,function(t){var e={before:[],lines:[],after:[]};a(e.before,r.beforeLabel.call(n,t,i)),a(e.lines,r.label.call(n,t,i)),a(e.after,r.afterLabel.call(n,t,i)),o.push(e)}),o},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return F.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this._options.callbacks,e=t.beforeFooter.apply(this,arguments),i=t.footer.apply(this,arguments),n=t.afterFooter.apply(this,arguments),r=[];return r=a(r=a(r=a(r,e),i),n)},update:function(t){var e,i,n,r,o,a,s,l,h,c,u,d,p,f,g,m,v,y,b,x,_=this,w=_._options,S=_._model,C=_._model=R(w),k=_._active,T=_._data,D={xAlign:S.xAlign,yAlign:S.yAlign},A={x:S.x,y:S.y},M={width:S.width,height:S.height},E={x:S.caretX,y:S.caretY};if(k.length){C.opacity=1;var P=[],L=[];E=O.Tooltip.positioners[w.position].call(_,k,_._eventPosition);var I=[];for(e=0,i=k.length;e<i;++e)I.push((m=k[e],y=v=void 0,v=m._xScale,y=m._yScale||m._scale,b=m._index,x=m._datasetIndex,{xLabel:v?v.getLabelForIndex(b,x):"",yLabel:y?y.getLabelForIndex(b,x):"",index:b,datasetIndex:x,x:m._model.x,y:m._model.y}));w.filter&&(I=I.filter(function(t){return w.filter(t,T)})),w.itemSort&&(I=I.sort(function(t,e){return w.itemSort(t,e,T)})),F.each(I,function(t){P.push(w.callbacks.labelColor.call(_,t,_._chart)),L.push(w.callbacks.labelTextColor.call(_,t,_._chart))}),C.title=_.getTitle(I,T),C.beforeBody=_.getBeforeBody(I,T),C.body=_.getBody(I,T),C.afterBody=_.getAfterBody(I,T),C.footer=_.getFooter(I,T),C.x=Math.round(E.x),C.y=Math.round(E.y),C.caretPadding=w.caretPadding,C.labelColors=P,C.labelTextColors=L,C.dataPoints=I,D=function(t,e){var i,n,r,o,a,s=t._model,l=t._chart,h=t._chart.chartArea,c="center",u="center";s.y<e.height?u="top":s.y>l.height-e.height&&(u="bottom");var d=(h.left+h.right)/2,p=(h.top+h.bottom)/2;"center"===u?(i=function(t){return t<=d},n=function(t){return d<t}):(i=function(t){return t<=e.width/2},n=function(t){return t>=l.width-e.width/2}),r=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},o=function(t){return t-e.width-s.caretSize-s.caretPadding<0},a=function(t){return t<=p?"top":"bottom"},i(s.x)?(c="left",r(s.x)&&(c="center",u=a(s.y))):n(s.x)&&(c="right",o(s.x)&&(c="center",u=a(s.y)));var f=t._options;return{xAlign:f.xAlign?f.xAlign:c,yAlign:f.yAlign?f.yAlign:u}}(this,M=function(t,e){var i=t._chart.ctx,n=2*e.yPadding,r=0,o=e.body,a=o.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);a+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,l=e.footer.length,h=e.titleFontSize,c=e.bodyFontSize,u=e.footerFontSize;n+=s*h,n+=s?(s-1)*e.titleSpacing:0,n+=s?e.titleMarginBottom:0,n+=a*c,n+=a?(a-1)*e.bodySpacing:0,n+=l?e.footerMarginTop:0,n+=l*u,n+=l?(l-1)*e.footerSpacing:0;var d=0,p=function(t){r=Math.max(r,i.measureText(t).width+d)};return i.font=F.fontString(h,e._titleFontStyle,e._titleFontFamily),F.each(e.title,p),i.font=F.fontString(c,e._bodyFontStyle,e._bodyFontFamily),F.each(e.beforeBody.concat(e.afterBody),p),d=e.displayColors?c+2:0,F.each(o,function(t){F.each(t.before,p),F.each(t.lines,p),F.each(t.after,p)}),d=0,i.font=F.fontString(u,e._footerFontStyle,e._footerFontFamily),F.each(e.footer,p),{width:r+=2*e.xPadding,height:n}}(this,C)),n=C,r=M,o=D,a=_._chart,s=n.x,l=n.y,h=n.caretSize,c=n.caretPadding,u=n.cornerRadius,d=o.xAlign,p=o.yAlign,f=h+c,g=u+c,"right"===d?s-=r.width:"center"===d&&((s-=r.width/2)+r.width>a.width&&(s=a.width-r.width),s<0&&(s=0)),"top"===p?l+=f:l-="bottom"===p?r.height+f:r.height/2,"center"===p?"left"===d?s+=f:"right"===d&&(s-=f):"left"===d?s-=g:"right"===d&&(s+=g),A={x:s,y:l}}else C.opacity=0;return C.xAlign=D.xAlign,C.yAlign=D.yAlign,C.x=A.x,C.y=A.y,C.width=M.width,C.height=M.height,C.caretX=E.x,C.caretY=E.y,_._model=C,t&&w.custom&&w.custom.call(_,C),_},drawCaret:function(t,e){var i=this._chart.ctx,n=this._view,r=this.getCaretPosition(t,e,n);i.lineTo(r.x1,r.y1),i.lineTo(r.x2,r.y2),i.lineTo(r.x3,r.y3)},getCaretPosition:function(t,e,i){var n,r,o,a,s,l,h=i.caretSize,c=i.cornerRadius,u=i.xAlign,d=i.yAlign,p=t.x,f=t.y,g=e.width,m=e.height;if("center"===d)s=f+m/2,"left"===u?(r=(n=p)-h,o=n,a=s+h,l=s-h):(r=(n=p+g)+h,o=n,a=s-h,l=s+h);else if(n="left"===u?(r=p+c+h)-h:"right"===u?(r=p+g-c-h)-h:(r=i.caretX)-h,o=r+h,"top"===d)s=(a=f)-h,l=a;else{s=(a=f+m)+h,l=a;var v=o;o=n,n=v}return{x1:n,x2:r,x3:o,y1:a,y2:s,y3:l}},drawTitle:function(t,e,i,n){var r=e.title;if(r.length){i.textAlign=e._titleAlign,i.textBaseline="top";var o,a,s=e.titleFontSize,l=e.titleSpacing;for(i.fillStyle=d(e.titleFontColor,n),i.font=F.fontString(s,e._titleFontStyle,e._titleFontFamily),o=0,a=r.length;o<a;++o)i.fillText(r[o],t.x,t.y),t.y+=s+l,o+1===r.length&&(t.y+=e.titleMarginBottom-l)}},drawBody:function(n,r,o,a){var s=r.bodyFontSize,e=r.bodySpacing,t=r.body;o.textAlign=r._bodyAlign,o.textBaseline="top",o.font=F.fontString(s,r._bodyFontStyle,r._bodyFontFamily);var i=0,l=function(t){o.fillText(t,n.x+i,n.y),n.y+=s+e};o.fillStyle=d(r.bodyFontColor,a),F.each(r.beforeBody,l);var h=r.displayColors;i=h?s+2:0,F.each(t,function(t,e){var i=d(r.labelTextColors[e],a);o.fillStyle=i,F.each(t.before,l),F.each(t.lines,function(t){h&&(o.fillStyle=d(r.legendColorBackground,a),o.fillRect(n.x,n.y,s,s),o.lineWidth=1,o.strokeStyle=d(r.labelColors[e].borderColor,a),o.strokeRect(n.x,n.y,s,s),o.fillStyle=d(r.labelColors[e].backgroundColor,a),o.fillRect(n.x+1,n.y+1,s-2,s-2),o.fillStyle=i),l(t)}),F.each(t.after,l)}),i=0,F.each(r.afterBody,l),n.y-=e},drawFooter:function(e,i,n,t){var r=i.footer;r.length&&(e.y+=i.footerMarginTop,n.textAlign=i._footerAlign,n.textBaseline="top",n.fillStyle=d(i.footerFontColor,t),n.font=F.fontString(i.footerFontSize,i._footerFontStyle,i._footerFontFamily),F.each(r,function(t){n.fillText(t,e.x,e.y),e.y+=i.footerFontSize+i.footerSpacing}))},drawBackground:function(t,e,i,n,r){i.fillStyle=d(e.backgroundColor,r),i.strokeStyle=d(e.borderColor,r),i.lineWidth=e.borderWidth;var o=e.xAlign,a=e.yAlign,s=t.x,l=t.y,h=n.width,c=n.height,u=e.cornerRadius;i.beginPath(),i.moveTo(s+u,l),"top"===a&&this.drawCaret(t,n),i.lineTo(s+h-u,l),i.quadraticCurveTo(s+h,l,s+h,l+u),"center"===a&&"right"===o&&this.drawCaret(t,n),i.lineTo(s+h,l+c-u),i.quadraticCurveTo(s+h,l+c,s+h-u,l+c),"bottom"===a&&this.drawCaret(t,n),i.lineTo(s+u,l+c),i.quadraticCurveTo(s,l+c,s,l+c-u),"center"===a&&"left"===o&&this.drawCaret(t,n),i.lineTo(s,l+u),i.quadraticCurveTo(s,l,s+u,l),i.closePath(),i.fill(),0<e.borderWidth&&i.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var i={width:e.width,height:e.height},n={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity,o=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&o&&(this.drawBackground(n,e,t,i,r),n.x+=e.xPadding,n.y+=e.yPadding,this.drawTitle(n,e,t,r),this.drawBody(n,e,t,r),this.drawFooter(n,e,t,r))}},handleEvent:function(t){var e,i=this,n=i._options;return i._lastActive=i._lastActive||[],"mouseout"===t.type?i._active=[]:i._active=i._chart.getElementsAtEventForMode(t,n.mode,n),(e=!F.arrayEquals(i._active,i._lastActive))&&(i._lastActive=i._active,(n.enabled||n.custom)&&(i._eventPosition={x:t.x,y:t.y},i.update(!0),i.pivot())),e}}),O.Tooltip.positioners={average:function(t){if(!t.length)return!1;var e,i,n=0,r=0,o=0;for(e=0,i=t.length;e<i;++e){var a=t[e];if(a&&a.hasValue()){var s=a.tooltipPosition();n+=s.x,r+=s.y,++o}}return{x:Math.round(n/o),y:Math.round(r/o)}},nearest:function(t,e){var i,n,r,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){var l=t[i];if(l&&l.hasValue()){var h=l.getCenterPoint(),c=F.distanceBetweenPoints(e,h);c<s&&(s=c,r=l)}}if(r){var u=r.tooltipPosition();o=u.x,a=u.y}return{x:o,y:a}}}}},{25:25,26:26,45:45}],36:[function(t,e,i){"use strict";var n=t(25),r=t(26),c=t(45);n._set("global",{elements:{arc:{backgroundColor:n.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),e.exports=r.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var i=this._view;if(i){for(var n=c.getAngleFromPoint(i,{x:t,y:e}),r=n.angle,o=n.distance,a=i.startAngle,s=i.endAngle;s<a;)s+=2*Math.PI;for(;s<r;)r-=2*Math.PI;for(;r<a;)r+=2*Math.PI;var l=a<=r&&r<=s,h=o>=i.innerRadius&&o<=i.outerRadius;return l&&h}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,i=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t=this._chart.ctx,e=this._view,i=e.startAngle,n=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,i,n),t.arc(e.x,e.y,e.innerRadius,n,i,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})},{25:25,26:26,45:45}],37:[function(t,e,i){"use strict";var n=t(25),r=t(26),c=t(45),u=n.global;n._set("global",{elements:{line:{tension:.4,backgroundColor:u.defaultColor,borderWidth:3,borderColor:u.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),e.exports=r.extend({draw:function(){var t,e,i,n,r=this._view,o=this._chart.ctx,a=r.spanGaps,s=this._children.slice(),l=u.elements.line,h=-1;for(this._loop&&s.length&&s.push(s[0]),o.save(),o.lineCap=r.borderCapStyle||l.borderCapStyle,o.setLineDash&&o.setLineDash(r.borderDash||l.borderDash),o.lineDashOffset=r.borderDashOffset||l.borderDashOffset,o.lineJoin=r.borderJoinStyle||l.borderJoinStyle,o.lineWidth=r.borderWidth||l.borderWidth,o.strokeStyle=r.borderColor||u.defaultColor,o.beginPath(),h=-1,t=0;t<s.length;++t)e=s[t],i=c.previousItem(s,t),n=e._view,0===t?n.skip||(o.moveTo(n.x,n.y),h=t):(i=-1===h?i:s[h],n.skip||(h!==t-1&&!a||-1===h?o.moveTo(n.x,n.y):c.canvas.lineTo(o,i._view,e._view),h=t));o.stroke(),o.restore()}})},{25:25,26:26,45:45}],38:[function(t,e,i){"use strict";var c=t(25),n=t(26),u=t(45),d=c.global.defaultColor;function r(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}c._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:d,borderColor:d,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),e.exports=n.extend({inRange:function(t,e){var i=this._view;return!!i&&Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:r,inXRange:r,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,i=this._model,n=this._chart.ctx,r=e.pointStyle,o=e.radius,a=e.x,s=e.y,l=u.color,h=0;e.skip||(n.strokeStyle=e.borderColor||d,n.lineWidth=u.valueOrDefault(e.borderWidth,c.global.elements.point.borderWidth),n.fillStyle=e.backgroundColor||d,void 0!==t&&(i.x<t.left||1.01*t.right<i.x||i.y<t.top||1.01*t.bottom<i.y)&&(i.x<t.left?h=(a-i.x)/(t.left-i.x):1.01*t.right<i.x?h=(i.x-a)/(i.x-t.right):i.y<t.top?h=(s-i.y)/(t.top-i.y):1.01*t.bottom<i.y&&(h=(i.y-s)/(i.y-t.bottom)),h=Math.round(100*h)/100,n.strokeStyle=l(n.strokeStyle).alpha(h).rgbString(),n.fillStyle=l(n.fillStyle).alpha(h).rgbString()),u.canvas.drawPoint(n,r,o,a,s))}})},{25:25,26:26,45:45}],39:[function(t,e,i){"use strict";var n=t(25),r=t(26);function l(t){return void 0!==t._view.width}function o(t){var e,i,n,r,o=t._view;if(l(t)){var a=o.width/2;e=o.x-a,i=o.x+a,n=Math.min(o.y,o.base),r=Math.max(o.y,o.base)}else{var s=o.height/2;e=Math.min(o.x,o.base),i=Math.max(o.x,o.base),n=o.y-s,r=o.y+s}return{left:e,top:n,right:i,bottom:r}}n._set("global",{elements:{rectangle:{backgroundColor:n.global.defaultColor,borderColor:n.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),e.exports=r.extend({draw:function(){var t,e,i,n,r,o,a,s=this._chart.ctx,l=this._view,h=l.borderWidth;if(l.horizontal?(t=l.base,e=l.x,i=l.y-l.height/2,n=l.y+l.height/2,r=t<e?1:-1,o=1,a=l.borderSkipped||"left"):(t=l.x-l.width/2,e=l.x+l.width/2,r=1,o=(i=l.y)<(n=l.base)?1:-1,a=l.borderSkipped||"bottom"),h){var c=Math.min(Math.abs(t-e),Math.abs(i-n)),u=(h=c<h?c:h)/2,d=t+("left"!==a?u*r:0),p=e+("right"!==a?-u*r:0),f=i+("top"!==a?u*o:0),g=n+("bottom"!==a?-u*o:0);d!==p&&(i=f,n=g),f!==g&&(t=d,e=p)}s.beginPath(),s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=h;var m=[[t,n],[t,i],[e,i],[e,n]],v=["bottom","left","top","right"].indexOf(a,0);function y(t){return m[(v+t)%4]}-1===v&&(v=0);var b=y(0);s.moveTo(b[0],b[1]);for(var x=1;x<4;x++)b=y(x),s.lineTo(b[0],b[1]);s.fill(),h&&s.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var i=!1;if(this._view){var n=o(this);i=t>=n.left&&t<=n.right&&e>=n.top&&e<=n.bottom}return i},inLabelRange:function(t,e){if(!this._view)return!1;var i=o(this);return l(this)?t>=i.left&&t<=i.right:e>=i.top&&e<=i.bottom},inXRange:function(t){var e=o(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=o(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,i=this._view;return l(this)?(t=i.x,e=(i.y+i.base)/2):(t=(i.x+i.base)/2,e=i.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})},{25:25,26:26}],40:[function(t,e,i){"use strict";e.exports={},e.exports.Arc=t(36),e.exports.Line=t(37),e.exports.Point=t(38),e.exports.Rectangle=t(39)},{36:36,37:37,38:38,39:39}],41:[function(t,e,i){"use strict";var n=t(42);i=e.exports={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,i,n,r,o){if(o){var a=Math.min(o,n/2),s=Math.min(o,r/2);t.moveTo(e+a,i),t.lineTo(e+n-a,i),t.quadraticCurveTo(e+n,i,e+n,i+s),t.lineTo(e+n,i+r-s),t.quadraticCurveTo(e+n,i+r,e+n-a,i+r),t.lineTo(e+a,i+r),t.quadraticCurveTo(e,i+r,e,i+r-s),t.lineTo(e,i+s),t.quadraticCurveTo(e,i,e+a,i)}else t.rect(e,i,n,r)},drawPoint:function(t,e,i,n,r){var o,a,s,l,h,c;if(!e||"object"!=typeof e||"[object HTMLImageElement]"!==(o=e.toString())&&"[object HTMLCanvasElement]"!==o){if(!(isNaN(i)||i<=0)){switch(e){default:t.beginPath(),t.arc(n,r,i,0,2*Math.PI),t.closePath(),t.fill();break;case"triangle":t.beginPath(),h=(a=3*i/Math.sqrt(3))*Math.sqrt(3)/2,t.moveTo(n-a/2,r+h/3),t.lineTo(n+a/2,r+h/3),t.lineTo(n,r-2*h/3),t.closePath(),t.fill();break;case"rect":c=1/Math.SQRT2*i,t.beginPath(),t.fillRect(n-c,r-c,2*c,2*c),t.strokeRect(n-c,r-c,2*c,2*c);break;case"rectRounded":var u=i/Math.SQRT2,d=n-u,p=r-u,f=Math.SQRT2*i;t.beginPath(),this.roundedRect(t,d,p,f,f,i/2),t.closePath(),t.fill();break;case"rectRot":c=1/Math.SQRT2*i,t.beginPath(),t.moveTo(n-c,r),t.lineTo(n,r+c),t.lineTo(n+c,r),t.lineTo(n,r-c),t.closePath(),t.fill();break;case"cross":t.beginPath(),t.moveTo(n,r+i),t.lineTo(n,r-i),t.moveTo(n-i,r),t.lineTo(n+i,r),t.closePath();break;case"crossRot":t.beginPath(),s=Math.cos(Math.PI/4)*i,l=Math.sin(Math.PI/4)*i,t.moveTo(n-s,r-l),t.lineTo(n+s,r+l),t.moveTo(n-s,r+l),t.lineTo(n+s,r-l),t.closePath();break;case"star":t.beginPath(),t.moveTo(n,r+i),t.lineTo(n,r-i),t.moveTo(n-i,r),t.lineTo(n+i,r),s=Math.cos(Math.PI/4)*i,l=Math.sin(Math.PI/4)*i,t.moveTo(n-s,r-l),t.lineTo(n+s,r+l),t.moveTo(n-s,r+l),t.lineTo(n+s,r-l),t.closePath();break;case"line":t.beginPath(),t.moveTo(n-i,r),t.lineTo(n+i,r),t.closePath();break;case"dash":t.beginPath(),t.moveTo(n,r),t.lineTo(n+i,r),t.closePath()}t.stroke()}}else t.drawImage(e,n-e.width/2,r-e.height/2,e.width,e.height)},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,i,n){if(i.steppedLine)return"after"===i.steppedLine&&!n||"after"!==i.steppedLine&&n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y),void t.lineTo(i.x,i.y);i.tension?t.bezierCurveTo(n?e.controlPointPreviousX:e.controlPointNextX,n?e.controlPointPreviousY:e.controlPointNextY,n?i.controlPointNextX:i.controlPointPreviousX,n?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y):t.lineTo(i.x,i.y)}};n.clear=i.clear,n.drawRoundedRectangle=function(t){t.beginPath(),i.roundedRect.apply(i,arguments),t.closePath()}},{42:42}],42:[function(t,e,i){"use strict";var n,c={noop:function(){},uid:(n=0,function(){return n++}),isNullOrUndef:function(t){return null==t},isArray:Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,i){return c.valueOrDefault(c.isArray(t)?t[e]:t,i)},callback:function(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)},each:function(t,e,i,n){var r,o,a;if(c.isArray(t))if(o=t.length,n)for(r=o-1;0<=r;r--)e.call(i,t[r],r);else for(r=0;r<o;r++)e.call(i,t[r],r);else if(c.isObject(t))for(o=(a=Object.keys(t)).length,r=0;r<o;r++)e.call(i,t[a[r]],a[r])},arrayEquals:function(t,e){var i,n,r,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(r=t[i],o=e[i],r instanceof Array&&o instanceof Array){if(!c.arrayEquals(r,o))return!1}else if(r!==o)return!1;return!0},clone:function(t){if(c.isArray(t))return t.map(c.clone);if(c.isObject(t)){for(var e={},i=Object.keys(t),n=i.length,r=0;r<n;++r)e[i[r]]=c.clone(t[i[r]]);return e}return t},_merger:function(t,e,i,n){var r=e[t],o=i[t];c.isObject(r)&&c.isObject(o)?c.merge(r,o,n):e[t]=c.clone(o)},_mergerIf:function(t,e,i){var n=e[t],r=i[t];c.isObject(n)&&c.isObject(r)?c.mergeIf(n,r):e.hasOwnProperty(t)||(e[t]=c.clone(r))},merge:function(t,e,i){var n,r,o,a,s,l=c.isArray(e)?e:[e],h=l.length;if(!c.isObject(t))return t;for(n=(i=i||{}).merger||c._merger,r=0;r<h;++r)if(e=l[r],c.isObject(e))for(s=0,a=(o=Object.keys(e)).length;s<a;++s)n(o[s],t,e,i);return t},mergeIf:function(t,e){return c.merge(t,e,{merger:c._mergerIf})},extend:function(i){for(var t=function(t,e){i[e]=t},e=1,n=arguments.length;e<n;++e)c.each(arguments[e],t);return i},inherits:function(t){var e=this,i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},n=function(){this.constructor=i};return n.prototype=e.prototype,i.prototype=new n,i.extend=c.inherits,t&&c.extend(i.prototype,t),i.__super__=e.prototype,i}};(e.exports=c).callCallback=c.callback,c.indexOf=function(t,e,i){return Array.prototype.indexOf.call(t,e,i)},c.getValueOrDefault=c.valueOrDefault,c.getValueAtIndexOrDefault=c.valueAtIndexOrDefault},{}],43:[function(t,e,i){"use strict";var n=t(42),r={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return 1<=t?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},easeOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:2==(t/=.5)?1:(i||(i=.45),n<1?(n=1,e=i/4):e=i/(2*Math.PI)*Math.asin(1/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-r.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*r.easeInBounce(2*t):.5*r.easeOutBounce(2*t-1)+.5}};e.exports={effects:r},n.easingEffects=r},{42:42}],44:[function(t,e,i){"use strict";var a=t(42);e.exports={toLineHeight:function(t,e){var i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,i,n,r;return a.isObject(t)?(e=+t.top||0,i=+t.right||0,n=+t.bottom||0,r=+t.left||0):e=i=n=r=+t||0,{top:e,right:i,bottom:n,left:r,height:e+n,width:r+i}},resolve:function(t,e,i){var n,r,o;for(n=0,r=t.length;n<r;++n)if(void 0!==(o=t[n])&&(void 0!==e&&"function"==typeof o&&(o=o(e)),void 0!==i&&a.isArray(o)&&(o=o[i]),void 0!==o))return o}}},{42:42}],45:[function(t,e,i){"use strict";e.exports=t(42),e.exports.easing=t(43),e.exports.canvas=t(41),e.exports.options=t(44)},{41:41,42:42,43:43,44:44}],46:[function(t,e,i){e.exports={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}}},{}],47:[function(t,e,i){"use strict";var p=t(45),f="$chartjs",g="chartjs-",m=g+"render-monitor",v=g+"render-animation",y=["animationstart","webkitAnimationStart"],s={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function l(t,e){var i=p.getStyle(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?Number(n[1]):void 0}var n=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{passive:!0};function b(t,e,i){t.addEventListener(e,i,n)}function a(t,e,i){t.removeEventListener(e,i,n)}function x(t,e,i,n,r){return{type:t,chart:e,native:r||null,x:void 0!==i?i:null,y:void 0!==n?n:null}}function r(e,t,i){var n,r,o,a,s,l,h,c,u=e[f]||(e[f]={}),d=u.resizer=function(t){var e=document.createElement("div"),i=g+"size-monitor",n="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";e.style.cssText=n,e.className=i,e.innerHTML='<div class="'+i+'-expand" style="'+n+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+i+'-shrink" style="'+n+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var r=e.childNodes[0],o=e.childNodes[1];e._reset=function(){r.scrollLeft=1e6,r.scrollTop=1e6,o.scrollLeft=1e6,o.scrollTop=1e6};var a=function(){e._reset(),t()};return b(r,"scroll",a.bind(r,"expand")),b(o,"scroll",a.bind(o,"shrink")),e}((o=!(n=function(){if(u.resizer)return t(x("resize",i))}),a=[],function(){a=Array.prototype.slice.call(arguments),r=r||this,o||(o=!0,p.requestAnimFrame.call(window,function(){o=!1,n.apply(r,a)}))}));l=function(){if(u.resizer){var t=e.parentNode;t&&t!==d.parentNode&&t.insertBefore(d,t.firstChild),d._reset()}},h=(s=e)[f]||(s[f]={}),c=h.renderProxy=function(t){t.animationName===v&&l()},p.each(y,function(t){b(s,t,c)}),h.reflow=!!s.offsetParent,s.classList.add(m)}function o(t){var e,i,n,r=t[f]||{},o=r.resizer;delete r.resizer,i=(e=t)[f]||{},(n=i.renderProxy)&&(p.each(y,function(t){a(e,t,n)}),delete i.renderProxy),e.classList.remove(m),o&&o.parentNode&&o.parentNode.removeChild(o)}e.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var t,e,i,n="from{opacity:0.99}to{opacity:1}";e="@-webkit-keyframes "+v+"{"+n+"}@keyframes "+v+"{"+n+"}."+m+"{-webkit-animation:"+v+" 0.001s;animation:"+v+" 0.001s;}",i=(t=this)._style||document.createElement("style"),t._style||(e="/* Chart.js */\n"+e,(t._style=i).setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(i)),i.appendChild(document.createTextNode(e))},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(t,e){var i=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[f]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===r||""===r){var o=l(t,"width");void 0!==o&&(t.width=o)}if(null===n||""===n)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var a=l(t,"height");void 0!==o&&(t.height=a)}}(t,e),i):null},releaseContext:function(t){var i=t.canvas;if(i[f]){var n=i[f].initial;["height","width"].forEach(function(t){var e=n[t];p.isNullOrUndef(e)?i.removeAttribute(t):i.setAttribute(t,e)}),p.each(n.style||{},function(t,e){i.style[e]=t}),i.width=i.width,delete i[f]}},addEventListener:function(o,t,a){var e=o.canvas;if("resize"!==t){var i=a[f]||(a[f]={});b(e,t,(i.proxies||(i.proxies={}))[o.id+"_"+t]=function(t){var e,i,n,r;a((i=o,n=s[(e=t).type]||e.type,r=p.getRelativePosition(e,i),x(n,i,r.x,r.y,e)))})}else r(e,a,o)},removeEventListener:function(t,e,i){var n=t.canvas;if("resize"!==e){var r=((i[f]||{}).proxies||{})[t.id+"_"+e];r&&a(n,e,r)}else o(n)}},p.addEvent=b,p.removeEvent=a},{45:45}],48:[function(t,e,i){"use strict";var n=t(45),r=t(46),o=t(47),a=o._enabled?o:r;e.exports=n.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},a)},{45:45,46:46,47:47}],49:[function(t,e,i){"use strict";e.exports={},e.exports.filler=t(50),e.exports.legend=t(51),e.exports.title=t(52)},{50:50,51:51,52:52}],50:[function(t,e,i){"use strict";var h=t(25),d=t(40),c=t(45);h._set("global",{plugins:{filler:{propagate:!0}}});var p={dataset:function(t){var e=t.fill,i=t.chart,n=i.getDatasetMeta(e),r=n&&i.isDatasetVisible(e)&&n.dataset._children||[],o=r.length||0;return o?function(t,e){return e<o&&r[e]._view||null}:null},boundary:function(t){var e=t.boundary,i=e?e.x:null,n=e?e.y:null;return function(t){return{x:null===i?t.x:i,y:null===n?t.y:n}}}};function f(t,e,i){var n,r=t._model||{},o=r.fill;if(void 0===o&&(o=!!r.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(n=parseFloat(o,10),isFinite(n)&&Math.floor(n)===n)return"-"!==o[0]&&"+"!==o[0]||(n=e+n),!(n===e||n<0||i<=n)&&n;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function g(t){var e,i=t.el._model||{},n=t.el._scale||{},r=t.fill,o=null;if(isFinite(r))return null;if("start"===r?o=void 0===i.scaleBottom?n.bottom:i.scaleBottom:"end"===r?o=void 0===i.scaleTop?n.top:i.scaleTop:void 0!==i.scaleZero?o=i.scaleZero:n.getBasePosition?o=n.getBasePosition():n.getBasePixel&&(o=n.getBasePixel()),null!=o){if(void 0!==o.x&&void 0!==o.y)return o;if("number"==typeof o&&isFinite(o))return{x:(e=n.isHorizontal())?o:null,y:e?null:o}}return null}function m(t,e,i){var n,r=t[e].fill,o=[e];if(!i)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!isFinite(r))return r;if(!(n=t[r]))return!1;if(n.visible)return r;o.push(r),r=n.fill}return!1}function b(t){return t&&!t.skip}function x(t,e,i,n,r){var o;if(n&&r){for(t.moveTo(e[0].x,e[0].y),o=1;o<n;++o)c.canvas.lineTo(t,e[o-1],e[o]);for(t.lineTo(i[r-1].x,i[r-1].y),o=r-1;0<o;--o)c.canvas.lineTo(t,i[o],i[o-1],!0)}}e.exports={id:"filler",afterDatasetsUpdate:function(t,e){var i,n,r,o,a,s,l,h=(t.data.datasets||[]).length,c=e.propagate,u=[];for(n=0;n<h;++n)o=null,(r=(i=t.getDatasetMeta(n)).dataset)&&r._model&&r instanceof d.Line&&(o={visible:t.isDatasetVisible(n),fill:f(r,n,h),chart:t,el:r}),i.$filler=o,u.push(o);for(n=0;n<h;++n)(o=u[n])&&(o.fill=m(u,n,c),o.boundary=g(o),o.mapper=(l=void 0,s=(a=o).fill,!(l="dataset")===s?null:(isFinite(s)||(l="boundary"),p[l](a))))},beforeDatasetDraw:function(t,e){var i=e.meta.$filler;if(i){var n=t.ctx,r=i.el,o=r._view,a=r._children||[],s=i.mapper,l=o.backgroundColor||h.global.defaultColor;s&&l&&a.length&&(c.canvas.clipArea(n,t.chartArea),function(t,e,i,n,r,o){var a,s,l,h,c,u,d,p=e.length,f=n.spanGaps,g=[],m=[],v=0,y=0;for(t.beginPath(),a=0,s=p+!!o;a<s;++a)c=i(h=e[l=a%p]._view,l,n),u=b(h),d=b(c),u&&d?(v=g.push(h),y=m.push(c)):v&&y&&(f?(u&&g.push(h),d&&m.push(c)):(x(t,g,m,v,y),v=y=0,g=[],m=[]));x(t,g,m,v,y),t.closePath(),t.fillStyle=r,t.fill()}(n,a,s,o,l,r._loop),c.canvas.unclipArea(n))}}}},{25:25,40:40,45:45}],51:[function(t,e,i){"use strict";var T=t(25),n=t(26),D=t(45),r=t(30),o=D.noop;function A(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}T._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var i=e.datasetIndex,n=this.chart,r=n.getDatasetMeta(i);r.hidden=null===r.hidden?!n.data.datasets[i].hidden:null,n.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(i){var t=i.data;return D.isArray(t.datasets)?t.datasets.map(function(t,e){return{text:t.label,fillStyle:D.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!i.isDatasetVisible(e),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:e}},this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var i=0;i<t.data.datasets.length;i++)e.push('<li><span style="background-color:'+t.data.datasets[i].backgroundColor+'"></span>'),t.data.datasets[i].label&&e.push(t.data.datasets[i].label),e.push("</li>");return e.push("</ul>"),e.join("")}});var a=n.extend({initialize:function(t){D.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:o,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:o,beforeSetDimensions:o,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:o,beforeBuildLabels:o,buildLabels:function(){var e=this,i=e.options.labels||{},t=D.callback(i.generateLabels,[e.chart],e)||[];i.filter&&(t=t.filter(function(t){return i.filter(t,e.chart.data)})),e.options.reverse&&t.reverse(),e.legendItems=t},afterBuildLabels:o,beforeFit:o,fit:function(){var n=this,t=n.options,r=t.labels,e=t.display,o=n.ctx,i=T.global,a=D.valueOrDefault,s=a(r.fontSize,i.defaultFontSize),l=a(r.fontStyle,i.defaultFontStyle),h=a(r.fontFamily,i.defaultFontFamily),c=D.fontString(s,l,h),u=n.legendHitBoxes=[],d=n.minSize,p=n.isHorizontal();if(p?(d.width=n.maxWidth,d.height=e?10:0):(d.width=e?10:0,d.height=n.maxHeight),e)if(o.font=c,p){var f=n.lineWidths=[0],g=n.legendItems.length?s+r.padding:0;o.textAlign="left",o.textBaseline="top",D.each(n.legendItems,function(t,e){var i=A(r,s)+s/2+o.measureText(t.text).width;f[f.length-1]+i+r.padding>=n.width&&(g+=s+r.padding,f[f.length]=n.left),u[e]={left:0,top:0,width:i,height:s},f[f.length-1]+=i+r.padding}),d.height+=g}else{var m=r.padding,v=n.columnWidths=[],y=r.padding,b=0,x=0,_=s+m;D.each(n.legendItems,function(t,e){var i=A(r,s)+s/2+o.measureText(t.text).width;x+_>d.height&&(y+=b+r.padding,v.push(b),x=b=0),b=Math.max(b,i),x+=_,u[e]={left:0,top:0,width:i,height:s}}),y+=b,v.push(b),d.width+=y}n.width=d.width,n.height=d.height},afterFit:o,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var u=this,d=u.options,p=d.labels,f=T.global,g=f.elements.line,m=u.width,v=u.lineWidths;if(d.display){var y,b=u.ctx,x=D.valueOrDefault,t=x(p.fontColor,f.defaultFontColor),_=x(p.fontSize,f.defaultFontSize),e=x(p.fontStyle,f.defaultFontStyle),i=x(p.fontFamily,f.defaultFontFamily),n=D.fontString(_,e,i);b.textAlign="left",b.textBaseline="middle",b.lineWidth=.5,b.strokeStyle=t,b.fillStyle=t,b.font=n;var w=A(p,_),S=u.legendHitBoxes,C=u.isHorizontal();y=C?{x:u.left+(m-v[0])/2,y:u.top+p.padding,line:0}:{x:u.left+p.padding,y:u.top+p.padding,line:0};var k=_+p.padding;D.each(u.legendItems,function(t,e){var i,n,r,o,a,s=b.measureText(t.text).width,l=w+_/2+s,h=y.x,c=y.y;C?m<=h+l&&(c=y.y+=k,y.line++,h=y.x=u.left+(m-v[y.line])/2):c+k>u.bottom&&(h=y.x=h+u.columnWidths[y.line]+p.padding,c=y.y=u.top+p.padding,y.line++),function(t,e,i){if(!(isNaN(w)||w<=0)){b.save(),b.fillStyle=x(i.fillStyle,f.defaultColor),b.lineCap=x(i.lineCap,g.borderCapStyle),b.lineDashOffset=x(i.lineDashOffset,g.borderDashOffset),b.lineJoin=x(i.lineJoin,g.borderJoinStyle),b.lineWidth=x(i.lineWidth,g.borderWidth),b.strokeStyle=x(i.strokeStyle,f.defaultColor);var n=0===x(i.lineWidth,g.borderWidth);if(b.setLineDash&&b.setLineDash(x(i.lineDash,g.borderDash)),d.labels&&d.labels.usePointStyle){var r=_*Math.SQRT2/2,o=r/Math.SQRT2,a=t+o,s=e+o;D.canvas.drawPoint(b,i.pointStyle,r,a,s)}else n||b.strokeRect(t,e,w,_),b.fillRect(t,e,w,_);b.restore()}}(h,c,t),S[e].left=h,S[e].top=c,i=t,n=s,o=w+(r=_/2)+h,a=c+r,b.fillText(i.text,o,a),i.hidden&&(b.beginPath(),b.lineWidth=2,b.moveTo(o,a),b.lineTo(o+n,a),b.stroke()),C?y.x+=l+p.padding:y.y+=k})}},handleEvent:function(t){var e=this,i=e.options,n="mouseup"===t.type?"click":t.type,r=!1;if("mousemove"===n){if(!i.onHover)return}else{if("click"!==n)return;if(!i.onClick)return}var o=t.x,a=t.y;if(o>=e.left&&o<=e.right&&a>=e.top&&a<=e.bottom)for(var s=e.legendHitBoxes,l=0;l<s.length;++l){var h=s[l];if(o>=h.left&&o<=h.left+h.width&&a>=h.top&&a<=h.top+h.height){if("click"===n){i.onClick.call(e,t.native,e.legendItems[l]),r=!0;break}if("mousemove"===n){i.onHover.call(e,t.native,e.legendItems[l]),r=!0;break}}}return r}});function s(t,e){var i=new a({ctx:t.ctx,options:e,chart:t});r.configure(t,i,e),r.addBox(t,i),t.legend=i}e.exports={id:"legend",_element:a,beforeInit:function(t){var e=t.options.legend;e&&s(t,e)},beforeUpdate:function(t){var e=t.options.legend,i=t.legend;e?(D.mergeIf(e,T.global.legend),i?(r.configure(t,i,e),i.options=e):s(t,e)):i&&(r.removeBox(t,i),delete t.legend)},afterEvent:function(t,e){var i=t.legend;i&&i.handleEvent(e)}}},{25:25,26:26,30:30,45:45}],52:[function(t,e,i){"use strict";var _=t(25),n=t(26),w=t(45),r=t(30),o=w.noop;_._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}});var a=n.extend({initialize:function(t){w.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:o,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:o,beforeSetDimensions:o,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:o,beforeBuildLabels:o,buildLabels:o,afterBuildLabels:o,beforeFit:o,fit:function(){var t=w.valueOrDefault,e=this.options,i=e.display,n=t(e.fontSize,_.global.defaultFontSize),r=this.minSize,o=w.isArray(e.text)?e.text.length:1,a=w.options.toLineHeight(e.lineHeight,n),s=i?o*a+2*e.padding:0;this.isHorizontal()?(r.width=this.maxWidth,r.height=s):(r.width=s,r.height=this.maxHeight),this.width=r.width,this.height=r.height},afterFit:o,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this.ctx,e=w.valueOrDefault,i=this.options,n=_.global;if(i.display){var r,o,a,s=e(i.fontSize,n.defaultFontSize),l=e(i.fontStyle,n.defaultFontStyle),h=e(i.fontFamily,n.defaultFontFamily),c=w.fontString(s,l,h),u=w.options.toLineHeight(i.lineHeight,s),d=u/2+i.padding,p=0,f=this.top,g=this.left,m=this.bottom,v=this.right;t.fillStyle=e(i.fontColor,n.defaultFontColor),t.font=c,this.isHorizontal()?(o=g+(v-g)/2,a=f+d,r=v-g):(o="left"===i.position?g+d:v-d,a=f+(m-f)/2,r=m-f,p=Math.PI*("left"===i.position?-.5:.5)),t.save(),t.translate(o,a),t.rotate(p),t.textAlign="center",t.textBaseline="middle";var y=i.text;if(w.isArray(y))for(var b=0,x=0;x<y.length;++x)t.fillText(y[x],0,b,r),b+=u;else t.fillText(y,0,0,r);t.restore()}}});function s(t,e){var i=new a({ctx:t.ctx,options:e,chart:t});r.configure(t,i,e),r.addBox(t,i),t.titleBlock=i}e.exports={id:"title",_element:a,beforeInit:function(t){var e=t.options.title;e&&s(t,e)},beforeUpdate:function(t){var e=t.options.title,i=t.titleBlock;e?(w.mergeIf(e,_.global.title),i?(r.configure(t,i,e),i.options=e):s(t,e)):i&&(r.removeBox(t,i),delete t.titleBlock)}}},{25:25,26:26,30:30,45:45}],53:[function(t,e,i){"use strict";e.exports=function(t){var e=t.Scale.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t,e=this,i=e.getLabels();e.minIndex=0,e.maxIndex=i.length-1,void 0!==e.options.ticks.min&&(t=i.indexOf(e.options.ticks.min),e.minIndex=-1!==t?t:e.minIndex),void 0!==e.options.ticks.max&&(t=i.indexOf(e.options.ticks.max),e.maxIndex=-1!==t?t:e.maxIndex),e.min=i[e.minIndex],e.max=i[e.maxIndex]},buildTicks:function(){var t=this.getLabels();this.ticks=0===this.minIndex&&this.maxIndex===t.length-1?t:t.slice(this.minIndex,this.maxIndex+1)},getLabelForIndex:function(t,e){var i=this.chart.data,n=this.isHorizontal();return i.yLabels&&!n?this.getRightValue(i.datasets[e].data[t]):this.ticks[t-this.minIndex]},getPixelForValue:function(t,e){var i,n=this,r=n.options.offset,o=Math.max(n.maxIndex+1-n.minIndex-(r?0:1),1);if(null!=t&&(i=n.isHorizontal()?t.x:t.y),void 0!==i||void 0!==t&&isNaN(e)){t=i||t;var a=n.getLabels().indexOf(t);e=-1!==a?a:e}if(n.isHorizontal()){var s=n.width/o,l=s*(e-n.minIndex);return r&&(l+=s/2),n.left+Math.round(l)}var h=n.height/o,c=h*(e-n.minIndex);return r&&(c+=h/2),n.top+Math.round(c)},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this.options.offset,i=Math.max(this._ticks.length-(e?0:1),1),n=this.isHorizontal(),r=(n?this.width:this.height)/i;return t-=n?this.left:this.top,e&&(t-=r/2),(t<=0?0:Math.round(t/r))+this.minIndex},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",e,{position:"bottom"})}},{}],54:[function(t,e,i){"use strict";var n=t(25),u=t(45),r=t(34);e.exports=function(t){var e={position:"left",ticks:{callback:r.formatters.linear}},i=t.LinearScaleBase.extend({determineDataLimits:function(){var a=this,s=a.options,l=a.chart,t=l.data.datasets,e=a.isHorizontal();function h(t){return e?t.xAxisID===a.id:t.yAxisID===a.id}a.min=null,a.max=null;var n=s.stacked;if(void 0===n&&u.each(t,function(t,e){if(!n){var i=l.getDatasetMeta(e);l.isDatasetVisible(e)&&h(i)&&void 0!==i.stack&&(n=!0)}}),s.stacked||n){var c={};u.each(t,function(t,e){var n=l.getDatasetMeta(e),i=[n.type,void 0===s.stacked&&void 0===n.stack?e:"",n.stack].join(".");void 0===c[i]&&(c[i]={positiveValues:[],negativeValues:[]});var r=c[i].positiveValues,o=c[i].negativeValues;l.isDatasetVisible(e)&&h(n)&&u.each(t.data,function(t,e){var i=+a.getRightValue(t);isNaN(i)||n.data[e].hidden||(r[e]=r[e]||0,o[e]=o[e]||0,s.relativePoints?r[e]=100:i<0?o[e]+=i:r[e]+=i)})}),u.each(c,function(t){var e=t.positiveValues.concat(t.negativeValues),i=u.min(e),n=u.max(e);a.min=null===a.min?i:Math.min(a.min,i),a.max=null===a.max?n:Math.max(a.max,n)})}else u.each(t,function(t,e){var n=l.getDatasetMeta(e);l.isDatasetVisible(e)&&h(n)&&u.each(t.data,function(t,e){var i=+a.getRightValue(t);isNaN(i)||n.data[e].hidden||(null===a.min?a.min=i:i<a.min&&(a.min=i),null===a.max?a.max=i:i>a.max&&(a.max=i))})});a.min=isFinite(a.min)&&!isNaN(a.min)?a.min:0,a.max=isFinite(a.max)&&!isNaN(a.max)?a.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var t,e=this.options.ticks;if(this.isHorizontal())t=Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.width/50));else{var i=u.valueOrDefault(e.fontSize,n.global.defaultFontSize);t=Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.height/(2*i)))}return t},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this.start,i=+this.getRightValue(t),n=this.end-e;return this.isHorizontal()?this.left+this.width/n*(i-e):this.bottom-this.height/n*(i-e)},getValueForPixel:function(t){var e=this.isHorizontal(),i=e?this.width:this.height,n=(e?t-this.left:this.bottom-t)/i;return this.start+(this.end-this.start)*n},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});t.scaleService.registerScaleType("linear",i,e)}},{25:25,34:34,45:45}],55:[function(t,e,i){"use strict";var c=t(45);e.exports=function(e){var t=c.noop;e.LinearScaleBase=e.Scale.extend({getRightValue:function(t){return"string"==typeof t?+t:e.Scale.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var i=c.sign(t.min),n=c.sign(t.max);i<0&&n<0?t.max=0:0<i&&0<n&&(t.min=0)}var r=void 0!==e.min||void 0!==e.suggestedMin,o=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),r!==o&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:t,handleDirectionalChanges:t,buildTicks:function(){var t=this,e=t.options.ticks,i=t.getTickLimit(),n={maxTicks:i=Math.max(2,i),min:e.min,max:e.max,stepSize:c.valueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=function(t,e){var i,n=[];if(t.stepSize&&0<t.stepSize)i=t.stepSize;else{var r=c.niceNum(e.max-e.min,!1);i=c.niceNum(r/(t.maxTicks-1),!0)}var o=Math.floor(e.min/i)*i,a=Math.ceil(e.max/i)*i;t.min&&t.max&&t.stepSize&&c.almostWhole((t.max-t.min)/t.stepSize,i/1e3)&&(o=t.min,a=t.max);var s=(a-o)/i;s=c.almostEquals(s,Math.round(s),i/1e3)?Math.round(s):Math.ceil(s);var l=1;i<1&&(l=Math.pow(10,i.toString().length-2),o=Math.round(o*l)/l,a=Math.round(a*l)/l),n.push(void 0!==t.min?t.min:o);for(var h=1;h<s;++h)n.push(Math.round((o+h*i)*l)/l);return n.push(void 0!==t.max?t.max:a),n}(n,t);t.handleDirectionalChanges(),t.max=c.max(r),t.min=c.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){this.ticksAsNumbers=this.ticks.slice(),this.zeroLineIndex=this.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(this)}})}},{45:45}],56:[function(t,e,i){"use strict";var d=t(45),n=t(34);e.exports=function(u){var t={position:"left",ticks:{callback:n.formatters.logarithmic}},e=u.Scale.extend({determineDataLimits:function(){var a=this,i=a.options,s=a.chart,t=s.data.datasets,e=a.isHorizontal();function l(t){return e?t.xAxisID===a.id:t.yAxisID===a.id}a.min=null,a.max=null,a.minNotZero=null;var n=i.stacked;if(void 0===n&&d.each(t,function(t,e){if(!n){var i=s.getDatasetMeta(e);s.isDatasetVisible(e)&&l(i)&&void 0!==i.stack&&(n=!0)}}),i.stacked||n){var h={};d.each(t,function(t,e){var r=s.getDatasetMeta(e),o=[r.type,void 0===i.stacked&&void 0===r.stack?e:"",r.stack].join(".");s.isDatasetVisible(e)&&l(r)&&(void 0===h[o]&&(h[o]=[]),d.each(t.data,function(t,e){var i=h[o],n=+a.getRightValue(t);isNaN(n)||r.data[e].hidden||n<0||(i[e]=i[e]||0,i[e]+=n)}))}),d.each(h,function(t){if(0<t.length){var e=d.min(t),i=d.max(t);a.min=null===a.min?e:Math.min(a.min,e),a.max=null===a.max?i:Math.max(a.max,i)}})}else d.each(t,function(t,e){var n=s.getDatasetMeta(e);s.isDatasetVisible(e)&&l(n)&&d.each(t.data,function(t,e){var i=+a.getRightValue(t);isNaN(i)||n.data[e].hidden||i<0||(null===a.min?a.min=i:i<a.min&&(a.min=i),null===a.max?a.max=i:i>a.max&&(a.max=i),0!==i&&(null===a.minNotZero||i<a.minNotZero)&&(a.minNotZero=i))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks,i=d.valueOrDefault;t.min=i(e.min,t.min),t.max=i(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(d.log10(t.min))-1),t.max=Math.pow(10,Math.floor(d.log10(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(d.log10(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(d.log10(t.min))+1):10),null===t.minNotZero&&(0<t.min?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(d.log10(t.max))):t.minNotZero=1)},buildTicks:function(){var t=this,e=t.options.ticks,i=!t.isHorizontal(),n={min:e.min,max:e.max},r=t.ticks=function(t,e){var i,n,r=[],o=d.valueOrDefault,a=o(t.min,Math.pow(10,Math.floor(d.log10(e.min)))),s=Math.floor(d.log10(e.max)),l=Math.ceil(e.max/Math.pow(10,s));0===a?(i=Math.floor(d.log10(e.minNotZero)),n=Math.floor(e.minNotZero/Math.pow(10,i)),r.push(a),a=n*Math.pow(10,i)):(i=Math.floor(d.log10(a)),n=Math.floor(a/Math.pow(10,i)));for(var h=i<0?Math.pow(10,Math.abs(i)):1;r.push(a),10==++n&&(n=1,h=0<=++i?1:h),a=Math.round(n*Math.pow(10,i)*h)/h,i<s||i===s&&n<l;);var c=o(t.max,a);return r.push(c),r}(n,t);t.max=d.max(r),t.min=d.min(r),e.reverse?(i=!i,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),i&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),u.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},_getFirstTickValue:function(t){var e=Math.floor(d.log10(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},getPixelForValue:function(t){var e,i,n,r,o,a=this,s=a.options.ticks.reverse,l=d.log10,h=a._getFirstTickValue(a.minNotZero),c=0;return t=+a.getRightValue(t),s?(n=a.end,r=a.start,o=-1):(n=a.start,r=a.end,o=1),a.isHorizontal()?(e=a.width,i=s?a.right:a.left):(e=a.height,o*=-1,i=s?a.top:a.bottom),t!==n&&(0===n&&(e-=c=d.getValueOrDefault(a.options.ticks.fontSize,u.defaults.global.defaultFontSize),n=h),0!==t&&(c+=e/(l(r)-l(n))*(l(t)-l(n))),i+=o*c),i},getValueForPixel:function(t){var e,i,n,r,o=this,a=o.options.ticks.reverse,s=d.log10,l=o._getFirstTickValue(o.minNotZero);if(a?(i=o.end,n=o.start):(i=o.start,n=o.end),o.isHorizontal()?(e=o.width,r=a?o.right-t:t-o.left):(e=o.height,r=a?t-o.top:o.bottom-t),r!==i){if(0===i){var h=d.getValueOrDefault(o.options.ticks.fontSize,u.defaults.global.defaultFontSize);r-=h,e-=h,i=l}r*=s(n)-s(i),r/=e,r=Math.pow(10,s(i)+r)}return r}});u.scaleService.registerScaleType("logarithmic",e,t)}},{34:34,45:45}],57:[function(t,e,i){"use strict";var n=t(25),_=t(45),r=t(34);e.exports=function(t){var v=n.global,e={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:r.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function y(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function b(t){var e=t.options.pointLabels,i=_.valueOrDefault(e.fontSize,v.defaultFontSize),n=_.valueOrDefault(e.fontStyle,v.defaultFontStyle),r=_.valueOrDefault(e.fontFamily,v.defaultFontFamily);return{size:i,style:n,family:r,font:_.fontString(i,n,r)}}function m(t,e,i,n,r){return t===n||t===r?{start:e-i/2,end:e+i/2}:t<n||r<t?{start:e-i-5,end:e}:{start:e,end:e+i+5}}function x(t,e,i,n){if(_.isArray(e))for(var r=i.y,o=1.5*n,a=0;a<e.length;++a)t.fillText(e[a],i.x,r),r+=o;else t.fillText(e,i.x,i.y)}function s(t){return _.isNumber(t)?t:0}var i=t.LinearScaleBase.extend({setDimensions:function(){var t=this,e=t.options,i=e.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var n=_.min([t.height,t.width]),r=_.valueOrDefault(i.fontSize,v.defaultFontSize);t.drawingArea=e.display?n/2-(r/2+i.backdropPaddingY):n/2},determineDataLimits:function(){var r=this,i=r.chart,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;_.each(i.data.datasets,function(t,e){if(i.isDatasetVisible(e)){var n=i.getDatasetMeta(e);_.each(t.data,function(t,e){var i=+r.getRightValue(t);isNaN(i)||n.data[e].hidden||(o=Math.min(i,o),a=Math.max(i,a))})}}),r.min=o===Number.POSITIVE_INFINITY?0:o,r.max=a===Number.NEGATIVE_INFINITY?0:a,r.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,e=_.valueOrDefault(t.fontSize,v.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)))},convertTicksToLabels:function(){t.LinearScaleBase.prototype.convertTicksToLabels.call(this),this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t,e;this.options.pointLabels.display?function(t){var e,i,n,r=b(t),o=Math.min(t.height/2,t.width/2),a={r:t.width,l:0,t:t.height,b:0},s={};t.ctx.font=r.font,t._pointLabelSizes=[];var l,h,c,u=y(t);for(e=0;e<u;e++){n=t.getPointPosition(e,o),l=t.ctx,h=r.size,c=t.pointLabels[e]||"",i=_.isArray(c)?{w:_.longestText(l,l.font,c),h:c.length*h+1.5*(c.length-1)*h}:{w:l.measureText(c).width,h:h},t._pointLabelSizes[e]=i;var d=t.getIndexAngle(e),p=_.toDegrees(d)%360,f=m(p,n.x,i.w,0,180),g=m(p,n.y,i.h,90,270);f.start<a.l&&(a.l=f.start,s.l=d),f.end>a.r&&(a.r=f.end,s.r=d),g.start<a.t&&(a.t=g.start,s.t=d),g.end>a.b&&(a.b=g.end,s.b=d)}t.setReductions(o,a,s)}(this):(t=this,e=Math.min(t.height/2,t.width/2),t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0))},setReductions:function(t,e,i){var n=e.l/Math.sin(i.l),r=Math.max(e.r-this.width,0)/Math.sin(i.r),o=-e.t/Math.cos(i.t),a=-Math.max(e.b-this.height,0)/Math.cos(i.b);n=s(n),r=s(r),o=s(o),a=s(a),this.drawingArea=Math.min(Math.round(t-(n+r)/2),Math.round(t-(o+a)/2)),this.setCenterPoint(n,r,o,a)},setCenterPoint:function(t,e,i,n){var r=this,o=r.width-e-r.drawingArea,a=t+r.drawingArea,s=i+r.drawingArea,l=r.height-n-r.drawingArea;r.xCenter=Math.round((a+o)/2+r.left),r.yCenter=Math.round((s+l)/2+r.top)},getIndexAngle:function(t){return t*(2*Math.PI/y(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){if(null===t)return 0;var e=this.drawingArea/(this.max-this.min);return this.options.ticks.reverse?(this.max-t)*e:(t-this.min)*e},getPointPosition:function(t,e){var i=this.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(i)*e)+this.xCenter,y:Math.round(Math.sin(i)*e)+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this.min,e=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:t<0&&e<0?e:0<t&&0<e?t:0)},draw:function(){var o=this,t=o.options,a=t.gridLines,s=t.ticks,l=_.valueOrDefault;if(t.display){var h=o.ctx,c=this.getIndexAngle(0),u=l(s.fontSize,v.defaultFontSize),e=l(s.fontStyle,v.defaultFontStyle),i=l(s.fontFamily,v.defaultFontFamily),d=_.fontString(u,e,i);_.each(o.ticks,function(t,e){if(0<e||s.reverse){var i=o.getDistanceFromCenterForValue(o.ticksAsNumbers[e]);if(a.display&&0!==e&&function(t,e,i,n){var r=t.ctx;if(r.strokeStyle=_.valueAtIndexOrDefault(e.color,n-1),r.lineWidth=_.valueAtIndexOrDefault(e.lineWidth,n-1),t.options.gridLines.circular)r.beginPath(),r.arc(t.xCenter,t.yCenter,i,0,2*Math.PI),r.closePath(),r.stroke();else{var o=y(t);if(0===o)return;r.beginPath();var a=t.getPointPosition(0,i);r.moveTo(a.x,a.y);for(var s=1;s<o;s++)a=t.getPointPosition(s,i),r.lineTo(a.x,a.y);r.closePath(),r.stroke()}}(o,a,i,e),s.display){var n=l(s.fontColor,v.defaultFontColor);if(h.font=d,h.save(),h.translate(o.xCenter,o.yCenter),h.rotate(c),s.showLabelBackdrop){var r=h.measureText(t).width;h.fillStyle=s.backdropColor,h.fillRect(-r/2-s.backdropPaddingX,-i-u/2-s.backdropPaddingY,r+2*s.backdropPaddingX,u+2*s.backdropPaddingY)}h.textAlign="center",h.textBaseline="middle",h.fillStyle=n,h.fillText(t,0,-i),h.restore()}}}),(t.angleLines.display||t.pointLabels.display)&&function(t){var e=t.ctx,i=t.options,n=i.angleLines,r=i.pointLabels;e.lineWidth=n.lineWidth,e.strokeStyle=n.color;var o,a,s,l,h=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max),c=b(t);e.textBaseline="top";for(var u=y(t)-1;0<=u;u--){if(n.display){var d=t.getPointPosition(u,h);e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(d.x,d.y),e.stroke(),e.closePath()}if(r.display){var p=t.getPointPosition(u,h+5),f=_.valueAtIndexOrDefault(r.fontColor,u,v.defaultFontColor);e.font=c.font,e.fillStyle=f;var g=t.getIndexAngle(u),m=_.toDegrees(g);e.textAlign=0===(l=m)||180===l?"center":l<180?"left":"right",o=m,a=t._pointLabelSizes[u],s=p,90===o||270===o?s.y-=a.h/2:(270<o||o<90)&&(s.y-=a.h),x(e,t.pointLabels[u]||"",p,c.size)}}}(o)}}});t.scaleService.registerScaleType("radialLinear",i,e)}},{25:25,34:34,45:45}],58:[function(t,e,i){"use strict";var b=t(1);b="function"==typeof b?b:window.moment;var a=t(25),m=t(45),g=Number.MIN_SAFE_INTEGER||-9007199254740991,v=Number.MAX_SAFE_INTEGER||9007199254740991,x={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},_=Object.keys(x);function y(t,e){return t-e}function w(t){var e,i,n,r={},o=[];for(e=0,i=t.length;e<i;++e)r[n=t[e]]||(r[n]=!0,o.push(n));return o}function S(t,e,i,n){var r=function(t,e,i){for(var n,r,o,a=0,s=t.length-1;0<=a&&a<=s;){if(r=t[(n=a+s>>1)-1]||null,o=t[n],!r)return{lo:null,hi:o};if(o[e]<i)a=n+1;else{if(!(r[e]>i))return{lo:r,hi:o};s=n-1}}return{lo:o,hi:null}}(t,e,i),o=r.lo?r.hi?r.lo:t[t.length-2]:t[0],a=r.lo?r.hi?r.hi:t[t.length-1]:t[1],s=a[e]-o[e],l=s?(i-o[e])/s:0,h=(a[n]-o[n])*l;return o[n]+h}function C(t,e){var i=e.parser,n=e.parser||e.format;return"function"==typeof i?i(t):"string"==typeof t&&"string"==typeof n?b(t,n):(t instanceof b||(t=b(t)),t.isValid()?t:"function"==typeof n?n(t):t)}function k(t,e){if(m.isNullOrUndef(t))return null;var i=e.options.time,n=C(e.getRightValue(t),i);return n.isValid()?(i.round&&n.startOf(i.round),n.valueOf()):null}function T(t){for(var e=_.indexOf(t)+1,i=_.length;e<i;++e)if(x[_[e]].common)return _[e]}function D(t,e,i,n){var r,o=n.time,a=o.unit||function(t,e,i,n){var r,o,a,s=_.length;for(r=_.indexOf(t);r<s-1;++r)if(a=(o=x[_[r]]).steps?o.steps[o.steps.length-1]:v,o.common&&Math.ceil((i-e)/(a*o.size))<=n)return _[r];return _[s-1]}(o.minUnit,t,e,i),s=T(a),l=m.valueOrDefault(o.stepSize,o.unitStepSize),h="week"===a&&o.isoWeekday,c=n.ticks.major.enabled,u=x[a],d=b(t),p=b(e),f=[];for(l||(l=function(t,e,i,n){var r,o,a,s=e-t,l=x[i],h=l.size,c=l.steps;if(!c)return Math.ceil(s/(n*h));for(r=0,o=c.length;r<o&&(a=c[r],!(Math.ceil(s/(h*a))<=n));++r);return a}(t,e,a,i)),h&&(d=d.isoWeekday(h),p=p.isoWeekday(h)),d=d.startOf(h?"day":a),(p=p.startOf(h?"day":a))<e&&p.add(1,a),r=b(d),c&&s&&!h&&!o.round&&(r.startOf(s),r.add(~~((d-r)/(u.size*l))*l,a));r<p;r.add(l,a))f.push(+r);return f.push(+r),f}e.exports=function(e){var t=e.Scale.extend({initialize:function(){if(!b)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),e.Scale.prototype.initialize.call(this)},update:function(){var t=this.options;return t.time&&t.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),e.Scale.prototype.update.apply(this,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),e.Scale.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,i,n,r,o,a=this,s=a.chart,l=a.options.time,h=l.unit||"day",c=v,u=g,d=[],p=[],f=[];for(t=0,i=s.data.labels.length;t<i;++t)f.push(k(s.data.labels[t],a));for(t=0,i=(s.data.datasets||[]).length;t<i;++t)if(s.isDatasetVisible(t))if(r=s.data.datasets[t].data,m.isObject(r[0]))for(p[t]=[],e=0,n=r.length;e<n;++e)o=k(r[e],a),d.push(o),p[t][e]=o;else d.push.apply(d,f),p[t]=f.slice(0);else p[t]=[];f.length&&(f=w(f).sort(y),c=Math.min(c,f[0]),u=Math.max(u,f[f.length-1])),d.length&&(d=w(d).sort(y),c=Math.min(c,d[0]),u=Math.max(u,d[d.length-1])),c=k(l.min,a)||c,u=k(l.max,a)||u,c=c===v?+b().startOf(h):c,u=u===g?+b().endOf(h)+1:u,a.min=Math.min(c,u),a.max=Math.max(c+1,u),a._horizontal=a.isHorizontal(),a._table=[],a._timestamps={data:d,datasets:p,labels:f}},buildTicks:function(){var t,e,i,n,r,o,a,s,l,h,c,u,d=this,p=d.min,f=d.max,g=d.options,m=g.time,v=[],y=[];switch(g.ticks.source){case"data":v=d._timestamps.data;break;case"labels":v=d._timestamps.labels;break;case"auto":default:v=D(p,f,d.getLabelCapacity(p),g)}for("ticks"===g.bounds&&v.length&&(p=v[0],f=v[v.length-1]),p=k(m.min,d)||p,f=k(m.max,d)||f,t=0,e=v.length;t<e;++t)p<=(i=v[t])&&i<=f&&y.push(i);return d.min=p,d.max=f,d._unit=m.unit||function(t,e,i,n){var r,o,a=b.duration(b(n).diff(b(i)));for(r=_.length-1;r>=_.indexOf(e);r--)if(o=_[r],x[o].common&&a.as(o)>=t.length)return o;return _[e?_.indexOf(e):0]}(y,m.minUnit,d.min,d.max),d._majorUnit=T(d._unit),d._table=function(t,e,i,n){if("linear"===n||!t.length)return[{time:e,pos:0},{time:i,pos:1}];var r,o,a,s,l,h=[],c=[e];for(r=0,o=t.length;r<o;++r)e<(s=t[r])&&s<i&&c.push(s);for(c.push(i),r=0,o=c.length;r<o;++r)l=c[r+1],a=c[r-1],s=c[r],void 0!==a&&void 0!==l&&Math.round((l+a)/2)===s||h.push({time:s,pos:r/(o-1)});return h}(d._timestamps.data,p,f,g.distribution),d._offsets=(n=d._table,r=y,o=p,a=f,u=c=0,(s=g).offset&&r.length&&(s.time.min||(l=1<r.length?r[1]:a,h=r[0],c=(S(n,"time",l,"pos")-S(n,"time",h,"pos"))/2),s.time.max||(l=r[r.length-1],h=1<r.length?r[r.length-2]:o,u=(S(n,"time",l,"pos")-S(n,"time",h,"pos"))/2)),{left:c,right:u}),d._labelFormat=function(t,e){var i,n,r,o=t.length;for(i=0;i<o;i++){if(0!==(n=C(t[i],e)).millisecond())return"MMM D, YYYY h:mm:ss.SSS a";0===n.second()&&0===n.minute()&&0===n.hour()||(r=!0)}return r?"MMM D, YYYY h:mm:ss a":"MMM D, YYYY"}(d._timestamps.data,m),function(t,e){var i,n,r,o,a=[];for(i=0,n=t.length;i<n;++i)r=t[i],o=!!e&&r===+b(r).startOf(e),a.push({value:r,major:o});return a}(y,d._majorUnit)},getLabelForIndex:function(t,e){var i=this.chart.data,n=this.options.time,r=i.labels&&t<i.labels.length?i.labels[t]:"",o=i.datasets[e].data[t];return m.isObject(o)&&(r=this.getRightValue(o)),n.tooltipFormat?C(r,n).format(n.tooltipFormat):"string"==typeof r?r:C(r,n).format(this._labelFormat)},tickFormatFunction:function(t,e,i,n){var r=this.options,o=t.valueOf(),a=r.time.displayFormats,s=a[this._unit],l=this._majorUnit,h=a[l],c=t.clone().startOf(l).valueOf(),u=r.ticks.major,d=u.enabled&&l&&h&&o===c,p=t.format(n||(d?h:s)),f=d?u:r.ticks.minor,g=m.valueOrDefault(f.callback,f.userCallback);return g?g(p,e,i):p},convertTicksToLabels:function(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(this.tickFormatFunction(b(t[e].value),e,t));return n},getPixelForOffset:function(t){var e=this,i=e._horizontal?e.width:e.height,n=e._horizontal?e.left:e.top,r=S(e._table,"time",t,"pos");return n+i*(e._offsets.left+r)/(e._offsets.left+1+e._offsets.right)},getPixelForValue:function(t,e,i){var n=null;if(void 0!==e&&void 0!==i&&(n=this._timestamps.datasets[i][e]),null===n&&(n=k(t,this)),null!==n)return this.getPixelForOffset(n)},getPixelForTick:function(t){var e=this.getTicks();return 0<=t&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,i=e._horizontal?e.width:e.height,n=e._horizontal?e.left:e.top,r=(i?(t-n)/i:0)*(e._offsets.left+1+e._offsets.left)-e._offsets.right,o=S(e._table,"pos",r,"time");return b(o)},getLabelWidth:function(t){var e=this.options.ticks,i=this.ctx.measureText(t).width,n=m.toRadians(e.maxRotation),r=Math.cos(n),o=Math.sin(n);return i*r+m.valueOrDefault(e.fontSize,a.global.defaultFontSize)*o},getLabelCapacity:function(t){var e=this.options.time.displayFormats.millisecond,i=this.tickFormatFunction(b(t),0,[],e),n=this.getLabelWidth(i),r=this.isHorizontal()?this.width:this.height,o=Math.floor(r/n);return 0<o?o:1}});e.scaleService.registerScaleType("time",t,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},{1:1,25:25,45:45}]},{},[7])(7)}),function(t,e){"function"==typeof define&&define.amd?define("Chartist",[],function(){return t.Chartist=e()}):"object"==typeof module&&module.exports?module.exports=e():t.Chartist=e()}(this,function(){var n={version:"0.11.0"};return function(h,f,g){"use strict";g.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},g.noop=function(t){return t},g.alphaNumerate=function(t){return String.fromCharCode(97+t%26)},g.extend=function(t){var e,i,n;for(t=t||{},e=1;e<arguments.length;e++)for(var r in i=arguments[e])"object"!=typeof(n=i[r])||null===n||n instanceof Array?t[r]=n:t[r]=g.extend(t[r],n);return t},g.replaceAll=function(t,e,i){return t.replace(new RegExp(e,"g"),i)},g.ensureUnit=function(t,e){return"number"==typeof t&&(t+=e),t},g.quantity=function(t){if("string"==typeof t){var e=/^(\d+)\s*(.*)$/g.exec(t);return{value:+e[1],unit:e[2]||void 0}}return{value:t}},g.querySelector=function(t){return t instanceof Node?t:f.querySelector(t)},g.times=function(t){return Array.apply(null,new Array(t))},g.sum=function(t,e){return t+(e||0)},g.mapMultiply=function(e){return function(t){return t*e}},g.mapAdd=function(e){return function(t){return t+e}},g.serialMap=function(n,r){var o=[],t=Math.max.apply(null,n.map(function(t){return t.length}));return g.times(t).forEach(function(t,e){var i=n.map(function(t){return t[e]});o[e]=r.apply(null,i)}),o},g.roundWithPrecision=function(t,e){var i=Math.pow(10,e||g.precision);return Math.round(t*i)/i},g.precision=8,g.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},g.serialize=function(t){return null==t?t:("number"==typeof t?t=""+t:"object"==typeof t&&(t=JSON.stringify({data:t})),Object.keys(g.escapingMap).reduce(function(t,e){return g.replaceAll(t,e,g.escapingMap[e])},t))},g.deserialize=function(t){if("string"!=typeof t)return t;t=Object.keys(g.escapingMap).reduce(function(t,e){return g.replaceAll(t,g.escapingMap[e],e)},t);try{t=void 0!==(t=JSON.parse(t)).data?t.data:t}catch(t){}return t},g.createSvg=function(e,t,i,n){var r;return t=t||"100%",i=i||"100%",Array.prototype.slice.call(e.querySelectorAll("svg")).filter(function(t){return t.getAttributeNS(g.namespaces.xmlns,"ct")}).forEach(function(t){e.removeChild(t)}),(r=new g.Svg("svg").attr({width:t,height:i}).addClass(n))._node.style.width=t,r._node.style.height=i,e.appendChild(r._node),r},g.normalizeData=function(t,e,i){var n,r={raw:t,normalized:{}};return r.normalized.series=g.getDataArray({series:t.series||[]},e,i),n=r.normalized.series.every(function(t){return t instanceof Array})?Math.max.apply(null,r.normalized.series.map(function(t){return t.length})):r.normalized.series.length,r.normalized.labels=(t.labels||[]).slice(),Array.prototype.push.apply(r.normalized.labels,g.times(Math.max(0,n-r.normalized.labels.length)).map(function(){return""})),e&&g.reverseData(r.normalized),r},g.safeHasProperty=function(t,e){return null!==t&&"object"==typeof t&&t.hasOwnProperty(e)},g.isDataHoleValue=function(t){return null==t||"number"==typeof t&&isNaN(t)},g.reverseData=function(t){t.labels.reverse(),t.series.reverse();for(var e=0;e<t.series.length;e++)"object"==typeof t.series[e]&&void 0!==t.series[e].data?t.series[e].data.reverse():t.series[e]instanceof Array&&t.series[e].reverse()},g.getDataArray=function(t,e,n){return t.series.map(function t(e){if(g.safeHasProperty(e,"value"))return t(e.value);if(g.safeHasProperty(e,"data"))return t(e.data);if(e instanceof Array)return e.map(t);if(!g.isDataHoleValue(e)){if(n){var i={};return"string"==typeof n?i[n]=g.getNumberOrUndefined(e):i.y=g.getNumberOrUndefined(e),i.x=e.hasOwnProperty("x")?g.getNumberOrUndefined(e.x):i.x,i.y=e.hasOwnProperty("y")?g.getNumberOrUndefined(e.y):i.y,i}return g.getNumberOrUndefined(e)}})},g.normalizePadding=function(t,e){return e=e||0,"number"==typeof t?{top:t,right:t,bottom:t,left:t}:{top:"number"==typeof t.top?t.top:e,right:"number"==typeof t.right?t.right:e,bottom:"number"==typeof t.bottom?t.bottom:e,left:"number"==typeof t.left?t.left:e}},g.getMetaData=function(t,e){var i=t.data?t.data[e]:t[e];return i?i.meta:void 0},g.orderOfMagnitude=function(t){return Math.floor(Math.log(Math.abs(t))/Math.LN10)},g.projectLength=function(t,e,i){return e/i.range*t},g.getAvailableHeight=function(t,e){return Math.max((g.quantity(e.height).value||t.height())-(e.chartPadding.top+e.chartPadding.bottom)-e.axisX.offset,0)},g.getHighLow=function(t,e,r){var o={high:void 0===(e=g.extend({},e,r?e["axis"+r.toUpperCase()]:{})).high?-Number.MAX_VALUE:+e.high,low:void 0===e.low?Number.MAX_VALUE:+e.low},a=void 0===e.high,s=void 0===e.low;return(a||s)&&function t(e){if(void 0!==e)if(e instanceof Array)for(var i=0;i<e.length;i++)t(e[i]);else{var n=r?+e[r]:+e;a&&n>o.high&&(o.high=n),s&&n<o.low&&(o.low=n)}}(t),(e.referenceValue||0===e.referenceValue)&&(o.high=Math.max(e.referenceValue,o.high),o.low=Math.min(e.referenceValue,o.low)),o.high<=o.low&&(0===o.low?o.high=1:o.low<0?o.high=0:(0<o.high||(o.high=1),o.low=0)),o},g.isNumeric=function(t){return null!==t&&isFinite(t)},g.isFalseyButZero=function(t){return!t&&0!==t},g.getNumberOrUndefined=function(t){return g.isNumeric(t)?+t:void 0},g.isMultiValue=function(t){return"object"==typeof t&&("x"in t||"y"in t)},g.getMultiValue=function(t,e){return g.isMultiValue(t)?g.getNumberOrUndefined(t[e||"y"]):g.getNumberOrUndefined(t)},g.rho=function(t){if(1===t)return t;function i(t,e){return t%e==0?e:i(e,t%e)}function e(t){return t*t+1}var n,r=2,o=2;if(t%2==0)return 2;for(;r=e(r)%t,o=e(e(o))%t,1===(n=i(Math.abs(r-o),t)););return n},g.getBounds=function(t,e,i,n){var r,o,a,s=0,l={high:e.high,low:e.low};l.valueRange=l.high-l.low,l.oom=g.orderOfMagnitude(l.valueRange),l.step=Math.pow(10,l.oom),l.min=Math.floor(l.low/l.step)*l.step,l.max=Math.ceil(l.high/l.step)*l.step,l.range=l.max-l.min,l.numberOfSteps=Math.round(l.range/l.step);var h=g.projectLength(t,l.step,l)<i,c=n?g.rho(l.range):0;if(n&&g.projectLength(t,1,l)>=i)l.step=1;else if(n&&c<l.step&&g.projectLength(t,c,l)>=i)l.step=c;else for(;;){if(h&&g.projectLength(t,l.step,l)<=i)l.step*=2;else{if(h||!(g.projectLength(t,l.step/2,l)>=i))break;if(l.step/=2,n&&l.step%1!=0){l.step*=2;break}}if(1e3<s++)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var u=2221e-19;function d(t,e){return t===(t+=e)&&(t*=1+(0<e?u:-u)),t}for(l.step=Math.max(l.step,u),o=l.min,a=l.max;o+l.step<=l.low;)o=d(o,l.step);for(;a-l.step>=l.high;)a=d(a,-l.step);l.min=o,l.max=a,l.range=l.max-l.min;var p=[];for(r=l.min;r<=l.max;r=d(r,l.step)){var f=g.roundWithPrecision(r);f!==p[p.length-1]&&p.push(f)}return l.values=p,l},g.polarToCartesian=function(t,e,i,n){var r=(n-90)*Math.PI/180;return{x:t+i*Math.cos(r),y:e+i*Math.sin(r)}},g.createChartRect=function(t,e,i){var n=!(!e.axisX&&!e.axisY),r=n?e.axisY.offset:0,o=n?e.axisX.offset:0,a=t.width()||g.quantity(e.width).value||0,s=t.height()||g.quantity(e.height).value||0,l=g.normalizePadding(e.chartPadding,i);a=Math.max(a,r+l.left+l.right),s=Math.max(s,o+l.top+l.bottom);var h={padding:l,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return n?("start"===e.axisX.position?(h.y2=l.top+o,h.y1=Math.max(s-l.bottom,h.y2+1)):(h.y2=l.top,h.y1=Math.max(s-l.bottom-o,h.y2+1)),"start"===e.axisY.position?(h.x1=l.left+r,h.x2=Math.max(a-l.right,h.x1+1)):(h.x1=l.left,h.x2=Math.max(a-l.right-r,h.x1+1))):(h.x1=l.left,h.x2=Math.max(a-l.right,h.x1+1),h.y2=l.top,h.y1=Math.max(s-l.bottom,h.y2+1)),h},g.createGrid=function(t,e,i,n,r,o,a,s){var l={};l[i.units.pos+"1"]=t,l[i.units.pos+"2"]=t,l[i.counterUnits.pos+"1"]=n,l[i.counterUnits.pos+"2"]=n+r;var h=o.elem("line",l,a.join(" "));s.emit("draw",g.extend({type:"grid",axis:i,index:e,group:o,element:h},l))},g.createGridBackground=function(t,e,i,n){var r=t.elem("rect",{x:e.x1,y:e.y2,width:e.width(),height:e.height()},i,!0);n.emit("draw",{type:"gridBackground",group:t,element:r})},g.createLabel=function(t,e,i,n,r,o,a,s,l,h,c){var u,d={};if(d[r.units.pos]=t+a[r.units.pos],d[r.counterUnits.pos]=a[r.counterUnits.pos],d[r.units.len]=e,d[r.counterUnits.len]=Math.max(0,o-10),h){var p=f.createElement("span");p.className=l.join(" "),p.setAttribute("xmlns",g.namespaces.xhtml),p.innerText=n[i],p.style[r.units.len]=Math.round(d[r.units.len])+"px",p.style[r.counterUnits.len]=Math.round(d[r.counterUnits.len])+"px",u=s.foreignObject(p,g.extend({style:"overflow: visible;"},d))}else u=s.elem("text",d,l.join(" ")).text(n[i]);c.emit("draw",g.extend({type:"label",axis:r,index:i,group:s,element:u,text:n[i]},d))},g.getSeriesOption=function(t,e,i){if(t.name&&e.series&&e.series[t.name]){var n=e.series[t.name];return n.hasOwnProperty(i)?n[i]:e[i]}return e[i]},g.optionsProvider=function(t,i,n){var r,o,a=g.extend({},t),e=[];function s(t){var e=r;if(r=g.extend({},a),i)for(o=0;o<i.length;o++){h.matchMedia(i[o][0]).matches&&(r=g.extend(r,i[o][1]))}n&&t&&n.emit("optionsChanged",{previousOptions:e,currentOptions:r})}if(!h.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(i)for(o=0;o<i.length;o++){var l=h.matchMedia(i[o][0]);l.addListener(s),e.push(l)}return s(),{removeMediaQueryListeners:function(){e.forEach(function(t){t.removeListener(s)})},getCurrentOptions:function(){return g.extend({},r)}}},g.splitIntoSegments=function(t,e,i){i=g.extend({},{increasingX:!1,fillHoles:!1},i);for(var n=[],r=!0,o=0;o<t.length;o+=2)void 0===g.getMultiValue(e[o/2].value)?i.fillHoles||(r=!0):(i.increasingX&&2<=o&&t[o]<=t[o-2]&&(r=!0),r&&(n.push({pathCoordinates:[],valueData:[]}),r=!1),n[n.length-1].pathCoordinates.push(t[o],t[o+1]),n[n.length-1].valueData.push(e[o/2]));return n}}(window,document,n),function(t,e,g){"use strict";g.Interpolation={},g.Interpolation.none=function(l){return l=g.extend({},{fillHoles:!1},l),function(t,e){for(var i=new g.Svg.Path,n=!0,r=0;r<t.length;r+=2){var o=t[r],a=t[r+1],s=e[r/2];void 0!==g.getMultiValue(s.value)?(n?i.move(o,a,!1,s):i.line(o,a,!1,s),n=!1):l.fillHoles||(n=!0)}return i}},g.Interpolation.simple=function(u){u=g.extend({},{divisor:2,fillHoles:!1},u);var d=1/Math.max(1,u.divisor);return function(t,e){for(var i,n,r,o=new g.Svg.Path,a=0;a<t.length;a+=2){var s=t[a],l=t[a+1],h=(s-i)*d,c=e[a/2];void 0!==c.value?(void 0===r?o.move(s,l,!1,c):o.curve(i+h,n,s-h,l,s,l,!1,c),i=s,n=l,r=c):u.fillHoles||(i=s=r=void 0)}return o}},g.Interpolation.cardinal=function(h){h=g.extend({},{tension:1,fillHoles:!1},h);var c=Math.min(1,Math.max(0,h.tension)),u=1-c;return function e(t,i){var n=g.splitIntoSegments(t,i,{fillHoles:h.fillHoles});if(n.length){if(1<n.length){var r=[];return n.forEach(function(t){r.push(e(t.pathCoordinates,t.valueData))}),g.Svg.Path.join(r)}if(t=n[0].pathCoordinates,i=n[0].valueData,t.length<=4)return g.Interpolation.none()(t,i);for(var o=(new g.Svg.Path).move(t[0],t[1],!1,i[0]),a=0,s=t.length;a<s-2;a+=2){var l=[{x:+t[a-2],y:+t[a-1]},{x:+t[a],y:+t[a+1]},{x:+t[a+2],y:+t[a+3]},{x:+t[a+4],y:+t[a+5]}];s-4===a?l[3]=l[2]:a||(l[0]={x:+t[a],y:+t[a+1]}),o.curve(c*(-l[0].x+6*l[1].x+l[2].x)/6+u*l[2].x,c*(-l[0].y+6*l[1].y+l[2].y)/6+u*l[2].y,c*(l[1].x+6*l[2].x-l[3].x)/6+u*l[2].x,c*(l[1].y+6*l[2].y-l[3].y)/6+u*l[2].y,l[2].x,l[2].y,!1,i[(a+2)/2])}return o}return g.Interpolation.none()([])}},g.Interpolation.monotoneCubic=function(f){return f=g.extend({},{fillHoles:!1},f),function e(t,i){var n=g.splitIntoSegments(t,i,{fillHoles:f.fillHoles,increasingX:!0});if(n.length){if(1<n.length){var r=[];return n.forEach(function(t){r.push(e(t.pathCoordinates,t.valueData))}),g.Svg.Path.join(r)}if(t=n[0].pathCoordinates,i=n[0].valueData,t.length<=4)return g.Interpolation.none()(t,i);var o,a,s=[],l=[],h=t.length/2,c=[],u=[],d=[],p=[];for(o=0;o<h;o++)s[o]=t[2*o],l[o]=t[2*o+1];for(o=0;o<h-1;o++)d[o]=l[o+1]-l[o],p[o]=s[o+1]-s[o],u[o]=d[o]/p[o];for(c[0]=u[0],c[h-1]=u[h-2],o=1;o<h-1;o++)0===u[o]||0===u[o-1]||0<u[o-1]!=0<u[o]?c[o]=0:(c[o]=3*(p[o-1]+p[o])/((2*p[o]+p[o-1])/u[o-1]+(p[o]+2*p[o-1])/u[o]),isFinite(c[o])||(c[o]=0));for(a=(new g.Svg.Path).move(s[0],l[0],!1,i[0]),o=0;o<h-1;o++)a.curve(s[o]+p[o]/3,l[o]+c[o]*p[o]/3,s[o+1]-p[o]/3,l[o+1]-c[o+1]*p[o]/3,s[o+1],l[o+1],!1,i[o+1]);return a}return g.Interpolation.none()([])}},g.Interpolation.step=function(c){return c=g.extend({},{postpone:!0,fillHoles:!1},c),function(t,e){for(var i,n,r,o=new g.Svg.Path,a=0;a<t.length;a+=2){var s=t[a],l=t[a+1],h=e[a/2];void 0!==h.value?(void 0===r?o.move(s,l,!1,h):(c.postpone?o.line(s,n,!1,r):o.line(i,l,!1,h),o.line(s,l,!1,h)),i=s,n=l,r=h):c.fillHoles||(i=n=r=void 0)}return o}}}(window,document,n),function(t,e,i){"use strict";n.EventEmitter=function(){var n=[];return{addEventHandler:function(t,e){n[t]=n[t]||[],n[t].push(e)},removeEventHandler:function(t,e){n[t]&&(e?(n[t].splice(n[t].indexOf(e),1),0===n[t].length&&delete n[t]):delete n[t])},emit:function(e,i){n[e]&&n[e].forEach(function(t){t(i)}),n["*"]&&n["*"].forEach(function(t){t(e,i)})}}}}(window,document),function(t,e,o){"use strict";o.Class={extend:function(t,e){var i=e||this.prototype||o.Class,n=Object.create(i);o.Class.cloneDefinitions(n,t);var r=function(){var t,e=n.constructor||function(){};return t=this===o?Object.create(n):this,e.apply(t,Array.prototype.slice.call(arguments,0)),t};return r.prototype=n,r.super=i,r.extend=this.extend,r},cloneDefinitions:function(){var t=function(t){var e=[];if(t.length)for(var i=0;i<t.length;i++)e.push(t[i]);return e}(arguments),i=t[0];return t.splice(1,t.length-1).forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(t){delete i[t],Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(e,t))})}),i}}}(window,document,n),function(o,t,a){"use strict";a.Base=a.Class.extend({constructor:function(t,e,i,n,r){this.container=a.querySelector(t),this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=i,this.options=n,this.responsiveOptions=r,this.eventEmitter=a.EventEmitter(),this.supportsForeignObject=a.Svg.isSupported("Extensibility"),this.supportsAnimations=a.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(function(){o.addEventListener("resize",this.resizeListener),this.optionsProvider=a.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(t){t instanceof Array?t[0](this,t[1]):t(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}.bind(this),0)},optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:function(t,e,i){return t&&(this.data=t||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),e&&(this.options=a.extend({},i?this.options:this.defaultOptions,e),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=a.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this},detach:function(){return this.initializeTimeoutId?o.clearTimeout(this.initializeTimeoutId):(o.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this},on:function(t,e){return this.eventEmitter.addEventHandler(t,e),this},off:function(t,e){return this.eventEmitter.removeEventHandler(t,e),this},version:a.version,supportsForeignObject:!1})}(window,document,n),function(t,a,l){"use strict";l.Svg=l.Class.extend({constructor:function(t,e,i,n,r){t instanceof Element?this._node=t:(this._node=a.createElementNS(l.namespaces.svg,t),"svg"===t&&this.attr({"xmlns:ct":l.namespaces.ct})),e&&this.attr(e),i&&this.addClass(i),n&&(r&&n._node.firstChild?n._node.insertBefore(this._node,n._node.firstChild):n._node.appendChild(this._node))},attr:function(i,t){return"string"==typeof i?t?this._node.getAttributeNS(t,i):this._node.getAttribute(i):(Object.keys(i).forEach(function(t){if(void 0!==i[t])if(-1!==t.indexOf(":")){var e=t.split(":");this._node.setAttributeNS(l.namespaces[e[0]],t,i[t])}else this._node.setAttribute(t,i[t])}.bind(this)),this)},elem:function(t,e,i,n){return new l.Svg(t,e,i,this,n)},parent:function(){return this._node.parentNode instanceof SVGElement?new l.Svg(this._node.parentNode):null},root:function(){for(var t=this._node;"svg"!==t.nodeName;)t=t.parentNode;return new l.Svg(t)},querySelector:function(t){var e=this._node.querySelector(t);return e?new l.Svg(e):null},querySelectorAll:function(t){var e=this._node.querySelectorAll(t);return e.length?new l.Svg.List(e):null},getNode:function(){return this._node},foreignObject:function(t,e,i,n){if("string"==typeof t){var r=a.createElement("div");r.innerHTML=t,t=r.firstChild}t.setAttribute("xmlns",l.namespaces.xmlns);var o=this.elem("foreignObject",e,i,n);return o._node.appendChild(t),o},text:function(t){return this._node.appendChild(a.createTextNode(t)),this},empty:function(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this},remove:function(){return this._node.parentNode.removeChild(this._node),this.parent()},replace:function(t){return this._node.parentNode.replaceChild(t._node,this._node),t},append:function(t,e){return e&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this},classes:function(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]},addClass:function(t){return this._node.setAttribute("class",this.classes(this._node).concat(t.trim().split(/\s+/)).filter(function(t,e,i){return i.indexOf(t)===e}).join(" ")),this},removeClass:function(t){var e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(t){return-1===e.indexOf(t)}).join(" ")),this},removeAllClasses:function(){return this._node.setAttribute("class",""),this},height:function(){return this._node.getBoundingClientRect().height},width:function(){return this._node.getBoundingClientRect().width},animate:function(t,i,s){return void 0===i&&(i=!0),Object.keys(t).forEach(function(a){function e(e,t){var i,n,r,o={};e.easing&&(r=e.easing instanceof Array?e.easing:l.Svg.Easing[e.easing],delete e.easing),e.begin=l.ensureUnit(e.begin,"ms"),e.dur=l.ensureUnit(e.dur,"ms"),r&&(e.calcMode="spline",e.keySplines=r.join(" "),e.keyTimes="0;1"),t&&(e.fill="freeze",o[a]=e.from,this.attr(o),n=l.quantity(e.begin||0).value,e.begin="indefinite"),i=this.elem("animate",l.extend({attributeName:a},e)),t&&setTimeout(function(){try{i._node.beginElement()}catch(t){o[a]=e.to,this.attr(o),i.remove()}}.bind(this),n),s&&i._node.addEventListener("beginEvent",function(){s.emit("animationBegin",{element:this,animate:i._node,params:e})}.bind(this)),i._node.addEventListener("endEvent",function(){s&&s.emit("animationEnd",{element:this,animate:i._node,params:e}),t&&(o[a]=e.to,this.attr(o),i.remove())}.bind(this))}t[a]instanceof Array?t[a].forEach(function(t){e.bind(this)(t,!1)}.bind(this)):e.bind(this)(t[a],i)}.bind(this)),this}}),l.Svg.isSupported=function(t){return a.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+t,"1.1")};l.Svg.Easing={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]},l.Svg.List=l.Class.extend({constructor:function(t){var n=this;this.svgElements=[];for(var e=0;e<t.length;e++)this.svgElements.push(new l.Svg(t[e]));Object.keys(l.Svg.prototype).filter(function(t){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(t)}).forEach(function(i){n[i]=function(){var e=Array.prototype.slice.call(arguments,0);return n.svgElements.forEach(function(t){l.Svg.prototype[i].apply(t,e)}),n}})}})}(window,document,n),function(t,e,s){"use strict";var a={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},i={accuracy:3};function h(t,e,i,n,r,o){var a=s.extend({command:r?t.toLowerCase():t.toUpperCase()},e,o?{data:o}:{});i.splice(n,0,a)}function r(r,o){r.forEach(function(i,n){a[i.command.toLowerCase()].forEach(function(t,e){o(i,t,n,e,r)})})}s.Svg.Path=s.Class.extend({constructor:function(t,e){this.pathElements=[],this.pos=0,this.close=t,this.options=s.extend({},i,e)},position:function(t){return void 0!==t?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos},remove:function(t){return this.pathElements.splice(this.pos,t),this},move:function(t,e,i,n){return h("M",{x:+t,y:+e},this.pathElements,this.pos++,i,n),this},line:function(t,e,i,n){return h("L",{x:+t,y:+e},this.pathElements,this.pos++,i,n),this},curve:function(t,e,i,n,r,o,a,s){return h("C",{x1:+t,y1:+e,x2:+i,y2:+n,x:+r,y:+o},this.pathElements,this.pos++,a,s),this},arc:function(t,e,i,n,r,o,a,s,l){return h("A",{rx:+t,ry:+e,xAr:+i,lAf:+n,sf:+r,x:+o,y:+a},this.pathElements,this.pos++,s,l),this},scale:function(i,n){return r(this.pathElements,function(t,e){t[e]*="x"===e[0]?i:n}),this},translate:function(i,n){return r(this.pathElements,function(t,e){t[e]+="x"===e[0]?i:n}),this},transform:function(a){return r(this.pathElements,function(t,e,i,n,r){var o=a(t,e,i,n,r);(o||0===o)&&(t[e]=o)}),this},parse:function(t){var e=t.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(t,e){return e.match(/[A-Za-z]/)&&t.push([]),t[t.length-1].push(e),t},[]);"Z"===e[e.length-1][0].toUpperCase()&&e.pop();var i=e.map(function(n){var t=n.shift(),e=a[t.toLowerCase()];return s.extend({command:t},e.reduce(function(t,e,i){return t[e]=+n[i],t},{}))}),n=[this.pos,0];return Array.prototype.push.apply(n,i),Array.prototype.splice.apply(this.pathElements,n),this.pos+=i.length,this},stringify:function(){var n=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(t,e){var i=a[e.command.toLowerCase()].map(function(t){return this.options.accuracy?Math.round(e[t]*n)/n:e[t]}.bind(this));return t+e.command+i.join(",")}.bind(this),"")+(this.close?"Z":"")},clone:function(t){var e=new s.Svg.Path(t||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map(function(t){return s.extend({},t)}),e.options=s.extend({},this.options),e},splitByCommand:function(e){var i=[new s.Svg.Path];return this.pathElements.forEach(function(t){t.command===e.toUpperCase()&&0!==i[i.length-1].pathElements.length&&i.push(new s.Svg.Path),i[i.length-1].pathElements.push(t)}),i}}),s.Svg.Path.elementDescriptions=a,s.Svg.Path.join=function(t,e,i){for(var n=new s.Svg.Path(e,i),r=0;r<t.length;r++)for(var o=t[r],a=0;a<o.pathElements.length;a++)n.pathElements.push(o.pathElements[a]);return n}}(window,document,n),function(t,e,d){"use strict";var r={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};d.Axis=d.Class.extend({constructor:function(t,e,i,n){this.units=t,this.counterUnits=t===r.x?r.y:r.x,this.chartRect=e,this.axisLength=e[t.rectEnd]-e[t.rectStart],this.gridOffset=e[t.rectOffset],this.ticks=i,this.options=n},createGridAndLabels:function(r,o,a,s,l){var h=s["axis"+this.units.pos.toUpperCase()],c=this.ticks.map(this.projectValue.bind(this)),u=this.ticks.map(h.labelInterpolationFnc);c.forEach(function(t,e){var i,n={x:0,y:0};i=c[e+1]?c[e+1]-t:Math.max(this.axisLength-t,30),d.isFalseyButZero(u[e])&&""!==u[e]||("x"===this.units.pos?(t=this.chartRect.x1+t,n.x=s.axisX.labelOffset.x,"start"===s.axisX.position?n.y=this.chartRect.padding.top+s.axisX.labelOffset.y+(a?5:20):n.y=this.chartRect.y1+s.axisX.labelOffset.y+(a?5:20)):(t=this.chartRect.y1-t,n.y=s.axisY.labelOffset.y-(a?i:0),"start"===s.axisY.position?n.x=a?this.chartRect.padding.left+s.axisY.labelOffset.x:this.chartRect.x1-10:n.x=this.chartRect.x2+s.axisY.labelOffset.x+10),h.showGrid&&d.createGrid(t,e,this,this.gridOffset,this.chartRect[this.counterUnits.len](),r,[s.classNames.grid,s.classNames[this.units.dir]],l),h.showLabel&&d.createLabel(t,i,e,u,this,h.offset,n,o,[s.classNames.label,s.classNames[this.units.dir],"start"===h.position?s.classNames[h.position]:s.classNames.end],a,l))}.bind(this))},projectValue:function(t,e,i){throw new Error("Base axis can't be instantiated!")}}),d.Axis.units=r}(window,document,n),function(t,e,o){"use strict";o.AutoScaleAxis=o.Axis.extend({constructor:function(t,e,i,n){var r=n.highLow||o.getHighLow(e,n,t.pos);this.bounds=o.getBounds(i[t.rectEnd]-i[t.rectStart],r,n.scaleMinSpace||20,n.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},o.AutoScaleAxis.super.constructor.call(this,t,i,this.bounds.values,n)},projectValue:function(t){return this.axisLength*(+o.getMultiValue(t,this.units.pos)-this.bounds.min)/this.bounds.range}})}(window,document,n),function(t,e,o){"use strict";o.FixedScaleAxis=o.Axis.extend({constructor:function(t,e,i,n){var r=n.highLow||o.getHighLow(e,n,t.pos);this.divisor=n.divisor||1,this.ticks=n.ticks||o.times(this.divisor).map(function(t,e){return r.low+(r.high-r.low)/this.divisor*e}.bind(this)),this.ticks.sort(function(t,e){return t-e}),this.range={min:r.low,max:r.high},o.FixedScaleAxis.super.constructor.call(this,t,i,this.ticks,n),this.stepLength=this.axisLength/this.divisor},projectValue:function(t){return this.axisLength*(+o.getMultiValue(t,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}})}(window,document,n),function(t,e,o){"use strict";o.StepAxis=o.Axis.extend({constructor:function(t,e,i,n){o.StepAxis.super.constructor.call(this,t,i,n.ticks,n);var r=Math.max(1,n.ticks.length-(n.stretch?1:0));this.stepLength=this.axisLength/r},projectValue:function(t,e){return this.stepLength*e}})}(window,document,n),function(t,e,m){"use strict";var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:m.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:m.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};m.Line=m.Base.extend({constructor:function(t,e,i,n){m.Line.super.constructor.call(this,t,e,r,m.extend({},r,i),n)},createChart:function(c){var u=m.normalizeData(this.data,c.reverseData,!0);this.svg=m.createSvg(this.container,c.width,c.height,c.classNames.chart);var d,p,t=this.svg.elem("g").addClass(c.classNames.gridGroup),f=this.svg.elem("g"),e=this.svg.elem("g").addClass(c.classNames.labelGroup),g=m.createChartRect(this.svg,c,r.padding);d=void 0===c.axisX.type?new m.StepAxis(m.Axis.units.x,u.normalized.series,g,m.extend({},c.axisX,{ticks:u.normalized.labels,stretch:c.fullWidth})):c.axisX.type.call(m,m.Axis.units.x,u.normalized.series,g,c.axisX),p=void 0===c.axisY.type?new m.AutoScaleAxis(m.Axis.units.y,u.normalized.series,g,m.extend({},c.axisY,{high:m.isNumeric(c.high)?c.high:c.axisY.high,low:m.isNumeric(c.low)?c.low:c.axisY.low})):c.axisY.type.call(m,m.Axis.units.y,u.normalized.series,g,c.axisY),d.createGridAndLabels(t,e,this.supportsForeignObject,c,this.eventEmitter),p.createGridAndLabels(t,e,this.supportsForeignObject,c,this.eventEmitter),c.showGridBackground&&m.createGridBackground(t,g,c.classNames.gridBackground,this.eventEmitter),u.raw.series.forEach(function(n,r){var i=f.elem("g");i.attr({"ct:series-name":n.name,"ct:meta":m.serialize(n.meta)}),i.addClass([c.classNames.series,n.className||c.classNames.series+"-"+m.alphaNumerate(r)].join(" "));var o=[],a=[];u.normalized.series[r].forEach(function(t,e){var i={x:g.x1+d.projectValue(t,e,u.normalized.series[r]),y:g.y1-p.projectValue(t,e,u.normalized.series[r])};o.push(i.x,i.y),a.push({value:t,valueIndex:e,meta:m.getMetaData(n,e)})}.bind(this));var t={lineSmooth:m.getSeriesOption(n,c,"lineSmooth"),showPoint:m.getSeriesOption(n,c,"showPoint"),showLine:m.getSeriesOption(n,c,"showLine"),showArea:m.getSeriesOption(n,c,"showArea"),areaBase:m.getSeriesOption(n,c,"areaBase")},e=("function"==typeof t.lineSmooth?t.lineSmooth:t.lineSmooth?m.Interpolation.monotoneCubic():m.Interpolation.none())(o,a);if(t.showPoint&&e.pathElements.forEach(function(t){var e=i.elem("line",{x1:t.x,y1:t.y,x2:t.x+.01,y2:t.y},c.classNames.point).attr({"ct:value":[t.data.value.x,t.data.value.y].filter(m.isNumeric).join(","),"ct:meta":m.serialize(t.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:t.data.value,index:t.data.valueIndex,meta:t.data.meta,series:n,seriesIndex:r,axisX:d,axisY:p,group:i,element:e,x:t.x,y:t.y})}.bind(this)),t.showLine){var s=i.elem("path",{d:e.stringify()},c.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:u.normalized.series[r],path:e.clone(),chartRect:g,index:r,series:n,seriesIndex:r,seriesMeta:n.meta,axisX:d,axisY:p,group:i,element:s})}if(t.showArea&&p.range){var l=Math.max(Math.min(t.areaBase,p.range.max),p.range.min),h=g.y1-p.projectValue(l);e.splitByCommand("M").filter(function(t){return 1<t.pathElements.length}).map(function(t){var e=t.pathElements[0],i=t.pathElements[t.pathElements.length-1];return t.clone(!0).position(0).remove(1).move(e.x,h).line(e.x,e.y).position(t.pathElements.length+1).line(i.x,h)}).forEach(function(t){var e=i.elem("path",{d:t.stringify()},c.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:u.normalized.series[r],path:t.clone(),series:n,seriesIndex:r,axisX:d,axisY:p,chartRect:g,index:r,group:i,element:e})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:p.bounds,chartRect:g,axisX:d,axisY:p,svg:this.svg,options:c})}})}(window,document,n),function(t,e,w){"use strict";var a={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:w.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:w.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};w.Bar=w.Base.extend({constructor:function(t,e,i,n){w.Bar.super.constructor.call(this,t,e,a,w.extend({},a,i),n)},createChart:function(p){var f,t;p.distributeSeries?(f=w.normalizeData(this.data,p.reverseData,p.horizontalBars?"x":"y")).normalized.series=f.normalized.series.map(function(t){return[t]}):f=w.normalizeData(this.data,p.reverseData,p.horizontalBars?"x":"y"),this.svg=w.createSvg(this.container,p.width,p.height,p.classNames.chart+(p.horizontalBars?" "+p.classNames.horizontalBars:""));var e=this.svg.elem("g").addClass(p.classNames.gridGroup),i=this.svg.elem("g"),n=this.svg.elem("g").addClass(p.classNames.labelGroup);if(p.stackBars&&0!==f.normalized.series.length){var r=w.serialMap(f.normalized.series,function(){return Array.prototype.slice.call(arguments).map(function(t){return t}).reduce(function(t,e){return{x:t.x+(e&&e.x)||0,y:t.y+(e&&e.y)||0}},{x:0,y:0})});t=w.getHighLow([r],p,p.horizontalBars?"x":"y")}else t=w.getHighLow(f.normalized.series,p,p.horizontalBars?"x":"y");t.high=+p.high||(0===p.high?0:t.high),t.low=+p.low||(0===p.low?0:t.low);var g,o,m,v,y,b=w.createChartRect(this.svg,p,a.padding);o=p.distributeSeries&&p.stackBars?f.normalized.labels.slice(0,1):f.normalized.labels,p.horizontalBars?(g=v=void 0===p.axisX.type?new w.AutoScaleAxis(w.Axis.units.x,f.normalized.series,b,w.extend({},p.axisX,{highLow:t,referenceValue:0})):p.axisX.type.call(w,w.Axis.units.x,f.normalized.series,b,w.extend({},p.axisX,{highLow:t,referenceValue:0})),m=y=void 0===p.axisY.type?new w.StepAxis(w.Axis.units.y,f.normalized.series,b,{ticks:o}):p.axisY.type.call(w,w.Axis.units.y,f.normalized.series,b,p.axisY)):(m=v=void 0===p.axisX.type?new w.StepAxis(w.Axis.units.x,f.normalized.series,b,{ticks:o}):p.axisX.type.call(w,w.Axis.units.x,f.normalized.series,b,p.axisX),g=y=void 0===p.axisY.type?new w.AutoScaleAxis(w.Axis.units.y,f.normalized.series,b,w.extend({},p.axisY,{highLow:t,referenceValue:0})):p.axisY.type.call(w,w.Axis.units.y,f.normalized.series,b,w.extend({},p.axisY,{highLow:t,referenceValue:0})));var x=p.horizontalBars?b.x1+g.projectValue(0):b.y1-g.projectValue(0),_=[];m.createGridAndLabels(e,n,this.supportsForeignObject,p,this.eventEmitter),g.createGridAndLabels(e,n,this.supportsForeignObject,p,this.eventEmitter),p.showGridBackground&&w.createGridBackground(e,b,p.classNames.gridBackground,this.eventEmitter),f.raw.series.forEach(function(l,h){var c,u,d=h-(f.raw.series.length-1)/2;c=p.distributeSeries&&!p.stackBars?m.axisLength/f.normalized.series.length/2:p.distributeSeries&&p.stackBars?m.axisLength/2:m.axisLength/f.normalized.series[h].length/2,(u=i.elem("g")).attr({"ct:series-name":l.name,"ct:meta":w.serialize(l.meta)}),u.addClass([p.classNames.series,l.className||p.classNames.series+"-"+w.alphaNumerate(h)].join(" ")),f.normalized.series[h].forEach(function(t,e){var i,n,r,o;if(o=p.distributeSeries&&!p.stackBars?h:p.distributeSeries&&p.stackBars?0:e,i=p.horizontalBars?{x:b.x1+g.projectValue(t&&t.x?t.x:0,e,f.normalized.series[h]),y:b.y1-m.projectValue(t&&t.y?t.y:0,o,f.normalized.series[h])}:{x:b.x1+m.projectValue(t&&t.x?t.x:0,o,f.normalized.series[h]),y:b.y1-g.projectValue(t&&t.y?t.y:0,e,f.normalized.series[h])},m instanceof w.StepAxis&&(m.options.stretch||(i[m.units.pos]+=c*(p.horizontalBars?-1:1)),i[m.units.pos]+=p.stackBars||p.distributeSeries?0:d*p.seriesBarDistance*(p.horizontalBars?-1:1)),r=_[e]||x,_[e]=r-(x-i[m.counterUnits.pos]),void 0!==t){var a={};a[m.units.pos+"1"]=i[m.units.pos],a[m.units.pos+"2"]=i[m.units.pos],!p.stackBars||"accumulate"!==p.stackMode&&p.stackMode?(a[m.counterUnits.pos+"1"]=x,a[m.counterUnits.pos+"2"]=i[m.counterUnits.pos]):(a[m.counterUnits.pos+"1"]=r,a[m.counterUnits.pos+"2"]=_[e]),a.x1=Math.min(Math.max(a.x1,b.x1),b.x2),a.x2=Math.min(Math.max(a.x2,b.x1),b.x2),a.y1=Math.min(Math.max(a.y1,b.y2),b.y1),a.y2=Math.min(Math.max(a.y2,b.y2),b.y1);var s=w.getMetaData(l,e);n=u.elem("line",a,p.classNames.bar).attr({"ct:value":[t.x,t.y].filter(w.isNumeric).join(","),"ct:meta":w.serialize(s)}),this.eventEmitter.emit("draw",w.extend({type:"bar",value:t,index:e,meta:s,series:l,seriesIndex:h,axisX:v,axisY:y,chartRect:b,group:u,element:n},a))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:g.bounds,chartRect:b,axisX:v,axisY:y,svg:this.svg,options:p})}})}(window,document,n),function(t,e,D){"use strict";var r={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:D.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};function A(t,e,i){var n=e.x>t.x;return n&&"explode"===i||!n&&"implode"===i?"start":n&&"implode"===i||!n&&"explode"===i?"end":"middle"}D.Pie=D.Base.extend({constructor:function(t,e,i,n){D.Pie.super.constructor.call(this,t,e,r,D.extend({},r,i),n)},createChart:function(m){var v,t,y,b,x,_=D.normalizeData(this.data),w=[],S=m.startAngle;this.svg=D.createSvg(this.container,m.width,m.height,m.donut?m.classNames.chartDonut:m.classNames.chartPie),t=D.createChartRect(this.svg,m,r.padding),y=Math.min(t.width()/2,t.height()/2),x=m.total||_.normalized.series.reduce(function(t,e){return t+e},0);var C=D.quantity(m.donutWidth);"%"===C.unit&&(C.value*=y/100),y-=m.donut&&!m.donutSolid?C.value/2:0,b="outside"===m.labelPosition||m.donut&&!m.donutSolid?y:"center"===m.labelPosition?0:m.donutSolid?y-C.value/2:y/2,b+=m.labelOffset;var k={x:t.x1+t.width()/2,y:t.y2+t.height()/2},T=1===_.raw.series.filter(function(t){return t.hasOwnProperty("value")?0!==t.value:0!==t}).length;_.raw.series.forEach(function(t,e){w[e]=this.svg.elem("g",null,null)}.bind(this)),m.showLabel&&(v=this.svg.elem("g",null,null)),_.raw.series.forEach(function(t,e){if(0!==_.normalized.series[e]||!m.ignoreEmptyValues){w[e].attr({"ct:series-name":t.name}),w[e].addClass([m.classNames.series,t.className||m.classNames.series+"-"+D.alphaNumerate(e)].join(" "));var i=0<x?S+_.normalized.series[e]/x*360:0,n=Math.max(0,S-(0===e||T?0:.2));359.99<=i-n&&(i=n+359.99);var r,o,a,s=D.polarToCartesian(k.x,k.y,y,n),l=D.polarToCartesian(k.x,k.y,y,i),h=new D.Svg.Path(!m.donut||m.donutSolid).move(l.x,l.y).arc(y,y,0,180<i-S,0,s.x,s.y);m.donut?m.donutSolid&&(a=y-C.value,r=D.polarToCartesian(k.x,k.y,a,S-(0===e||T?0:.2)),o=D.polarToCartesian(k.x,k.y,a,i),h.line(r.x,r.y),h.arc(a,a,0,180<i-S,1,o.x,o.y)):h.line(k.x,k.y);var c=m.classNames.slicePie;m.donut&&(c=m.classNames.sliceDonut,m.donutSolid&&(c=m.classNames.sliceDonutSolid));var u=w[e].elem("path",{d:h.stringify()},c);if(u.attr({"ct:value":_.normalized.series[e],"ct:meta":D.serialize(t.meta)}),m.donut&&!m.donutSolid&&(u._node.style.strokeWidth=C.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:_.normalized.series[e],totalDataSum:x,index:e,meta:t.meta,series:t,group:w[e],element:u,path:h.clone(),center:k,radius:y,startAngle:S,endAngle:i}),m.showLabel){var d,p;d=1===_.raw.series.length?{x:k.x,y:k.y}:D.polarToCartesian(k.x,k.y,b,S+(i-S)/2),p=_.normalized.labels&&!D.isFalseyButZero(_.normalized.labels[e])?_.normalized.labels[e]:_.normalized.series[e];var f=m.labelInterpolationFnc(p,e);if(f||0===f){var g=v.elem("text",{dx:d.x,dy:d.y,"text-anchor":A(k,d,m.labelDirection)},m.classNames.label).text(""+f);this.eventEmitter.emit("draw",{type:"label",index:e,group:v,element:g,text:""+f,x:d.x,y:d.y})}}S=i}}.bind(this)),this.eventEmitter.emit("created",{chartRect:t,svg:this.svg,options:m})},determineAnchorPosition:A})}(window,document,n),n}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.c3=e()}(this,function(){"use strict";var r,o,V={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},T=function(t){return t||0===t},d=function(t){return"function"==typeof t},h=function(t){return Array.isArray(t)},c=function(t){return"string"==typeof t},w=function(t){return void 0===t},R=function(t){return void 0!==t},i=function(t){return 10*Math.ceil(t/10)},u=function(t){return Math.ceil(t)+.5},F=function(t){return t[1]-t[0]},p=function(t){return null==t||c(t)&&0===t.length||"object"===(void 0===t?"undefined":s(t))&&0===Object.keys(t).length},D=function(t){return!b.isEmpty(t)},B=function(t,e,i){return R(t[e])?t[e]:i},n=function(e,i){var n=!1;return Object.keys(e).forEach(function(t){e[t]===i&&(n=!0)}),n},g=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},y=function(t){var e=t.getBoundingClientRect(),i=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:i[0].x,y:Math.min(i[0].y,i[1].y),width:e.width,height:e.height}};function f(t,e){var i=this;i.component=t,i.params=e||{},i.d3=t.d3,i.scale=i.d3.scale.linear(),i.range,i.orient="bottom",i.innerTickSize=6,i.outerTickSize=this.params.withOuterTick?6:0,i.tickPadding=3,i.tickValues=null,i.tickFormat,i.tickArguments,i.tickOffset=0,i.tickCulling=!0,i.tickCentered,i.tickTextCharSize,i.tickTextRotate=i.params.tickTextRotate,i.tickLength,i.axis=i.generateAxis()}(o=f.prototype).axisX=function(t,e,i){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+i)+", 0)"})},o.axisY=function(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})},o.scaleExtent=function(t){var e=t[0],i=t[t.length-1];return e<i?[e,i]:[i,e]},o.generateTicks=function(t){var e,i,n=[];if(t.ticks)return t.ticks.apply(t,this.tickArguments);for(i=t.domain(),e=Math.ceil(i[0]);e<i[1];e++)n.push(e);return 0<n.length&&0<n[0]&&n.unshift(n[0]-(n[1]-n[0])),n},o.copyScale=function(){var t,e=this.scale.copy();return this.params.isCategory&&(t=this.scale.domain(),e.domain([t[0],t[1]-1])),e},o.textFormatted=function(t){var e=this.tickFormat?this.tickFormat(t):t;return void 0!==e?e:""},o.updateRange=function(){return this.range=this.scale.rangeExtent?this.scale.rangeExtent():this.scaleExtent(this.scale.range()),this.range},o.updateTickTextCharSize=function(t){var o=this;if(o.tickTextCharSize)return o.tickTextCharSize;var a={h:11.5,w:5.5};return t.select("text").text(function(t){return o.textFormatted(t)}).each(function(t){var e=this.getBoundingClientRect(),i=o.textFormatted(t),n=e.height,r=i?e.width/i.length:void 0;n&&r&&(a.h=n,a.w=r)}).text(""),o.tickTextCharSize=a},o.transitionise=function(t){return this.params.withoutTransition?t:this.d3.transition(t)},o.isVertical=function(){return"left"===this.orient||"right"===this.orient},o.tspanData=function(t,e,i,n){var r=this.params.tickMultiline?this.splitTickText(t,i,n):[].concat(this.textFormatted(t));return r.map(function(t){return{index:e,splitted:t,length:r.length}})},o.splitTickText=function(t,e,i){var r,o,a,s=this,n=s.textFormatted(t),l=s.params.tickWidth;if("[object Array]"===Object.prototype.toString.call(n))return n;return(!l||l<=0)&&(l=s.isVertical()?95:s.params.isCategory?Math.ceil(i(e[1])-i(e[0]))-12:110),function t(e,i){o=void 0;for(var n=1;n<i.length;n++)if(" "===i.charAt(n)&&(o=n),r=i.substr(0,n+1),a=s.tickTextCharSize.w*r.length,l<a)return t(e.concat(i.substr(0,o||n)),i.slice(o?o+1:n));return e.concat(i)}([],n+"")},o.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},o.lineY2=function(t){var e=this.scale(t)+(this.tickCentered?0:this.tickOffset);return this.range[0]<e&&e<this.range[1]?this.innerTickSize:0},o.textY=function(){var t=this.tickTextRotate;return t?11.5-t/15*2.5*(0<t?1:-1):this.tickLength},o.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},o.textTextAnchor=function(){var t=this.tickTextRotate;return t?0<t?"start":"end":"middle"},o.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},o.tspanDy=function(t,e){var i=this.tickTextCharSize.h;return 0===e&&(i=this.isVertical()?-((t.length-1)*(this.tickTextCharSize.h/2)-3):".71em"),i},o.generateAxis=function(){var y=this,b=y.d3,x=y.params;function _(t){t.each(function(){var t,e,i,n=_.g=b.select(this),r=this.__chart__||y.scale,o=this.__chart__=y.copyScale(),a=y.tickValues?y.tickValues:y.generateTicks(o),s=n.selectAll(".tick").data(a,o),l=s.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),h=s.exit().remove(),c=y.transitionise(s).style("opacity",1);x.isCategory?(y.tickOffset=Math.ceil((o(1)-o(0))/2),e=y.tickCentered?0:y.tickOffset,i=y.tickCentered?y.tickOffset:0):y.tickOffset=e=0,l.append("line"),l.append("text"),y.updateRange(),y.updateTickLength(),y.updateTickTextCharSize(n.select(".tick"));var u=c.select("line"),d=c.select("text"),p=s.select("text").selectAll("tspan").data(function(t,e){return y.tspanData(t,e,a,o)});p.enter().append("tspan"),p.exit().remove(),p.text(function(t){return t.splitted});var f=n.selectAll(".domain").data([0]),g=(f.enter().append("path").attr("class","domain"),y.transitionise(f));switch(y.orient){case"bottom":t=y.axisX,u.attr("x1",e).attr("x2",e).attr("y2",function(t,e){return y.lineY2(t,e)}),d.attr("x",0).attr("y",function(t,e){return y.textY(t,e)}).attr("transform",function(t,e){return y.textTransform(t,e)}).style("text-anchor",function(t,e){return y.textTextAnchor(t,e)}),p.attr("x",0).attr("dy",function(t,e){return y.tspanDy(t,e)}).attr("dx",function(t,e){return y.tspanDx(t,e)}),g.attr("d","M"+y.range[0]+","+y.outerTickSize+"V0H"+y.range[1]+"V"+y.outerTickSize);break;case"top":t=y.axisX,u.attr("x1",e).attr("x2",e).attr("y2",function(t,e){return-1*y.lineY2(t,e)}),d.attr("x",0).attr("y",function(t,e){return-1*y.textY(t,e)-(x.isCategory?2:y.tickLength-2)}).attr("transform",function(t,e){return y.textTransform(t,e)}).style("text-anchor",function(t,e){return y.textTextAnchor(t,e)}),p.attr("x",0).attr("dy",function(t,e){return y.tspanDy(t,e)}).attr("dx",function(t,e){return y.tspanDx(t,e)}),g.attr("d","M"+y.range[0]+","+-y.outerTickSize+"V0H"+y.range[1]+"V"+-y.outerTickSize);break;case"left":t=y.axisY,u.attr("x2",-y.innerTickSize).attr("y1",i).attr("y2",i),d.attr("x",-y.tickLength).attr("y",y.tickOffset).style("text-anchor","end"),p.attr("x",-y.tickLength).attr("dy",function(t,e){return y.tspanDy(t,e)}),g.attr("d","M"+-y.outerTickSize+","+y.range[0]+"H0V"+y.range[1]+"H"+-y.outerTickSize);break;case"right":t=y.axisY,u.attr("x2",y.innerTickSize).attr("y1",i).attr("y2",i),d.attr("x",y.tickLength).attr("y",y.tickOffset).style("text-anchor","start"),p.attr("x",y.tickLength).attr("dy",function(t,e){return y.tspanDy(t,e)}),g.attr("d","M"+y.outerTickSize+","+y.range[0]+"H0V"+y.range[1]+"H"+y.outerTickSize)}if(o.rangeBand){var m=o,v=m.rangeBand()/2;r=o=function(t){return m(t)+v}}else r.rangeBand?r=o:h.call(t,o,y.tickOffset);l.call(t,r,y.tickOffset),c.call(t,o,y.tickOffset)})}return _.scale=function(t){return arguments.length?(y.scale=t,_):y.scale},_.orient=function(t){return arguments.length?(y.orient=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",_):y.orient},_.tickFormat=function(t){return arguments.length?(y.tickFormat=t,_):y.tickFormat},_.tickCentered=function(t){return arguments.length?(y.tickCentered=t,_):y.tickCentered},_.tickOffset=function(){return y.tickOffset},_.tickInterval=function(){var t;return(t=x.isCategory?2*y.tickOffset:(_.g.select("path.domain").node().getTotalLength()-2*y.outerTickSize)/_.g.selectAll("line").size())===1/0?0:t},_.ticks=function(){return arguments.length?(y.tickArguments=arguments,_):y.tickArguments},_.tickCulling=function(t){return arguments.length?(y.tickCulling=t,_):y.tickCulling},_.tickValues=function(t){if("function"==typeof t)y.tickValues=function(){return t(y.scale.domain())};else{if(!arguments.length)return y.tickValues;y.tickValues=t}return _},_};var m=function(t){function n(t){a(this,n);var e={fn:r,internal:{fn:o}},i=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,"axis",e));return i.d3=t.d3,i.internal=f,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),n}();(r=m.prototype).init=function(){var t=this.owner,e=t.config,i=t.main;t.axes.x=i.append("g").attr("class",V.axis+" "+V.axisX).attr("clip-path",e.axis_x_inner?"":t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",V.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=i.append("g").attr("class",V.axis+" "+V.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",V.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=i.append("g").attr("class",V.axis+" "+V.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",V.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},r.getXAxis=function(t,e,i,n,r,o,a){var s=this.owner,l=s.config,h={isCategory:s.isCategorized(),withOuterTick:r,tickMultiline:l.axis_x_tick_multiline,tickWidth:l.axis_x_tick_width,tickTextRotate:a?0:l.axis_x_tick_rotate,withoutTransition:o},c=new this.internal(this,h).axis.scale(t).orient(e);return s.isTimeSeries()&&n&&"function"!=typeof n&&(n=n.map(function(t){return s.parseDate(t)})),c.tickFormat(i).tickValues(n),s.isCategorized()&&(c.tickCentered(l.axis_x_tick_centered),p(l.axis_x_tick_culling)&&(l.axis_x_tick_culling=!1)),c},r.updateXAxisTickValues=function(t,e){var i,n=this.owner,r=n.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(i=this.generateTickValues(n.mapTargetsToUniqueXs(t),r.axis_x_tick_count,n.isTimeSeries())),e?e.tickValues(i):(n.xAxis.tickValues(i),n.subXAxis.tickValues(i)),i},r.getYAxis=function(t,e,i,n,r,o,a){var s=this.owner,l=s.config,h={withOuterTick:r,withoutTransition:o,tickTextRotate:a?0:l.axis_y_tick_rotate},c=new this.internal(this,h).axis.scale(t).orient(e).tickFormat(i);return s.isTimeSeriesY()?c.ticks(s.d3.time[l.axis_y_tick_time_value],l.axis_y_tick_time_interval):c.tickValues(n),c},r.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},r.getXAxisTickFormat=function(){var e=this.owner,i=e.config,n=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(t){return t<0?t.toFixed(0):t};return i.axis_x_tick_format&&(d(i.axis_x_tick_format)?n=i.axis_x_tick_format:e.isTimeSeries()&&(n=function(t){return t?e.axisTimeFormat(i.axis_x_tick_format)(t):""})),d(n)?function(t){return n.call(e,t)}:n},r.getTickValues=function(t,e){return t||(e?e.tickValues():void 0)},r.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},r.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},r.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},r.getLabelOptionByAxisId=function(t){var e,i=this.owner.config;return"y"===t?e=i.axis_y_label:"y2"===t?e=i.axis_y2_label:"x"===t&&(e=i.axis_x_label),e},r.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return c(e)?e:e?e.text:null},r.setLabelText=function(t,e){var i=this.owner.config,n=this.getLabelOptionByAxisId(t);c(n)?"y"===t?i.axis_y_label=e:"y2"===t?i.axis_y2_label=e:"x"===t&&(i.axis_x_label=e):n&&(n.text=e)},r.getLabelPosition=function(t,e){var i=this.getLabelOptionByAxisId(t),n=i&&"object"===(void 0===i?"undefined":s(i))&&i.position?i.position:e;return{isInner:0<=n.indexOf("inner"),isOuter:0<=n.indexOf("outer"),isLeft:0<=n.indexOf("left"),isCenter:0<=n.indexOf("center"),isRight:0<=n.indexOf("right"),isTop:0<=n.indexOf("top"),isMiddle:0<=n.indexOf("middle"),isBottom:0<=n.indexOf("bottom")}},r.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},r.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},r.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},r.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},r.textForXAxisLabel=function(){return this.getLabelText("x")},r.textForYAxisLabel=function(){return this.getLabelText("y")},r.textForY2AxisLabel=function(){return this.getLabelText("y2")},r.xForAxisLabel=function(t,e){var i=this.owner;return t?e.isLeft?0:e.isCenter?i.width/2:i.width:e.isBottom?-i.height:e.isMiddle?-i.height/2:0},r.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},r.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},r.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},r.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},r.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},r.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},r.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},r.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},r.dyForXAxisLabel=function(){var t=this.owner,e=t.config,i=this.getXAxisLabelPosition();return e.axis_rotated?i.isInner?"1.2em":-25-(t.config.axis_x_inner?0:this.getMaxTickWidth("x")):i.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},r.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},r.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},r.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},r.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},r.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},r.getMaxTickWidth=function(t,e){var i,n,r,o,a=this.owner,s=a.config,l=0;return e&&a.currentMaxTickWidths[t]||(a.svg&&(i=a.filterTargetsToShow(a.data.targets),"y"===t?(n=a.y.copy().domain(a.getYDomain(i,"y")),r=this.getYAxis(n,a.yOrient,s.axis_y_tick_format,a.yAxisTickValues,!1,!0,!0)):"y2"===t?(n=a.y2.copy().domain(a.getYDomain(i,"y2")),r=this.getYAxis(n,a.y2Orient,s.axis_y2_tick_format,a.y2AxisTickValues,!1,!0,!0)):(n=a.x.copy().domain(a.getXDomain(i)),r=this.getXAxis(n,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(i,r)),(o=a.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(r).each(function(){a.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();l<t.width&&(l=t.width)}),o.remove()})),a.currentMaxTickWidths[t]=l<=0?a.currentMaxTickWidths[t]:l),a.currentMaxTickWidths[t]},r.updateLabels=function(t){var e=this.owner,i=e.main.select("."+V.axisX+" ."+V.axisXLabel),n=e.main.select("."+V.axisY+" ."+V.axisYLabel),r=e.main.select("."+V.axisY2+" ."+V.axisY2Label);(t?i.transition():i).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?n.transition():n).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},r.getPadding=function(t,e,i,n){var r="number"==typeof t?t:t[e];return T(r)?"ratio"===t.unit?t[e]*n:this.convertPixelsToAxisPadding(r,n):i},r.convertPixelsToAxisPadding=function(t,e){var i=this.owner;return e*(t/(i.config.axis_rotated?i.width:i.height))},r.generateTickValues=function(t,e,i){var n,r,o,a,s,l,h,c=t;if(e)if(1===(n=d(e)?e():e))c=[t[0]];else if(2===n)c=[t[0],t[t.length-1]];else if(2<n){for(a=n-2,r=t[0],s=((o=t[t.length-1])-r)/(a+1),c=[r],l=0;l<a;l++)h=+r+s*(l+1),c.push(i?new Date(h):h);c.push(o)}return i||(c=c.sort(function(t,e){return t-e})),c},r.generateTransitions=function(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},r.redraw=function(t,e){var i=this.owner;i.axes.x.style("opacity",e?0:1),i.axes.y.style("opacity",e?0:1),i.axes.y2.style("opacity",e?0:1),i.axes.subx.style("opacity",e?0:1),t.axisX.call(i.xAxis),t.axisY.call(i.yAxis),t.axisY2.call(i.y2Axis),t.axisSubX.call(i.subXAxis)};var v,b,x={version:"0.4.22"};function e(t,e,i){this.owner=t,x.chart.internal[e]=i}function _(t){var e=this.internal=new S(this);e.loadConfig(t),e.beforeInit(t),e.init(),e.afterInit(t),function e(i,n,r){Object.keys(i).forEach(function(t){n[t]=i[t].bind(r),0<Object.keys(i[t]).length&&e(i[t],n[t],r)})}(v,this,this)}function S(t){this.d3=window.d3?window.d3:"undefined"!=typeof require?require("d3"):void 0,this.api=t,this.config=this.getDefaultConfig(),this.data={},this.cache={},this.axes={}}return x.generate=function(t){return new _(t)},x.chart={fn:_.prototype,internal:{fn:S.prototype}},v=x.chart.fn,(b=x.chart.internal.fn).beforeInit=function(){},b.afterInit=function(){},b.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},b.initParams=function(){var t=this,e=t.d3,i=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=i.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=i.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=i.axis_rotated?i.axis_x_inner?"right":"left":i.axis_x_inner?"top":"bottom",t.yOrient=i.axis_rotated?i.axis_y_inner?"top":"bottom":i.axis_y_inner?"right":"left",t.y2Orient=i.axis_rotated?i.axis_y2_inner?"bottom":"top":i.axis_y2_inner?"left":"right",t.subXOrient=i.axis_rotated?"left":"bottom",t.isLegendRight="right"===i.legend_position,t.isLegendInset="inset"===i.legend_position,t.isLegendTop="top-left"===i.legend_inset_anchor||"top-right"===i.legend_inset_anchor,t.isLegendLeft="top-left"===i.legend_inset_anchor||"bottom-left"===i.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=i.axis_rotated&&!i.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},b.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},b.initWithData=function(t){var e,i,n=this,r=n.d3,o=n.config,a=!0;n.axis=new m(n),n.initPie&&n.initPie(),n.initBrush&&n.initBrush(),n.initZoom&&n.initZoom(),o.bindto?"function"==typeof o.bindto.node?n.selectChart=o.bindto:n.selectChart=r.select(o.bindto):n.selectChart=r.selectAll([]),n.selectChart.empty()&&(n.selectChart=r.select(document.createElement("div")).style("opacity",0),n.observeInserted(n.selectChart),a=!1),n.selectChart.html("").classed("c3",!0),n.data.xs={},n.data.targets=n.convertDataToTargets(t),o.data_filter&&(n.data.targets=n.data.targets.filter(o.data_filter)),o.data_hide&&n.addHiddenTargetIds(!0===o.data_hide?n.mapToIds(n.data.targets):o.data_hide),o.legend_hide&&n.addHiddenLegendIds(!0===o.legend_hide?n.mapToIds(n.data.targets):o.legend_hide),n.updateSizes(),n.updateScales(),n.x.domain(r.extent(n.getXDomain(n.data.targets))),n.y.domain(n.getYDomain(n.data.targets,"y")),n.y2.domain(n.getYDomain(n.data.targets,"y2")),n.subX.domain(n.x.domain()),n.subY.domain(n.y.domain()),n.subY2.domain(n.y2.domain()),n.orgXDomain=n.x.domain(),n.brush&&n.brush.scale(n.subX),o.zoom_enabled&&n.zoom.scale(n.x),n.svg=n.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return o.onmouseover.call(n)}).on("mouseleave",function(){return o.onmouseout.call(n)}),n.config.svg_classname&&n.svg.attr("class",n.config.svg_classname),e=n.svg.append("defs"),n.clipChart=n.appendClip(e,n.clipId),n.clipXAxis=n.appendClip(e,n.clipIdForXAxis),n.clipYAxis=n.appendClip(e,n.clipIdForYAxis),n.clipGrid=n.appendClip(e,n.clipIdForGrid),n.clipSubchart=n.appendClip(e,n.clipIdForSubchart),n.updateSvgSize(),i=n.main=n.svg.append("g").attr("transform",n.getTranslate("main")),n.initSubchart&&n.initSubchart(),n.initTooltip&&n.initTooltip(),n.initLegend&&n.initLegend(),n.initTitle&&n.initTitle(),i.append("text").attr("class",V.text+" "+V.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),n.initRegion(),n.initGrid(),i.append("g").attr("clip-path",n.clipPath).attr("class",V.chart),o.grid_lines_front&&n.initGridLines(),n.initEventRect(),n.initChartElements(),i.insert("rect",o.zoom_privileged?null:"g."+V.regions).attr("class",V.zoomRect).attr("width",n.width).attr("height",n.height).style("opacity",0).on("dblclick.zoom",null),o.axis_x_extent&&n.brush.extent(n.getDefaultExtent()),n.axis.init(),n.updateTargets(n.data.targets),a&&(n.updateDimension(),n.config.oninit.call(n),n.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),n.bindResize(),n.api.element=n.selectChart.node()},b.smoothLines=function(t,e){var o=this;"grid"===e&&t.each(function(){var t=o.d3.select(this),e=t.attr("x1"),i=t.attr("x2"),n=t.attr("y1"),r=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(i),y1:Math.ceil(n),y2:Math.ceil(r)})})},b.updateSizes=function(){var t=this,e=t.config,i=t.legend?t.getLegendHeight():0,n=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:i,o=t.hasArcType(),a=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!o?e.subchart_size_height+a:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:s+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:a+s+r+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-s-r,right:NaN,bottom:a+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(i,n),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?n+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},b.updateTargets=function(t){this.updateTargetsForText(t),this.updateTargetsForBar(t),this.updateTargetsForLine(t),this.hasArcType()&&this.updateTargetsForArc&&this.updateTargetsForArc(t),this.updateTargetsForSubchart&&this.updateTargetsForSubchart(t),this.showTargets()},b.showTargets=function(){var e=this;e.svg.selectAll("."+V.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},b.redraw=function(t,e){var i,n,r,o,a,s,l,h,c,u,d,p,f,g,m,v,y,b,x,_,w,S,C,k,T,D,A,M,E,P=this,L=P.main,I=P.d3,O=P.config,R=P.getShapeIndices(P.isAreaType),F=P.getShapeIndices(P.isBarType),N=P.getShapeIndices(P.isLineType),z=P.hasArcType(),$=P.filterTargetsToShow(P.data.targets),H=P.xv.bind(P);if(i=B(t=t||{},"withY",!0),n=B(t,"withSubchart",!0),r=B(t,"withTransition",!0),s=B(t,"withTransform",!1),l=B(t,"withUpdateXDomain",!1),h=B(t,"withUpdateOrgXDomain",!1),c=B(t,"withTrimXDomain",!0),f=B(t,"withUpdateXAxis",l),u=B(t,"withLegend",!1),d=B(t,"withEventRect",!0),p=B(t,"withDimension",!0),o=B(t,"withTransitionForExit",r),a=B(t,"withTransitionForAxis",r),x=r?O.transition_duration:0,_=o?x:0,w=a?x:0,e=e||P.axis.generateTransitions(w),u&&O.legend_show?P.updateLegend(P.mapToIds(P.data.targets),t,e):p&&P.updateDimension(!0),P.isCategorized()&&0===$.length&&P.x.domain([0,P.axes.x.selectAll(".tick").size()]),$.length?(P.updateXDomain($,l,h,c),O.axis_x_tick_values||(k=P.axis.updateXAxisTickValues($))):(P.xAxis.tickValues([]),P.subXAxis.tickValues([])),O.zoom_rescale&&!t.flow&&(A=P.x.orgDomain()),P.y.domain(P.getYDomain($,"y",A)),P.y2.domain(P.getYDomain($,"y2",A)),!O.axis_y_tick_values&&O.axis_y_tick_count&&P.yAxis.tickValues(P.axis.generateTickValues(P.y.domain(),O.axis_y_tick_count)),!O.axis_y2_tick_values&&O.axis_y2_tick_count&&P.y2Axis.tickValues(P.axis.generateTickValues(P.y2.domain(),O.axis_y2_tick_count)),P.axis.redraw(e,z),P.axis.updateLabels(r),(l||f)&&$.length)if(O.axis_x_tick_culling&&k){for(T=1;T<k.length;T++)if(k.length/T<O.axis_x_tick_culling_max){D=T;break}P.svg.selectAll("."+V.axisX+" .tick text").each(function(t){var e=k.indexOf(t);0<=e&&I.select(this).style("display",e%D?"none":"block")})}else P.svg.selectAll("."+V.axisX+" .tick text").style("display","block");g=P.generateDrawArea?P.generateDrawArea(R,!1):void 0,m=P.generateDrawBar?P.generateDrawBar(F):void 0,v=P.generateDrawLine?P.generateDrawLine(N,!1):void 0,y=P.generateXYForText(R,F,N,!0),b=P.generateXYForText(R,F,N,!1),i&&(P.subY.domain(P.getYDomain($,"y")),P.subY2.domain(P.getYDomain($,"y2"))),P.updateXgridFocus(),L.select("text."+V.text+"."+V.empty).attr("x",P.width/2).attr("y",P.height/2).text(O.data_empty_label_text).transition().style("opacity",$.length?0:1),P.updateGrid(x),P.updateRegion(x),P.updateBar(_),P.updateLine(_),P.updateArea(_),P.updateCircle(),P.hasDataLabel()&&P.updateText(_),P.redrawTitle&&P.redrawTitle(),P.redrawArc&&P.redrawArc(x,_,s),P.redrawSubchart&&P.redrawSubchart(n,e,x,_,R,F,N),L.selectAll("."+V.selectedCircles).filter(P.isBarType.bind(P)).selectAll("circle").remove(),O.interaction_enabled&&!t.flow&&d&&(P.redrawEventRect(),P.updateZoom&&P.updateZoom()),P.updateCircleY(),M=(P.config.axis_rotated?P.circleY:P.circleX).bind(P),E=(P.config.axis_rotated?P.circleX:P.circleY).bind(P),t.flow&&(C=P.generateFlow({targets:$,flow:t.flow,duration:t.flow.duration,drawBar:m,drawLine:v,drawArea:g,cx:M,cy:E,xv:H,xForText:y,yForText:b})),(x||C)&&P.isTabVisible()?I.transition().duration(x).each(function(){var e=[];[P.redrawBar(m,!0),P.redrawLine(v,!0),P.redrawArea(g,!0),P.redrawCircle(M,E,!0),P.redrawText(y,b,t.flow,!0),P.redrawRegion(!0),P.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),S=P.generateWait(),e.forEach(function(t){S.add(t)})}).call(S,function(){C&&C(),O.onrendered&&O.onrendered.call(P)}):(P.redrawBar(m),P.redrawLine(v),P.redrawArea(g),P.redrawCircle(M,E),P.redrawText(y,b,t.flow),P.redrawRegion(),P.redrawGrid(),O.onrendered&&O.onrendered.call(P)),P.mapToIds(P.data.targets).forEach(function(t){P.withoutFadeIn[t]=!0})},b.updateAndRedraw=function(t){var e,i=this.config;(t=t||{}).withTransition=B(t,"withTransition",!0),t.withTransform=B(t,"withTransform",!1),t.withLegend=B(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=B(t,"withTransitionForTransform",t.withTransition),this.updateSizes(),t.withLegend&&i.legend_show||(e=this.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),this.updateScales(),this.updateSvgSize(),this.transformAll(t.withTransitionForTransform,e)),this.redraw(t,e)},b.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},b.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},b.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")},b.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||D(t.data_xs))},b.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},b.getTranslate=function(t){var e,i,n=this,r=n.config;return"main"===t?(e=u(n.margin.left),i=u(n.margin.top)):"context"===t?(e=u(n.margin2.left),i=u(n.margin2.top)):"legend"===t?(e=n.margin3.left,i=n.margin3.top):"x"===t?(e=0,i=r.axis_rotated?0:n.height):"y"===t?(e=0,i=r.axis_rotated?n.height:0):"y2"===t?(e=r.axis_rotated?0:n.width,i=r.axis_rotated?1:0):"subx"===t?(e=0,i=r.axis_rotated?0:n.height2):"arc"===t&&(e=n.arcWidth/2,i=n.arcHeight/2-(n.hasType("gauge")?6:0)),"translate("+e+","+i+")"},b.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},b.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},b.opacityForCircle=function(t){var e=(d(this.config.point_show)?this.config.point_show(t):this.config.point_show)?1:0;return T(t.value)?this.isScatterType(t)?.5:e:0},b.opacityForText=function(){return this.hasDataLabel()?1:0},b.xx=function(t){return t?this.x(t.x):null},b.xv=function(t){var e=t.value;return this.isTimeSeries()?e=this.parseDate(t.value):this.isCategorized()&&"string"==typeof t.value&&(e=this.config.axis_x_categories.indexOf(t.value)),Math.ceil(this.x(e))},b.yv=function(t){var e=t.axis&&"y2"===t.axis?this.y2:this.y;return Math.ceil(e(t.value))},b.subxx=function(t){return t?this.subX(t.x):null},b.transformMain=function(t,e){var i,n,r,o=this;e&&e.axisX?i=e.axisX:(i=o.main.select("."+V.axisX),t&&(i=i.transition())),e&&e.axisY?n=e.axisY:(n=o.main.select("."+V.axisY),t&&(n=n.transition())),e&&e.axisY2?r=e.axisY2:(r=o.main.select("."+V.axisY2),t&&(r=r.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),i.attr("transform",o.getTranslate("x")),n.attr("transform",o.getTranslate("y")),r.attr("transform",o.getTranslate("y2")),o.main.select("."+V.chartArcs).attr("transform",o.getTranslate("arc"))},b.transformAll=function(t,e){this.transformMain(t,e),this.config.subchart_show&&this.transformContext(t,e),this.legend&&this.transformLegend(t)},b.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+V.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},b.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},b.observeInserted=function(e){var i,n=this;"undefined"!=typeof MutationObserver?(i=new MutationObserver(function(t){t.forEach(function(t){"childList"===t.type&&t.previousSibling&&(i.disconnect(),n.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})})).observe(e.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},b.bindResize=function(){var t=this,e=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.api.flush()},100)}),t.resizeFunction.add(function(){e.onresized.call(t)}),t.resizeIfElementDisplayed=function(){null!=t.api&&t.api.element.offsetParent&&t.resizeFunction()},window.attachEvent)window.attachEvent("onresize",t.resizeIfElementDisplayed);else if(window.addEventListener)window.addEventListener("resize",t.resizeIfElementDisplayed,!1);else{var i=window.onresize;i?i.add&&i.remove||(i=t.generateResize()).add(window.onresize):i=t.generateResize(),i.add(t.resizeFunction),window.onresize=function(){t.api.element.offsetParent&&i()}}},b.generateResize=function(){var i=[];function t(){i.forEach(function(t){t()})}return t.add=function(t){i.push(t)},t.remove=function(t){for(var e=0;e<i.length;e++)if(i[e]===t){i.splice(e,1);break}},t},b.endall=function(t,e){var i=0;t.each(function(){++i}).each("end",function(){--i||e.apply(this,arguments)})},b.generateWait=function(){var r=[],t=function(t,i){var n=setInterval(function(){var e=0;r.forEach(function(t){if(t.empty())e+=1;else try{t.transition()}catch(t){e+=1}}),e===r.length&&(clearInterval(n),i&&i())},10)};return t.add=function(t){r.push(t)},t},b.parseDate=function(t){var e;return t instanceof Date?e=t:"string"==typeof t?e=this.dataTimeFormat(this.config.data_xFormat).parse(t):"object"===(void 0===t?"undefined":s(t))?e=new Date(+t):"number"!=typeof t||isNaN(t)||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error("Failed to parse x '"+t+"' to Date object"),e},b.isTabVisible=function(){var t;return void 0!==document.hidden?t="hidden":void 0!==document.mozHidden?t="mozHidden":void 0!==document.msHidden?t="msHidden":void 0!==document.webkitHidden&&(t="webkitHidden"),!document[t]},b.isValue=T,b.isFunction=d,b.isString=c,b.isUndefined=w,b.isDefined=R,b.ceil10=i,b.asHalfPixel=u,b.diffDomain=F,b.isEmpty=p,b.notEmpty=D,b.notEmpty=D,b.getOption=B,b.hasValue=n,b.sanitise=g,b.getPathBox=y,b.CLASS=V,Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,r.prototype=new n,r}),"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,i){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=i},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=i},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=i},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=i},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=i},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,i,n,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=i,this._x1=n,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,i,n,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=i,this._x1=n,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=i,this._x1=n,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=i,this._x1=n,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,i,n,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=i,this._r1=n,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,i,n,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=i,this._r1=n,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=i,this._x2=n,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=i,this._x2=n,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,i,n,r,o){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,i,n,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,i,n,r,o){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,i,n,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,i,n){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,i,n){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,i,n,r,o,a){return new window.SVGPathSegArcAbs(void 0,t,e,i,n,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,i,n,r,o,a){return new window.SVGPathSegArcRel(void 0,t,e,i,n,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var i=e.pathSegList.numberOfItems-1;if(i<=0)return 0;do{if(e.pathSegList.removeItem(i),t>e.getTotalLength())break;i--}while(0<i);return i})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),((this._list[e]=t)._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",i=!0;return t.forEach(function(t){i?(i=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var n=this,e=function(){this.pathSegList=[]};e.prototype.appendSegment=function(t){this.pathSegList.push(t)};var i=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};i.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},i.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||"0"<=t&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){var t=0,e=0,i=1,n=0,r=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var l=this._currentIndex-1,h=1;s<=l;)e+=h*(this._string.charAt(l--)-"0"),h*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)i*=10,n+=(this._string.charAt(this._currentIndex)-"0")/i,this._currentIndex+=1}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var c=e+n;if(c*=r,t&&(c*=Math.pow(10,o*t)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),c}},i.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},i.prototype.parseSegment=function(){var t=this._string[this._currentIndex],e=this._pathSegTypeFromChar(t);if(e==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((e=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=e){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(n);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(n,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(n,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(n,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(n,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(n,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(n,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(n,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(n,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);default:throw"Unknown path seg type."}};var r=new e,o=new i(t);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];r.appendSegment(a)}return r.pathSegList}),v.axis=function(){},v.axis.labels=function(e){var i=this.internal;arguments.length&&(Object.keys(e).forEach(function(t){i.axis.setLabelText(t,e[t])}),i.axis.updateLabels())},v.axis.max=function(t){var e=this.internal,i=e.config;if(!arguments.length)return{x:i.axis_x_max,y:i.axis_y_max,y2:i.axis_y2_max};"object"===(void 0===t?"undefined":s(t))?(T(t.x)&&(i.axis_x_max=t.x),T(t.y)&&(i.axis_y_max=t.y),T(t.y2)&&(i.axis_y2_max=t.y2)):i.axis_y_max=i.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},v.axis.min=function(t){var e=this.internal,i=e.config;if(!arguments.length)return{x:i.axis_x_min,y:i.axis_y_min,y2:i.axis_y2_min};"object"===(void 0===t?"undefined":s(t))?(T(t.x)&&(i.axis_x_min=t.x),T(t.y)&&(i.axis_y_min=t.y),T(t.y2)&&(i.axis_y2_min=t.y2)):i.axis_y_min=i.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},v.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};R(t.max)&&this.axis.max(t.max),R(t.min)&&this.axis.min(t.min)},v.category=function(t,e){var i=this.internal,n=i.config;return 1<arguments.length&&(n.axis_x_categories[t]=e,i.redraw()),n.axis_x_categories[t]},v.categories=function(t){var e=this.internal,i=e.config;return arguments.length&&(i.axis_x_categories=t,e.redraw()),i.axis_x_categories},v.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},v.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},v.destroy=function(){var e=this.internal;if(window.clearInterval(e.intervalForObserveInserted),void 0!==e.resizeTimeout&&window.clearTimeout(e.resizeTimeout),window.detachEvent)window.detachEvent("onresize",e.resizeIfElementDisplayed);else if(window.removeEventListener)window.removeEventListener("resize",e.resizeIfElementDisplayed);else{var t=window.onresize;t&&t.add&&t.remove&&t.remove(e.resizeFunction)}return e.resizeFunction.remove(),e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},v.color=function(t){return this.internal.color(t)},v.data=function(e){var t=this.internal.data.targets;return void 0===e?t:t.filter(function(t){return 0<=[].concat(e).indexOf(t.id)})},v.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},v.data.values=function(t){var e,i=null;return t&&(i=(e=this.data(t))[0]?e[0].values.map(function(t){return t.value}):null),i},v.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},v.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},v.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},v.flow=function(t){var r,e,i,n,o,a,s,l=this.internal,h=[],c=l.getMaxDataCount(),u=0,d=0;if(t.json)e=l.convertJsonToData(t.json,t.keys);else if(t.rows)e=l.convertRowsToData(t.rows);else{if(!t.columns)return;e=l.convertColumnsToData(t.columns)}r=l.convertDataToTargets(e,!0),l.data.targets.forEach(function(t){var e,i,n=!1;for(e=0;e<r.length;e++)if(t.id===r[e].id){for(n=!0,t.values[t.values.length-1]&&(d=t.values[t.values.length-1].index+1),u=r[e].values.length,i=0;i<u;i++)r[e].values[i].index=d+i,l.isTimeSeries()||(r[e].values[i].x=d+i);t.values=t.values.concat(r[e].values),r.splice(e,1);break}n||h.push(t.id)}),l.data.targets.forEach(function(t){var e,i;for(e=0;e<h.length;e++)if(t.id===h[e])for(d=t.values[t.values.length-1].index+1,i=0;i<u;i++)t.values.push({id:t.id,index:d+i,x:l.isTimeSeries()?l.getOtherTargetX(d+i):d+i,value:null})}),l.data.targets.length&&r.forEach(function(t){var e,i=[];for(e=l.data.targets[0].values[0].index;e<d;e++)i.push({id:t.id,index:e,x:l.isTimeSeries()?l.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=d,l.isTimeSeries()||(t.x+=d)}),t.values=i.concat(t.values)}),l.data.targets=l.data.targets.concat(r),l.getMaxDataCount(),o=(n=l.data.targets[0]).values[0],R(t.to)?(u=0,s=l.isTimeSeries()?l.parseDate(t.to):t.to,n.values.forEach(function(t){t.x<s&&u++})):R(t.length)&&(u=t.length),c?1===c&&l.isTimeSeries()&&(a=(n.values[n.values.length-1].x-o.x)/2,i=[new Date(+o.x-a),new Date(+o.x+a)],l.updateXDomain(null,!0,!0,!1,i)):(a=l.isTimeSeries()?1<n.values.length?n.values[n.values.length-1].x-o.x:o.x-l.getXDomain(l.data.targets)[0]:1,i=[o.x-a,o.x],l.updateXDomain(null,!0,!0,!1,i)),l.updateTargets(l.data.targets),l.redraw({flow:{index:o.index,length:u,duration:T(t.duration)?t.duration:l.config.transition_duration,done:t.done,orgDataCount:c},withLegend:!0,withTransition:1<c,withTrimXDomain:!1,withUpdateXAxis:!0})},b.generateFlow=function(P){var L=this,I=L.config,O=L.d3;return function(){var t,e,i,n,r=P.targets,o=P.flow,a=P.drawBar,s=P.drawLine,l=P.drawArea,h=P.cx,c=P.cy,u=P.xv,d=P.xForText,p=P.yForText,f=P.duration,g=o.index,m=o.length,v=L.getValueOnIndex(L.data.targets[0].values,g),y=L.getValueOnIndex(L.data.targets[0].values,g+m),b=L.x.domain(),x=o.duration||f,_=o.done||function(){},w=L.generateWait(),S=L.xgrid||O.selectAll([]),C=L.xgridLines||O.selectAll([]),k=L.mainRegion||O.selectAll([]),T=L.mainText||O.selectAll([]),D=L.mainBar||O.selectAll([]),A=L.mainLine||O.selectAll([]),M=L.mainArea||O.selectAll([]),E=L.mainCircle||O.selectAll([]);L.flowing=!0,L.data.targets.forEach(function(t){t.values.splice(0,m)}),n=L.updateXDomain(r,!0,!0),L.updateXGrid&&L.updateXGrid(!0),o.orgDataCount?t=1===o.orgDataCount||(v&&v.x)===(y&&y.x)?L.x(b[0])-L.x(n[0]):L.isTimeSeries()?L.x(b[0])-L.x(n[0]):L.x(v.x)-L.x(y.x):1!==L.data.targets[0].values.length?t=L.x(b[0])-L.x(n[0]):L.isTimeSeries()?(v=L.getValueOnIndex(L.data.targets[0].values,0),y=L.getValueOnIndex(L.data.targets[0].values,L.data.targets[0].values.length-1),t=L.x(v.x)-L.x(y.x)):t=F(n)/2,e=F(b)/F(n),i="translate("+t+",0) scale("+e+",1)",L.hideXGridFocus(),O.transition().ease("linear").duration(x).each(function(){w.add(L.axes.x.transition().call(L.xAxis)),w.add(D.transition().attr("transform",i)),w.add(A.transition().attr("transform",i)),w.add(M.transition().attr("transform",i)),w.add(E.transition().attr("transform",i)),w.add(T.transition().attr("transform",i)),w.add(k.filter(L.isRegionOnX).transition().attr("transform",i)),w.add(S.transition().attr("transform",i)),w.add(C.transition().attr("transform",i))}).call(w,function(){var t,e=[],i=[],n=[];if(m){for(t=0;t<m;t++)e.push("."+V.shape+"-"+(g+t)),i.push("."+V.text+"-"+(g+t)),n.push("."+V.eventRect+"-"+(g+t));L.svg.selectAll("."+V.shapes).selectAll(e).remove(),L.svg.selectAll("."+V.texts).selectAll(i).remove(),L.svg.selectAll("."+V.eventRects).selectAll(n).remove(),L.svg.select("."+V.xgrid).remove()}S.attr("transform",null).attr(L.xgridAttr),C.attr("transform",null),C.select("line").attr("x1",I.axis_rotated?0:u).attr("x2",I.axis_rotated?L.width:u),C.select("text").attr("x",I.axis_rotated?L.width:0).attr("y",u),D.attr("transform",null).attr("d",a),A.attr("transform",null).attr("d",s),M.attr("transform",null).attr("d",l),E.attr("transform",null).attr("cx",h).attr("cy",c),T.attr("transform",null).attr("x",d).attr("y",p).style("fill-opacity",L.opacityForText.bind(L)),k.attr("transform",null),k.select("rect").filter(L.isRegionOnX).attr("x",L.regionX.bind(L)).attr("width",L.regionWidth.bind(L)),I.interaction_enabled&&L.redrawEventRect(),_(),L.flowing=!1})}},v.focus=function(e){var t,i=this.internal;e=i.mapToTargetIds(e),t=i.svg.selectAll(i.selectorTargets(e.filter(i.isTargetToShow,i))),this.revert(),this.defocus(),t.classed(V.focused,!0).classed(V.defocused,!1),i.hasArcType()&&i.expandArc(e),i.toggleFocusLegend(e,!0),i.focusedTargetIds=e,i.defocusedTargetIds=i.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},v.defocus=function(e){var t=this.internal;e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e.filter(t.isTargetToShow,t))).classed(V.focused,!1).classed(V.defocused,!0),t.hasArcType()&&t.unexpandArc(e),t.toggleFocusLegend(e,!1),t.focusedTargetIds=t.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),t.defocusedTargetIds=e},v.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(V.focused,!1).classed(V.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter(function(){return e.d3.select(this).classed(V.legendItemFocused)}).classed(V.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},v.xgrids=function(t){var e=this.internal,i=e.config;return t&&(i.grid_x_lines=t,e.redrawWithoutRescale()),i.grid_x_lines},v.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},v.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},v.ygrids=function(t){var e=this.internal,i=e.config;return t&&(i.grid_y_lines=t,e.redrawWithoutRescale()),i.grid_y_lines},v.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},v.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},v.groups=function(t){var e=this.internal,i=e.config;return w(t)||(i.data_groups=t,e.redraw()),i.data_groups},v.legend=function(){},v.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},v.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},v.load=function(e){var t=this.internal,i=t.config;e.xs&&t.addXs(e.xs),"names"in e&&v.data.names.bind(this)(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(t){i.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(i.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){i.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){i.data_colors[t]=e.colors[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds)?t.load(t.getCaches(e.cacheIds),e.done):"unload"in e?t.unload(t.mapToTargetIds("boolean"==typeof e.unload&&e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e)},v.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},v.regions=function(t){var e=this.internal,i=e.config;return t&&(i.regions=t,e.redrawWithoutRescale()),i.regions},v.regions.add=function(t){var e=this.internal,i=e.config;return t&&(i.regions=i.regions.concat(t),e.redrawWithoutRescale()),i.regions},v.regions.remove=function(t){var e,i,n,r=this.internal,o=r.config;return t=t||{},e=r.getOption(t,"duration",o.transition_duration),i=r.getOption(t,"classes",[V.region]),n=r.main.select("."+V.regions).selectAll(i.map(function(t){return"."+t})),(e?n.transition().duration(e):n).style("opacity",0).remove(),o.regions=o.regions.filter(function(t){var e=!1;return!t.class||(t.class.split(" ").forEach(function(t){0<=i.indexOf(t)&&(e=!0)}),!e)}),o.regions},v.selected=function(t){var e=this.internal,i=e.d3;return i.merge(e.main.selectAll("."+V.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+V.shape).filter(function(){return i.select(this).classed(V.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},v.select=function(l,h,c){var u=this.internal,d=u.d3,p=u.config;p.data_selection_enabled&&u.main.selectAll("."+V.shapes).selectAll("."+V.shape).each(function(t,e){var i=d.select(this),n=t.data?t.data.id:t.id,r=u.getToggle(this,t).bind(u),o=p.data_selection_grouped||!l||0<=l.indexOf(n),a=!h||0<=h.indexOf(e),s=i.classed(V.SELECTED);i.classed(V.line)||i.classed(V.area)||(o&&a?p.data_selection_isselectable(t)&&!s&&r(!0,i.classed(V.SELECTED,!0),t,e):R(c)&&c&&s&&r(!1,i.classed(V.SELECTED,!1),t,e))})},v.unselect=function(l,h){var c=this.internal,u=c.d3,d=c.config;d.data_selection_enabled&&c.main.selectAll("."+V.shapes).selectAll("."+V.shape).each(function(t,e){var i=u.select(this),n=t.data?t.data.id:t.id,r=c.getToggle(this,t).bind(c),o=d.data_selection_grouped||!l||0<=l.indexOf(n),a=!h||0<=h.indexOf(e),s=i.classed(V.SELECTED);i.classed(V.line)||i.classed(V.area)||o&&a&&d.data_selection_isselectable(t)&&s&&r(!1,i.classed(V.SELECTED,!1),t,e)})},v.show=function(t,e){var i,n=this.internal;t=n.mapToTargetIds(t),e=e||{},n.removeHiddenTargetIds(t),(i=n.svg.selectAll(n.selectorTargets(t))).transition().style("opacity",1,"important").call(n.endall,function(){i.style("opacity",null).style("opacity",1)}),e.withLegend&&n.showLegend(t),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},v.hide=function(t,e){var i,n=this.internal;t=n.mapToTargetIds(t),e=e||{},n.addHiddenTargetIds(t),(i=n.svg.selectAll(n.selectorTargets(t))).transition().style("opacity",0,"important").call(n.endall,function(){i.style("opacity",null).style("opacity",0)}),e.withLegend&&n.hideLegend(t),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},v.toggle=function(t,e){var i=this,n=this.internal;n.mapToTargetIds(t).forEach(function(t){n.isTargetToShow(t)?i.hide(t,e):i.show(t,e)})},v.tooltip=function(){},v.tooltip.show=function(t){var e,i,n=this.internal;t.mouse&&(i=t.mouse),t.data?n.isMultipleX()?(i=[n.x(t.data.x),n.getYScale(t.data.id)(t.data.value)],e=null):e=T(t.data.index)?t.data.index:n.getIndexByX(t.data.x):void 0!==t.x?e=n.getIndexByX(t.x):void 0!==t.index&&(e=t.index),n.dispatchEvent("mouseover",e,i),n.dispatchEvent("mousemove",e,i),n.config.tooltip_onshow.call(n,t.data)},v.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},v.transform=function(t,e){var i=this.internal,n=0<=["pie","donut"].indexOf(t)?{withTransform:!0}:null;i.transformTo(e,t,n)},b.transformTo=function(t,e,i){var n=!this.hasArcType(),r=i||{withTransitionForAxis:n};r.withTransitionForTransform=!1,this.transiting=!1,this.setTargetType(t,e),this.updateTargets(this.data.targets),this.updateAndRedraw(r)},v.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},v.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},v.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},v.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},v.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},v.zoom.max=function(t){var e=this.internal,i=e.config,n=e.d3;if(0!==t&&!t)return i.zoom_x_max;i.zoom_x_max=n.max([e.orgXDomain[1],t])},v.zoom.min=function(t){var e=this.internal,i=e.config,n=e.d3;if(0!==t&&!t)return i.zoom_x_min;i.zoom_x_min=n.min([e.orgXDomain[0],t])},v.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};R(t.max)&&this.domain.max(t.max),R(t.min)&&this.domain.min(t.min)},b.initPie=function(){var t=this.d3;this.pie=t.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),this.pie.sort(this.getOrderFunction()||null)},b.updateRadius=function(){var t=this,e=t.config,i=e.gauge_width||e.donut_width,n=t.filterTargetsToShow(t.data.targets).length*t.config.gauge_arcs_minWidth;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2*(t.hasType("gauge")?.85:1),t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=i?(t.radius-i)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0,t.gaugeArcWidth=i||(n<=t.radius-t.innerRadius?t.radius-t.innerRadius:n<=t.radius?n:t.radius)},b.updateArc=function(){this.svgArc=this.getSvgArc(),this.svgArcExpanded=this.getSvgArcExpanded(),this.svgArcExpandedSub=this.getSvgArcExpanded(.98)},b.updateAngle=function(e){var t,i,n,r,o=this.config,a=!1,s=0;return o?(this.pie(this.filterTargetsToShow(this.data.targets)).forEach(function(t){a||t.data.id!==e.data.id||(a=!0,(e=t).index=s),s++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),this.isGaugeType(e.data)&&(t=o.gauge_min,i=o.gauge_max,n=Math.PI*(o.gauge_fullCircle?2:1)/(i-t),r=e.value<t?0:e.value<i?e.value-t:i-t,e.startAngle=o.gauge_startingAngle,e.endAngle=e.startAngle+n*r),a?e:null):null},b.getSvgArc=function(){var n=this,e=n.hasType("gauge"),i=n.gaugeArcWidth/n.filterTargetsToShow(n.data.targets).length,r=n.d3.svg.arc().outerRadius(function(t){return e?n.radius-i*t.index:n.radius}).innerRadius(function(t){return e?n.radius-i*(t.index+1):n.innerRadius}),t=function(t,e){var i;return e?r(t):(i=n.updateAngle(t))?r(i):"M 0 0"};return t.centroid=r.centroid,t},b.getSvgArcExpanded=function(e){e=e||1;var i=this,n=i.hasType("gauge"),r=i.gaugeArcWidth/i.filterTargetsToShow(i.data.targets).length,o=Math.min(i.radiusExpanded*e-i.radius,.8*r-100*(1-e)),a=i.d3.svg.arc().outerRadius(function(t){return n?i.radius-r*t.index+o:i.radiusExpanded*e}).innerRadius(function(t){return n?i.radius-r*(t.index+1):i.innerRadius});return function(t){var e=i.updateAngle(t);return e?a(e):"M 0 0"}},b.getArc=function(t,e,i){return i||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},b.transformForArcLabel=function(t){var e,i,n,r,o,a=this,s=a.config,l=a.updateAngle(t),h="",c=a.hasType("gauge");if(l&&!c)e=this.svgArc.centroid(l),i=isNaN(e[0])?0:e[0],n=isNaN(e[1])?0:e[1],r=Math.sqrt(i*i+n*n),h="translate("+i*(o=a.hasType("donut")&&s.donut_label_ratio?d(s.donut_label_ratio)?s.donut_label_ratio(t,a.radius,r):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?d(s.pie_label_ratio)?s.pie_label_ratio(t,a.radius,r):s.pie_label_ratio:a.radius&&r?(.375<36/a.radius?1.175-36/a.radius:.8)*a.radius/r:0)+","+n*o+")";else if(l&&c&&1<a.filterTargetsToShow(a.data.targets).length){var u=Math.sin(l.endAngle-Math.PI/2);h="translate("+(i=Math.cos(l.endAngle-Math.PI/2)*(a.radiusExpanded+25))+","+(n=u*(a.radiusExpanded+15-Math.abs(10*u))+3)+")"}return h},b.getArcRatio=function(t){var e=this.config,i=Math.PI*(this.hasType("gauge")&&!e.gauge_fullCircle?1:2);return t?(t.endAngle-t.startAngle)/i:null},b.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},b.textForArcLabel=function(t){var e,i,n,r,o;return this.shouldShowArcLabel()?(i=(e=this.updateAngle(t))?e.value:null,n=this.getArcRatio(e),r=t.data.id,this.hasType("gauge")||this.meetsArcLabelThreshold(n)?(o=this.getArcLabelFormat())?o(i,n,r):this.defaultArcValueFormat(i,n):""):""},b.textForGaugeMinMax=function(t,e){var i=this.getGaugeLabelExtents();return i?i(t,e):t},b.expandArc=function(t){var e,i=this;i.transiting?e=window.setInterval(function(){i.transiting||(window.clearInterval(e),0<i.legend.selectAll(".c3-legend-item-focused").size()&&i.expandArc(t))},10):(t=i.mapToTargetIds(t),i.svg.selectAll(i.selectorTargets(t,"."+V.chartArc)).each(function(t){i.shouldExpand(t.data.id)&&i.d3.select(this).selectAll("path").transition().duration(i.expandDuration(t.data.id)).attr("d",i.svgArcExpanded).transition().duration(2*i.expandDuration(t.data.id)).attr("d",i.svgArcExpandedSub).each(function(t){i.isDonutType(t.data)})}))},b.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+V.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+V.arc))},b.expandDuration=function(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},b.shouldExpand=function(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},b.shouldShowArcLabel=function(){var t=this.config,e=!0;return this.hasType("donut")?e=t.donut_label_show:this.hasType("pie")&&(e=t.pie_label_show),e},b.meetsArcLabelThreshold=function(t){var e=this.config;return(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)<=t},b.getArcLabelFormat=function(){var t=this.config,e=t.pie_label_format;return this.hasType("gauge")?e=t.gauge_label_format:this.hasType("donut")&&(e=t.donut_label_format),e},b.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},b.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},b.updateTargetsForArc=function(t){var e,i=this.main,n=this.classChartArc.bind(this),r=this.classArcs.bind(this),o=this.classFocus.bind(this);(e=i.select("."+V.chartArcs).selectAll("."+V.chartArc).data(this.pie(t)).attr("class",function(t){return n(t)+o(t.data)}).enter().append("g").attr("class",n)).append("g").attr("class",r),e.append("text").attr("dy",this.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},b.initArc=function(){this.arcs=this.main.select("."+V.chart).append("g").attr("class",V.chartArcs).attr("transform",this.getTranslate("arc")),this.arcs.append("text").attr("class",V.chartArcsTitle).style("text-anchor","middle").text(this.getArcTitle())},b.redrawArc=function(t,e,i){var n,r,o,c=this,u=c.d3,a=c.config,s=c.main,l=c.hasType("gauge");if((n=s.selectAll("."+V.arcs).selectAll("."+V.arc).data(c.arcData.bind(c))).enter().append("path").attr("class",c.classArc.bind(c)).style("fill",function(t){return c.color(t.data)}).style("cursor",function(t){return a.interaction_enabled&&a.data_selection_isselectable(t)?"pointer":null}).each(function(t){c.isGaugeType(t.data)&&(t.startAngle=t.endAngle=a.gauge_startingAngle),this._current=t}),l&&((o=s.selectAll("."+V.arcs).selectAll("."+V.arcLabelLine).data(c.arcData.bind(c))).enter().append("rect").attr("class",function(t){return V.arcLabelLine+" "+V.target+" "+V.target+"-"+t.data.id}),1===c.filterTargetsToShow(c.data.targets).length?o.style("display","none"):o.style("fill",function(t){return 0<a.color_pattern.length?c.levelColor(t.data.values[0].value):c.color(t.data)}).style("display",a.gauge_labelLine_show?"":"none").each(function(t){var e=0,i=0,n=0,r="";if(c.hiddenTargetIds.indexOf(t.data.id)<0){var o=c.updateAngle(t),a=c.gaugeArcWidth/c.filterTargetsToShow(c.data.targets).length*(o.index+1),s=o.endAngle-Math.PI/2,l=c.radius-a,h=s-(0===l?0:1/l);e=c.radiusExpanded-c.radius+a,i=Math.cos(h)*l,n=Math.sin(h)*l,r="rotate("+180*s/Math.PI+", "+i+", "+n+")"}u.select(this).attr({x:i,y:n,width:e,height:2,transform:r}).style("stroke-dasharray","0, "+(e+2)+", 0")})),n.attr("transform",function(t){return!c.isGaugeType(t.data)&&i?"scale(0)":""}).on("mouseover",a.interaction_enabled?function(t){var e,i;c.transiting||(e=c.updateAngle(t))&&(i=c.convertToArcData(e),c.expandArc(e.data.id),c.api.focus(e.data.id),c.toggleFocusLegend(e.data.id,!0),c.config.data_onmouseover(i,this))}:null).on("mousemove",a.interaction_enabled?function(t){var e,i=c.updateAngle(t);i&&(e=[c.convertToArcData(i)],c.showTooltip(e,this))}:null).on("mouseout",a.interaction_enabled?function(t){var e,i;c.transiting||(e=c.updateAngle(t))&&(i=c.convertToArcData(e),c.unexpandArc(e.data.id),c.api.revert(),c.revertLegend(),c.hideTooltip(),c.config.data_onmouseout(i,this))}:null).on("click",a.interaction_enabled?function(t,e){var i,n=c.updateAngle(t);n&&(i=c.convertToArcData(n),c.toggleShape&&c.toggleShape(this,i,e),c.config.data_onclick.call(c.api,i,this))}:null).each(function(){c.transiting=!0}).transition().duration(t).attrTween("d",function(i){var n,t=c.updateAngle(i);return t?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),n=u.interpolate(this._current,t),this._current=n(0),function(t){var e=n(t);return e.data=i.data,c.getArc(e,!0)}):function(){return"M 0 0"}}).attr("transform",i?"scale(1)":"").style("fill",function(t){return c.levelColor?c.levelColor(t.data.values[0].value):c.color(t.data.id)}).call(c.endall,function(){c.transiting=!1}),n.exit().transition().duration(e).style("opacity",0).remove(),s.selectAll("."+V.chartArc).select("text").style("opacity",0).attr("class",function(t){return c.isGaugeType(t.data)?V.gaugeValue:""}).text(c.textForArcLabel.bind(c)).attr("transform",c.transformForArcLabel.bind(c)).style("font-size",function(t){return c.isGaugeType(t.data)&&1===c.filterTargetsToShow(c.data.targets).length?Math.round(c.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return c.isTargetToShow(t.data.id)&&c.isArcType(t.data)?1:0}),s.select("."+V.chartArcsTitle).style("opacity",c.hasType("donut")||l?1:0),l){var h=0;(r=c.arcs.select("g."+V.chartArcsBackground).selectAll("path."+V.chartArcsBackground).data(c.data.targets)).enter().append("path"),r.attr("class",function(t,e){return V.chartArcsBackground+" "+V.chartArcsBackground+"-"+e}).attr("d",function(t){if(0<=c.hiddenTargetIds.indexOf(t.id))return"M 0 0";var e={data:[{value:a.gauge_max}],startAngle:a.gauge_startingAngle,endAngle:-1*a.gauge_startingAngle*(a.gauge_fullCircle?Math.PI:1),index:h++};return c.getArc(e,!0,!0)}),r.exit().remove(),c.arcs.select("."+V.chartArcsGaugeUnit).attr("dy",".75em").text(a.gauge_label_show?a.gauge_units:""),c.arcs.select("."+V.chartArcsGaugeMin).attr("dx",-1*(c.innerRadius+(c.radius-c.innerRadius)/(a.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(a.gauge_label_show?c.textForGaugeMinMax(a.gauge_min,!1):""),c.arcs.select("."+V.chartArcsGaugeMax).attr("dx",c.innerRadius+(c.radius-c.innerRadius)/(a.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(a.gauge_label_show?c.textForGaugeMinMax(a.gauge_max,!0):"")}},b.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("g").attr("class",V.chartArcsBackground),t.append("text").attr("class",V.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",V.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",V.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},b.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},b.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},b.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},b.getCaches=function(t){var e,i=[];for(e=0;e<t.length;e++)t[e]in this.cache&&i.push(this.cloneTarget(this.cache[t[e]]));return i},b.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},b.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},b.classText=function(t){return this.generateClass(V.text,t.index)},b.classTexts=function(t){return this.generateClass(V.texts,t.id)},b.classShape=function(t){return this.generateClass(V.shape,t.index)},b.classShapes=function(t){return this.generateClass(V.shapes,t.id)},b.classLine=function(t){return this.classShape(t)+this.generateClass(V.line,t.id)},b.classLines=function(t){return this.classShapes(t)+this.generateClass(V.lines,t.id)},b.classCircle=function(t){return this.classShape(t)+this.generateClass(V.circle,t.index)},b.classCircles=function(t){return this.classShapes(t)+this.generateClass(V.circles,t.id)},b.classBar=function(t){return this.classShape(t)+this.generateClass(V.bar,t.index)},b.classBars=function(t){return this.classShapes(t)+this.generateClass(V.bars,t.id)},b.classArc=function(t){return this.classShape(t.data)+this.generateClass(V.arc,t.data.id)},b.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(V.arcs,t.data.id)},b.classArea=function(t){return this.classShape(t)+this.generateClass(V.area,t.id)},b.classAreas=function(t){return this.classShapes(t)+this.generateClass(V.areas,t.id)},b.classRegion=function(t,e){return this.generateClass(V.region,e)+" "+("class"in t?t.class:"")},b.classEvent=function(t){return this.generateClass(V.eventRect,t.index)},b.classTarget=function(t){var e=this.config.data_classes[t],i="";return e&&(i=" "+V.target+"-"+e),this.generateClass(V.target,t)+i},b.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},b.classFocused=function(t){return" "+(0<=this.focusedTargetIds.indexOf(t.id)?V.focused:"")},b.classDefocused=function(t){return" "+(0<=this.defocusedTargetIds.indexOf(t.id)?V.defocused:"")},b.classChartText=function(t){return V.chartText+this.classTarget(t.id)},b.classChartLine=function(t){return V.chartLine+this.classTarget(t.id)},b.classChartBar=function(t){return V.chartBar+this.classTarget(t.id)},b.classChartArc=function(t){return V.chartArc+this.classTarget(t.data.id)},b.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},b.selectorTarget=function(t,e){return(e||"")+"."+V.target+this.getTargetSelectorSuffix(t)},b.selectorTargets=function(t,e){var i=this;return(t=t||[]).length?t.map(function(t){return i.selectorTarget(t,e)}):null},b.selectorLegend=function(t){return"."+V.legendItem+this.getTargetSelectorSuffix(t)},b.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null},b.getClipPath=function(t){return"url("+(0<=window.navigator.appVersion.toLowerCase().indexOf("msie 9.")?"":document.URL.split("#")[0])+"#"+t+")"},b.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},b.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},b.getAxisClipY=function(t){return t?-20:-this.margin.top},b.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},b.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},b.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},b.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},b.getAxisClipWidth=function(t){var e=Math.max(30,this.margin.left),i=Math.max(30,this.margin.right);return t?this.width+2+e+i:this.margin.left+20},b.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},b.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},b.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},b.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},b.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},b.generateColor=function(){var t=this.config,e=this.d3,n=t.data_colors,r=D(t.color_pattern)?t.color_pattern:e.scale.category10().range(),o=t.data_color,a=[];return function(t){var e,i=t.id||t.data&&t.data.id||t;return n[i]instanceof Function?e=n[i](t):n[i]?e=n[i]:(a.indexOf(i)<0&&a.push(i),e=r[a.indexOf(i)%r.length],n[i]=e),o instanceof Function?o(e,t):e}},b.generateLevelColor=function(){var t=this.config,n=t.color_pattern,e=t.color_threshold,r="value"===e.unit,o=e.values&&e.values.length?e.values:[],a=e.max||100;return D(t.color_threshold)?function(t){var e,i=n[n.length-1];for(e=0;e<o.length;e++)if((r?t:100*t/a)<o[e]){i=n[e];break}return i}:null},b.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,i,n){return this.getTooltipContent?this.getTooltipContent(t,e,i,n):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},b.additionalConfig={},b.loadConfig=function(e){var i,n,r,o=this.config;Object.keys(o).forEach(function(t){i=e,n=t.split("_"),r=function t(){var e=n.shift();return e&&i&&"object"===(void 0===i?"undefined":s(i))&&e in i?(i=i[e],t()):e?void 0:i}(),R(r)&&(o[t]=r)})},b.convertUrlToData=function(t,e,i,r,o){var a=this,s=e||"csv",n=a.d3.xhr(t);i&&Object.keys(i).forEach(function(t){n.header(t,i[t])}),n.get(function(t,e){var i,n=e.response||e.responseText;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");i="json"===s?a.convertJsonToData(JSON.parse(n),r):"tsv"===s?a.convertTsvToData(n):a.convertCsvToData(n),o.call(a,i)})},b.convertXsvToData=function(t,e){var i,n=e.parseRows(t);return 1===n.length?(i=[{}],n[0].forEach(function(t){i[0][t]=null})):i=e.parse(t),i},b.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},b.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},b.convertJsonToData=function(e,t){var r,i,o=this,a=[];return t?(t.x?(r=t.value.concat(t.x),o.config.data_x=t.x):r=t.value,a.push(r),e.forEach(function(i){var n=[];r.forEach(function(t){var e=o.findValueInJson(i,t);w(e)&&(e=null),n.push(e)}),a.push(n)}),i=o.convertRowsToData(a)):(Object.keys(e).forEach(function(t){a.push([t].concat(e[t]))}),i=o.convertColumnsToData(a)),i},b.findValueInJson=function(t,e){for(var i=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),n=0;n<i.length;++n){var r=i[n];if(!(r in t))return;t=t[r]}return t},b.convertRowsToData=function(t){for(var e=[],i=t[0],n=1;n<t.length;n++){for(var r={},o=0;o<t[n].length;o++){if(w(t[n][o]))throw new Error("Source data is missing a component at ("+n+","+o+")!");r[i[o]]=t[n][o]}e.push(r)}return e},b.convertColumnsToData=function(t){for(var e=[],i=0;i<t.length;i++)for(var n=t[i][0],r=1;r<t[i].length;r++){if(w(e[r-1])&&(e[r-1]={}),w(t[i][r]))throw new Error("Source data is missing a component at ("+i+","+r+")!");e[r-1][n]=t[i][r]}return e},b.convertDataToTargets=function(t,n){var e,l=this,h=l.config,i=l.d3.keys(t[0]).filter(l.isNotX,l),r=l.d3.keys(t[0]).filter(l.isX,l);return i.forEach(function(i){var e=l.getXKey(i);l.isCustomX()||l.isTimeSeries()?0<=r.indexOf(e)?l.data.xs[i]=(n&&l.data.xs[i]?l.data.xs[i]:[]).concat(t.map(function(t){return t[e]}).filter(T).map(function(t,e){return l.generateTargetX(t,i,e)})):h.data_x?l.data.xs[i]=l.getOtherTargetXs():D(h.data_xs)&&(l.data.xs[i]=l.getXValuesOfXKey(e,l.data.targets)):l.data.xs[i]=t.map(function(t,e){return e})}),i.forEach(function(t){if(!l.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),(e=i.map(function(o,a){var s=h.data_idConverter(o);return{id:s,id_org:o,values:t.map(function(t,e){var i,n=t[l.getXKey(o)],r=null===t[o]||isNaN(t[o])?null:+t[o];return l.isCustomX()&&l.isCategorized()&&!w(n)?(0===a&&0===e&&(h.axis_x_categories=[]),-1===(i=h.axis_x_categories.indexOf(n))&&(i=h.axis_x_categories.length,h.axis_x_categories.push(n))):i=l.generateTargetX(n,o,e),(w(t[o])||l.data.xs[o].length<=e)&&(i=void 0),{x:i,value:r,id:s}}).filter(function(t){return R(t.x)})}})).forEach(function(t){var e;h.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)})),e=0,t.values.forEach(function(t){t.index=e++}),l.data.xs[t.id].sort(function(t,e){return t-e})}),l.hasNegativeValue=l.hasNegativeValueInTargets(e),l.hasPositiveValue=l.hasPositiveValueInTargets(e),h.data_type&&l.setTargetType(l.mapToIds(e).filter(function(t){return!(t in h.data_types)}),h.data_type),e.forEach(function(t){l.addCache(t.id_org,t)}),e},b.isX=function(t){var e=this.config;return e.data_x&&t===e.data_x||D(e.data_xs)&&n(e.data_xs,t)},b.isNotX=function(t){return!this.isX(t)},b.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:D(e.data_xs)?e.data_xs[t]:null},b.getXValuesOfXKey=function(e,t){var i,n=this;return(t&&D(t)?n.mapToIds(t):[]).forEach(function(t){n.getXKey(t)===e&&(i=n.data.xs[t])}),i},b.getIndexByX=function(t){var e=this.filterByX(this.data.targets,t);return e.length?e[0].index:null},b.getXValue=function(t,e){return t in this.data.xs&&this.data.xs[t]&&T(this.data.xs[t][e])?this.data.xs[t][e]:e},b.getOtherTargetXs=function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},b.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},b.addXs=function(e){var i=this;Object.keys(e).forEach(function(t){i.config.data_xs[t]=e[t]})},b.hasMultipleX=function(e){return 1<this.d3.set(Object.keys(e).map(function(t){return e[t]})).size()},b.isMultipleX=function(){return D(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},b.addName=function(t){var e;return t&&(e=this.config.data_names[t.id],t.name=void 0!==e?e:t.id),t},b.getValueOnIndex=function(t,e){var i=t.filter(function(t){return t.index===e});return i.length?i[0]:null},b.updateTargetX=function(t,n){var r=this;t.forEach(function(i){i.values.forEach(function(t,e){t.x=r.generateTargetX(n[e],i.id,e)}),r.data.xs[i.id]=n})},b.updateTargetXs=function(t,e){var i=this;t.forEach(function(t){e[t.id]&&i.updateTargetX([t],e[t.id])})},b.generateTargetX=function(t,e,i){return this.isTimeSeries()?t?this.parseDate(t):this.parseDate(this.getXValue(e,i)):this.isCustomX()&&!this.isCategorized()?T(t)?+t:this.getXValue(e,i):i},b.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},b.updateXs=function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},b.getPrevX=function(t){var e=this.xs[t-1];return void 0!==e?e:null},b.getNextX=function(t){var e=this.xs[t+1];return void 0!==e?e:null},b.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(t){return t.values.length})},b.getMaxDataCountTarget=function(t){var e,i=t.length,n=0;return 1<i?t.forEach(function(t){t.values.length>n&&(n=(e=t).values.length)}):e=i?t[0]:null,e},b.getEdgeX=function(t){return t.length?[this.d3.min(t,function(t){return t.values[0].x}),this.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},b.mapToIds=function(t){return t.map(function(t){return t.id})},b.mapToTargetIds=function(t){return t?[].concat(t):this.mapToIds(this.data.targets)},b.hasTarget=function(t,e){var i,n=this.mapToIds(t);for(i=0;i<n.length;i++)if(n[i]===e)return!0;return!1},b.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},b.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},b.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},b.mapTargetsToUniqueXs=function(t){var e=this.d3.set(this.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(e=this.isTimeSeries()?e.map(function(t){return new Date(+t)}):e.map(function(t){return+t})).sort(function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN})},b.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]))},b.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0})},b.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},b.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},b.getValuesAsIdKeyed=function(t){var i={};return t.forEach(function(e){i[e.id]=[],e.values.forEach(function(t){i[e.id].push(t.value)})}),i},b.checkValueInTargets=function(t,e){var i,n,r,o=Object.keys(t);for(i=0;i<o.length;i++)for(r=t[o[i]].values,n=0;n<r.length;n++)if(e(r[n].value))return!0;return!1},b.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},b.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0<t})},b.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},b.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},b.getOrderFunction=function(){var t=this.config,e=this.isOrderAsc(),o=this.isOrderDesc();if(e||o)return function(t,e){var i=function(t,e){return t+Math.abs(e.value)},n=t.values.reduce(i,0),r=e.values.reduce(i,0);return o?r-n:n-r};if(d(t.data_order))return t.data_order;if(h(t.data_order)){var i=t.data_order;return function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}},b.orderTargets=function(t){var e=this.getOrderFunction();return e&&(t.sort(e),(this.isOrderAsc()||this.isOrderDesc())&&t.reverse()),t},b.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},b.filterRemoveNull=function(t){return t.filter(function(t){return T(t.value)})},b.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},b.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!==s(t.data_labels)||!D(t.data_labels))},b.getDataLabelLength=function(t,e,i){var n=this,r=[0,0];return n.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return n.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=1.3*this.getBoundingClientRect()[i]}).remove(),r},b.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},b.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},b.findSameXOfValues=function(t,e){var i,n=t[e].x,r=[];for(i=e-1;0<=i&&n===t[i].x;i--)r.push(t[i]);for(i=e;i<t.length&&n===t[i].x;i++)r.push(t[i]);return r},b.findClosestFromTargets=function(t,e){var i,n=this;return i=t.map(function(t){return n.findClosest(t.values,e)}),n.findClosest(i,e)},b.findClosest=function(t,i){var n,r=this,o=r.config.point_sensitivity;return t.filter(function(t){return t&&r.isBarType(t.id)}).forEach(function(t){var e=r.main.select("."+V.bars+r.getTargetSelectorSuffix(t.id)+" ."+V.bar+"-"+t.index).node();!n&&r.isWithinBar(e)&&(n=t)}),t.filter(function(t){return t&&!r.isBarType(t.id)}).forEach(function(t){var e=r.dist(t,i);e<o&&(o=e,n=t)}),n},b.dist=function(t,e){var i=this.config,n=i.axis_rotated?1:0,r=i.axis_rotated?0:1,o=this.circleY(t,t.index),a=this.x(t.x);return Math.sqrt(Math.pow(a-e[n],2)+Math.pow(o-e[r],2))},b.convertValuesToStep=function(t){var e,i=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)i[e]=i[e-1];return i[0]={x:i[0].x-1,value:i[0].value,id:i[0].id},i[t.length+1]={x:i[t.length].x+1,value:i[t.length].value,id:i[t.length].id},i},b.updateDataAttributes=function(t,e){var i=this.config["data_"+t];return void 0===e||(Object.keys(e).forEach(function(t){i[t]=e[t]}),this.redraw({withLegend:!0})),i},b.load=function(i,n){var r=this;i&&(n.filter&&(i=i.filter(n.filter)),(n.type||n.types)&&i.forEach(function(t){var e=n.types&&n.types[t.id]?n.types[t.id]:n.type;r.setTargetType(t.id,e)}),r.data.targets.forEach(function(t){for(var e=0;e<i.length;e++)if(t.id===i[e].id){t.values=i[e].values,i.splice(e,1);break}}),r.data.targets=r.data.targets.concat(i)),r.updateTargets(r.data.targets),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()},b.loadFromArgs=function(e){var i=this;e.data?i.load(i.convertDataToTargets(e.data),e):e.url?i.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(t){i.load(i.convertDataToTargets(t),e)}):e.json?i.load(i.convertDataToTargets(i.convertJsonToData(e.json,e.keys)),e):e.rows?i.load(i.convertDataToTargets(i.convertRowsToData(e.rows)),e):e.columns?i.load(i.convertDataToTargets(i.convertColumnsToData(e.columns)),e):i.load(null,e)},b.unload=function(t,e){var i=this;e||(e=function(){}),(t=t.filter(function(t){return i.hasTarget(i.data.targets,t)}))&&0!==t.length?(i.svg.selectAll(t.map(function(t){return i.selectorTarget(t)})).transition().style("opacity",0).remove().call(i.endall,e),t.forEach(function(e){i.withoutFadeIn[e]=!1,i.legend&&i.legend.selectAll("."+V.legendItem+i.getTargetSelectorSuffix(e)).remove(),i.data.targets=i.data.targets.filter(function(t){return t.id!==e})})):e()},b.getYDomainMin=function(t){var e,i,n,r,o,a,s=this,l=s.config,h=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(0<l.data_groups.length)for(a=s.hasNegativeValueInTargets(t),e=0;e<l.data_groups.length;e++)if(0!==(r=l.data_groups[e].filter(function(t){return 0<=h.indexOf(t)})).length)for(n=r[0],a&&c[n]&&c[n].forEach(function(t,e){c[n][e]=t<0?t:0}),i=1;i<r.length;i++)o=r[i],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(n)||!c[n]||a&&0<+t||(c[n][e]+=+t)});return s.d3.min(Object.keys(c).map(function(t){return s.d3.min(c[t])}))},b.getYDomainMax=function(t){var e,i,n,r,o,a,s=this,l=s.config,h=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(0<l.data_groups.length)for(a=s.hasPositiveValueInTargets(t),e=0;e<l.data_groups.length;e++)if(0!==(r=l.data_groups[e].filter(function(t){return 0<=h.indexOf(t)})).length)for(n=r[0],a&&c[n]&&c[n].forEach(function(t,e){c[n][e]=0<t?t:0}),i=1;i<r.length;i++)o=r[i],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(n)||!c[n]||a&&+t<0||(c[n][e]+=+t)});return s.d3.max(Object.keys(c).map(function(t){return s.d3.max(c[t])}))},b.getYDomain=function(t,e,i){var n,r,o,a,s,l,h,c,u,d,p=this,f=p.config,g=t.filter(function(t){return p.axis.getId(t.id)===e}),m=i?p.filterByXDomain(g,i):g,v="y2"===e?f.axis_y2_min:f.axis_y_min,y="y2"===e?f.axis_y2_max:f.axis_y_max,b=p.getYDomainMin(m),x=p.getYDomainMax(m),_="y2"===e?f.axis_y2_center:f.axis_y_center,w=p.hasType("bar",m)&&f.bar_zerobased||p.hasType("area",m)&&f.area_zerobased,S="y2"===e?f.axis_y2_inverted:f.axis_y_inverted,C=p.hasDataLabel()&&f.axis_rotated,k=p.hasDataLabel()&&!f.axis_rotated;return b=T(v)?v:T(y)?b<y?b:y-10:b,x=T(y)?y:T(v)?v<x?x:v+10:x,0===m.length?"y2"===e?p.y2.domain():p.y.domain():(isNaN(b)&&(b=0),isNaN(x)&&(x=b),b===x&&(b<0?x=0:b=0),u=0<=b&&0<=x,d=b<=0&&x<=0,(T(v)&&u||T(y)&&d)&&(w=!1),w&&(u&&(b=0),d&&(x=0)),o=a=.1*(r=Math.abs(x-b)),void 0!==_&&(x=_+(s=Math.max(Math.abs(b),Math.abs(x))),b=_-s),C?(l=p.getDataLabelLength(b,x,"width"),h=F(p.y.range()),o+=r*((c=[l[0]/h,l[1]/h])[1]/(1-c[0]-c[1])),a+=r*(c[0]/(1-c[0]-c[1]))):k&&(l=p.getDataLabelLength(b,x,"height"),o+=p.axis.convertPixelsToAxisPadding(l[1],r),a+=p.axis.convertPixelsToAxisPadding(l[0],r)),"y"===e&&D(f.axis_y_padding)&&(o=p.axis.getPadding(f.axis_y_padding,"top",o,r),a=p.axis.getPadding(f.axis_y_padding,"bottom",a,r)),"y2"===e&&D(f.axis_y2_padding)&&(o=p.axis.getPadding(f.axis_y2_padding,"top",o,r),a=p.axis.getPadding(f.axis_y2_padding,"bottom",a,r)),w&&(u&&(a=b),d&&(o=-x)),n=[b-a,x+o],S?n.reverse():n)},b.getXDomainMin=function(t){var e=this,i=e.config;return R(i.axis_x_min)?e.isTimeSeries()?this.parseDate(i.axis_x_min):i.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},b.getXDomainMax=function(t){var e=this,i=e.config;return R(i.axis_x_max)?e.isTimeSeries()?this.parseDate(i.axis_x_max):i.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},b.getXDomainPadding=function(t){var e,i,n,r,o=this.config,a=t[1]-t[0];return i=this.isCategorized()?0:this.hasType("bar")?1<(e=this.getMaxDataCount())?a/(e-1)/2:.5:.01*a,"object"===s(o.axis_x_padding)&&D(o.axis_x_padding)?(n=T(o.axis_x_padding.left)?o.axis_x_padding.left:i,r=T(o.axis_x_padding.right)?o.axis_x_padding.right:i):n=r="number"==typeof o.axis_x_padding?o.axis_x_padding:i,{left:n,right:r}},b.getXDomain=function(t){var e=[this.getXDomainMin(t),this.getXDomainMax(t)],i=e[0],n=e[1],r=this.getXDomainPadding(e),o=0,a=0;return i-n!=0||this.isCategorized()||(this.isTimeSeries()?(i=new Date(.5*i.getTime()),n=new Date(1.5*n.getTime())):(i=0===i?1:.5*i,n=0===n?-1:1.5*n)),(i||0===i)&&(o=this.isTimeSeries()?new Date(i.getTime()-r.left):i-r.left),(n||0===n)&&(a=this.isTimeSeries()?new Date(n.getTime()+r.right):n+r.right),[o,a]},b.updateXDomain=function(t,e,i,n,r){var o=this,a=o.config;return i&&(o.x.domain(r||o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),e&&(o.x.domain(r||(!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent())),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),n&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},b.trimXDomain=function(t){var e=this.getZoomDomain(),i=e[0],n=e[1];return t[0]<=i&&(t[1]=+t[1]+(i-t[0]),t[0]=i),n<=t[1]&&(t[0]=+t[0]-(t[1]-n),t[1]=n),t},b.drag=function(t){var e,i,n,r,d,p,f,g,m=this,o=m.config,a=m.main,v=m.d3;m.hasArcType()||o.data_selection_enabled&&(o.zoom_enabled&&!m.zoom.altDomain||o.data_selection_multiple&&(e=m.dragStart[0],i=m.dragStart[1],n=t[0],r=t[1],d=Math.min(e,n),p=Math.max(e,n),f=o.data_selection_grouped?m.margin.top:Math.min(i,r),g=o.data_selection_grouped?m.height:Math.max(i,r),a.select("."+V.dragarea).attr("x",d).attr("y",f).attr("width",p-d).attr("height",g-f),a.selectAll("."+V.shapes).selectAll("."+V.shape).filter(function(t){return o.data_selection_isselectable(t)}).each(function(t,e){var i,n,r,o,a,s,l=v.select(this),h=l.classed(V.SELECTED),c=l.classed(V.INCLUDED),u=!1;if(l.classed(V.circle))i=1*l.attr("cx"),n=1*l.attr("cy"),a=m.togglePoint,u=d<i&&i<p&&f<n&&n<g;else{if(!l.classed(V.bar))return;i=(s=y(this)).x,n=s.y,r=s.width,o=s.height,a=m.togglePath,u=!(p<i||i+r<d||g<n||n+o<f)}u^c&&(l.classed(V.INCLUDED,!c),l.classed(V.SELECTED,!h),a.call(m,!h,l,t,e))})))},b.dragstart=function(t){var e=this.config;this.hasArcType()||e.data_selection_enabled&&(this.dragStart=t,this.main.select("."+V.chart).append("rect").attr("class",V.dragarea).style("opacity",.1),this.dragging=!0)},b.dragend=function(){var t=this.config;this.hasArcType()||t.data_selection_enabled&&(this.main.select("."+V.dragarea).transition().duration(100).style("opacity",0).remove(),this.main.selectAll("."+V.shape).classed(V.INCLUDED,!1),this.dragging=!1)},b.getYFormat=function(t){var n=this,r=t&&!n.hasType("gauge")?n.defaultArcValueFormat:n.yFormat,o=t&&!n.hasType("gauge")?n.defaultArcValueFormat:n.y2Format;return function(t,e,i){return("y2"===n.axis.getId(i)?o:r).call(n,t,e)}},b.yFormat=function(t){var e=this.config;return(e.axis_y_tick_format?e.axis_y_tick_format:this.defaultValueFormat)(t)},b.y2Format=function(t){var e=this.config;return(e.axis_y2_tick_format?e.axis_y2_tick_format:this.defaultValueFormat)(t)},b.defaultValueFormat=function(t){return T(t)?+t:""},b.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},b.dataLabelFormat=function(t){var e=this.config.data_labels,i=function(t){return T(t)?+t:""};return"function"==typeof e.format?e.format:"object"===s(e.format)?e.format[t]?!0===e.format[t]?i:e.format[t]:function(){return""}:i},b.initGrid=function(){var t=this,e=t.config,i=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",V.grid),e.grid_x_show&&t.grid.append("g").attr("class",V.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",V.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",V.xgridFocus).append("line").attr("class",V.xgridFocus),t.xgrid=i.selectAll([]),e.grid_lines_front||t.initGridLines()},b.initGridLines=function(){var t=this.d3;this.gridLines=this.main.append("g").attr("clip-path",this.clipPathForGrid).attr("class",V.grid+" "+V.gridLines),this.gridLines.append("g").attr("class",V.xgridLines),this.gridLines.append("g").attr("class",V.ygridLines),this.xgridLines=t.selectAll([])},b.updateXGrid=function(t){var e=this,i=e.config,n=e.d3,r=e.generateGridData(i.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=i.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgrid=e.main.select("."+V.xgrids).selectAll("."+V.xgrid).data(r),e.xgrid.enter().append("line").attr("class",V.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+n.select(this).attr(i.axis_rotated?"y1":"x1")===(i.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},b.updateYGrid=function(){var t=this,e=t.config,i=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+V.ygrids).selectAll("."+V.ygrid).data(i),t.ygrid.enter().append("line").attr("class",V.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},b.gridTextAnchor=function(t){return t.position?t.position:"end"},b.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},b.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},b.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},b.updateGrid=function(t){var e,i,n,r=this,o=r.main,a=r.config;r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),o.select("line."+V.xgridFocus).style("visibility","hidden"),a.grid_x_show&&r.updateXGrid(),r.xgridLines=o.select("."+V.xgridLines).selectAll("."+V.xgridLine).data(a.grid_x_lines),(e=r.xgridLines.enter().append("g").attr("class",function(t){return V.xgridLine+(t.class?" "+t.class:"")})).append("line").style("opacity",0),e.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"":"rotate(-90)").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),a.grid_y_show&&r.updateYGrid(),r.ygridLines=o.select("."+V.ygridLines).selectAll("."+V.ygridLine).data(a.grid_y_lines),(i=r.ygridLines.enter().append("g").attr("class",function(t){return V.ygridLine+(t.class?" "+t.class:"")})).append("line").style("opacity",0),i.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"rotate(-90)":"").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),n=r.yv.bind(r),r.ygridLines.select("line").transition().duration(t).attr("x1",a.axis_rotated?n:0).attr("x2",a.axis_rotated?n:r.width).attr("y1",a.axis_rotated?0:n).attr("y2",a.axis_rotated?r.height:n).style("opacity",1),r.ygridLines.select("text").transition().duration(t).attr("x",a.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",n).text(function(t){return t.text}).style("opacity",1),r.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},b.redrawGrid=function(t){var e=this,i=e.config,n=e.xv.bind(e),r=e.xgridLines.select("line"),o=e.xgridLines.select("text");return[(t?r.transition():r).attr("x1",i.axis_rotated?0:n).attr("x2",i.axis_rotated?e.width:n).attr("y1",i.axis_rotated?n:0).attr("y2",i.axis_rotated?n:e.height).style("opacity",1),(t?o.transition():o).attr("x",i.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",n).text(function(t){return t.text}).style("opacity",1)]},b.showXGridFocus=function(t){var e=this.config,i=t.filter(function(t){return t&&T(t.value)}),n=this.main.selectAll("line."+V.xgridFocus),r=this.xx.bind(this);e.tooltip_show&&(this.hasType("scatter")||this.hasArcType()||(n.style("visibility","visible").data([i[0]]).attr(e.axis_rotated?"y1":"x1",r).attr(e.axis_rotated?"y2":"x2",r),this.smoothLines(n,"grid")))},b.hideXGridFocus=function(){this.main.select("line."+V.xgridFocus).style("visibility","hidden")},b.updateXgridFocus=function(){var t=this.config;this.main.select("line."+V.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?this.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:this.height)},b.generateGridData=function(t,e){var i,n,r,o,a=[],s=this.main.select("."+V.axisX).selectAll(".tick").size();if("year"===t)for(n=(i=this.getXDomain())[0].getFullYear(),r=i[1].getFullYear(),o=n;o<=r;o++)a.push(new Date(o+"-01-01 00:00:00"));else(a=e.ticks(10)).length>s&&(a=a.filter(function(t){return(""+t).indexOf(".")<0}));return a},b.getGridFilterToRemove=function(t){return t?function(e){var i=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(i=!0)}),i}:function(){return!0}},b.removeGridLines=function(t,e){var i=this.config,n=this.getGridFilterToRemove(t),r=function(t){return!n(t)},o=e?V.xgridLines:V.ygridLines,a=e?V.xgridLine:V.ygridLine;this.main.select("."+o).selectAll("."+a).filter(n).transition().duration(i.transition_duration).style("opacity",0).remove(),e?i.grid_x_lines=i.grid_x_lines.filter(r):i.grid_y_lines=i.grid_y_lines.filter(r)},b.initEventRect=function(){this.main.select("."+V.chart).append("g").attr("class",V.eventRects).style("fill-opacity",0)},b.redrawEventRect=function(){var t,e,i=this,n=i.config,r=i.isMultipleX(),o=i.main.select("."+V.eventRects).style("cursor",n.zoom_enabled?n.axis_rotated?"ns-resize":"ew-resize":null).classed(V.eventRectsMultiple,r).classed(V.eventRectsSingle,!r);o.selectAll("."+V.eventRect).remove(),i.eventRect=o.selectAll("."+V.eventRect),r?(t=i.eventRect.data([0]),i.generateEventRectsForMultipleXs(t.enter()),i.updateEventRect(t)):(e=i.getMaxDataCountTarget(i.data.targets),o.datum(e?e.values:[]),i.eventRect=o.selectAll("."+V.eventRect),t=i.eventRect.data(function(t){return t}),i.generateEventRectsForSingleX(t.enter()),i.updateEventRect(t),t.exit().remove())},b.updateEventRect=function(t){var e,i,n,r,o,a,s=this,l=s.config;t=t||s.eventRect.data(function(t){return t}),s.isMultipleX()?(i=e=0,n=s.width,r=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(o=s.getEventRectWidth(),a=function(t){return s.x(t.x)-o/2}):(s.updateXs(),o=function(t){var e=s.getPrevX(t.index),i=s.getNextX(t.index);return null===e&&null===i?l.axis_rotated?s.height:s.width:(null===e&&(e=s.x.domain()[0]),null===i&&(i=s.x.domain()[1]),Math.max(0,(s.x(i)-s.x(e))/2))},a=function(t){var e=s.getPrevX(t.index),i=s.getNextX(t.index),n=s.data.xs[t.id][t.index];return null===e&&null===i?0:(null===e&&(e=s.x.domain()[0]),(s.x(n)+s.x(e))/2)}),e=l.axis_rotated?0:a,i=l.axis_rotated?a:0,n=l.axis_rotated?s.width:o,r=l.axis_rotated?o:s.height),t.attr("class",s.classEvent.bind(s)).attr("x",e).attr("y",i).attr("width",n).attr("height",r)},b.generateEventRectsForSingleX=function(t){var r=this,o=r.d3,a=r.config;t.append("rect").attr("class",r.classEvent.bind(r)).style("cursor",a.data_selection_enabled&&a.data_selection_grouped?"pointer":null).on("mouseover",function(t){var e=t.index;r.dragging||r.flowing||r.hasArcType()||(a.point_focus_expand_enabled&&r.expandCircles(e,null,!0),r.expandBars(e,null,!0),r.main.selectAll("."+V.shape+"-"+e).each(function(t){a.data_onmouseover.call(r.api,t)}))}).on("mouseout",function(t){var e=t.index;r.config&&(r.hasArcType()||(r.hideXGridFocus(),r.hideTooltip(),r.unexpandCircles(),r.unexpandBars(),r.main.selectAll("."+V.shape+"-"+e).each(function(t){a.data_onmouseout.call(r.api,t)})))}).on("mousemove",function(t){var e,i=t.index,n=r.svg.select("."+V.eventRect+"-"+i);r.dragging||r.flowing||r.hasArcType()||(r.isStepType(t)&&"step-after"===r.config.line_step_type&&o.mouse(this)[0]<r.x(r.getXValue(t.id,i))&&(i-=1),e=r.filterTargetsToShow(r.data.targets).map(function(t){return r.addName(r.getValueOnIndex(t.values,i))}),a.tooltip_grouped&&(r.showTooltip(e,this),r.showXGridFocus(e)),(!a.tooltip_grouped||a.data_selection_enabled&&!a.data_selection_grouped)&&r.main.selectAll("."+V.shape+"-"+i).each(function(){o.select(this).classed(V.EXPANDED,!0),a.data_selection_enabled&&n.style("cursor",a.data_selection_grouped?"pointer":null),a.tooltip_grouped||(r.hideXGridFocus(),r.hideTooltip(),a.data_selection_grouped||(r.unexpandCircles(i),r.unexpandBars(i)))}).filter(function(t){return r.isWithinShape(this,t)}).each(function(t){a.data_selection_enabled&&(a.data_selection_grouped||a.data_selection_isselectable(t))&&n.style("cursor","pointer"),a.tooltip_grouped||(r.showTooltip([t],this),r.showXGridFocus([t]),a.point_focus_expand_enabled&&r.expandCircles(i,t.id,!0),r.expandBars(i,t.id,!0))}))}).on("click",function(t){var e=t.index;!r.hasArcType()&&r.toggleShape&&(r.cancelClick?r.cancelClick=!1:(r.isStepType(t)&&"step-after"===a.line_step_type&&o.mouse(this)[0]<r.x(r.getXValue(t.id,e))&&(e-=1),r.main.selectAll("."+V.shape+"-"+e).each(function(t){(a.data_selection_grouped||r.isWithinShape(this,t))&&(r.toggleShape(this,t,e),r.config.data_onclick.call(r.api,t,this))})))}).call(a.data_selection_draggable&&r.drag?o.behavior.drag().origin(Object).on("drag",function(){r.drag(o.mouse(this))}).on("dragstart",function(){r.dragstart(o.mouse(this))}).on("dragend",function(){r.dragend()}):function(){})},b.generateEventRectsForMultipleXs=function(t){var r=this,o=r.d3,a=r.config;function s(){r.svg.select("."+V.eventRect).style("cursor",null),r.hideXGridFocus(),r.hideTooltip(),r.unexpandCircles(),r.unexpandBars()}t.append("rect").attr("x",0).attr("y",0).attr("width",r.width).attr("height",r.height).attr("class",V.eventRect).on("mouseout",function(){r.config&&(r.hasArcType()||s())}).on("mousemove",function(){var t,e,i,n=r.filterTargetsToShow(r.data.targets);r.dragging||r.hasArcType(n)||(t=o.mouse(this),e=r.findClosestFromTargets(n,t),!r.mouseover||e&&e.id===r.mouseover.id||(a.data_onmouseout.call(r.api,r.mouseover),r.mouseover=void 0),e?(i=(r.isScatterType(e)||!a.tooltip_grouped?[e]:r.filterByX(n,e.x)).map(function(t){return r.addName(t)}),r.showTooltip(i,this),a.point_focus_expand_enabled&&r.expandCircles(e.index,e.id,!0),r.expandBars(e.index,e.id,!0),r.showXGridFocus(i),(r.isBarType(e.id)||r.dist(e,t)<a.point_sensitivity)&&(r.svg.select("."+V.eventRect).style("cursor","pointer"),r.mouseover||(a.data_onmouseover.call(r.api,e),r.mouseover=e))):s())}).on("click",function(){var t,e,i=r.filterTargetsToShow(r.data.targets);r.hasArcType(i)||(t=o.mouse(this),(e=r.findClosestFromTargets(i,t))&&(r.isBarType(e.id)||r.dist(e,t)<a.point_sensitivity)&&r.main.selectAll("."+V.shapes+r.getTargetSelectorSuffix(e.id)).selectAll("."+V.shape+"-"+e.index).each(function(){(a.data_selection_grouped||r.isWithinShape(this,e))&&(r.toggleShape(this,e,e.index),r.config.data_onclick.call(r.api,e,this))}))}).call(a.data_selection_draggable&&r.drag?o.behavior.drag().origin(Object).on("drag",function(){r.drag(o.mouse(this))}).on("dragstart",function(){r.dragstart(o.mouse(this))}).on("dragend",function(){r.dragend()}):function(){})},b.dispatchEvent=function(t,e,i){var n="."+V.eventRect+(this.isMultipleX()?"":"-"+e),r=this.main.select(n).node(),o=r.getBoundingClientRect(),a=o.left+(i?i[0]:0),s=o.top+(i?i[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(t,!0,!0,window,0,a,s,a,s,!1,!1,!1,!1,0,null),r.dispatchEvent(l)},b.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},b.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},b.updateSizeForLegend=function(t,e){var i=this,n=i.config,r={top:i.isLegendTop?i.getCurrentPaddingTop()+n.legend_inset_y+5.5:i.currentHeight-t-i.getCurrentPaddingBottom()-n.legend_inset_y,left:i.isLegendLeft?i.getCurrentPaddingLeft()+n.legend_inset_x+.5:i.currentWidth-e-i.getCurrentPaddingRight()-n.legend_inset_x+.5};i.margin3={top:i.isLegendRight?0:i.isLegendInset?r.top:i.currentHeight-t,right:NaN,bottom:0,left:i.isLegendRight?i.currentWidth-e:i.isLegendInset?r.left:0}},b.transformLegend=function(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},b.updateLegendStep=function(t){this.legendStep=t},b.updateLegendItemWidth=function(t){this.legendItemWidth=t},b.updateLegendItemHeight=function(t){this.legendItemHeight=t},b.getLegendWidth=function(){return this.config.legend_show?this.isLegendRight||this.isLegendInset?this.legendItemWidth*(this.legendStep+1):this.currentWidth:0},b.getLegendHeight=function(){var t=0;return this.config.legend_show&&(t=this.isLegendRight?this.currentHeight:Math.max(20,this.legendItemHeight)*(this.legendStep+1)),t},b.opacityForLegend=function(t){return t.classed(V.legendItemHidden)?null:1},b.opacityForUnfocusedLegend=function(t){return t.classed(V.legendItemHidden)?null:.3},b.toggleFocusLegend=function(e,t){var i=this;e=i.mapToTargetIds(e),i.legend.selectAll("."+V.legendItem).filter(function(t){return 0<=e.indexOf(t)}).classed(V.legendItemFocused,t).transition().duration(100).style("opacity",function(){return(t?i.opacityForLegend:i.opacityForUnfocusedLegend).call(i,i.d3.select(this))})},b.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+V.legendItem).classed(V.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},b.showLegend=function(t){var e=this,i=e.config;i.legend_show||(i.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},b.hideLegend=function(t){var e=this.config;e.legend_show&&p(t)&&(e.legend_show=!1,this.legend.style("visibility","hidden")),this.addHiddenLegendIds(t),this.legend.selectAll(this.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},b.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},b.updateLegend=function(g,t,e){var i,n,r,o,a,s,l,h,c,u,d,p,f,m,v,y,b=this,x=b.config,_=4,w=10,S=0,C=0,k=10,T=x.legend_item_tile_width+5,D=0,A={},M={},E={},P=[0],L={},I=0;function O(t,e,i){var n,r,o,a,s=0===i,l=i===g.length-1,h=(o=t,a=e,b.legendItemTextBox[a]||(b.legendItemTextBox[a]=b.getTextRect(o.textContent,V.legendItem,o)),b.legendItemTextBox[a]),c=h.width+T+(!l||b.isLegendRight||b.isLegendInset?w:0)+x.legend_padding,u=h.height+_,d=b.isLegendRight||b.isLegendInset?u:c,p=b.isLegendRight||b.isLegendInset?b.getLegendHeight():b.getLegendWidth();function f(t,e){e||(n=(p-D-d)/2)<k&&(n=(p-d)/2,D=0,I++),L[t]=I,P[I]=b.isLegendInset?10:n,A[t]=D,D+=d}s&&(C=S=I=D=0),!x.legend_show||b.isLegendToShow(e)?(M[e]=c,E[e]=u,(!S||S<=c)&&(S=c),(!C||C<=u)&&(C=u),r=b.isLegendRight||b.isLegendInset?C:S,x.legend_equally?(Object.keys(M).forEach(function(t){M[t]=S}),Object.keys(E).forEach(function(t){E[t]=C}),(n=(p-r*g.length)/2)<k?(I=D=0,g.forEach(function(t){f(t)})):f(e,!0)):f(e)):M[e]=E[e]=L[e]=A[e]=0}g=g.filter(function(t){return!R(x.data_names[t])||null!==x.data_names[t]}),d=B(t=t||{},"withTransition",!0),p=B(t,"withTransitionForTransform",!0),b.isLegendInset&&(I=x.legend_inset_step?x.legend_inset_step:g.length,b.updateLegendStep(I)),b.isLegendRight?(i=function(t){return S*L[t]},o=function(t){return P[L[t]]+A[t]}):b.isLegendInset?(i=function(t){return S*L[t]+10},o=function(t){return P[L[t]]+A[t]}):(i=function(t){return P[L[t]]+A[t]},o=function(t){return C*L[t]}),n=function(t,e){return i(t,e)+4+x.legend_item_tile_width},a=function(t,e){return o(t,e)+9},r=function(t,e){return i(t,e)},s=function(t,e){return o(t,e)-5},l=function(t,e){return i(t,e)-2},h=function(t,e){return i(t,e)-2+x.legend_item_tile_width},c=function(t,e){return o(t,e)+4},(u=b.legend.selectAll("."+V.legendItem).data(g).enter().append("g").attr("class",function(t){return b.generateClass(V.legendItem,t)}).style("visibility",function(t){return b.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){x.legend_item_onclick?x.legend_item_onclick.call(b,t):b.d3.event.altKey?(b.api.hide(),b.api.show(t)):(b.api.toggle(t),b.isTargetToShow(t)?b.api.focus(t):b.api.revert())}).on("mouseover",function(t){x.legend_item_onmouseover?x.legend_item_onmouseover.call(b,t):(b.d3.select(this).classed(V.legendItemFocused,!0),!b.transiting&&b.isTargetToShow(t)&&b.api.focus(t))}).on("mouseout",function(t){x.legend_item_onmouseout?x.legend_item_onmouseout.call(b,t):(b.d3.select(this).classed(V.legendItemFocused,!1),b.api.revert())})).append("text").text(function(t){return R(x.data_names[t])?x.data_names[t]:t}).each(function(t,e){O(this,t,e)}).style("pointer-events","none").attr("x",b.isLegendRight||b.isLegendInset?n:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:a),u.append("rect").attr("class",V.legendItemEvent).style("fill-opacity",0).attr("x",b.isLegendRight||b.isLegendInset?r:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:s),u.append("line").attr("class",V.legendItemTile).style("stroke",b.color).style("pointer-events","none").attr("x1",b.isLegendRight||b.isLegendInset?l:-200).attr("y1",b.isLegendRight||b.isLegendInset?-200:c).attr("x2",b.isLegendRight||b.isLegendInset?h:-200).attr("y2",b.isLegendRight||b.isLegendInset?-200:c).attr("stroke-width",x.legend_item_tile_height),y=b.legend.select("."+V.legendBackground+" rect"),b.isLegendInset&&0<S&&0===y.size()&&(y=b.legend.insert("g","."+V.legendItem).attr("class",V.legendBackground).append("rect")),f=b.legend.selectAll("text").data(g).text(function(t){return R(x.data_names[t])?x.data_names[t]:t}).each(function(t,e){O(this,t,e)}),(d?f.transition():f).attr("x",n).attr("y",a),m=b.legend.selectAll("rect."+V.legendItemEvent).data(g),(d?m.transition():m).attr("width",function(t){return M[t]}).attr("height",function(t){return E[t]}).attr("x",r).attr("y",s),v=b.legend.selectAll("line."+V.legendItemTile).data(g),(d?v.transition():v).style("stroke",b.levelColor?function(t){return b.levelColor(b.cache[t].values[0].value)}:b.color).attr("x1",l).attr("y1",c).attr("x2",h).attr("y2",c),y&&(d?y.transition():y).attr("height",b.getLegendHeight()-12).attr("width",S*(I+1)+10),b.legend.selectAll("."+V.legendItem).classed(V.legendItemHidden,function(t){return!b.isTargetToShow(t)}),b.updateLegendItemWidth(S),b.updateLegendItemHeight(C),b.updateLegendStep(I),b.updateSizes(),b.updateScales(),b.updateSvgSize(),b.transformAll(p,e),b.legendHasRendered=!0},b.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",V.regions)},b.updateRegion=function(t){var e=this,i=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+V.regions).selectAll("."+V.region).data(i.regions),e.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),e.mainRegion.attr("class",e.classRegion.bind(e)),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},b.redrawRegion=function(t){var e=this,i=e.mainRegion.selectAll("rect").each(function(){var t=e.d3.select(this.parentNode).datum();e.d3.select(this).datum(t)}),n=e.regionX.bind(e),r=e.regionY.bind(e),o=e.regionWidth.bind(e),a=e.regionHeight.bind(e);return[(t?i.transition():i).attr("x",n).attr("y",r).attr("width",o).attr("height",a).style("fill-opacity",function(t){return T(t.opacity)?t.opacity:.1})]},b.regionX=function(t){var e=this.config,i="y"===t.axis?this.y:this.y2;return"y"===t.axis||"y2"===t.axis?e.axis_rotated&&"start"in t?i(t.start):0:e.axis_rotated?0:"start"in t?this.x(this.isTimeSeries()?this.parseDate(t.start):t.start):0},b.regionY=function(t){var e=this.config,i="y"===t.axis?this.y:this.y2;return"y"===t.axis||"y2"===t.axis?e.axis_rotated?0:"end"in t?i(t.end):0:e.axis_rotated&&"start"in t?this.x(this.isTimeSeries()?this.parseDate(t.start):t.start):0},b.regionWidth=function(t){var e,i=this,n=i.config,r=i.regionX(t),o="y"===t.axis?i.y:i.y2;return(e="y"===t.axis||"y2"===t.axis?n.axis_rotated&&"end"in t?o(t.end):i.width:n.axis_rotated?i.width:"end"in t?i.x(i.isTimeSeries()?i.parseDate(t.end):t.end):i.width)<r?0:e-r},b.regionHeight=function(t){var e,i=this,n=i.config,r=this.regionY(t),o="y"===t.axis?i.y:i.y2;return(e="y"===t.axis||"y2"===t.axis?n.axis_rotated?i.height:"start"in t?o(t.start):i.height:n.axis_rotated&&"end"in t?i.x(i.isTimeSeries()?i.parseDate(t.end):t.end):i.height)<r?0:e-r},b.isRegionOnX=function(t){return!t.axis||"x"===t.axis},b.getScale=function(t,e,i){return(i?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},b.getX=function(t,e,i,n){var r,o=this.getScale(t,e,this.isTimeSeries()),a=i?o.domain(i):o;for(r in this.isCategorized()?(n=n||function(){return 0},o=function(t,e){var i=a(t)+n(t);return e?i:Math.ceil(i)}):o=function(t,e){var i=a(t);return e?i:Math.ceil(i)},a)o[r]=a[r];return o.orgDomain=function(){return a.domain()},this.isCategorized()&&(o.domain=function(t){return arguments.length?(a.domain(t),o):[(t=this.orgDomain())[0],t[1]+1]}),o},b.getY=function(t,e,i){var n=this.getScale(t,e,this.isTimeSeriesY());return i&&n.domain(i),n},b.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},b.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},b.updateScales=function(){var e=this,t=e.config,i=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,i?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,i?t.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,i?t.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,i?t.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,i?t.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis(e.y,e.yOrient,t.axis_y_tick_format,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis(e.y2,e.y2Orient,t.axis_y2_tick_format,e.y2AxisTickValues,t.axis_y2_tick_outer),i||(e.brush&&e.brush.scale(e.subX),t.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},b.selectPoint=function(t,e,i){var n=this,r=n.config,o=(r.axis_rotated?n.circleY:n.circleX).bind(n),a=(r.axis_rotated?n.circleX:n.circleY).bind(n),s=n.pointSelectR.bind(n);r.data_onselected.call(n.api,e,t.node()),n.main.select("."+V.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+V.selectedCircle+"-"+i).data([e]).enter().append("circle").attr("class",function(){return n.generateClass(V.selectedCircle,i)}).attr("cx",o).attr("cy",a).attr("stroke",function(){return n.color(e)}).attr("r",function(t){return 1.4*n.pointSelectR(t)}).transition().duration(100).attr("r",s)},b.unselectPoint=function(t,e,i){this.config.data_onunselected.call(this.api,e,t.node()),this.main.select("."+V.selectedCircles+this.getTargetSelectorSuffix(e.id)).selectAll("."+V.selectedCircle+"-"+i).transition().duration(100).attr("r",0).remove()},b.togglePoint=function(t,e,i,n){t?this.selectPoint(e,i,n):this.unselectPoint(e,i,n)},b.selectPath=function(t,e){var i=this;i.config.data_onselected.call(i,e,t.node()),i.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return i.d3.rgb(i.color(e)).brighter(.75)})},b.unselectPath=function(t,e){var i=this;i.config.data_onunselected.call(i,e,t.node()),i.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return i.color(e)})},b.togglePath=function(t,e,i,n){t?this.selectPath(e,i,n):this.unselectPath(e,i,n)},b.getToggle=function(t,e){var i;return"circle"===t.nodeName?i=this.isStepType(e)?function(){}:this.togglePoint:"path"===t.nodeName&&(i=this.togglePath),i},b.toggleShape=function(t,e,i){var n=this.d3,r=this.config,o=n.select(t),a=o.classed(V.SELECTED),s=this.getToggle(t,e).bind(this);r.data_selection_enabled&&r.data_selection_isselectable(e)&&(r.data_selection_multiple||this.main.selectAll("."+V.shapes+(r.data_selection_grouped?this.getTargetSelectorSuffix(e.id):"")).selectAll("."+V.shape).each(function(t,e){var i=n.select(this);i.classed(V.SELECTED)&&s(!1,i.classed(V.SELECTED,!1),t,e)}),o.classed(V.SELECTED,!a),s(!a,o,e,i))},b.initBar=function(){this.main.select("."+V.chart).append("g").attr("class",V.chartBars)},b.updateTargetsForBar=function(t){var e=this.config,i=this.classChartBar.bind(this),n=this.classBars.bind(this),r=this.classFocus.bind(this);this.main.select("."+V.chartBars).selectAll("."+V.chartBar).data(t).attr("class",function(t){return i(t)+r(t)}).enter().append("g").attr("class",i).style("pointer-events","none").append("g").attr("class",n).style("cursor",function(t){return e.data_selection_isselectable(t)?"pointer":null})},b.updateBar=function(t){var e=this,i=e.barData.bind(e),n=e.classBar.bind(e),r=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+V.bars).selectAll("."+V.bar).data(i),e.mainBar.enter().append("path").attr("class",n).style("stroke",o).style("fill",o),e.mainBar.style("opacity",r),e.mainBar.exit().transition().duration(t).remove()},b.redrawBar=function(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",1)]},b.getBarW=function(t,e){var i=this.config,n="number"==typeof i.bar_width?i.bar_width:e?t.tickInterval()*i.bar_width_ratio/e:0;return i.bar_width_max&&n>i.bar_width_max?i.bar_width_max:n},b.getBars=function(t,e){return(e?this.main.selectAll("."+V.bars+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+V.bar+(T(t)?"-"+t:""))},b.expandBars=function(t,e,i){i&&this.unexpandBars(),this.getBars(t,e).classed(V.EXPANDED,!0)},b.unexpandBars=function(t){this.getBars(t).classed(V.EXPANDED,!1)},b.generateDrawBar=function(t,e){var o=this.config,a=this.generateGetBarPoints(t,e);return function(t,e){var i=a(t,e),n=o.axis_rotated?1:0,r=o.axis_rotated?0:1;return"M "+i[0][n]+","+i[0][r]+" L"+i[1][n]+","+i[1][r]+" L"+i[2][n]+","+i[2][r]+" L"+i[3][n]+","+i[3][r]+" z"}},b.generateGetBarPoints=function(t,e){var a=this,i=e?a.subXAxis:a.xAxis,n=t.__max__+1,s=a.getBarW(i,n),l=a.getShapeX(s,n,t,!!e),h=a.getShapeY(!!e),c=a.getShapeOffset(a.isBarType,t,!!e),u=s*(a.config.bar_space/2),d=e?a.getSubYScale:a.getYScale;return function(t,e){var i=d.call(a,t.id)(0),n=c(t,e)||i,r=l(t),o=h(t);return a.config.axis_rotated&&(0<t.value&&o<i||t.value<0&&i<o)&&(o=i),[[r+u,n],[r+u,o-(i-n)],[r+s-u,o-(i-n)],[r+s-u,n]]}},b.isWithinBar=function(t){var e=this.d3.mouse(t),i=t.getBoundingClientRect(),n=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),o=Math.min(n.x,r.x),a=Math.min(n.y,r.y),s=o+i.width+2,l=a+i.height+2,h=a-2;return o-2<e[0]&&e[0]<s&&h<e[1]&&e[1]<l},b.getShapeIndices=function(t){var e,i,n=this.config,r={},o=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach(function(t){for(e=0;e<n.data_groups.length;e++)if(!(n.data_groups[e].indexOf(t.id)<0))for(i=0;i<n.data_groups[e].length;i++)if(n.data_groups[e][i]in r){r[t.id]=r[n.data_groups[e][i]];break}w(r[t.id])&&(r[t.id]=o++)}),r.__max__=o-1,r},b.getShapeX=function(i,n,r,t){var o=t?this.subX:this.x;return function(t){var e=t.id in r?r[t.id]:0;return t.x||0===t.x?o(t.x)-i*(n/2-e):0}},b.getShapeY=function(e){var i=this;return function(t){return(e?i.getSubYScale(t.id):i.getYScale(t.id))(t.value)}},b.getShapeOffset=function(t,s,e){var l=this,h=l.orderTargets(l.filterTargetsToShow(l.data.targets.filter(t,l))),c=h.map(function(t){return t.id});return function(i,n){var r=e?l.getSubYScale(i.id):l.getYScale(i.id),o=r(0),a=o;return h.forEach(function(t){var e=l.isStepType(i)?l.convertValuesToStep(t.values):t.values;t.id!==i.id&&s[t.id]===s[i.id]&&c.indexOf(t.id)<c.indexOf(i.id)&&(void 0!==e[n]&&+e[n].x==+i.x||(n=-1,e.forEach(function(t,e){t.x===i.x&&(n=e)})),n in e&&0<=e[n].value*i.value&&(a+=r(e[n].value)-o))}),a}},b.isWithinShape=function(t,e){var i,n=this.d3.select(t);return this.isTargetToShow(e.id)?"circle"===t.nodeName?i=this.isStepType(e)?this.isWithinStep(t,this.getYScale(e.id)(e.value)):this.isWithinCircle(t,1.5*this.pointSelectR(e)):"path"===t.nodeName&&(i=!n.classed(V.bar)||this.isWithinBar(t)):i=!1,i},b.getInterpolate=function(t){var e=this.isInterpolationType(this.config.spline_interpolation_type)?this.config.spline_interpolation_type:"cardinal";return this.isSplineType(t)?e:this.isStepType(t)?this.config.line_step_type:"linear"},b.initLine=function(){this.main.select("."+V.chart).append("g").attr("class",V.chartLines)},b.updateTargetsForLine=function(t){var e,i=this,n=i.config,r=i.classChartLine.bind(i),o=i.classLines.bind(i),a=i.classAreas.bind(i),s=i.classCircles.bind(i),l=i.classFocus.bind(i);(e=i.main.select("."+V.chartLines).selectAll("."+V.chartLine).data(t).attr("class",function(t){return r(t)+l(t)}).enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none")).append("g").attr("class",o),e.append("g").attr("class",a),e.append("g").attr("class",function(t){return i.generateClass(V.selectedCircles,t.id)}),e.append("g").attr("class",s).style("cursor",function(t){return n.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(e){i.main.selectAll("."+V.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+V.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},b.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+V.lines).selectAll("."+V.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},b.redrawLine=function(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},b.generateDrawLine=function(t,s){var l=this,h=l.config,c=l.d3.svg.line(),i=l.generateGetLinePoints(t,s),u=s?l.getSubYScale:l.getYScale,e=function(t){return(s?l.subxx:l.xx).call(l,t)},n=function(t,e){return 0<h.data_groups.length?i(t,e)[0][1]:u.call(l,t.id)(t.value)};return c=h.axis_rotated?c.x(n).y(e):c.x(e).y(n),h.line_connectNull||(c=c.defined(function(t){return null!=t.value})),function(t){var e,i=h.line_connectNull?l.filterRemoveNull(t.values):t.values,n=s?l.x:l.subX,r=u.call(l,t.id),o=0,a=0;return l.isLineType(t)?h.data_regions[t.id]?e=l.lineWithRegions(i,n,r,h.data_regions[t.id]):(l.isStepType(t)&&(i=l.convertValuesToStep(i)),e=c.interpolate(l.getInterpolate(t))(i)):(i[0]&&(o=n(i[0].x),a=r(i[0].value)),e=h.axis_rotated?"M "+a+" "+o:"M "+o+" "+a),e||"M 0 0"}},b.generateGetLinePoints=function(t,e){var a=this,s=a.config,i=t.__max__+1,l=a.getShapeX(0,i,t,!!e),h=a.getShapeY(!!e),c=a.getShapeOffset(a.isLineType,t,!!e),u=e?a.getSubYScale:a.getYScale;return function(t,e){var i=u.call(a,t.id)(0),n=c(t,e)||i,r=l(t),o=h(t);return s.axis_rotated&&(0<t.value&&o<i||t.value<0&&i<o)&&(o=i),[[r,o-(i-n)],[r,o-(i-n)],[r,o-(i-n)],[r,o-(i-n)]]}},b.lineWithRegions=function(t,l,h,e){var i,n,r,o,c,a,s,u,d,p,f,g=this,m=g.config,v="M",y=g.isCategorized()?.5:0,b=[];function x(t,e){var i;for(i=0;i<e.length;i++)if(e[i].start<t&&t<=e[i].end)return!0;return!1}if(R(e))for(i=0;i<e.length;i++)b[i]={},w(e[i].start)?b[i].start=t[0].x:b[i].start=g.isTimeSeries()?g.parseDate(e[i].start):e[i].start,w(e[i].end)?b[i].end=t[t.length-1].x:b[i].end=g.isTimeSeries()?g.parseDate(e[i].end):e[i].end;function _(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}for(p=m.axis_rotated?function(t){return h(t.value)}:function(t){return l(t.x)},f=m.axis_rotated?function(t){return l(t.x)}:function(t){return h(t.value)},r=g.isTimeSeries()?function(t,e,i,n){var r=t.x.getTime(),o=e.x-t.x,a=new Date(r+o*i),s=new Date(r+o*(i+n));return _(m.axis_rotated?[[h(c(i)),l(a)],[h(c(i+n)),l(s)]]:[[l(a),h(c(i))],[l(s),h(c(i+n))]])}:function(t,e,i,n){return _(m.axis_rotated?[[h(c(i),!0),l(o(i))],[h(c(i+n),!0),l(o(i+n))]]:[[l(o(i),!0),h(c(i))],[l(o(i+n),!0),h(c(i+n))]])},i=0;i<t.length;i++){if(w(b)||!x(t[i].x,b))v+=" "+p(t[i])+" "+f(t[i]);else for(o=g.getScale(t[i-1].x+y,t[i].x+y,g.isTimeSeries()),c=g.getScale(t[i-1].value,t[i].value),a=l(t[i].x)-l(t[i-1].x),s=h(t[i].value)-h(t[i-1].value),d=2*(u=2/Math.sqrt(Math.pow(a,2)+Math.pow(s,2))),n=u;n<=1;n+=d)v+=r(t[i-1],t[i],n,u);t[i].x}return v},b.updateArea=function(t){var e=this,i=e.d3;e.mainArea=e.main.selectAll("."+V.areas).selectAll("."+V.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+i.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},b.redrawArea=function(t,e){return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},b.generateDrawArea=function(t,e){var o=this,a=o.config,s=o.d3.svg.area(),i=o.generateGetAreaPoints(t,e),n=e?o.getSubYScale:o.getYScale,r=function(t){return(e?o.subxx:o.xx).call(o,t)},l=function(t,e){return 0<a.data_groups.length?i(t,e)[0][1]:n.call(o,t.id)(o.getAreaBaseValue(t.id))},h=function(t,e){return 0<a.data_groups.length?i(t,e)[1][1]:n.call(o,t.id)(t.value)};return s=a.axis_rotated?s.x0(l).x1(h).y(r):s.x(r).y0(a.area_above?0:l).y1(h),a.line_connectNull||(s=s.defined(function(t){return null!==t.value})),function(t){var e,i=a.line_connectNull?o.filterRemoveNull(t.values):t.values,n=0,r=0;return o.isAreaType(t)?(o.isStepType(t)&&(i=o.convertValuesToStep(i)),e=s.interpolate(o.getInterpolate(t))(i)):(i[0]&&(n=o.x(i[0].x),r=o.getYScale(t.id)(i[0].value)),e=a.axis_rotated?"M "+r+" "+n:"M "+n+" "+r),e||"M 0 0"}},b.getAreaBaseValue=function(){return 0},b.generateGetAreaPoints=function(t,e){var a=this,s=a.config,i=t.__max__+1,l=a.getShapeX(0,i,t,!!e),h=a.getShapeY(!!e),c=a.getShapeOffset(a.isAreaType,t,!!e),u=e?a.getSubYScale:a.getYScale;return function(t,e){var i=u.call(a,t.id)(0),n=c(t,e)||i,r=l(t),o=h(t);return s.axis_rotated&&(0<t.value&&o<i||t.value<0&&i<o)&&(o=i),[[r,n],[r,o-(i-n)],[r,o-(i-n)],[r,n]]}},b.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+V.circles).selectAll("."+V.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},b.redrawCircle=function(t,e,i){var n=this.main.selectAll("."+V.selectedCircle);return[(i?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(i?n.transition(Math.random().toString()):n).attr("cx",t).attr("cy",e)]},b.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},b.updateCircleY=function(){var t,i,e=this;0<e.config.data_groups.length?(t=e.getShapeIndices(e.isLineType),i=e.generateGetLinePoints(t),e.circleY=function(t,e){return i(t,e)[0][1]}):e.circleY=function(t){return e.getYScale(t.id)(t.value)}},b.getCircles=function(t,e){return(e?this.main.selectAll("."+V.circles+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+V.circle+(T(t)?"-"+t:""))},b.expandCircles=function(t,e,i){var n=this.pointExpandedR.bind(this);i&&this.unexpandCircles(),this.getCircles(t,e).classed(V.EXPANDED,!0).attr("r",n)},b.unexpandCircles=function(t){var e=this,i=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(V.EXPANDED)}).classed(V.EXPANDED,!1).attr("r",i)},b.pointR=function(t){var e=this.config;return this.isStepType(t)?0:d(e.point_r)?e.point_r(t):e.point_r},b.pointExpandedR=function(t){var e=this.config;return e.point_focus_expand_enabled?d(e.point_focus_expand_r)?e.point_focus_expand_r(t):e.point_focus_expand_r?e.point_focus_expand_r:1.75*this.pointR(t):this.pointR(t)},b.pointSelectR=function(t){var e=this.config;return d(e.point_select_r)?e.point_select_r(t):e.point_select_r?e.point_select_r:4*this.pointR(t)},b.isWithinCircle=function(t,e){var i=this.d3,n=i.mouse(t),r=i.select(t),o=+r.attr("cx"),a=+r.attr("cy");return Math.sqrt(Math.pow(o-n[0],2)+Math.pow(a-n[1],2))<e},b.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},b.getCurrentWidth=function(){var t=this.config;return t.size_width?t.size_width:this.getParentWidth()},b.getCurrentHeight=function(){var t=this.config,e=t.size_height?t.size_height:this.getParentHeight();return 0<e?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},b.getCurrentPaddingTop=function(){var t=this.config,e=T(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},b.getCurrentPaddingBottom=function(){var t=this.config;return T(t.padding_bottom)?t.padding_bottom:0},b.getCurrentPaddingLeft=function(t){var e=this.config;return T(e.padding_left)?e.padding_left:e.axis_rotated?!e.axis_x_show||e.axis_x_inner?1:Math.max(i(this.getAxisWidthByAxisId("x",t)),40):!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:i(this.getAxisWidthByAxisId("y",t))},b.getCurrentPaddingRight=function(){var t=this.config,e=this.isLegendRight?this.getLegendWidth()+20:0;return T(t.padding_right)?t.padding_right+1:t.axis_rotated?10+e:!t.axis_y2_show||t.axis_y2_inner?2+e+(this.axis.getY2AxisLabelPosition().isOuter?20:0):i(this.getAxisWidthByAxisId("y2"))+e},b.getParentRectValue=function(e){for(var i,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{i=n.getBoundingClientRect()[e]}catch(t){"width"===e&&(i=n.offsetWidth)}if(i)break;n=n.parentNode}return i},b.getParentWidth=function(){return this.getParentRectValue("width")},b.getParentHeight=function(){var t=this.selectChart.style("height");return 0<t.indexOf("px")?+t.replace("px",""):0},b.getSvgLeft=function(t){var e=this.config,i=e.axis_rotated||!e.axis_rotated&&!e.axis_y_inner,n=e.axis_rotated?V.axisX:V.axisY,r=this.main.select("."+n).node(),o=r&&i?r.getBoundingClientRect():{right:0},a=this.selectChart.node().getBoundingClientRect(),s=this.hasArcType(),l=o.right-a.left-(s?0:this.getCurrentPaddingLeft(t));return 0<l?l:0},b.getAxisWidthByAxisId=function(t,e){var i=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(i.isInner?20:40)},b.getHorizontalAxisHeight=function(t){var e=this.config,i=30;return"x"!==t||e.axis_x_show?"x"===t&&e.axis_x_height?e.axis_x_height:"y"!==t||e.axis_y_show?"y2"!==t||e.axis_y2_show?("x"===t&&!e.axis_rotated&&e.axis_x_tick_rotate&&(i=30+this.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-e.axis_x_tick_rotate)/180)),"y"===t&&e.axis_rotated&&e.axis_y_tick_rotate&&(i=30+this.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-e.axis_y_tick_rotate)/180)),i+(this.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):this.rotated_padding_top:!e.legend_show||this.isLegendRight||this.isLegendInset?1:10:8},b.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},b.initBrush=function(){var e=this,t=e.d3;e.brush=t.svg.brush().on("brush",function(){e.redrawForBrush()}),e.brush.update=function(){return e.context&&e.context.select("."+V.brush).call(this),this},e.brush.scale=function(t){return e.config.axis_rotated?this.y(t):this.x(t)}},b.initSubchart=function(){var t=this,e=t.config,i=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),n=e.subchart_show?"visible":"hidden";i.style("visibility",n),i.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",V.chart),i.select("."+V.chart).append("g").attr("class",V.chartBars),i.select("."+V.chart).append("g").attr("class",V.chartLines),i.append("g").attr("clip-path",t.clipPath).attr("class",V.brush).call(t.brush),t.axes.subx=i.append("g").attr("class",V.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?n:"hidden")},b.updateTargetsForSubchart=function(t){var e,i=this,n=i.context,r=i.config,o=i.classChartBar.bind(i),a=i.classBars.bind(i),s=i.classChartLine.bind(i),l=i.classLines.bind(i),h=i.classAreas.bind(i);r.subchart_show&&(n.select("."+V.chartBars).selectAll("."+V.chartBar).data(t).attr("class",o).enter().append("g").style("opacity",0).attr("class",o).append("g").attr("class",a),(e=n.select("."+V.chartLines).selectAll("."+V.chartLine).data(t).attr("class",s).enter().append("g").style("opacity",0).attr("class",s)).append("g").attr("class",l),e.append("g").attr("class",h),n.selectAll("."+V.brush+" rect").attr(r.axis_rotated?"width":"height",r.axis_rotated?i.width2:i.height2))},b.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+V.bars).selectAll("."+V.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},b.redrawBarForSubchart=function(t,e,i){(e?this.contextBar.transition(Math.random().toString()).duration(i):this.contextBar).attr("d",t).style("opacity",1)},b.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+V.lines).selectAll("."+V.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},b.redrawLineForSubchart=function(t,e,i){(e?this.contextLine.transition(Math.random().toString()).duration(i):this.contextLine).attr("d",t).style("opacity",1)},b.updateAreaForSubchart=function(t){var e=this,i=e.d3;e.contextArea=e.context.selectAll("."+V.areas).selectAll("."+V.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+i.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},b.redrawAreaForSubchart=function(t,e,i){(e?this.contextArea.transition(Math.random().toString()).duration(i):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},b.redrawSubchart=function(t,e,i,n,r,o,a){var s,l,h,c=this,u=c.d3,d=c.config;c.context.style("visibility",d.subchart_show?"visible":"hidden"),d.subchart_show&&(u.event&&"zoom"===u.event.type&&c.brush.extent(c.x.orgDomain()).update(),t&&(c.brush.empty()||c.brush.extent(c.x.orgDomain()).update(),s=c.generateDrawArea(r,!0),l=c.generateDrawBar(o,!0),h=c.generateDrawLine(a,!0),c.updateBarForSubchart(i),c.updateLineForSubchart(i),c.updateAreaForSubchart(i),c.redrawBarForSubchart(l,i,i),c.redrawLineForSubchart(h,i,i),c.redrawAreaForSubchart(s,i,i)))},b.redrawForBrush=function(){var t=this.x;this.redraw({withTransition:!1,withY:this.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),this.config.subchart_onbrush.call(this.api,t.orgDomain())},b.transformContext=function(t,e){var i;e&&e.axisSubX?i=e.axisSubX:(i=this.context.select("."+V.axisX),t&&(i=i.transition())),this.context.attr("transform",this.getTranslate("context")),i.attr("transform",this.getTranslate("subx"))},b.getDefaultExtent=function(){var t=this.config,e=d(t.axis_x_extent)?t.axis_x_extent(this.getXDomain(this.data.targets)):t.axis_x_extent;return this.isTimeSeries()&&(e=[this.parseDate(e[0]),this.parseDate(e[1])]),e},b.initText=function(){this.main.select("."+V.chart).append("g").attr("class",V.chartTexts),this.mainText=this.d3.selectAll([])},b.updateTargetsForText=function(t){var e=this.classChartText.bind(this),i=this.classTexts.bind(this),n=this.classFocus.bind(this);this.main.select("."+V.chartTexts).selectAll("."+V.chartText).data(t).attr("class",function(t){return e(t)+n(t)}).enter().append("g").attr("class",e).style("opacity",0).style("pointer-events","none").append("g").attr("class",i)},b.updateText=function(t){var n=this,e=n.config,i=n.barOrLineData.bind(n),r=n.classText.bind(n);n.mainText=n.main.selectAll("."+V.texts).selectAll("."+V.text).data(i),n.mainText.enter().append("text").attr("class",r).attr("text-anchor",function(t){return e.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return n.color(t)}).style("fill-opacity",0),n.mainText.text(function(t,e,i){return n.dataLabelFormat(t.id)(t.value,t.id,e,i)}),n.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},b.redrawText=function(t,e,i,n){return[(n?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",i?0:this.opacityForText.bind(this))]},b.getTextRect=function(t,e,i){var n,r=this.d3.select("body").append("div").classed("c3",!0),o=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(i).style("font");return o.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",a).text(t).each(function(){n=this.getBoundingClientRect()}),r.remove(),n},b.generateXYForText=function(t,e,i,n){var r=this,o=r.generateGetAreaPoints(t,!1),a=r.generateGetBarPoints(e,!1),s=r.generateGetLinePoints(i,!1),l=n?r.getXForText:r.getYForText;return function(t,e){var i=r.isAreaType(t)?o:r.isBarType(t)?a:s;return l.call(r,i(t,e),t,this)}},b.getXForText=function(t,e,i){var n,r,o=i.getBoundingClientRect();return this.config.axis_rotated?(r=this.isBarType(e)?4:6,n=t[2][1]+r*(e.value<0?-1:1)):n=this.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(n>this.width?n=this.width-o.width:n<0&&(n=4)),n},b.getYForText=function(t,e,i){var n,r=i.getBoundingClientRect();return this.config.axis_rotated?n=(t[0][0]+t[2][0]+.6*r.height)/2:(n=t[2][1],e.value<0||0===e.value&&!this.hasPositiveValue?(n+=r.height,this.isBarType(e)&&this.isSafari()?n-=3:!this.isBarType(e)&&this.isChrome()&&(n+=3)):n+=this.isBarType(e)?-3:-6),null!==e.value||this.config.axis_rotated||(n<r.height?n=r.height:n>this.height&&(n=this.height-4)),n},b.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},b.redrawTitle=function(){this.title.attr("x",this.xForTitle.bind(this)).attr("y",this.yForTitle.bind(this))},b.xForTitle=function(){var t=this,e=t.config,i=e.title_position||"left";return 0<=i.indexOf("right")?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:0<=i.indexOf("center")?(t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2:e.title_padding.left},b.yForTitle=function(){return this.config.title_padding.top+this.getTextRect(this.title.node().textContent,this.CLASS.title,this.title.node()).height},b.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},b.initTooltip=function(){var t,e=this,i=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",V.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),i.tooltip_init_show){if(e.isTimeSeries()&&c(i.tooltip_init_x)){for(i.tooltip_init_x=e.parseDate(i.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-i.tooltip_init_x!=0;t++);i.tooltip_init_x=t}e.tooltip.html(i.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[i.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",i.tooltip_init_position.top).style("left",i.tooltip_init_position.left).style("display","block")}},b.getTooltipSortFunction=function(){var t=this.config;if(0!==t.data_groups.length&&void 0===t.tooltip_order){var i=this.orderTargets(this.data.targets).map(function(t){return t.id});return(this.isOrderAsc()||this.isOrderDesc())&&(i=i.reverse()),function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}var n=t.tooltip_order;void 0===n&&(n=t.data_order);var r=function(t){return t?t.value:null};if(c(n)&&"asc"===n.toLowerCase())return function(t,e){return r(t)-r(e)};if(c(n)&&"desc"===n.toLowerCase())return function(t,e){return r(e)-r(t)};if(d(n)){var e=n;return void 0===t.tooltip_order&&(e=function(t,e){return n(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),e}return h(n)?function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}:void 0},b.getTooltipContent=function(t,e,i,n){var r,o,a,s,l,h,c=this.config,u=c.tooltip_format_title||e,d=c.tooltip_format_name||function(t){return t},p=c.tooltip_format_value||i,f=this.getTooltipSortFunction();for(f&&t.sort(f),o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)&&(r||(a=g(u?u(t[o].x):t[o].x),r="<table class='"+this.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),void 0!==(s=g(p(t[o].value,t[o].ratio,t[o].id,t[o].index,t))))){if(null===t[o].name)continue;l=g(d(t[o].name,t[o].ratio,t[o].id,t[o].index)),h=this.levelColor?this.levelColor(t[o].value):n(t[o].id),r+="<tr class='"+this.CLASS.tooltipName+"-"+this.getTargetSelectorSuffix(t[o].id)+"'>",r+="<td class='name'><span style='background-color:"+h+"'></span>"+l+"</td>",r+="<td class='value'>"+s+"</td>",r+="</tr>"}return r+"</table>"},b.tooltipPosition=function(t,e,i,n){var r,o,a,s,l,h=this,c=h.config,u=h.d3,d=h.hasArcType(),p=u.mouse(n);return d?(o=(h.width-(h.isLegendRight?h.getLegendWidth():0))/2+p[0],s=(h.hasType("gauge")?h.height:h.height/2)+p[1]+20):(r=h.getSvgLeft(!0),c.axis_rotated?(a=(o=r+p[0]+100)+e,l=h.currentWidth-h.getCurrentPaddingRight(),s=h.x(t[0].x)+20):(a=(o=r+h.getCurrentPaddingLeft(!0)+h.x(t[0].x)+20)+e,l=r+h.currentWidth-h.getCurrentPaddingRight(),s=p[1]+15),l<a&&(o-=a-l+20),s+i>h.currentHeight&&(s-=i+30)),s<0&&(s=0),{top:s,left:o}},b.showTooltip=function(t,e){var i,n,r,o=this,a=o.config,s=o.hasArcType(),l=t.filter(function(t){return t&&T(t.value)}),h=a.tooltip_position||b.tooltipPosition;0!==l.length&&a.tooltip_show&&(o.tooltip.html(a.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(s),o.color)).style("display","block"),i=o.tooltip.property("offsetWidth"),n=o.tooltip.property("offsetHeight"),r=h.call(this,l,i,n,e),o.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},b.hideTooltip=function(){this.tooltip.style("display","none")},b.setTargetType=function(t,e){var i=this,n=i.config;i.mapToTargetIds(t).forEach(function(t){i.withoutFadeIn[t]=e===n.data_types[t],n.data_types[t]=e}),t||(n.data_type=e)},b.hasType=function(i,t){var n=this.config.data_types,r=!1;return(t=t||this.data.targets)&&t.length?t.forEach(function(t){var e=n[t.id];(e&&0<=e.indexOf(i)||!e&&"line"===i)&&(r=!0)}):Object.keys(n).length?Object.keys(n).forEach(function(t){n[t]===i&&(r=!0)}):r=this.config.data_type===i,r},b.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},b.isLineType=function(t){var e=this.config,i=c(t)?t:t.id;return!e.data_types[i]||0<=["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[i])},b.isStepType=function(t){var e=c(t)?t:t.id;return 0<=["step","area-step"].indexOf(this.config.data_types[e])},b.isSplineType=function(t){var e=c(t)?t:t.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[e])},b.isAreaType=function(t){var e=c(t)?t:t.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[e])},b.isBarType=function(t){var e=c(t)?t:t.id;return"bar"===this.config.data_types[e]},b.isScatterType=function(t){var e=c(t)?t:t.id;return"scatter"===this.config.data_types[e]},b.isPieType=function(t){var e=c(t)?t:t.id;return"pie"===this.config.data_types[e]},b.isGaugeType=function(t){var e=c(t)?t:t.id;return"gauge"===this.config.data_types[e]},b.isDonutType=function(t){var e=c(t)?t:t.id;return"donut"===this.config.data_types[e]},b.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},b.lineData=function(t){return this.isLineType(t)?[t]:[]},b.arcData=function(t){return this.isArcType(t.data)?[t]:[]},b.barData=function(t){return this.isBarType(t)?t.values:[]},b.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},b.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},b.isInterpolationType=function(t){return 0<=["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(t)},b.isSafari=function(){var t=window.navigator.userAgent;return 0<=t.indexOf("Safari")&&t.indexOf("Chrome")<0},b.isChrome=function(){return 0<=window.navigator.userAgent.indexOf("Chrome")},b.initZoom=function(){var e,i=this,n=i.d3,r=i.config;i.zoom=n.behavior.zoom().on("zoomstart",function(){e=n.event.sourceEvent,i.zoom.altDomain=n.event.sourceEvent.altKey?i.x.orgDomain():null,r.zoom_onzoomstart.call(i.api,n.event.sourceEvent)}).on("zoom",function(){i.redrawForZoom.call(i)}).on("zoomend",function(){var t=n.event.sourceEvent;t&&e.clientX===t.clientX&&e.clientY===t.clientY||(i.redrawEventRect(),i.updateZoom(),r.zoom_onzoomend.call(i.api,i.x.orgDomain()))}),i.zoom.scale=function(t){return r.axis_rotated?this.y(t):this.x(t)},i.zoom.orgScaleExtent=function(){var t=r.zoom_extent?r.zoom_extent:[1,10];return[t[0],Math.max(i.getMaxDataCount()/t[1],t[1])]},i.zoom.updateScaleExtent=function(){var t=F(i.x.orgDomain())/F(i.getZoomDomain()),e=this.orgScaleExtent();return this.scaleExtent([e[0]*t,e[1]*t]),this}},b.getZoomDomain=function(){var t=this.config,e=this.d3;return[e.min([this.orgXDomain[0],t.zoom_x_min]),e.max([this.orgXDomain[1],t.zoom_x_max])]},b.updateZoom=function(){var t=this.config.zoom_enabled?this.zoom:function(){};this.main.select("."+V.zoomRect).call(t).on("dblclick.zoom",null),this.main.selectAll("."+V.eventRect).call(t).on("dblclick.zoom",null)},b.redrawForZoom=function(){var t=this,e=t.d3,i=t.config,n=t.zoom,r=t.x;if(i.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&n.altDomain)return r.domain(n.altDomain),void n.scale(r).updateScaleExtent();t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:i.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),i.zoom_onzoom.call(t.api,r.orgDomain())}},x}),function(C,B,W){var t;t=function(R){"use strict";var t,e,v,F,x,N,z,$,c,w,i,o,u,H,d,n,r,P,V,s,a,l,h,_,p,f,g,m,y,b={},S=0;t=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:W,normalRangeMax:W,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:W,chartRangeMax:W,chartRangeMinX:W,chartRangeMaxX:W,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:W,nullColor:W,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:W,chartRangeMin:W,chartRangeClip:!1,colorMap:W,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:W,thresholdValue:0,chartRangeMax:W,chartRangeMin:W,chartRangeClip:!1,tooltipFormat:new v("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:W,tooltipFormat:new v("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:W,targetColor:"#4a2",chartRangeMax:W,chartRangeMin:W,tooltipFormat:new v("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},e=function(){var t,e;return t=function(){this.init.apply(this,arguments)},1<arguments.length?(arguments[0]?(t.prototype=R.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],2<arguments.length&&((e=Array.prototype.slice.call(arguments,1,-1)).unshift(t.prototype),R.extend.apply(R,e))):t.prototype=arguments[0],t.prototype.cls=t},R.SPFormatClass=v=e({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,e,i){var n,r,o,a,s,l=this,h=t;return this.format.replace(this.fre,function(){return r=arguments[1],o=arguments[3],(n=l.precre.exec(r))?(s=n[2],r=n[1]):s=!1,(a=h[r])===W?"":o&&e&&e[o]?e[o].get?e[o].get(a)||a:e[o][a]||a:(c(a)&&(a=i.get("numberFormatter")?i.get("numberFormatter")(a):u(a,s,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),a)})}}),R.spformat=function(t,e){return new v(t,e)},F=function(t,e,i){return t<e?e:i<t?i:t},x=function(t,e){var i;return 2===e?(i=B.floor(t.length/2),t.length%2?t[i]:(t[i-1]+t[i])/2):t.length%2?(i=(t.length*e+e)/4)%1?(t[B.floor(i)]+t[B.floor(i)-1])/2:t[i-1]:(i=(t.length*e+2)/4)%1?(t[B.floor(i)]+t[B.floor(i)-1])/2:t[i-1]},N=function(t){var e;switch(t){case"undefined":t=W;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:t==(e=parseFloat(t))&&(t=e)}return t},z=function(t){var e,i=[];for(e=t.length;e--;)i[e]=N(t[e]);return i},$=function(t,e){var i,n,r=[];for(i=0,n=t.length;i<n;i++)t[i]!==e&&r.push(t[i]);return r},c=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},u=function(t,e,i,n,r){var o,a;for(t=(!1===e?parseFloat(t).toString():t.toFixed(e)).split(""),(o=(o=R.inArray(".",t))<0?t.length:o)<t.length&&(t[o]=r),a=o-i;0<a;a-=i)t.splice(a,0,n);return t.join("")},w=function(t,e,i){var n;for(n=e.length;n--;)if((!i||null!==e[n])&&e[n]!==t)return!1;return!0},o=function(t){return R.isArray(t)?t:[t]},i=function(t){var e,i;if(C.createStyleSheet)try{return void(C.createStyleSheet().cssText=t)}catch(t){i=!0}(e=C.createElement("style")).type="text/css",C.getElementsByTagName("head")[0].appendChild(e),i?C.styleSheets[C.styleSheets.length-1].cssText=t:e["string"==typeof C.body.style.WebkitAppearance?"innerText":"innerHTML"]=t},R.fn.simpledraw=function(t,e,i,n){var r,o;if(i&&(r=this.data("_jqs_vcanvas")))return r;if(!1===R.fn.sparkline.canvas)return!1;if(R.fn.sparkline.canvas===W){var a=C.createElement("canvas");if(a.getContext&&a.getContext("2d"))R.fn.sparkline.canvas=function(t,e,i,n){return new g(t,e,i,n)};else{if(!C.namespaces||C.namespaces.v)return R.fn.sparkline.canvas=!1;C.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),R.fn.sparkline.canvas=function(t,e,i,n){return new m(t,e,i)}}}return t===W&&(t=R(this).innerWidth()),e===W&&(e=R(this).innerHeight()),r=R.fn.sparkline.canvas(t,e,this,n),(o=R(this).data("_jqs_mhandler"))&&o.registerCanvas(r),r},R.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},R.RangeMapClass=H=e({init:function(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&-1<e.indexOf(":")&&((i=e.split(":"))[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=t[e],n.push(i));this.map=t,this.rangelist=n||!1},get:function(t){var e,i,n,r=this.rangelist;if((n=this.map[t])!==W)return n;if(r)for(e=r.length;e--;)if((i=r[e])[0]<=t&&i[1]>=t)return i[2];return W}}),R.range_map=function(t){return new H(t)},d=e({init:function(t,e){var i=R(t);this.$el=i,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=R(t.canvas);this.canvas=t,(this.$canvas=e).mouseenter(R.proxy(this.mouseenter,this)),e.mouseleave(R.proxy(this.mouseleave,this)),e.click(R.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=W)},mouseclick:function(t){var e=R.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(t){R(C.body).unbind("mousemove.jqs"),R(C.body).bind("mousemove.jqs",R.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new n(this.options),this.tooltip.updatePosition(t.pageX,t.pageY)),this.updateDisplay()},mouseleave:function(){R(C.body).unbind("mousemove.jqs");var t,e=this.splist,i=e.length,n=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),t=0;t<i;t++)e[t].clearRegionHighlight()&&(n=!0);n&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,i,n,r=this.splist,o=r.length,a=!1,s=this.$canvas.offset(),l=this.currentPageX-s.left,h=this.currentPageY-s.top;if(this.over){for(e=0;e<o;e++)(i=r[e].setRegionHighlight(this.currentEl,l,h))&&(a=!0);if(a){if((n=R.Event("sparklineRegionChange")).sparklines=this.splist,this.$el.trigger(n),this.tooltip){for(t="",e=0;e<o;e++)t+=r[e].getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===i&&this.mouseleave()}}}),n=e({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var e,i=t.get("tooltipClassname","jqstooltip"),n=this.sizeStyle;this.container=t.get("tooltipContainer")||C.body,this.tooltipOffsetX=t.get("tooltipOffsetX",10),this.tooltipOffsetY=t.get("tooltipOffsetY",12),R("#jqssizetip").remove(),R("#jqstooltip").remove(),this.sizetip=R("<div/>",{id:"jqssizetip",style:n,class:i}),this.tooltip=R("<div/>",{id:"jqstooltip",class:i}).appendTo(this.container),e=this.tooltip.offset(),this.offsetLeft=e.left,this.offsetTop=e.top,this.hidden=!0,R(window).unbind("resize.jqs scroll.jqs"),R(window).bind("resize.jqs scroll.jqs",R.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=R(window).scrollTop(),this.scrollLeft=R(window).scrollLeft(),this.scrollRight=this.scrollLeft+R(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(t===W){if(this.mousex===W)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=W,R(window).unbind("resize.jqs scroll.jqs")}}),R(function(){i('.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}')}),y=[],R.fn.sparkline=function(h,i){return this.each(function(){var t,e,s=new R.fn.sparkline.options(this,i),l=R(this);if(t=function(){var t,e,i,n,r,o,a;"html"===h||h===W?((a=this.getAttribute(s.get("tagValuesAttribute")))!==W&&null!==a||(a=l.html()),t=a.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):t=h,e="auto"===s.get("width")?t.length*s.get("defaultPixelsPerValue"):s.get("width"),"auto"===s.get("height")?s.get("composite")&&R.data(this,"_jqs_vcanvas")||((n=C.createElement("span")).innerHTML="a",l.html(n),i=R(n).innerHeight()||R(n).height(),R(n).remove(),n=null):i=s.get("height"),s.get("disableInteraction")?r=!1:(r=R.data(this,"_jqs_mhandler"))?s.get("composite")||r.reset():(r=new d(this,s),R.data(this,"_jqs_mhandler",r)),!s.get("composite")||R.data(this,"_jqs_vcanvas")?((o=new(R.fn.sparkline[s.get("type")])(this,t,s,e,i)).render(),r&&r.registerSparkline(o)):R.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),R.data(this,"_jqs_errnotify",!0))},R(this).html()&&!s.get("disableHiddenCheck")&&R(this).is(":hidden")||!R(this).parents("body").length){if(!s.get("composite")&&R.data(this,"_jqs_pending"))for(e=y.length;e;e--)y[e-1][0]==this&&y.splice(e-1,1);y.push([this,t]),R.data(this,"_jqs_pending",!0)}else t.call(this)})},R.fn.sparkline.defaults=t(),R.sparkline_display_visible=function(){var t,e,i,n=[];for(e=0,i=y.length;e<i;e++)t=y[e][0],R(t).is(":visible")&&!R(t).parents().is(":hidden")?(y[e][1].call(t),R.data(y[e][0],"_jqs_pending",!1),n.push(e)):R(t).closest("html").length||R.data(t,"_jqs_pending")||(R.data(y[e][0],"_jqs_pending",!1),n.push(e));for(e=n.length;e;e--)y.splice(n[e-1],1)},R.fn.sparkline.options=e({init:function(t,e){var i,n,r,o;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},r=(n=R.fn.sparkline.defaults).common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||r.tagOptionsPrefix),i=(o=this.getTagSetting("type"))===b?n[e.type||r.type]:n[o],this.mergedOptions=R.extend({},r,i,e)},getTagSetting:function(t){var e,i,n,r,o=this.tagOptionsPrefix;if(!1===o||o===W)return b;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if((e=this.tag.getAttribute(o+t))===W||null===e)e=b;else if("["===e.substr(0,1))for(i=(e=e.substr(1,e.length-2).split(",")).length;i--;)e[i]=N(e[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(n=e.substr(1,e.length-2).split(","),e={},i=n.length;i--;)e[(r=n[i].split(":",2))[0].replace(/(^\s*)|(\s*$)/g,"")]=N(r[1].replace(/(^\s*)|(\s*$)/g,""));else e=N(e);this.tagValCache.key=e}return e},get:function(t,e){var i,n=this.getTagSetting(t);return n!==b?n:(i=this.mergedOptions[t])===W?e:i}}),R.fn.sparkline._base=e({disabled:!1,init:function(t,e,i,n,r){this.el=t,this.$el=R(t),this.values=e,this.options=i,this.width=n,this.height=r,this.currentRegion=W},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(t,e){},setRegionHighlight:function(t,e,i){var n,r=this.currentRegion,o=!this.options.get("disableHighlight");return e>this.canvasWidth||i>this.canvasHeight||e<0||i<0?null:r!==(n=this.getRegion(t,e,i))&&(r!==W&&o&&this.removeHighlight(),(this.currentRegion=n)!==W&&o&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return this.currentRegion!==W&&(this.removeHighlight(),!(this.currentRegion=W))},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(t){},getCurrentRegionTooltip:function(){var t,e,i,n,r,o,a,s,l,h,c,u,d,p,f=this.options,g="",m=[];if(this.currentRegion===W)return"";if(t=this.getCurrentRegionFields(),c=f.get("tooltipFormatter"))return c(this,f,t);if(f.get("tooltipChartTitle")&&(g+='<div class="jqs jqstitle">'+f.get("tooltipChartTitle")+"</div>\n"),!(e=this.options.get("tooltipFormat")))return"";if(R.isArray(e)||(e=[e]),R.isArray(t)||(t=[t]),a=this.options.get("tooltipFormatFieldlist"),s=this.options.get("tooltipFormatFieldlistKey"),a&&s){for(l=[],o=t.length;o--;)h=t[o][s],-1!=(p=R.inArray(h,a))&&(l[p]=t[o]);t=l}for(i=e.length,d=t.length,o=0;o<i;o++)for("string"==typeof(u=e[o])&&(u=new v(u)),n=u.fclass||"jqsfield",p=0;p<d;p++)t[p].isNull&&f.get("tooltipSkipNull")||(R.extend(t[p],{prefix:f.get("tooltipPrefix"),suffix:f.get("tooltipSuffix")}),r=u.render(t[p],f.get("tooltipValueLookups"),f),m.push('<div class="'+n+'">'+r+"</div>"));return m.length?g+m.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,e){var i,n,r,o,a=e.get("highlightColor"),s=e.get("highlightLighten");if(a)return a;if(s&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(r=[],n=4===t.length?16:1,o=0;o<3;o++)r[o]=F(B.round(parseInt(i[o+1],16)*n*s),0,255);return"rgb("+r.join(",")+")"}return t}}),r={changeHighlight:function(t){var e,i=this.currentRegion,n=this.target,r=this.regionShapes[i];r&&(e=this.renderRegion(i,t),R.isArray(e)||R.isArray(r)?(n.replaceWithShapes(r,e),this.regionShapes[i]=R.map(e,function(t){return t.id})):(n.replaceWithShape(r,e),this.regionShapes[i]=e.id))},render:function(){var t,e,i,n,r=this.values,o=this.target,a=this.regionShapes;if(this.cls._super.render.call(this)){for(i=r.length;i--;)if(t=this.renderRegion(i))if(R.isArray(t)){for(e=[],n=t.length;n--;)t[n].append(),e.push(t[n].id);a[i]=e}else t.append(),a[i]=t.id;else a[i]=null;o.render()}}},R.fn.sparkline.line=P=e(R.fn.sparkline._base,{type:"line",init:function(t,e,i,n,r){P._super.init.call(this,t,e,i,n,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e,i){var n,r=this.regionMap;for(n=r.length;n--;)if(null!==r[n]&&e>=r[n][0]&&e<=r[n][1])return r[n][2];return W},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,i=this.currentRegion,n=this.target,r=this.vertices[i],o=this.options,a=o.get("spotRadius"),s=o.get("highlightSpotColor"),l=o.get("highlightLineColor");r&&(a&&s&&(t=n.drawCircle(r[0],r[1],a,W,s),this.highlightSpotId=t.id,n.insertAfterShape(this.lastShapeId,t)),l&&(e=n.drawLine(r[0],this.canvasTop,r[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=e.id,n.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,e,i,n,r,o=this.values,a=o.length,s=this.xvalues,l=this.yvalues,h=this.yminmax;for(t=0;t<a;t++)e=o[t],i="string"==typeof o[t],n="object"==typeof o[t]&&o[t]instanceof Array,r=i&&o[t].split(":"),i&&2===r.length?(s.push(Number(r[0])),l.push(Number(r[1])),h.push(Number(r[1]))):n?(s.push(e[0]),l.push(e[1]),h.push(e[1])):(s.push(t),null===o[t]||"null"===o[t]?l.push(null):(l.push(Number(e)),h.push(Number(e))));this.options.get("xvalues")&&(s=this.options.get("xvalues")),this.maxy=this.maxyorg=B.max.apply(B,h),this.miny=this.minyorg=B.min.apply(B,h),this.maxx=B.max.apply(B,s),this.minx=B.min.apply(B,s),this.xvalues=s,this.yvalues=l,this.yminmax=h},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),i=t.get("normalRangeMax");e!==W&&(e<this.miny&&(this.miny=e),i>this.maxy&&(this.maxy=i)),t.get("chartRangeMin")!==W&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==W&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==W&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==W&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,e,i,n,r){var o=this.options.get("normalRangeMin"),a=this.options.get("normalRangeMax"),s=e+B.round(i-i*((a-this.miny)/r)),l=B.round(i*(a-o)/r);this.target.drawRect(t,s,n,l,W,this.options.get("normalRangeColor")).append()},render:function(){var t,e,i,n,r,o,a,s,l,h,c,u,d,p,f,g,m,v,y,b,x,_,w,S,C=this.options,k=this.target,T=this.canvasWidth,D=this.canvasHeight,A=this.vertices,M=C.get("spotRadius"),E=this.regionMap;if(P._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),_=this.xvalues,w=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(n=r=0,t=this.maxx-this.minx==0?1:this.maxx-this.minx,e=this.maxy-this.miny==0?1:this.maxy-this.miny,i=this.yvalues.length-1,M&&(T<4*M||D<4*M)&&(M=0),M&&(((b=C.get("highlightSpotColor")&&!C.get("disableInteraction"))||C.get("minSpotColor")||C.get("spotColor")&&w[i]===this.miny)&&(D-=B.ceil(M)),(b||C.get("maxSpotColor")||C.get("spotColor")&&w[i]===this.maxy)&&(D-=B.ceil(M),n+=B.ceil(M)),(b||(C.get("minSpotColor")||C.get("maxSpotColor"))&&(w[0]===this.miny||w[0]===this.maxy))&&(r+=B.ceil(M),T-=B.ceil(M)),(b||C.get("spotColor")||C.get("minSpotColor")||C.get("maxSpotColor")&&(w[i]===this.miny||w[i]===this.maxy))&&(T-=B.ceil(M))),D--,C.get("normalRangeMin")===W||C.get("drawNormalOnTop")||this.drawNormalRange(r,n,D,T,e),s=[a=[]],d=p=null,f=w.length,S=0;S<f;S++)l=_[S],c=_[S+1],h=w[S],p=(u=r+B.round((l-this.minx)*(T/t)))+((S<f-1?r+B.round((c-this.minx)*(T/t)):T)-u)/2,E[S]=[d||0,p,S],d=p,null===h?S&&(null!==w[S-1]&&(a=[],s.push(a)),A.push(null)):(h<this.miny&&(h=this.miny),h>this.maxy&&(h=this.maxy),a.length||a.push([u,n+D]),o=[u,n+B.round(D-D*((h-this.miny)/e))],a.push(o),A.push(o));for(g=[],m=[],v=s.length,S=0;S<v;S++)(a=s[S]).length&&(C.get("fillColor")&&(a.push([a[a.length-1][0],n+D]),m.push(a.slice(0)),a.pop()),2<a.length&&(a[0]=[a[0][0],a[1][1]]),g.push(a));for(v=m.length,S=0;S<v;S++)k.drawShape(m[S],C.get("fillColor"),C.get("fillColor")).append();for(C.get("normalRangeMin")!==W&&C.get("drawNormalOnTop")&&this.drawNormalRange(r,n,D,T,e),v=g.length,S=0;S<v;S++)k.drawShape(g[S],C.get("lineColor"),W,C.get("lineWidth")).append();if(M&&C.get("valueSpots"))for((y=C.get("valueSpots")).get===W&&(y=new H(y)),S=0;S<f;S++)(x=y.get(w[S]))&&k.drawCircle(r+B.round((_[S]-this.minx)*(T/t)),n+B.round(D-D*((w[S]-this.miny)/e)),M,W,x).append();M&&C.get("spotColor")&&null!==w[i]&&k.drawCircle(r+B.round((_[_.length-1]-this.minx)*(T/t)),n+B.round(D-D*((w[i]-this.miny)/e)),M,W,C.get("spotColor")).append(),this.maxy!==this.minyorg&&(M&&C.get("minSpotColor")&&(l=_[R.inArray(this.minyorg,w)],k.drawCircle(r+B.round((l-this.minx)*(T/t)),n+B.round(D-D*((this.minyorg-this.miny)/e)),M,W,C.get("minSpotColor")).append()),M&&C.get("maxSpotColor")&&(l=_[R.inArray(this.maxyorg,w)],k.drawCircle(r+B.round((l-this.minx)*(T/t)),n+B.round(D-D*((this.maxyorg-this.miny)/e)),M,W,C.get("maxSpotColor")).append())),this.lastShapeId=k.getLastShapeId(),this.canvasTop=n,k.render()}}}),R.fn.sparkline.bar=V=e(R.fn.sparkline._base,r,{type:"bar",init:function(t,e,i,n,r){var o,a,s,l,h,c,u,d,p,f,g,m,v,y,b,x,_,w,S,C,k,T=parseInt(i.get("barWidth"),10),D=parseInt(i.get("barSpacing"),10),A=i.get("chartRangeMin"),M=i.get("chartRangeMax"),E=i.get("chartRangeClip"),P=1/0,L=-1/0;for(V._super.init.call(this,t,e,i,n,r),c=0,u=e.length;c<u;c++)((o="string"==typeof(C=e[c])&&-1<C.indexOf(":"))||R.isArray(C))&&(b=!0,o&&(C=e[c]=z(C.split(":"))),C=$(C,null),(a=B.min.apply(B,C))<P&&(P=a),L<(s=B.max.apply(B,C))&&(L=s));this.stacked=b,this.regionShapes={},this.barWidth=T,this.barSpacing=D,this.totalBarWidth=T+D,this.width=n=e.length*T+(e.length-1)*D,this.initTarget(),E&&(v=A===W?-1/0:A,y=M===W?1/0:M),h=[],l=b?[]:h;var I=[],O=[];for(c=0,u=e.length;c<u;c++)if(b)for(x=e[c],e[c]=S=[],I[c]=0,l[c]=O[c]=0,_=0,w=x.length;_<w;_++)null!==(C=S[_]=E?F(x[_],v,y):x[_])&&(0<C&&(I[c]+=C),P<0&&0<L?C<0?O[c]+=B.abs(C):l[c]+=C:l[c]+=B.abs(C-(C<0?L:P)),h.push(C));else C=E?F(e[c],v,y):e[c],null!==(C=e[c]=N(C))&&h.push(C);this.max=m=B.max.apply(B,h),this.min=g=B.min.apply(B,h),this.stackMax=L=b?B.max.apply(B,I):m,this.stackMin=P=b?B.min.apply(B,h):g,i.get("chartRangeMin")!==W&&(i.get("chartRangeClip")||i.get("chartRangeMin")<g)&&(g=i.get("chartRangeMin")),i.get("chartRangeMax")!==W&&(i.get("chartRangeClip")||i.get("chartRangeMax")>m)&&(m=i.get("chartRangeMax")),this.zeroAxis=p=i.get("zeroAxis",!0),f=g<=0&&0<=m&&p?0:0==p?g:0<g?g:m,this.xaxisOffset=f,d=b?B.max.apply(B,l)+B.max.apply(B,O):m-g,this.canvasHeightEf=p&&g<0?this.canvasHeight-2:this.canvasHeight-1,g<f?(k=((b&&0<=m?L:m)-f)/d*this.canvasHeight)!==B.ceil(k)&&(this.canvasHeightEf-=2,k=B.ceil(k)):k=this.canvasHeight,this.yoffset=k,R.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===W&&(this.colorMapByValue=new H(this.colorMapByValue))),this.range=d},getRegion:function(t,e,i){var n=B.floor(e/this.totalBarWidth);return n<0||n>=this.values.length?W:n},getCurrentRegionFields:function(){var t,e,i=this.currentRegion,n=o(this.values[i]),r=[];for(e=n.length;e--;)t=n[e],r.push({isNull:null===t,value:t,color:this.calcColor(e,t,i),offset:i});return r},calcColor:function(t,e,i){var n,r,o=this.colorMapByIndex,a=this.colorMapByValue,s=this.options;return n=this.stacked?s.get("stackedBarColor"):e<0?s.get("negBarColor"):s.get("barColor"),0===e&&s.get("zeroColor")!==W&&(n=s.get("zeroColor")),a&&(r=a.get(e))?n=r:o&&o.length>i&&(n=o[i]),R.isArray(n)?n[t%n.length]:n},renderRegion:function(t,e){var i,n,r,o,a,s,l,h,c,u,d=this.values[t],p=this.options,f=this.xaxisOffset,g=[],m=this.range,v=this.stacked,y=this.target,b=t*this.totalBarWidth,x=this.canvasHeightEf,_=this.yoffset;if(l=(d=R.isArray(d)?d:[d]).length,h=d[0],o=w(null,d),u=w(f,d,!0),o)return p.get("nullColor")?(r=e?p.get("nullColor"):this.calcHighlightColor(p.get("nullColor"),p),i=0<_?_-1:_,y.drawRect(b,i,this.barWidth-1,0,r,r)):W;for(a=_,s=0;s<l;s++){if(h=d[s],v&&h===f){if(!u||c)continue;c=!0}n=0<m?B.floor(x*(B.abs(h-f)/m))+1:1,h<f||h===f&&0===_?(i=a,a+=n):(i=_-n,_-=n),r=this.calcColor(s,h,t),e&&(r=this.calcHighlightColor(r,p)),g.push(y.drawRect(b,i,this.barWidth-1,n-1,r,r))}return 1===g.length?g[0]:g}}),R.fn.sparkline.tristate=s=e(R.fn.sparkline._base,r,{type:"tristate",init:function(t,e,i,n,r){var o=parseInt(i.get("barWidth"),10),a=parseInt(i.get("barSpacing"),10);s._super.init.call(this,t,e,i,n,r),this.regionShapes={},this.barWidth=o,this.barSpacing=a,this.totalBarWidth=o+a,this.values=R.map(e,Number),this.width=n=e.length*o+(e.length-1)*a,R.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===W&&(this.colorMapByValue=new H(this.colorMapByValue))),this.initTarget()},getRegion:function(t,e,i){return B.floor(e/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===W,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var i,n=this.values,r=this.options,o=this.colorMapByIndex,a=this.colorMapByValue;return a&&(i=a.get(t))?i:o&&o.length>e?o[e]:n[e]<0?r.get("negBarColor"):0<n[e]?r.get("posBarColor"):r.get("zeroBarColor")},renderRegion:function(t,e){var i,n,r,o,a,s,l=this.values,h=this.options,c=this.target;if(i=c.pixelHeight,r=B.round(i/2),o=t*this.totalBarWidth,l[t]<0?n=(a=r)-1:0<l[t]?(a=0,n=r-1):(a=r-1,n=2),null!==(s=this.calcColor(l[t],t)))return e&&(s=this.calcHighlightColor(s,h)),c.drawRect(o,a,this.barWidth-1,n-1,s,s)}}),R.fn.sparkline.discrete=a=e(R.fn.sparkline._base,r,{type:"discrete",init:function(t,e,i,n,r){a._super.init.call(this,t,e,i,n,r),this.regionShapes={},this.values=e=R.map(e,Number),this.min=B.min.apply(B,e),this.max=B.max.apply(B,e),this.range=this.max-this.min,this.width=n="auto"===i.get("width")?2*e.length:this.width,this.interval=B.floor(n/e.length),this.itemWidth=n/e.length,i.get("chartRangeMin")!==W&&(i.get("chartRangeClip")||i.get("chartRangeMin")<this.min)&&(this.min=i.get("chartRangeMin")),i.get("chartRangeMax")!==W&&(i.get("chartRangeClip")||i.get("chartRangeMax")>this.max)&&(this.max=i.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===i.get("lineHeight")?B.round(.3*this.canvasHeight):i.get("lineHeight"))},getRegion:function(t,e,i){return B.floor(e/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===W,value:this.values[t],offset:t}},renderRegion:function(t,e){var i,n,r,o,a=this.values,s=this.options,l=this.min,h=this.max,c=this.range,u=this.interval,d=this.target,p=this.canvasHeight,f=this.lineHeight,g=p-f;return n=F(a[t],l,h),o=t*u,i=B.round(g-g*((n-l)/c)),r=s.get("thresholdColor")&&n<s.get("thresholdValue")?s.get("thresholdColor"):s.get("lineColor"),e&&(r=this.calcHighlightColor(r,s)),d.drawLine(o,i,o,i+f,r)}}),R.fn.sparkline.bullet=l=e(R.fn.sparkline._base,{type:"bullet",init:function(t,e,i,n,r){var o,a,s;l._super.init.call(this,t,e,i,n,r),this.values=e=z(e),(s=e.slice())[0]=null===s[0]?s[2]:s[0],s[1]=null===e[1]?s[2]:s[1],o=B.min.apply(B,e),a=B.max.apply(B,e),o=i.get("base")===W?o<0?o:0:i.get("base"),this.min=o,this.max=a,this.range=a-o,this.shapes={},this.valueShapes={},this.regiondata={},this.width=n="auto"===i.get("width")?"4.0em":n,this.target=this.$el.simpledraw(n,r,i.get("composite")),e.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return n!==W&&this.shapes[n]!==W?this.shapes[n]:W},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":e=this.renderRange(i.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[i]=e.id,this.shapes[e.id]=i,this.target.replaceWithShape(n,e)},renderRange:function(t,e){var i=this.values[t],n=B.round(this.canvasWidth*((i-this.min)/this.range)),r=this.options.get("rangeColors")[t-2];return e&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,n-1,this.canvasHeight-1,r,r)},renderPerformance:function(t){var e=this.values[1],i=B.round(this.canvasWidth*((e-this.min)/this.range)),n=this.options.get("performanceColor");return t&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(0,B.round(.3*this.canvasHeight),i-1,B.round(.4*this.canvasHeight)-1,n,n)},renderTarget:function(t){var e=this.values[0],i=B.round(this.canvasWidth*((e-this.min)/this.range)-this.options.get("targetWidth")/2),n=B.round(.1*this.canvasHeight),r=this.canvasHeight-2*n,o=this.options.get("targetColor");return t&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(i,n,this.options.get("targetWidth")-1,r-1,o,o)},render:function(){var t,e,i=this.values.length,n=this.target;if(l._super.render.call(this)){for(t=2;t<i;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),n.render()}}}),R.fn.sparkline.pie=h=e(R.fn.sparkline._base,{type:"pie",init:function(t,e,i,n,r){var o,a=0;if(h._super.init.call(this,t,e,i,n,r),this.shapes={},this.valueShapes={},this.values=e=R.map(e,Number),"auto"===i.get("width")&&(this.width=this.height),0<e.length)for(o=e.length;o--;)a+=e[o];this.total=a,this.initTarget(),this.radius=B.floor(B.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,i){var n=this.target.getShapeAt(t,e,i);return n!==W&&this.shapes[n]!==W?this.shapes[n]:W},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===W,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,i=this.renderSlice(e,t),n=this.valueShapes[e];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[e]=i.id,this.shapes[i.id]=e},renderSlice:function(t,e){var i,n,r,o,a,s=this.target,l=this.options,h=this.radius,c=l.get("borderWidth"),u=l.get("offset"),d=2*B.PI,p=this.values,f=this.total,g=u?2*B.PI*(u/360):0;for(o=p.length,r=0;r<o;r++){if(n=i=g,0<f&&(n=g+d*(p[r]/f)),t===r)return a=l.get("sliceColors")[r%l.get("sliceColors").length],e&&(a=this.calcHighlightColor(a,l)),s.drawPieSlice(h,h,h-c,i,n,W,a);g=n}},render:function(){var t,e,i=this.target,n=this.values,r=this.options,o=this.radius,a=r.get("borderWidth");if(h._super.render.call(this)){for(a&&i.drawCircle(o,o,B.floor(o-a/2),r.get("borderColor"),W,a).append(),e=n.length;e--;)n[e]&&(t=this.renderSlice(e).append(),this.valueShapes[e]=t.id,this.shapes[t.id]=e);i.render()}}}),R.fn.sparkline.box=_=e(R.fn.sparkline._base,{type:"box",init:function(t,e,i,n,r){_._super.init.call(this,t,e,i,n,r),this.values=R.map(e,Number),this.width="auto"===i.get("width")?"4.0em":n,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==W&&t.push({field:"lo",value:this.loutlier}),this.routlier!==W&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==W&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==W&&t.push({field:"rw",value:this.rwhisker}),t},render:function(){var t,e,i,n,r,o,a,s,l,h,c,u=this.target,d=this.values,p=d.length,f=this.options,g=this.canvasWidth,m=this.canvasHeight,v=f.get("chartRangeMin")===W?B.min.apply(B,d):f.get("chartRangeMin"),y=f.get("chartRangeMax")===W?B.max.apply(B,d):f.get("chartRangeMax"),b=0;if(_._super.render.call(this)){if(f.get("raw"))f.get("showOutliers")&&5<d.length?(e=d[0],t=d[1],n=d[2],r=d[3],o=d[4],a=d[5],s=d[6]):(t=d[0],n=d[1],r=d[2],o=d[3],a=d[4]);else if(d.sort(function(t,e){return t-e}),n=x(d,1),r=x(d,2),i=(o=x(d,3))-n,f.get("showOutliers")){for(t=a=W,l=0;l<p;l++)t===W&&d[l]>n-i*f.get("outlierIQR")&&(t=d[l]),d[l]<o+i*f.get("outlierIQR")&&(a=d[l]);e=d[0],s=d[p-1]}else t=d[0],a=d[p-1];this.quartiles=[n,r,o],this.lwhisker=t,this.rwhisker=a,this.loutlier=e,this.routlier=s,c=g/(y-v+1),f.get("showOutliers")&&(b=B.ceil(f.get("spotRadius")),c=(g-=2*B.ceil(f.get("spotRadius")))/(y-v+1),e<t&&u.drawCircle((e-v)*c+b,m/2,f.get("spotRadius"),f.get("outlierLineColor"),f.get("outlierFillColor")).append(),a<s&&u.drawCircle((s-v)*c+b,m/2,f.get("spotRadius"),f.get("outlierLineColor"),f.get("outlierFillColor")).append()),u.drawRect(B.round((n-v)*c+b),B.round(.1*m),B.round((o-n)*c),B.round(.8*m),f.get("boxLineColor"),f.get("boxFillColor")).append(),u.drawLine(B.round((t-v)*c+b),B.round(m/2),B.round((n-v)*c+b),B.round(m/2),f.get("lineColor")).append(),u.drawLine(B.round((t-v)*c+b),B.round(m/4),B.round((t-v)*c+b),B.round(m-m/4),f.get("whiskerColor")).append(),u.drawLine(B.round((a-v)*c+b),B.round(m/2),B.round((o-v)*c+b),B.round(m/2),f.get("lineColor")).append(),u.drawLine(B.round((a-v)*c+b),B.round(m/4),B.round((a-v)*c+b),B.round(m-m/4),f.get("whiskerColor")).append(),u.drawLine(B.round((r-v)*c+b),B.round(.1*m),B.round((r-v)*c+b),B.round(.9*m),f.get("medianColor")).append(),f.get("target")&&(h=B.ceil(f.get("spotRadius")),u.drawLine(B.round((f.get("target")-v)*c+b),B.round(m/2-h),B.round((f.get("target")-v)*c+b),B.round(m/2+h),f.get("targetColor")).append(),u.drawLine(B.round((f.get("target")-v)*c+b-h),B.round(m/2),B.round((f.get("target")-v)*c+b+h),B.round(m/2),f.get("targetColor")).append()),u.render()}}}),p=e({init:function(t,e,i,n){this.target=t,this.id=e,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),f=e({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,i){t&&(this.width=t,this.height=e,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),R.data(i,"_jqs_vcanvas",this))},drawLine:function(t,e,i,n,r,o){return this.drawShape([[t,e],[i,n]],r,o)},drawShape:function(t,e,i,n){return this._genShape("Shape",[t,e,i,n])},drawCircle:function(t,e,i,n,r,o){return this._genShape("Circle",[t,e,i,n,r,o])},drawPieSlice:function(t,e,i,n,r,o,a){return this._genShape("PieSlice",[t,e,i,n,r,o,a])},drawRect:function(t,e,i,n,r,o){return this._genShape("Rect",[t,e,i,n,r,o])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){R(e).html(t)},_calculatePixelDims:function(t,e,i){var n;n=this._pxregex.exec(e),this.pixelHeight=n?n[1]:R(i).height(),n=this._pxregex.exec(t),this.pixelWidth=n?n[1]:R(i).width()},_genShape:function(t,e){var i=S++;return e.unshift(i),new p(this,i,t,e)},appendShape:function(t){alert("appendShape not implemented")},replaceWithShape:function(t,e){alert("replaceWithShape not implemented")},insertAfterShape:function(t,e){alert("insertAfterShape not implemented")},removeShapeId:function(t){alert("removeShapeId not implemented")},getShapeAt:function(t,e,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),g=e(f,{init:function(t,e,i,n){g._super.init.call(this,t,e,i),this.canvas=C.createElement("canvas"),i[0]&&(i=i[0]),R.data(i,"_jqs_vcanvas",this),R(this.canvas).css({display:"inline-block",width:t,height:e,verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=n,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=W,R(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,i){var n=this.canvas.getContext("2d");return t!==W&&(n.strokeStyle=t),n.lineWidth=i===W?1:i,e!==W&&(n.fillStyle=e),n},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=W},_drawShape:function(t,e,i,n,r){var o,a,s=this._getContext(i,n,r);for(s.beginPath(),s.moveTo(e[0][0]+.5,e[0][1]+.5),o=1,a=e.length;o<a;o++)s.lineTo(e[o][0]+.5,e[o][1]+.5);i!==W&&s.stroke(),n!==W&&s.fill(),this.targetX!==W&&this.targetY!==W&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,e,i,n,r,o,a){var s=this._getContext(r,o,a);s.beginPath(),s.arc(e,i,n,0,2*B.PI,!1),this.targetX!==W&&this.targetY!==W&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),r!==W&&s.stroke(),o!==W&&s.fill()},_drawPieSlice:function(t,e,i,n,r,o,a,s){var l=this._getContext(a,s);l.beginPath(),l.moveTo(e,i),l.arc(e,i,n,r,o,!1),l.lineTo(e,i),l.closePath(),a!==W&&l.stroke(),s&&l.fill(),this.targetX!==W&&this.targetY!==W&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,i,n,r,o,a){return this._drawShape(t,[[e,i],[e+n,i],[e+n,i+r],[e,i+r],[e,i]],o,a)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i,n=this.shapeseq;for(this.shapes[e.id]=e,i=n.length;i--;)n[i]==t&&(n[i]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var i,n,r,o=this.shapeseq,a={};for(n=t.length;n--;)a[t[n]]=!0;for(n=o.length;n--;)a[i=o[n]]&&(o.splice(n,1),delete this.shapes[i],r=n);for(n=e.length;n--;)o.splice(r,0,e[n].id),this.shapes[e[n].id]=e[n]},insertAfterShape:function(t,e){var i,n=this.shapeseq;for(i=n.length;i--;)if(n[i]===t)return n.splice(i+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,i=this.shapeseq;for(e=i.length;e--;)if(i[e]===t){i.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,i){return this.targetX=e,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var t,e,i=this.shapeseq,n=this.shapes,r=i.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),e=0;e<r;e++)this["_draw"+(t=n[i[e]]).type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}}),m=e(f,{init:function(t,e,i){var n;m._super.init.call(this,t,e,i),i[0]&&(i=i[0]),R.data(i,"_jqs_vcanvas",this),this.canvas=C.createElement("span"),R(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:e,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,n='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",n),this.group=R(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,i,n,r){var o,a,s,l,h,c,u=[];for(c=0,h=e.length;c<h;c++)u[c]=e[c][0]+","+e[c][1];return o=u.splice(0,1),r=r===W?1:r,a=i===W?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+i+'" ',s=n===W?' filled="false"':' fillColor="'+n+'" filled="true" ',l=u[0]===u[u.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+a+s+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+o+" l "+u.join(", ")+" "+l+'e"> </v:shape>'},_drawCircle:function(t,e,i,n,r,o,a){return'<v:oval  id="jqsshape'+t+'" '+(r===W?' stroked="false" ':' strokeWeight="'+a+'px" strokeColor="'+r+'" ')+(o===W?' filled="false"':' fillColor="'+o+'" filled="true" ')+' style="position:absolute;top:'+(i-=n)+"px; left:"+(e-=n)+"px; width:"+2*n+"px; height:"+2*n+'px"></v:oval>'},_drawPieSlice:function(t,e,i,n,r,o,a,s){var l,h,c,u,d,p,f;if(r===o)return"";if(o-r==2*B.PI&&(r=0,o=2*B.PI),h=e+B.round(B.cos(r)*n),c=i+B.round(B.sin(r)*n),u=e+B.round(B.cos(o)*n),d=i+B.round(B.sin(o)*n),h===u&&c===d){if(o-r<B.PI)return"";h=u=e+n,c=d=i}return h===u&&c===d&&o-r<B.PI?"":(l=[e-n,i-n,e+n,i+n,h,c,u,d],p=a===W?' stroked="false" ':' strokeWeight="1px" strokeColor="'+a+'" ',f=s===W?' filled="false"':' fillColor="'+s+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+p+f+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+e+","+i+" wa "+l.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,i,n,r,o,a){return this._drawShape(t,[[e,i],[e,i+r],[e+n,i+r],[e+n,i],[e,i]],o,a)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var i=R("#jqsshape"+t),n=this["_draw"+e.type].apply(this,e.args);i[0].outerHTML=n},replaceWithShapes:function(t,e){var i,n=R("#jqsshape"+t[0]),r="",o=e.length;for(i=0;i<o;i++)r+=this["_draw"+e[i].type].apply(this,e[i].args);for(n[0].outerHTML=r,i=1;i<t.length;i++)R("#jqsshape"+t[i]).remove()},insertAfterShape:function(t,e){var i=R("#jqsshape"+t),n=this["_draw"+e.type].apply(this,e.args);i[0].insertAdjacentHTML("afterEnd",n)},removeShapeId:function(t){var e=R("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t,e,i){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})},"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)}(document,Math);_createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PxSparkline=function(s){"use strict";if(!s.fn.sparkline)throw new Error("jquery.sparkline.js required.");var t="pxSparkline",l="px.sparkline",e="."+l,i=s.fn[t],n={RESIZE:"resize"+e},r=function(){function a(t,e,i){_classCallCheck(this,a),this.uniqueId=pxUtil.generateUniqueId(),this.element=t,this.$parent=s(t.parentNode),this.update(e,i),this._setListeners()}return _createClass(a,[{key:"update",value:function(t,e){null!==t&&(this._values=t),null!==e&&("100%"!==e.width||"bar"!==e.type&&"tristate"!==e.type||void 0!==e.barSpacing||(e.barSpacing="2px"),this.config=e);var i=s.extend(!0,{},this.config);"100%"===i.width&&("bar"===i.type||"tristate"===i.type?i.barWidth=this._getBarWidth(this.$parent,this._values.length,i.barSpacing):i.width=Math.floor(this.$parent.width())),s(this.element).sparkline(this._values,i)}},{key:"destroy",value:function(){this._unsetListeners(),s(this.element).removeData(l).removeData("_jqs_mhandler").removeData("_jqs_vcanvas").off().find("canvas").remove()}},{key:"_getBarWidth",value:function(t,e,i){var n=t.width(),r=parseInt(i,10)*(e-1);return Math.floor((n-r)/e)}},{key:"_setListeners",value:function(){var e=this;s(window).on(this.constructor.Event.RESIZE+"."+this.uniqueId,function(){if("100%"===e.config.width){var t=s.extend(!0,{},e.config);"bar"===t.type||"tristate"===t.type?t.barWidth=e._getBarWidth(e.$parent,e._values.length,t.barSpacing):t.width=Math.floor(e.$parent.width()),s(e.element).sparkline(e._values,t)}})}},{key:"_unsetListeners",value:function(){s(window).off(this.constructor.Event.RESIZE+"."+this.uniqueId)}}],[{key:"_parseArgs",value:function(t,e){var i=void 0,n=void 0;return"[object Array]"===Object.prototype.toString.call(e[0])||"html"===e[0]||null===e[0]?(i=e[0],n=e[1]||null):n=e[0]||null,"html"!==i&&void 0!==i||null===i||(null==(i=t.getAttribute("values"))&&(i=s(t).html()),i=i.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")),i&&"[object Array]"===Object.prototype.toString.call(i)&&0!==i.length||(i=null),{values:i,config:n}}},{key:"_jQueryInterface",value:function(){for(var t=arguments.length,o=Array(t),e=0;e<t;e++)o[e]=arguments[e];return this.each(function(){var t=s(this).data(l),e="update"===o[0]||"destroy"===o[0]?o[0]:null,i=a._parseArgs(this,e?o.slice(1):o),n=i.values,r=i.config;t?n&&t.update(n,r):(t=new a(this,n||[],r||{}),s(this).data(l,t)),"update"===e?t.update(n,r):"destroy"===e&&t.destroy()})}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return l}},{key:"Event",get:function(){return n}},{key:"EVENT_KEY",get:function(){return e}}]),a}();return s.fn[t]=r._jQueryInterface,s.fn[t].Constructor=r,s.fn[t].noConflict=function(){return s.fn[t]=i,r._jQueryInterface},r}(jQuery);!function(t,e){"object"==typeof exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(i){var a=function(t,a){var i,e=document.createElement("canvas");t.appendChild(e),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(e);var r=e.getContext("2d");e.width=e.height=a.size;var n=1;1<window.devicePixelRatio&&(n=window.devicePixelRatio,e.style.width=e.style.height=[a.size,"px"].join(""),e.width=e.height=a.size*n,r.scale(n,n)),r.translate(a.size/2,a.size/2),r.rotate((a.rotate/180-.5)*Math.PI);var o=(a.size-a.lineWidth)/2;a.scaleColor&&a.scaleLength&&(o-=a.scaleLength+2),Date.now=Date.now||function(){return+new Date};var s=function(t,e,i){var n=(i=Math.min(Math.max(-1,i||0),1))<=0;r.beginPath(),r.arc(0,0,o,0,2*Math.PI*i,n),r.strokeStyle=t,r.lineWidth=e,r.stroke()},l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},h=function(){a.scaleColor&&function(){var t,e;r.lineWidth=1,r.fillStyle=a.scaleColor,r.save();for(var i=24;0<i;--i)i%6==0?(e=a.scaleLength,t=0):(e=.6*a.scaleLength,t=a.scaleLength-e),r.fillRect(-a.size/2+t,0,e,1),r.rotate(Math.PI/12);r.restore()}(),a.trackColor&&s(a.trackColor,a.trackWidth||a.lineWidth,1)};this.getCanvas=function(){return e},this.getCtx=function(){return r},this.clear=function(){r.clearRect(a.size/-2,a.size/-2,a.size,a.size)},this.draw=function(t){var e;a.scaleColor||a.trackColor?r.getImageData&&r.putImageData?i?r.putImageData(i,0,0):(h(),i=r.getImageData(0,0,a.size*n,a.size*n)):(this.clear(),h()):this.clear(),r.lineCap=a.lineCap,e="function"==typeof a.barColor?a.barColor(t):a.barColor,s(e,a.lineWidth,t/100)}.bind(this),this.animate=function(i,n){var r=Date.now();a.onStart(i,n);var o=function(){var t=Math.min(Date.now()-r,a.animate.duration),e=a.easing(this,t,i,n-i,a.animate.duration);this.draw(e),a.onStep(i,n,e),t>=a.animate.duration?a.onStop(i,n):l(o)}.bind(this);l(o)}.bind(this)},n=function(e,i){var n={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(t,e,i,n,r){return(e/=r/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},onStart:function(t,e){},onStep:function(t,e,i){},onStop:function(t,e){}};n.renderer=a;var r={},o=0,t=function(){for(var t in this.el=e,this.options=r,n)n.hasOwnProperty(t)&&(r[t]=i&&void 0!==i[t]?i[t]:n[t],"function"==typeof r[t]&&(r[t]=r[t].bind(this)));"string"==typeof r.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[r.easing])?r.easing=jQuery.easing[r.easing]:r.easing=n.easing,"number"==typeof r.animate&&(r.animate={duration:r.animate,enabled:!0}),"boolean"!=typeof r.animate||r.animate||(r.animate={duration:1e3,enabled:r.animate}),this.renderer=new r.renderer(e,r),this.renderer.draw(o),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent")))}.bind(this);this.update=function(t){return t=parseFloat(t),r.animate.enabled?this.renderer.animate(o,t):this.renderer.draw(t),o=t,this}.bind(this),this.disableAnimation=function(){return r.animate.enabled=!1,this},this.enableAnimation=function(){return r.animate.enabled=!0,this},t()};i.fn.easyPieChart=function(e){return this.each(function(){var t;i.data(this,"easyPieChart")||(t=i.extend({},e,i(this).data()),i.data(this,"easyPieChart",new n(this,t)))})}});