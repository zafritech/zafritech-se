<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

    <body>

        <div layout:fragment="content">
            
            <table th:if="${!companies.isEmpty()}" class="table table-bordered" style="margin-bottom: 0;">
                <thead>
                    <tr>
                        <th style="width: 65%;">Organisation Full Name</th>
                        <th style="width: 15%;">Name</th>
                        <th style="width: 20%;">Role</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="role : ${companies}">
                        <td>
                            <a th:href="'/companies/' + ${role.company.UuId}">
                                <span th:text="${role.company.companyName}">Name</span>
                            </a>
                        </td>
                        <td>
                            <a th:href="'/companies/' + ${role.company.UuId}">
                                <span th:text="${role.company.companyCode}">Code</span>
                            </a>
                        </td>
                        <td>
                            <a th:href="'/companies/' + ${role.company.UuId}">
                                <span th:text="${#strings.replace(role.companyRole, '_ORGANISATION', '')}">Role</span>
                            </a>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="table-footer">
                <span th:utext="${count} + ' Organisations, Page ' + ${page} + ' of ' + ${pages}" class="font-size-12">Page # of ##</span> 
                <span class="pull-lg-right" style="margin-top: -22px;">
                    <ul class="pagination pagination-xs">
                        <li th:class="${page == 1} ? 'disabled' : ''">
                            <span th:if="${page == 1}">First</span>
                            <a th:if="${page != 1}" href="javascript:void(0);" th:onclick="'javascript:loadPagedCompanyList(\'' + ${size} + '\', \'1\');'">First</a>
                        </li>
                        <li th:class="${page != 1} ? '' : 'disabled'">
                            <span th:if="${page == 1}">«</span>
                            <a th:if="${page != 1}" href="javascript:void(0);" th:onclick="'javascript:loadPagedCompanyList(\'' + ${size} + '\', \'' + ${page - 1} + '\');'"><span>«</span></a>
                        </li>
                        
                        <li th:each="p : ${list}" th:class="${p == page ? 'active' : ''}">
                            <span th:if="${p == page}" th:text="${page}">1</span>
                            <a th:if="${p != page}" href="javascript:void(0);" th:onclick="'javascript:loadPagedCompanyList(\'' + ${size} + '\', \'' + ${p} + '\');'" th:text="${p}">1</a>
                        </li>
                        
                        <li th:if="${pages > last}" class="disabled"><span>...</span></li>

                        <li th:class="${page == pages} ? 'disabled' : ''">
                            <span th:if="${page == pages}">»</span>
                            <a th:if="${page != pages}" href="javascript:void(0);" th:onclick="'javascript:loadPagedCompanyList(\'' + ${size} + '\', \'' + ${page + 1} + '\');'">»</a>
                        </li>
                        <li th:class="${page == pages} ? 'disabled' : ''">
                            <span th:if="${page == pages}">Last</span>
                            <a th:if="${page != pages}" href="javascript:void(0);" th:onclick="'javascript:loadPagedCompanyList(\'' + ${size} + '\', \'' + ${pages} + '\');'">Last</a>
                        </li>
                    </ul>
                </span>
            </div>

            <div th:if="${companies.isEmpty()}">
                <table class="table table-bordered table-hover">
                    <tr>
                        <td>
                            <div class="text-danger" style="padding: 10px;">No participating organisations have been identified for this project.</div>
                        </td>
                    </tr>
                </table>
            </div>
            
        </div>

    </body>
</html>
